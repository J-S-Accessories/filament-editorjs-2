var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to2, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to2, key) && key !== except)
        __defProp(to2, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to2;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// node_modules/@editorjs/underline/dist/bundle.js
var require_bundle = __commonJS({
  "node_modules/@editorjs/underline/dist/bundle.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.Underline = t() : e.Underline = t();
    }(window, function() {
      return function(e) {
        var t = {};
        function n2(r3) {
          if (t[r3])
            return t[r3].exports;
          var o4 = t[r3] = { i: r3, l: false, exports: {} };
          return e[r3].call(o4.exports, o4, o4.exports, n2), o4.l = true, o4.exports;
        }
        return n2.m = e, n2.c = t, n2.d = function(e2, t2, r3) {
          n2.o(e2, t2) || Object.defineProperty(e2, t2, { enumerable: true, get: r3 });
        }, n2.r = function(e2) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
        }, n2.t = function(e2, t2) {
          if (1 & t2 && (e2 = n2(e2)), 8 & t2)
            return e2;
          if (4 & t2 && "object" == typeof e2 && e2 && e2.__esModule)
            return e2;
          var r3 = /* @__PURE__ */ Object.create(null);
          if (n2.r(r3), Object.defineProperty(r3, "default", { enumerable: true, value: e2 }), 2 & t2 && "string" != typeof e2)
            for (var o4 in e2)
              n2.d(r3, o4, function(t3) {
                return e2[t3];
              }.bind(null, o4));
          return r3;
        }, n2.n = function(e2) {
          var t2 = e2 && e2.__esModule ? function() {
            return e2.default;
          } : function() {
            return e2;
          };
          return n2.d(t2, "a", t2), t2;
        }, n2.o = function(e2, t2) {
          return Object.prototype.hasOwnProperty.call(e2, t2);
        }, n2.p = "/", n2(n2.s = 4);
      }([function(e, t, n2) {
        var r3 = n2(1), o4 = n2(2);
        "string" == typeof (o4 = o4.__esModule ? o4.default : o4) && (o4 = [[e.i, o4, ""]]);
        var i = { insert: "head", singleton: false };
        r3(o4, i);
        e.exports = o4.locals || {};
      }, function(e, t, n2) {
        "use strict";
        var r3, o4 = function() {
          return void 0 === r3 && (r3 = Boolean(window && document && document.all && !window.atob)), r3;
        }, i = /* @__PURE__ */ function() {
          var e2 = {};
          return function(t2) {
            if (void 0 === e2[t2]) {
              var n3 = document.querySelector(t2);
              if (window.HTMLIFrameElement && n3 instanceof window.HTMLIFrameElement)
                try {
                  n3 = n3.contentDocument.head;
                } catch (e3) {
                  n3 = null;
                }
              e2[t2] = n3;
            }
            return e2[t2];
          };
        }(), a6 = [];
        function u2(e2) {
          for (var t2 = -1, n3 = 0; n3 < a6.length; n3++)
            if (a6[n3].identifier === e2) {
              t2 = n3;
              break;
            }
          return t2;
        }
        function c2(e2, t2) {
          for (var n3 = {}, r4 = [], o5 = 0; o5 < e2.length; o5++) {
            var i2 = e2[o5], c3 = t2.base ? i2[0] + t2.base : i2[0], s5 = n3[c3] || 0, l4 = "".concat(c3, " ").concat(s5);
            n3[c3] = s5 + 1;
            var f3 = u2(l4), d6 = { css: i2[1], media: i2[2], sourceMap: i2[3] };
            -1 !== f3 ? (a6[f3].references++, a6[f3].updater(d6)) : a6.push({ identifier: l4, updater: b4(d6, t2), references: 1 }), r4.push(l4);
          }
          return r4;
        }
        function s4(e2) {
          var t2 = document.createElement("style"), r4 = e2.attributes || {};
          if (void 0 === r4.nonce) {
            var o5 = n2.nc;
            o5 && (r4.nonce = o5);
          }
          if (Object.keys(r4).forEach(function(e3) {
            t2.setAttribute(e3, r4[e3]);
          }), "function" == typeof e2.insert)
            e2.insert(t2);
          else {
            var a7 = i(e2.insert || "head");
            if (!a7)
              throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            a7.appendChild(t2);
          }
          return t2;
        }
        var l3, f2 = (l3 = [], function(e2, t2) {
          return l3[e2] = t2, l3.filter(Boolean).join("\n");
        });
        function d5(e2, t2, n3, r4) {
          var o5 = n3 ? "" : r4.media ? "@media ".concat(r4.media, " {").concat(r4.css, "}") : r4.css;
          if (e2.styleSheet)
            e2.styleSheet.cssText = f2(t2, o5);
          else {
            var i2 = document.createTextNode(o5), a7 = e2.childNodes;
            a7[t2] && e2.removeChild(a7[t2]), a7.length ? e2.insertBefore(i2, a7[t2]) : e2.appendChild(i2);
          }
        }
        function p2(e2, t2, n3) {
          var r4 = n3.css, o5 = n3.media, i2 = n3.sourceMap;
          if (o5 ? e2.setAttribute("media", o5) : e2.removeAttribute("media"), i2 && "undefined" != typeof btoa && (r4 += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i2)))), " */")), e2.styleSheet)
            e2.styleSheet.cssText = r4;
          else {
            for (; e2.firstChild; )
              e2.removeChild(e2.firstChild);
            e2.appendChild(document.createTextNode(r4));
          }
        }
        var v4 = null, h4 = 0;
        function b4(e2, t2) {
          var n3, r4, o5;
          if (t2.singleton) {
            var i2 = h4++;
            n3 = v4 || (v4 = s4(t2)), r4 = d5.bind(null, n3, i2, false), o5 = d5.bind(null, n3, i2, true);
          } else
            n3 = s4(t2), r4 = p2.bind(null, n3, t2), o5 = function() {
              !function(e3) {
                if (null === e3.parentNode)
                  return false;
                e3.parentNode.removeChild(e3);
              }(n3);
            };
          return r4(e2), function(t3) {
            if (t3) {
              if (t3.css === e2.css && t3.media === e2.media && t3.sourceMap === e2.sourceMap)
                return;
              r4(e2 = t3);
            } else
              o5();
          };
        }
        e.exports = function(e2, t2) {
          (t2 = t2 || {}).singleton || "boolean" == typeof t2.singleton || (t2.singleton = o4());
          var n3 = c2(e2 = e2 || [], t2);
          return function(e3) {
            if (e3 = e3 || [], "[object Array]" === Object.prototype.toString.call(e3)) {
              for (var r4 = 0; r4 < n3.length; r4++) {
                var o5 = u2(n3[r4]);
                a6[o5].references--;
              }
              for (var i2 = c2(e3, t2), s5 = 0; s5 < n3.length; s5++) {
                var l4 = u2(n3[s5]);
                0 === a6[l4].references && (a6[l4].updater(), a6.splice(l4, 1));
              }
              n3 = i2;
            }
          };
        };
      }, function(e, t, n2) {
        (t = n2(3)(false)).push([e.i, ".cdx-underline {\n    text-decoration: underline;\n}\n", ""]), e.exports = t;
      }, function(e, t, n2) {
        "use strict";
        e.exports = function(e2) {
          var t2 = [];
          return t2.toString = function() {
            return this.map(function(t3) {
              var n3 = function(e3, t4) {
                var n4 = e3[1] || "", r3 = e3[3];
                if (!r3)
                  return n4;
                if (t4 && "function" == typeof btoa) {
                  var o4 = (a6 = r3, u2 = btoa(unescape(encodeURIComponent(JSON.stringify(a6)))), c2 = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u2), "/*# ".concat(c2, " */")), i = r3.sources.map(function(e4) {
                    return "/*# sourceURL=".concat(r3.sourceRoot || "").concat(e4, " */");
                  });
                  return [n4].concat(i).concat([o4]).join("\n");
                }
                var a6, u2, c2;
                return [n4].join("\n");
              }(t3, e2);
              return t3[2] ? "@media ".concat(t3[2], " {").concat(n3, "}") : n3;
            }).join("");
          }, t2.i = function(e3, n3, r3) {
            "string" == typeof e3 && (e3 = [[null, e3, ""]]);
            var o4 = {};
            if (r3)
              for (var i = 0; i < this.length; i++) {
                var a6 = this[i][0];
                null != a6 && (o4[a6] = true);
              }
            for (var u2 = 0; u2 < e3.length; u2++) {
              var c2 = [].concat(e3[u2]);
              r3 && o4[c2[0]] || (n3 && (c2[2] ? c2[2] = "".concat(n3, " and ").concat(c2[2]) : c2[2] = n3), t2.push(c2));
            }
          }, t2;
        };
      }, function(e, t, n2) {
        "use strict";
        n2.r(t), n2.d(t, "default", function() {
          return i;
        });
        n2(0);
        function r3(e2) {
          return (r3 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e3) {
            return typeof e3;
          } : function(e3) {
            return e3 && "function" == typeof Symbol && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
          })(e2);
        }
        function o4(e2, t2) {
          for (var n3 = 0; n3 < t2.length; n3++) {
            var o5 = t2[n3];
            o5.enumerable = o5.enumerable || false, o5.configurable = true, "value" in o5 && (o5.writable = true), Object.defineProperty(e2, (i2 = o5.key, a6 = void 0, a6 = function(e3, t3) {
              if ("object" !== r3(e3) || null === e3)
                return e3;
              var n4 = e3[Symbol.toPrimitive];
              if (void 0 !== n4) {
                var o6 = n4.call(e3, t3 || "default");
                if ("object" !== r3(o6))
                  return o6;
                throw new TypeError("@@toPrimitive must return a primitive value.");
              }
              return ("string" === t3 ? String : Number)(e3);
            }(i2, "string"), "symbol" === r3(a6) ? a6 : String(a6)), o5);
          }
          var i2, a6;
        }
        var i = function() {
          function e2(t3) {
            var n4 = t3.api;
            !function(e3, t4) {
              if (!(e3 instanceof t4))
                throw new TypeError("Cannot call a class as a function");
            }(this, e2), this.api = n4, this.button = null, this.tag = "U", this.iconClasses = { base: this.api.styles.inlineToolButton, active: this.api.styles.inlineToolButtonActive };
          }
          var t2, n3, r4;
          return t2 = e2, r4 = [{ key: "CSS", get: function() {
            return "cdx-underline";
          } }, { key: "isInline", get: function() {
            return true;
          } }, { key: "sanitize", get: function() {
            return { u: { class: e2.CSS } };
          } }], (n3 = [{ key: "render", value: function() {
            return this.button = document.createElement("button"), this.button.type = "button", this.button.classList.add(this.iconClasses.base), this.button.innerHTML = this.toolboxIcon, this.button;
          } }, { key: "surround", value: function(t3) {
            if (t3) {
              var n4 = this.api.selection.findParentTag(this.tag, e2.CSS);
              n4 ? this.unwrap(n4) : this.wrap(t3);
            }
          } }, { key: "wrap", value: function(t3) {
            var n4 = document.createElement(this.tag);
            n4.classList.add(e2.CSS), n4.appendChild(t3.extractContents()), t3.insertNode(n4), this.api.selection.expandToTag(n4);
          } }, { key: "unwrap", value: function(e3) {
            this.api.selection.expandToTag(e3);
            var t3 = window.getSelection(), n4 = t3.getRangeAt(0), r5 = n4.extractContents();
            e3.parentNode.removeChild(e3), n4.insertNode(r5), t3.removeAllRanges(), t3.addRange(n4);
          } }, { key: "checkState", value: function() {
            var t3 = this.api.selection.findParentTag(this.tag, e2.CSS);
            this.button.classList.toggle(this.iconClasses.active, !!t3);
          } }, { key: "toolboxIcon", get: function() {
            return '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>';
          } }]) && o4(t2.prototype, n3), r4 && o4(t2, r4), Object.defineProperty(t2, "prototype", { writable: false }), e2;
        }();
      }]).default;
    });
  }
});

// node_modules/editorjs-style/dist/index.js
var require_dist = __commonJS({
  "node_modules/editorjs-style/dist/index.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.EditorJSStyle = t() : e.EditorJSStyle = t();
    }(window, function() {
      return function(e) {
        var t = {};
        function n2(r3) {
          if (t[r3])
            return t[r3].exports;
          var i = t[r3] = { i: r3, l: false, exports: {} };
          return e[r3].call(i.exports, i, i.exports, n2), i.l = true, i.exports;
        }
        return n2.m = e, n2.c = t, n2.d = function(e2, t2, r3) {
          n2.o(e2, t2) || Object.defineProperty(e2, t2, { enumerable: true, get: r3 });
        }, n2.r = function(e2) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e2, "__esModule", { value: true });
        }, n2.t = function(e2, t2) {
          if (1 & t2 && (e2 = n2(e2)), 8 & t2)
            return e2;
          if (4 & t2 && "object" == typeof e2 && e2 && e2.__esModule)
            return e2;
          var r3 = /* @__PURE__ */ Object.create(null);
          if (n2.r(r3), Object.defineProperty(r3, "default", { enumerable: true, value: e2 }), 2 & t2 && "string" != typeof e2)
            for (var i in e2)
              n2.d(r3, i, function(t3) {
                return e2[t3];
              }.bind(null, i));
          return r3;
        }, n2.n = function(e2) {
          var t2 = e2 && e2.__esModule ? function() {
            return e2.default;
          } : function() {
            return e2;
          };
          return n2.d(t2, "a", t2), t2;
        }, n2.o = function(e2, t2) {
          return Object.prototype.hasOwnProperty.call(e2, t2);
        }, n2.p = "", n2(n2.s = 0);
      }([function(e, t, n2) {
        "use strict";
        n2.r(t), n2.d(t, "StyleInlineTool", function() {
          return c2;
        });
        class r3 extends HTMLElement {
        }
        class i extends Error {
          constructor(...e2) {
            super(...e2), this.name = "EditorJSStyleError";
          }
        }
        var s4, o4, l3 = function(e2, t2, n3, r4, i2) {
          if ("m" === r4)
            throw new TypeError("Private method is not writable");
          if ("a" === r4 && !i2)
            throw new TypeError("Private accessor was defined without a setter");
          if ("function" == typeof t2 ? e2 !== t2 || !i2 : !t2.has(e2))
            throw new TypeError("Cannot write private member to an object whose class did not declare it");
          return "a" === r4 ? i2.call(e2, n3) : i2 ? i2.value = n3 : t2.set(e2, n3), n3;
        }, a6 = function(e2, t2, n3, r4) {
          if ("a" === n3 && !r4)
            throw new TypeError("Private accessor was defined without a getter");
          if ("function" == typeof t2 ? e2 !== t2 || !r4 : !t2.has(e2))
            throw new TypeError("Cannot read private member from an object whose class did not declare it");
          return "m" === n3 ? r4 : "a" === n3 ? r4.call(e2) : r4 ? r4.value : t2.get(e2);
        };
        class c2 {
          constructor({ api: e2 }) {
            s4.set(this, void 0), o4.set(this, void 0), l3(this, s4, document.createElement("div"), "f"), l3(this, o4, e2, "f");
          }
          static get isInline() {
            return true;
          }
          static get sanitize() {
            return { "editorjs-style": { class: true, id: true, style: true } };
          }
          static get title() {
            return "Style";
          }
          static prepare() {
            customElements.get("editorjs-style") || customElements.define("editorjs-style", r3);
          }
          get shortcut() {
            return "CMD+S";
          }
          checkState() {
            var e2;
            a6(this, s4, "f").innerHTML = "";
            const t2 = a6(this, o4, "f").selection.findParentTag("EDITORJS-STYLE");
            if (!t2)
              return false;
            a6(this, s4, "f").innerHTML = `
      <div style="margin-bottom: 16px; margin-left: 16px; margin-right: 16px; ">
        <div style="display: flex; align-items: center; justify-content: space-between; ">
          <div>Style settings</div>

          <button class="delete-button ${a6(this, o4, "f").styles.settingsButton}" type="button">
            <svg class="icon" height="24" viewBox="0 0 24 24" width="24">
              <path d="M0 0h24v24H0z" fill="none"/>
              <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
            </svg>
          </button>
        </div>

        <label style="display: flex; align-items: center; justify-content: space-between; ">
          <span>ID</span>

          <input class="id-input ${a6(this, o4, "f").styles.input}" style="width: 80%; ">
        </label>

        <label style="display: flex; align-items: center; justify-content: space-between; ">
          <span>Class</span>

          <input class="class-input ${a6(this, o4, "f").styles.input}" style="width: 80%; ">
        </label>

        <label style="display: flex; align-items: center; justify-content: space-between; ">
          <span>Style</span>

          <textarea
            class="style-textarea ${a6(this, o4, "f").styles.input}"
            placeholder="background: #ffe7e8;"
            style="resize: none; width: 80%; ">
          </textarea>
        </label>
      </div>
    `;
            const n3 = a6(this, s4, "f").querySelector(".delete-button"), r4 = a6(this, s4, "f").querySelector(".class-input"), l4 = a6(this, s4, "f").querySelector(".id-input"), c3 = a6(this, s4, "f").querySelector(".style-textarea");
            if (!(n3 && r4 && l4 && c3))
              throw new i();
            return n3.addEventListener("click", () => {
              const e3 = Array.from(t2.childNodes).map((e4) => e4.cloneNode(true));
              if (e3.forEach((e4) => {
                var n5;
                return null === (n5 = t2.parentNode) || void 0 === n5 ? void 0 : n5.insertBefore(e4, t2);
              }), t2.remove(), 0 === e3.length)
                return;
              const n4 = window.getSelection();
              if (!n4)
                throw new i();
              n4.removeAllRanges();
              const r5 = new Range();
              r5.setStartBefore(e3[0]), r5.setEndAfter(e3[e3.length - 1]), n4.addRange(r5), a6(this, s4, "f").innerHTML = "", a6(this, o4, "f").tooltip.hide();
            }), a6(this, o4, "f").tooltip.onHover(n3, "Delete style", { placement: "top" }), r4.value = t2.className, r4.addEventListener("input", () => t2.setAttribute("class", r4.value)), l4.value = t2.id, l4.addEventListener("input", () => t2.id = l4.value), c3.value = null !== (e2 = t2.getAttribute("style")) && void 0 !== e2 ? e2 : "", c3.addEventListener("keydown", (e3) => e3.stopPropagation()), c3.addEventListener("input", () => t2.setAttribute("style", c3.value)), true;
          }
          clear() {
            a6(this, s4, "f").innerHTML = "";
          }
          render() {
            const e2 = document.createElement("button");
            return e2.classList.add(a6(this, o4, "f").styles.inlineToolButton), e2.type = "button", e2.innerHTML = '\n      <svg class="icon" height="24" viewBox="0 0 24 24" width="24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zM7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"/>\n      </svg>\n    ', e2;
          }
          renderActions() {
            return a6(this, s4, "f");
          }
          surround(e2) {
            const t2 = new r3();
            e2.surroundContents(t2), a6(this, o4, "f").selection.expandToTag(t2);
          }
        }
        s4 = /* @__PURE__ */ new WeakMap(), o4 = /* @__PURE__ */ new WeakMap();
      }]);
    });
  }
});

// node_modules/editorjs-drag-drop/dist/bundle.js
var require_bundle2 = __commonJS({
  "node_modules/editorjs-drag-drop/dist/bundle.js"(exports, module) {
    !function(e, t) {
      "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.DragDrop = t() : e.DragDrop = t();
    }(self, () => (() => {
      "use strict";
      var e = { 523: (e2, t2, r4) => {
        r4.d(t2, { A: () => c2 });
        var n3 = r4(601), o4 = r4.n(n3), i = r4(314), a6 = r4.n(i)()(o4());
        a6.push([e2.id, '.ce-block--drop-target .ce-block__content:before {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: -20px;\n  margin-top: -1px;\n  height: 8px;\n  width: 8px;\n  border: solid #a0a0a0;\n  border-width: 1px 1px 0 0;\n  -webkit-transform-origin: right;\n  transform-origin: right;\n  -webkit-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n\n.ce-block--drop-target .ce-block__content:after {\n  background: none;\n}\n', ""]);
        const c2 = a6;
      }, 314: (e2) => {
        e2.exports = function(e3) {
          var t2 = [];
          return t2.toString = function() {
            return this.map(function(t3) {
              var r4 = "", n3 = void 0 !== t3[5];
              return t3[4] && (r4 += "@supports (".concat(t3[4], ") {")), t3[2] && (r4 += "@media ".concat(t3[2], " {")), n3 && (r4 += "@layer".concat(t3[5].length > 0 ? " ".concat(t3[5]) : "", " {")), r4 += e3(t3), n3 && (r4 += "}"), t3[2] && (r4 += "}"), t3[4] && (r4 += "}"), r4;
            }).join("");
          }, t2.i = function(e4, r4, n3, o4, i) {
            "string" == typeof e4 && (e4 = [[null, e4, void 0]]);
            var a6 = {};
            if (n3)
              for (var c2 = 0; c2 < this.length; c2++) {
                var s4 = this[c2][0];
                null != s4 && (a6[s4] = true);
              }
            for (var l3 = 0; l3 < e4.length; l3++) {
              var u2 = [].concat(e4[l3]);
              n3 && a6[u2[0]] || (void 0 !== i && (void 0 === u2[5] || (u2[1] = "@layer".concat(u2[5].length > 0 ? " ".concat(u2[5]) : "", " {").concat(u2[1], "}")), u2[5] = i), r4 && (u2[2] ? (u2[1] = "@media ".concat(u2[2], " {").concat(u2[1], "}"), u2[2] = r4) : u2[2] = r4), o4 && (u2[4] ? (u2[1] = "@supports (".concat(u2[4], ") {").concat(u2[1], "}"), u2[4] = o4) : u2[4] = "".concat(o4)), t2.push(u2));
            }
          }, t2;
        };
      }, 601: (e2) => {
        e2.exports = function(e3) {
          return e3[1];
        };
      }, 72: (e2) => {
        var t2 = [];
        function r4(e3) {
          for (var r5 = -1, n4 = 0; n4 < t2.length; n4++)
            if (t2[n4].identifier === e3) {
              r5 = n4;
              break;
            }
          return r5;
        }
        function n3(e3, n4) {
          for (var i = {}, a6 = [], c2 = 0; c2 < e3.length; c2++) {
            var s4 = e3[c2], l3 = n4.base ? s4[0] + n4.base : s4[0], u2 = i[l3] || 0, d5 = "".concat(l3, " ").concat(u2);
            i[l3] = u2 + 1;
            var f2 = r4(d5), p2 = { css: s4[1], media: s4[2], sourceMap: s4[3], supports: s4[4], layer: s4[5] };
            if (-1 !== f2)
              t2[f2].references++, t2[f2].updater(p2);
            else {
              var v4 = o4(p2, n4);
              n4.byIndex = c2, t2.splice(c2, 0, { identifier: d5, updater: v4, references: 1 });
            }
            a6.push(d5);
          }
          return a6;
        }
        function o4(e3, t3) {
          var r5 = t3.domAPI(t3);
          return r5.update(e3), function(t4) {
            if (t4) {
              if (t4.css === e3.css && t4.media === e3.media && t4.sourceMap === e3.sourceMap && t4.supports === e3.supports && t4.layer === e3.layer)
                return;
              r5.update(e3 = t4);
            } else
              r5.remove();
          };
        }
        e2.exports = function(e3, o5) {
          var i = n3(e3 = e3 || [], o5 = o5 || {});
          return function(e4) {
            e4 = e4 || [];
            for (var a6 = 0; a6 < i.length; a6++) {
              var c2 = r4(i[a6]);
              t2[c2].references--;
            }
            for (var s4 = n3(e4, o5), l3 = 0; l3 < i.length; l3++) {
              var u2 = r4(i[l3]);
              0 === t2[u2].references && (t2[u2].updater(), t2.splice(u2, 1));
            }
            i = s4;
          };
        };
      }, 659: (e2) => {
        var t2 = {};
        e2.exports = function(e3, r4) {
          var n3 = function(e4) {
            if (void 0 === t2[e4]) {
              var r5 = document.querySelector(e4);
              if (window.HTMLIFrameElement && r5 instanceof window.HTMLIFrameElement)
                try {
                  r5 = r5.contentDocument.head;
                } catch (e5) {
                  r5 = null;
                }
              t2[e4] = r5;
            }
            return t2[e4];
          }(e3);
          if (!n3)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
          n3.appendChild(r4);
        };
      }, 540: (e2) => {
        e2.exports = function(e3) {
          var t2 = document.createElement("style");
          return e3.setAttributes(t2, e3.attributes), e3.insert(t2, e3.options), t2;
        };
      }, 56: (e2, t2, r4) => {
        e2.exports = function(e3) {
          var t3 = r4.nc;
          t3 && e3.setAttribute("nonce", t3);
        };
      }, 825: (e2) => {
        e2.exports = function(e3) {
          if ("undefined" == typeof document)
            return { update: function() {
            }, remove: function() {
            } };
          var t2 = e3.insertStyleElement(e3);
          return { update: function(r4) {
            !function(e4, t3, r5) {
              var n3 = "";
              r5.supports && (n3 += "@supports (".concat(r5.supports, ") {")), r5.media && (n3 += "@media ".concat(r5.media, " {"));
              var o4 = void 0 !== r5.layer;
              o4 && (n3 += "@layer".concat(r5.layer.length > 0 ? " ".concat(r5.layer) : "", " {")), n3 += r5.css, o4 && (n3 += "}"), r5.media && (n3 += "}"), r5.supports && (n3 += "}");
              var i = r5.sourceMap;
              i && "undefined" != typeof btoa && (n3 += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))), " */")), t3.styleTagTransform(n3, e4, t3.options);
            }(t2, e3, r4);
          }, remove: function() {
            !function(e4) {
              if (null === e4.parentNode)
                return false;
              e4.parentNode.removeChild(e4);
            }(t2);
          } };
        };
      }, 113: (e2) => {
        e2.exports = function(e3, t2) {
          if (t2.styleSheet)
            t2.styleSheet.cssText = e3;
          else {
            for (; t2.firstChild; )
              t2.removeChild(t2.firstChild);
            t2.appendChild(document.createTextNode(e3));
          }
        };
      } }, t = {};
      function r3(n3) {
        var o4 = t[n3];
        if (void 0 !== o4)
          return o4.exports;
        var i = t[n3] = { id: n3, exports: {} };
        return e[n3](i, i.exports, r3), i.exports;
      }
      r3.n = (e2) => {
        var t2 = e2 && e2.__esModule ? () => e2.default : () => e2;
        return r3.d(t2, { a: t2 }), t2;
      }, r3.d = (e2, t2) => {
        for (var n3 in t2)
          r3.o(t2, n3) && !r3.o(e2, n3) && Object.defineProperty(e2, n3, { enumerable: true, get: t2[n3] });
      }, r3.o = (e2, t2) => Object.prototype.hasOwnProperty.call(e2, t2), r3.nc = void 0;
      var n2 = {};
      return (() => {
        r3.d(n2, { default: () => g4 });
        var e2 = r3(72), t2 = r3.n(e2), o4 = r3(825), i = r3.n(o4), a6 = r3(659), c2 = r3.n(a6), s4 = r3(56), l3 = r3.n(s4), u2 = r3(540), d5 = r3.n(u2), f2 = r3(113), p2 = r3.n(f2), v4 = r3(523), y4 = {};
        function h4(e3) {
          return h4 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e4) {
            return typeof e4;
          } : function(e4) {
            return e4 && "function" == typeof Symbol && e4.constructor === Symbol && e4 !== Symbol.prototype ? "symbol" : typeof e4;
          }, h4(e3);
        }
        function b4(e3, t3) {
          for (var r4 = 0; r4 < t3.length; r4++) {
            var n3 = t3[r4];
            n3.enumerable = n3.enumerable || false, n3.configurable = true, "value" in n3 && (n3.writable = true), Object.defineProperty(e3, m3(n3.key), n3);
          }
        }
        function m3(e3) {
          var t3 = function(e4, t4) {
            if ("object" != h4(e4) || !e4)
              return e4;
            var r4 = e4[Symbol.toPrimitive];
            if (void 0 !== r4) {
              var n3 = r4.call(e4, "string");
              if ("object" != h4(n3))
                return n3;
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            return String(e4);
          }(e3);
          return "symbol" == h4(t3) ? t3 : t3 + "";
        }
        y4.styleTagTransform = p2(), y4.setAttributes = l3(), y4.insert = c2().bind(null, "head"), y4.domAPI = i(), y4.insertStyleElement = d5(), t2()(v4.A, y4), v4.A && v4.A.locals && v4.A.locals;
        var g4 = function() {
          return e3 = function e4(t4, r5) {
            var n3 = t4.configuration, o5 = t4.blocks, i2 = t4.toolbar, a7 = t4.save;
            !function(e5, t5) {
              if (!(e5 instanceof t5))
                throw new TypeError("Cannot call a class as a function");
            }(this, e4), this.toolbar = i2, this.borderStyle = r5 || "1px dashed #aaa", this.api = o5, this.holder = "string" == typeof n3.holder ? document.getElementById(n3.holder) : n3.holder, this.readOnly = n3.readOnly, this.startBlock = null, this.endBlock = null, this.save = a7, this.setDragListener(), this.setDropListener();
          }, r4 = [{ key: "isReadOnlySupported", get: function() {
            return true;
          } }], (t3 = [{ key: "setElementCursor", value: function(e4) {
            if (e4) {
              var t4 = document.createRange(), r5 = window.getSelection();
              t4.setStart(e4.childNodes[0], 0), t4.collapse(true), r5.removeAllRanges(), r5.addRange(t4), e4.focus();
            }
          } }, { key: "setDragListener", value: function() {
            var e4 = this;
            if (!this.readOnly) {
              var t4 = this.holder.querySelector(".ce-toolbar__settings-btn");
              if (t4)
                this.initializeDragListener(t4);
              else {
                var r5 = new MutationObserver(function(t5, r6) {
                  var n3 = e4.holder.querySelector(".ce-toolbar__settings-btn");
                  n3 && (e4.initializeDragListener(n3), r6.disconnect());
                });
                r5.observe(this.holder, { childList: true, subtree: true });
              }
            }
          } }, { key: "initializeDragListener", value: function(e4) {
            var t4 = this;
            e4.setAttribute("draggable", "true"), e4.addEventListener("dragstart", function() {
              t4.startBlock = t4.api.getCurrentBlockIndex();
            }), e4.addEventListener("drag", function() {
              if (t4.toolbar.close(), !t4.isTheOnlyBlock()) {
                var e5 = t4.holder.querySelectorAll(".ce-block"), r5 = t4.holder.querySelector(".ce-block--drop-target");
                t4.setElementCursor(r5), t4.setBorderBlocks(e5, r5);
              }
            });
          } }, { key: "setBorderBlocks", value: function(e4, t4) {
            var r5 = this;
            Object.values(e4).forEach(function(n3) {
              var o5 = n3.querySelector(".ce-block__content");
              n3 !== t4 ? (o5.style.removeProperty("border-top"), o5.style.removeProperty("border-bottom")) : Object.keys(e4).find(function(r6) {
                return e4[r6] === t4;
              }) > r5.startBlock ? o5.style.borderBottom = r5.borderStyle : o5.style.borderTop = r5.borderStyle;
            });
          } }, { key: "setDropListener", value: function() {
            var e4 = this;
            document.addEventListener("drop", function(t4) {
              var r5 = t4.target;
              if (e4.holder.contains(r5) && null !== e4.startBlock) {
                var n3 = e4.getDropTarget(r5);
                if (n3) {
                  var o5 = n3.querySelector(".ce-block__content");
                  o5.style.removeProperty("border-top"), o5.style.removeProperty("border-bottom"), e4.endBlock = e4.getTargetPosition(n3), e4.moveBlocks();
                }
              }
              e4.startBlock = null;
            });
          } }, { key: "getDropTarget", value: function(e4) {
            return e4.classList.contains("ce-block") ? e4 : e4.closest(".ce-block");
          } }, { key: "getTargetPosition", value: function(e4) {
            return Array.from(e4.parentNode.children).indexOf(e4);
          } }, { key: "isTheOnlyBlock", value: function() {
            return 1 === this.api.getBlocksCount();
          } }, { key: "moveBlocks", value: function() {
            this.isTheOnlyBlock() || this.api.move(this.endBlock, this.startBlock);
          } }]) && b4(e3.prototype, t3), r4 && b4(e3, r4), Object.defineProperty(e3, "prototype", { writable: false }), e3;
          var e3, t3, r4;
        }();
      })(), n2.default;
    })());
  }
});

// node_modules/@editorjs/editorjs/dist/editorjs.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")), document.head.appendChild(e);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
var ko = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function Fe(n2) {
  return n2 && n2.__esModule && Object.prototype.hasOwnProperty.call(n2, "default") ? n2.default : n2;
}
function ze() {
}
Object.assign(ze, {
  default: ze,
  register: ze,
  revert: function() {
  },
  __esModule: true
});
Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(n2) {
  const e = (this.document || this.ownerDocument).querySelectorAll(n2);
  let t = e.length;
  for (; --t >= 0 && e.item(t) !== this; )
    ;
  return t > -1;
});
Element.prototype.closest || (Element.prototype.closest = function(n2) {
  let e = this;
  if (!document.documentElement.contains(e))
    return null;
  do {
    if (e.matches(n2))
      return e;
    e = e.parentElement || e.parentNode;
  } while (e !== null);
  return null;
});
Element.prototype.prepend || (Element.prototype.prepend = function(e) {
  const t = document.createDocumentFragment();
  Array.isArray(e) || (e = [e]), e.forEach((o4) => {
    const i = o4 instanceof Node;
    t.appendChild(i ? o4 : document.createTextNode(o4));
  }), this.insertBefore(t, this.firstChild);
});
Element.prototype.scrollIntoViewIfNeeded || (Element.prototype.scrollIntoViewIfNeeded = function(n2) {
  n2 = arguments.length === 0 ? true : !!n2;
  const e = this.parentNode, t = window.getComputedStyle(e, null), o4 = parseInt(t.getPropertyValue("border-top-width")), i = parseInt(t.getPropertyValue("border-left-width")), s4 = this.offsetTop - e.offsetTop < e.scrollTop, r3 = this.offsetTop - e.offsetTop + this.clientHeight - o4 > e.scrollTop + e.clientHeight, l3 = this.offsetLeft - e.offsetLeft < e.scrollLeft, a6 = this.offsetLeft - e.offsetLeft + this.clientWidth - i > e.scrollLeft + e.clientWidth, c2 = s4 && !r3;
  (s4 || r3) && n2 && (e.scrollTop = this.offsetTop - e.offsetTop - e.clientHeight / 2 - o4 + this.clientHeight / 2), (l3 || a6) && n2 && (e.scrollLeft = this.offsetLeft - e.offsetLeft - e.clientWidth / 2 - i + this.clientWidth / 2), (s4 || r3 || l3 || a6) && !n2 && this.scrollIntoView(c2);
});
window.requestIdleCallback = window.requestIdleCallback || function(n2) {
  const e = Date.now();
  return setTimeout(function() {
    n2({
      didTimeout: false,
      timeRemaining: function() {
        return Math.max(0, 50 - (Date.now() - e));
      }
    });
  }, 1);
};
window.cancelIdleCallback = window.cancelIdleCallback || function(n2) {
  clearTimeout(n2);
};
var vo = (n2 = 21) => crypto.getRandomValues(new Uint8Array(n2)).reduce((e, t) => (t &= 63, t < 36 ? e += t.toString(36) : t < 62 ? e += (t - 26).toString(36).toUpperCase() : t > 62 ? e += "-" : e += "_", e), "");
var It = /* @__PURE__ */ ((n2) => (n2.VERBOSE = "VERBOSE", n2.INFO = "INFO", n2.WARN = "WARN", n2.ERROR = "ERROR", n2))(It || {});
var w = {
  BACKSPACE: 8,
  TAB: 9,
  ENTER: 13,
  SHIFT: 16,
  CTRL: 17,
  ALT: 18,
  ESC: 27,
  SPACE: 32,
  LEFT: 37,
  UP: 38,
  DOWN: 40,
  RIGHT: 39,
  DELETE: 46,
  META: 91,
  SLASH: 191
};
var wo = {
  LEFT: 0,
  WHEEL: 1,
  RIGHT: 2,
  BACKWARD: 3,
  FORWARD: 4
};
function Be(n2, e, t = "log", o4, i = "color: inherit") {
  if (!("console" in window) || !window.console[t])
    return;
  const s4 = ["info", "log", "warn", "error"].includes(t), r3 = [];
  switch (Be.logLevel) {
    case "ERROR":
      if (t !== "error")
        return;
      break;
    case "WARN":
      if (!["error", "warn"].includes(t))
        return;
      break;
    case "INFO":
      if (!s4 || n2)
        return;
      break;
  }
  o4 && r3.push(o4);
  const l3 = "Editor.js 2.30.6", a6 = `line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;
  n2 && (s4 ? (r3.unshift(a6, i), e = `%c${l3}%c ${e}`) : e = `( ${l3} )${e}`);
  try {
    s4 ? o4 ? console[t](`${e} %o`, ...r3) : console[t](e, ...r3) : console[t](e);
  } catch {
  }
}
Be.logLevel = "VERBOSE";
function xo(n2) {
  Be.logLevel = n2;
}
var I = Be.bind(window, false);
var X = Be.bind(window, true);
function re(n2) {
  return Object.prototype.toString.call(n2).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
}
function O(n2) {
  return re(n2) === "function" || re(n2) === "asyncfunction";
}
function R(n2) {
  return re(n2) === "object";
}
function Q(n2) {
  return re(n2) === "string";
}
function yo(n2) {
  return re(n2) === "boolean";
}
function bt(n2) {
  return re(n2) === "number";
}
function kt(n2) {
  return re(n2) === "undefined";
}
function V(n2) {
  return n2 ? Object.keys(n2).length === 0 && n2.constructor === Object : true;
}
function Mt(n2) {
  return n2 > 47 && n2 < 58 || // number keys
  n2 === 32 || n2 === 13 || // Space bar & return key(s)
  n2 === 229 || // processing key input for certain languages — Chinese, Japanese, etc.
  n2 > 64 && n2 < 91 || // letter keys
  n2 > 95 && n2 < 112 || // Numpad keys
  n2 > 185 && n2 < 193 || // ;=,-./` (in order)
  n2 > 218 && n2 < 223;
}
async function Eo(n2, e = () => {
}, t = () => {
}) {
  async function o4(i, s4, r3) {
    try {
      await i.function(i.data), await s4(kt(i.data) ? {} : i.data);
    } catch {
      r3(kt(i.data) ? {} : i.data);
    }
  }
  return n2.reduce(async (i, s4) => (await i, o4(s4, e, t)), Promise.resolve());
}
function At(n2) {
  return Array.prototype.slice.call(n2);
}
function Oe(n2, e) {
  return function() {
    const t = this, o4 = arguments;
    window.setTimeout(() => n2.apply(t, o4), e);
  };
}
function Bo(n2) {
  return n2.name.split(".").pop();
}
function To(n2) {
  return /^[-\w]+\/([-+\w]+|\*)$/.test(n2);
}
function vt(n2, e, t) {
  let o4;
  return (...i) => {
    const s4 = this, r3 = () => {
      o4 = null, t || n2.apply(s4, i);
    }, l3 = t && !o4;
    window.clearTimeout(o4), o4 = window.setTimeout(r3, e), l3 && n2.apply(s4, i);
  };
}
function Ve(n2, e, t = void 0) {
  let o4, i, s4, r3 = null, l3 = 0;
  t || (t = {});
  const a6 = function() {
    l3 = t.leading === false ? 0 : Date.now(), r3 = null, s4 = n2.apply(o4, i), r3 || (o4 = i = null);
  };
  return function() {
    const c2 = Date.now();
    !l3 && t.leading === false && (l3 = c2);
    const u2 = e - (c2 - l3);
    return o4 = this, i = arguments, u2 <= 0 || u2 > e ? (r3 && (clearTimeout(r3), r3 = null), l3 = c2, s4 = n2.apply(o4, i), r3 || (o4 = i = null)) : !r3 && t.trailing !== false && (r3 = setTimeout(a6, u2)), s4;
  };
}
function Co() {
  const n2 = {
    win: false,
    mac: false,
    x11: false,
    linux: false
  }, e = Object.keys(n2).find((t) => window.navigator.appVersion.toLowerCase().indexOf(t) !== -1);
  return e && (n2[e] = true), n2;
}
function Le(n2) {
  return n2[0].toUpperCase() + n2.slice(1);
}
function qe(n2, ...e) {
  if (!e.length)
    return n2;
  const t = e.shift();
  if (R(n2) && R(t))
    for (const o4 in t)
      R(t[o4]) ? (n2[o4] || Object.assign(n2, { [o4]: {} }), qe(n2[o4], t[o4])) : Object.assign(n2, { [o4]: t[o4] });
  return qe(n2, ...e);
}
function tt(n2) {
  const e = Co();
  return n2 = n2.replace(/shift/gi, "\u21E7").replace(/backspace/gi, "\u232B").replace(/enter/gi, "\u23CE").replace(/up/gi, "\u2191").replace(/left/gi, "\u2192").replace(/down/gi, "\u2193").replace(/right/gi, "\u2190").replace(/escape/gi, "\u238B").replace(/insert/gi, "Ins").replace(/delete/gi, "\u2421").replace(/\+/gi, " + "), e.mac ? n2 = n2.replace(/ctrl|cmd/gi, "\u2318").replace(/alt/gi, "\u2325") : n2 = n2.replace(/cmd/gi, "Ctrl").replace(/windows/gi, "WIN"), n2;
}
function So(n2) {
  try {
    return new URL(n2).href;
  } catch {
  }
  return n2.substring(0, 2) === "//" ? window.location.protocol + n2 : window.location.origin + n2;
}
function Io() {
  return vo(10);
}
function Mo(n2) {
  window.open(n2, "_blank");
}
function Ao(n2 = "") {
  return `${n2}${Math.floor(Math.random() * 1e8).toString(16)}`;
}
function Ze(n2, e, t) {
  const o4 = `\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;
  n2 && X(o4, "warn");
}
function ue(n2, e, t) {
  const o4 = t.value ? "value" : "get", i = t[o4], s4 = `#${e}Cache`;
  if (t[o4] = function(...r3) {
    return this[s4] === void 0 && (this[s4] = i.apply(this, ...r3)), this[s4];
  }, o4 === "get" && t.set) {
    const r3 = t.set;
    t.set = function(l3) {
      delete n2[s4], r3.apply(this, l3);
    };
  }
  return t;
}
var Ot = 650;
function pe() {
  return window.matchMedia(`(max-width: ${Ot}px)`).matches;
}
var Ge = typeof window < "u" && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === "MacIntel" && window.navigator.maxTouchPoints > 1);
function Oo(n2, e) {
  const t = Array.isArray(n2) || R(n2), o4 = Array.isArray(e) || R(e);
  return t || o4 ? JSON.stringify(n2) === JSON.stringify(e) : n2 === e;
}
var d = class _d {
  /**
   * Check if passed tag has no closed tag
   *
   * @param {HTMLElement} tag - element to check
   * @returns {boolean}
   */
  static isSingleTag(e) {
    return e.tagName && [
      "AREA",
      "BASE",
      "BR",
      "COL",
      "COMMAND",
      "EMBED",
      "HR",
      "IMG",
      "INPUT",
      "KEYGEN",
      "LINK",
      "META",
      "PARAM",
      "SOURCE",
      "TRACK",
      "WBR"
    ].includes(e.tagName);
  }
  /**
   * Check if element is BR or WBR
   *
   * @param {HTMLElement} element - element to check
   * @returns {boolean}
   */
  static isLineBreakTag(e) {
    return e && e.tagName && [
      "BR",
      "WBR"
    ].includes(e.tagName);
  }
  /**
   * Helper for making Elements with class name and attributes
   *
   * @param  {string} tagName - new Element tag name
   * @param  {string[]|string} [classNames] - list or name of CSS class name(s)
   * @param  {object} [attributes] - any attributes
   * @returns {HTMLElement}
   */
  static make(e, t = null, o4 = {}) {
    const i = document.createElement(e);
    if (Array.isArray(t)) {
      const s4 = t.filter((r3) => r3 !== void 0);
      i.classList.add(...s4);
    } else
      t && i.classList.add(t);
    for (const s4 in o4)
      Object.prototype.hasOwnProperty.call(o4, s4) && (i[s4] = o4[s4]);
    return i;
  }
  /**
   * Creates Text Node with the passed content
   *
   * @param {string} content - text content
   * @returns {Text}
   */
  static text(e) {
    return document.createTextNode(e);
  }
  /**
   * Append one or several elements to the parent
   *
   * @param  {Element|DocumentFragment} parent - where to append
   * @param  {Element|Element[]|DocumentFragment|Text|Text[]} elements - element or elements list
   */
  static append(e, t) {
    Array.isArray(t) ? t.forEach((o4) => e.appendChild(o4)) : e.appendChild(t);
  }
  /**
   * Append element or a couple to the beginning of the parent elements
   *
   * @param {Element} parent - where to append
   * @param {Element|Element[]} elements - element or elements list
   */
  static prepend(e, t) {
    Array.isArray(t) ? (t = t.reverse(), t.forEach((o4) => e.prepend(o4))) : e.prepend(t);
  }
  /**
   * Swap two elements in parent
   *
   * @param {HTMLElement} el1 - from
   * @param {HTMLElement} el2 - to
   * @deprecated
   */
  static swap(e, t) {
    const o4 = document.createElement("div"), i = e.parentNode;
    i.insertBefore(o4, e), i.insertBefore(e, t), i.insertBefore(t, o4), i.removeChild(o4);
  }
  /**
   * Selector Decorator
   *
   * Returns first match
   *
   * @param {Element} el - element we searching inside. Default - DOM Document
   * @param {string} selector - searching string
   * @returns {Element}
   */
  static find(e = document, t) {
    return e.querySelector(t);
  }
  /**
   * Get Element by Id
   *
   * @param {string} id - id to find
   * @returns {HTMLElement | null}
   */
  static get(e) {
    return document.getElementById(e);
  }
  /**
   * Selector Decorator.
   *
   * Returns all matches
   *
   * @param {Element|Document} el - element we searching inside. Default - DOM Document
   * @param {string} selector - searching string
   * @returns {NodeList}
   */
  static findAll(e = document, t) {
    return e.querySelectorAll(t);
  }
  /**
   * Returns CSS selector for all text inputs
   */
  static get allInputsSelector() {
    return "[contenteditable=true], textarea, input:not([type]), " + ["text", "password", "email", "number", "search", "tel", "url"].map((t) => `input[type="${t}"]`).join(", ");
  }
  /**
   * Find all contenteditable, textarea and editable input elements passed holder contains
   *
   * @param holder - element where to find inputs
   */
  static findAllInputs(e) {
    return At(e.querySelectorAll(_d.allInputsSelector)).reduce((t, o4) => _d.isNativeInput(o4) || _d.containsOnlyInlineElements(o4) ? [...t, o4] : [...t, ..._d.getDeepestBlockElements(o4)], []);
  }
  /**
   * Search for deepest node which is Leaf.
   * Leaf is the vertex that doesn't have any child nodes
   *
   * @description Method recursively goes throw the all Node until it finds the Leaf
   * @param {Node} node - root Node. From this vertex we start Deep-first search
   *                      {@link https://en.wikipedia.org/wiki/Depth-first_search}
   * @param {boolean} [atLast] - find last text node
   * @returns - it can be text Node or Element Node, so that caret will able to work with it
   *            Can return null if node is Document or DocumentFragment, or node is not attached to the DOM
   */
  static getDeepestNode(e, t = false) {
    const o4 = t ? "lastChild" : "firstChild", i = t ? "previousSibling" : "nextSibling";
    if (e && e.nodeType === Node.ELEMENT_NODE && e[o4]) {
      let s4 = e[o4];
      if (_d.isSingleTag(s4) && !_d.isNativeInput(s4) && !_d.isLineBreakTag(s4))
        if (s4[i])
          s4 = s4[i];
        else if (s4.parentNode[i])
          s4 = s4.parentNode[i];
        else
          return s4.parentNode;
      return this.getDeepestNode(s4, t);
    }
    return e;
  }
  /**
   * Check if object is DOM node
   *
   * @param {*} node - object to check
   * @returns {boolean}
   */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  static isElement(e) {
    return bt(e) ? false : e && e.nodeType && e.nodeType === Node.ELEMENT_NODE;
  }
  /**
   * Check if object is DocumentFragment node
   *
   * @param {object} node - object to check
   * @returns {boolean}
   */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  static isFragment(e) {
    return bt(e) ? false : e && e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;
  }
  /**
   * Check if passed element is contenteditable
   *
   * @param {HTMLElement} element - html element to check
   * @returns {boolean}
   */
  static isContentEditable(e) {
    return e.contentEditable === "true";
  }
  /**
   * Checks target if it is native input
   *
   * @param {*} target - HTML element or string
   * @returns {boolean}
   */
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  static isNativeInput(e) {
    const t = [
      "INPUT",
      "TEXTAREA"
    ];
    return e && e.tagName ? t.includes(e.tagName) : false;
  }
  /**
   * Checks if we can set caret
   *
   * @param {HTMLElement} target - target to check
   * @returns {boolean}
   */
  static canSetCaret(e) {
    let t = true;
    if (_d.isNativeInput(e))
      switch (e.type) {
        case "file":
        case "checkbox":
        case "radio":
        case "hidden":
        case "submit":
        case "button":
        case "image":
        case "reset":
          t = false;
          break;
      }
    else
      t = _d.isContentEditable(e);
    return t;
  }
  /**
   * Checks node if it is empty
   *
   * @description Method checks simple Node without any childs for emptiness
   * If you have Node with 2 or more children id depth, you better use {@link Dom#isEmpty} method
   * @param {Node} node - node to check
   * @param {string} [ignoreChars] - char or substring to treat as empty
   * @returns {boolean} true if it is empty
   */
  static isNodeEmpty(e, t) {
    let o4;
    return this.isSingleTag(e) && !this.isLineBreakTag(e) ? false : (this.isElement(e) && this.isNativeInput(e) ? o4 = e.value : o4 = e.textContent.replace("\u200B", ""), t && (o4 = o4.replace(new RegExp(t, "g"), "")), o4.trim().length === 0);
  }
  /**
   * checks node if it is doesn't have any child nodes
   *
   * @param {Node} node - node to check
   * @returns {boolean}
   */
  static isLeaf(e) {
    return e ? e.childNodes.length === 0 : false;
  }
  /**
   * breadth-first search (BFS)
   * {@link https://en.wikipedia.org/wiki/Breadth-first_search}
   *
   * @description Pushes to stack all DOM leafs and checks for emptiness
   * @param {Node} node - node to check
   * @param {string} [ignoreChars] - char or substring to treat as empty
   * @returns {boolean}
   */
  static isEmpty(e, t) {
    e.normalize();
    const o4 = [e];
    for (; o4.length > 0; )
      if (e = o4.shift(), !!e) {
        if (this.isLeaf(e) && !this.isNodeEmpty(e, t))
          return false;
        e.childNodes && o4.push(...Array.from(e.childNodes));
      }
    return true;
  }
  /**
   * Check if string contains html elements
   *
   * @param {string} str - string to check
   * @returns {boolean}
   */
  static isHTMLString(e) {
    const t = _d.make("div");
    return t.innerHTML = e, t.childElementCount > 0;
  }
  /**
   * Return length of node`s text content
   *
   * @param {Node} node - node with content
   * @returns {number}
   */
  static getContentLength(e) {
    return _d.isNativeInput(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : e.textContent.length;
  }
  /**
   * Return array of names of block html elements
   *
   * @returns {string[]}
   */
  static get blockElements() {
    return [
      "address",
      "article",
      "aside",
      "blockquote",
      "canvas",
      "div",
      "dl",
      "dt",
      "fieldset",
      "figcaption",
      "figure",
      "footer",
      "form",
      "h1",
      "h2",
      "h3",
      "h4",
      "h5",
      "h6",
      "header",
      "hgroup",
      "hr",
      "li",
      "main",
      "nav",
      "noscript",
      "ol",
      "output",
      "p",
      "pre",
      "ruby",
      "section",
      "table",
      "tbody",
      "thead",
      "tr",
      "tfoot",
      "ul",
      "video"
    ];
  }
  /**
   * Check if passed content includes only inline elements
   *
   * @param {string|HTMLElement} data - element or html string
   * @returns {boolean}
   */
  static containsOnlyInlineElements(e) {
    let t;
    Q(e) ? (t = document.createElement("div"), t.innerHTML = e) : t = e;
    const o4 = (i) => !_d.blockElements.includes(i.tagName.toLowerCase()) && Array.from(i.children).every(o4);
    return Array.from(t.children).every(o4);
  }
  /**
   * Find and return all block elements in the passed parent (including subtree)
   *
   * @param {HTMLElement} parent - root element
   * @returns {HTMLElement[]}
   */
  static getDeepestBlockElements(e) {
    return _d.containsOnlyInlineElements(e) ? [e] : Array.from(e.children).reduce((t, o4) => [...t, ..._d.getDeepestBlockElements(o4)], []);
  }
  /**
   * Helper for get holder from {string} or return HTMLElement
   *
   * @param {string | HTMLElement} element - holder's id or holder's HTML Element
   * @returns {HTMLElement}
   */
  static getHolder(e) {
    return Q(e) ? document.getElementById(e) : e;
  }
  /**
   * Returns true if element is anchor (is A tag)
   *
   * @param {Element} element - element to check
   * @returns {boolean}
   */
  static isAnchor(e) {
    return e.tagName.toLowerCase() === "a";
  }
  /**
   * Return element's offset related to the document
   *
   * @todo handle case when editor initialized in scrollable popup
   * @param el - element to compute offset
   */
  static offset(e) {
    const t = e.getBoundingClientRect(), o4 = window.pageXOffset || document.documentElement.scrollLeft, i = window.pageYOffset || document.documentElement.scrollTop, s4 = t.top + i, r3 = t.left + o4;
    return {
      top: s4,
      left: r3,
      bottom: s4 + t.height,
      right: r3 + t.width
    };
  }
};
function Lo(n2) {
  return !/[^\t\n\r ]/.test(n2);
}
function _o(n2) {
  const e = window.getComputedStyle(n2), t = parseFloat(e.fontSize), o4 = parseFloat(e.lineHeight) || t * 1.2, i = parseFloat(e.paddingTop), s4 = parseFloat(e.borderTopWidth), r3 = parseFloat(e.marginTop), l3 = t * 0.8, a6 = (o4 - t) / 2;
  return r3 + s4 + i + a6 + l3;
}
function Lt(n2) {
  n2.dataset.empty = d.isEmpty(n2) ? "true" : "false";
}
var No = {
  blockTunes: {
    toggler: {
      "Click to tune": "",
      "or drag to move": ""
    }
  },
  inlineToolbar: {
    converter: {
      "Convert to": ""
    }
  },
  toolbar: {
    toolbox: {
      Add: ""
    }
  },
  popover: {
    Filter: "",
    "Nothing found": "",
    "Convert to": ""
  }
};
var Po = {
  Text: "",
  Link: "",
  Bold: "",
  Italic: ""
};
var Do = {
  link: {
    "Add a link": ""
  },
  stub: {
    "The block can not be displayed correctly.": ""
  }
};
var Ro = {
  delete: {
    Delete: "",
    "Click to delete": ""
  },
  moveUp: {
    "Move up": ""
  },
  moveDown: {
    "Move down": ""
  }
};
var _t = {
  ui: No,
  toolNames: Po,
  tools: Do,
  blockTunes: Ro
};
var Nt = class ae {
  /**
   * Type-safe translation for internal UI texts:
   * Perform translation of the string by namespace and a key
   *
   * @example I18n.ui(I18nInternalNS.ui.blockTunes.toggler, 'Click to tune')
   * @param internalNamespace - path to translated string in dictionary
   * @param dictKey - dictionary key. Better to use default locale original text
   */
  static ui(e, t) {
    return ae._t(e, t);
  }
  /**
   * Translate for external strings that is not presented in default dictionary.
   * For example, for user-specified tool names
   *
   * @param namespace - path to translated string in dictionary
   * @param dictKey - dictionary key. Better to use default locale original text
   */
  static t(e, t) {
    return ae._t(e, t);
  }
  /**
   * Adjust module for using external dictionary
   *
   * @param dictionary - new messages list to override default
   */
  static setDictionary(e) {
    ae.currentDictionary = e;
  }
  /**
   * Perform translation both for internal and external namespaces
   * If there is no translation found, returns passed key as a translated message
   *
   * @param namespace - path to translated string in dictionary
   * @param dictKey - dictionary key. Better to use default locale original text
   */
  static _t(e, t) {
    const o4 = ae.getNamespace(e);
    return !o4 || !o4[t] ? t : o4[t];
  }
  /**
   * Find messages section by namespace path
   *
   * @param namespace - path to section
   */
  static getNamespace(e) {
    return e.split(".").reduce((o4, i) => !o4 || !Object.keys(o4).length ? {} : o4[i], ae.currentDictionary);
  }
};
Nt.currentDictionary = _t;
var z = Nt;
var Pt = class extends Error {
};
var Te = class {
  constructor() {
    this.subscribers = {};
  }
  /**
   * Subscribe any event on callback
   *
   * @param eventName - event name
   * @param callback - subscriber
   */
  on(e, t) {
    e in this.subscribers || (this.subscribers[e] = []), this.subscribers[e].push(t);
  }
  /**
   * Subscribe any event on callback. Callback will be called once and be removed from subscribers array after call.
   *
   * @param eventName - event name
   * @param callback - subscriber
   */
  once(e, t) {
    e in this.subscribers || (this.subscribers[e] = []);
    const o4 = (i) => {
      const s4 = t(i), r3 = this.subscribers[e].indexOf(o4);
      return r3 !== -1 && this.subscribers[e].splice(r3, 1), s4;
    };
    this.subscribers[e].push(o4);
  }
  /**
   * Emit callbacks with passed data
   *
   * @param eventName - event name
   * @param data - subscribers get this data when they were fired
   */
  emit(e, t) {
    V(this.subscribers) || !this.subscribers[e] || this.subscribers[e].reduce((o4, i) => {
      const s4 = i(o4);
      return s4 !== void 0 ? s4 : o4;
    }, t);
  }
  /**
   * Unsubscribe callback from event
   *
   * @param eventName - event name
   * @param callback - event handler
   */
  off(e, t) {
    if (this.subscribers[e] === void 0) {
      console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);
      return;
    }
    for (let o4 = 0; o4 < this.subscribers[e].length; o4++)
      if (this.subscribers[e][o4] === t) {
        delete this.subscribers[e][o4];
        break;
      }
  }
  /**
   * Destroyer
   * clears subscribers list
   */
  destroy() {
    this.subscribers = {};
  }
};
function G(n2) {
  Object.setPrototypeOf(this, {
    /**
     * Block id
     *
     * @returns {string}
     */
    get id() {
      return n2.id;
    },
    /**
     * Tool name
     *
     * @returns {string}
     */
    get name() {
      return n2.name;
    },
    /**
     * Tool config passed on Editor's initialization
     *
     * @returns {ToolConfig}
     */
    get config() {
      return n2.config;
    },
    /**
     * .ce-block element, that wraps plugin contents
     *
     * @returns {HTMLElement}
     */
    get holder() {
      return n2.holder;
    },
    /**
     * True if Block content is empty
     *
     * @returns {boolean}
     */
    get isEmpty() {
      return n2.isEmpty;
    },
    /**
     * True if Block is selected with Cross-Block selection
     *
     * @returns {boolean}
     */
    get selected() {
      return n2.selected;
    },
    /**
     * Set Block's stretch state
     *
     * @param {boolean} state — state to set
     */
    set stretched(t) {
      n2.stretched = t;
    },
    /**
     * True if Block is stretched
     *
     * @returns {boolean}
     */
    get stretched() {
      return n2.stretched;
    },
    /**
     * True if Block has inputs to be focused
     */
    get focusable() {
      return n2.focusable;
    },
    /**
     * Call Tool method with errors handler under-the-hood
     *
     * @param {string} methodName - method to call
     * @param {object} param - object with parameters
     * @returns {unknown}
     */
    call(t, o4) {
      return n2.call(t, o4);
    },
    /**
     * Save Block content
     *
     * @returns {Promise<void|SavedData>}
     */
    save() {
      return n2.save();
    },
    /**
     * Validate Block data
     *
     * @param {BlockToolData} data - data to validate
     * @returns {Promise<boolean>}
     */
    validate(t) {
      return n2.validate(t);
    },
    /**
     * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback
     * Can be useful for block changes invisible for editor core.
     */
    dispatchChange() {
      n2.dispatchChange();
    },
    /**
     * Tool could specify several entries to be displayed at the Toolbox (for example, "Heading 1", "Heading 2", "Heading 3")
     * This method returns the entry that is related to the Block (depended on the Block data)
     */
    getActiveToolboxEntry() {
      return n2.getActiveToolboxEntry();
    }
  });
}
var Ce = class {
  constructor() {
    this.allListeners = [];
  }
  /**
   * Assigns event listener on element and returns unique identifier
   *
   * @param {EventTarget} element - DOM element that needs to be listened
   * @param {string} eventType - event type
   * @param {Function} handler - method that will be fired on event
   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}
   */
  on(e, t, o4, i = false) {
    const s4 = Ao("l"), r3 = {
      id: s4,
      element: e,
      eventType: t,
      handler: o4,
      options: i
    };
    if (!this.findOne(e, t, o4))
      return this.allListeners.push(r3), e.addEventListener(t, o4, i), s4;
  }
  /**
   * Removes event listener from element
   *
   * @param {EventTarget} element - DOM element that we removing listener
   * @param {string} eventType - event type
   * @param {Function} handler - remove handler, if element listens several handlers on the same event type
   * @param {boolean|AddEventListenerOptions} options - useCapture or {capture, passive, once}
   */
  off(e, t, o4, i) {
    const s4 = this.findAll(e, t, o4);
    s4.forEach((r3, l3) => {
      const a6 = this.allListeners.indexOf(s4[l3]);
      a6 > -1 && (this.allListeners.splice(a6, 1), r3.element.removeEventListener(r3.eventType, r3.handler, r3.options));
    });
  }
  /**
   * Removes listener by id
   *
   * @param {string} id - listener identifier
   */
  offById(e) {
    const t = this.findById(e);
    t && t.element.removeEventListener(t.eventType, t.handler, t.options);
  }
  /**
   * Finds and returns first listener by passed params
   *
   * @param {EventTarget} element - event target
   * @param {string} [eventType] - event type
   * @param {Function} [handler] - event handler
   * @returns {ListenerData|null}
   */
  findOne(e, t, o4) {
    const i = this.findAll(e, t, o4);
    return i.length > 0 ? i[0] : null;
  }
  /**
   * Return all stored listeners by passed params
   *
   * @param {EventTarget} element - event target
   * @param {string} eventType - event type
   * @param {Function} handler - event handler
   * @returns {ListenerData[]}
   */
  findAll(e, t, o4) {
    let i;
    const s4 = e ? this.findByEventTarget(e) : [];
    return e && t && o4 ? i = s4.filter((r3) => r3.eventType === t && r3.handler === o4) : e && t ? i = s4.filter((r3) => r3.eventType === t) : i = s4, i;
  }
  /**
   * Removes all listeners
   */
  removeAll() {
    this.allListeners.map((e) => {
      e.element.removeEventListener(e.eventType, e.handler, e.options);
    }), this.allListeners = [];
  }
  /**
   * Module cleanup on destruction
   */
  destroy() {
    this.removeAll();
  }
  /**
   * Search method: looks for listener by passed element
   *
   * @param {EventTarget} element - searching element
   * @returns {Array} listeners that found on element
   */
  findByEventTarget(e) {
    return this.allListeners.filter((t) => {
      if (t.element === e)
        return t;
    });
  }
  /**
   * Search method: looks for listener by passed event type
   *
   * @param {string} eventType - event type
   * @returns {ListenerData[]} listeners that found on element
   */
  findByType(e) {
    return this.allListeners.filter((t) => {
      if (t.eventType === e)
        return t;
    });
  }
  /**
   * Search method: looks for listener by passed handler
   *
   * @param {Function} handler - event handler
   * @returns {ListenerData[]} listeners that found on element
   */
  findByHandler(e) {
    return this.allListeners.filter((t) => {
      if (t.handler === e)
        return t;
    });
  }
  /**
   * Returns listener data found by id
   *
   * @param {string} id - listener identifier
   * @returns {ListenerData}
   */
  findById(e) {
    return this.allListeners.find((t) => t.id === e);
  }
};
var y = class _y {
  /**
   * @class
   * @param options - Module options
   * @param options.config - Module config
   * @param options.eventsDispatcher - Common event bus
   */
  constructor({ config: e, eventsDispatcher: t }) {
    if (this.nodes = {}, this.listeners = new Ce(), this.readOnlyMutableListeners = {
      /**
       * Assigns event listener on DOM element and pushes into special array that might be removed
       *
       * @param {EventTarget} element - DOM Element
       * @param {string} eventType - Event name
       * @param {Function} handler - Event handler
       * @param {boolean|AddEventListenerOptions} options - Listening options
       */
      on: (o4, i, s4, r3 = false) => {
        this.mutableListenerIds.push(
          this.listeners.on(o4, i, s4, r3)
        );
      },
      /**
       * Clears all mutable listeners
       */
      clearAll: () => {
        for (const o4 of this.mutableListenerIds)
          this.listeners.offById(o4);
        this.mutableListenerIds = [];
      }
    }, this.mutableListenerIds = [], new.target === _y)
      throw new TypeError("Constructors for abstract class Module are not allowed.");
    this.config = e, this.eventsDispatcher = t;
  }
  /**
   * Editor modules setter
   *
   * @param {EditorModules} Editor - Editor's Modules
   */
  set state(e) {
    this.Editor = e;
  }
  /**
   * Remove memorized nodes
   */
  removeAllNodes() {
    for (const e in this.nodes) {
      const t = this.nodes[e];
      t instanceof HTMLElement && t.remove();
    }
  }
  /**
   * Returns true if current direction is RTL (Right-To-Left)
   */
  get isRtl() {
    return this.config.i18n.direction === "rtl";
  }
};
var b = class _b {
  constructor() {
    this.instance = null, this.selection = null, this.savedSelectionRange = null, this.isFakeBackgroundEnabled = false, this.commandBackground = "backColor", this.commandRemoveFormat = "removeFormat";
  }
  /**
   * Editor styles
   *
   * @returns {{editorWrapper: string, editorZone: string}}
   */
  static get CSS() {
    return {
      editorWrapper: "codex-editor",
      editorZone: "codex-editor__redactor"
    };
  }
  /**
   * Returns selected anchor
   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorNode}
   *
   * @returns {Node|null}
   */
  static get anchorNode() {
    const e = window.getSelection();
    return e ? e.anchorNode : null;
  }
  /**
   * Returns selected anchor element
   *
   * @returns {Element|null}
   */
  static get anchorElement() {
    const e = window.getSelection();
    if (!e)
      return null;
    const t = e.anchorNode;
    return t ? d.isElement(t) ? t : t.parentElement : null;
  }
  /**
   * Returns selection offset according to the anchor node
   * {@link https://developer.mozilla.org/ru/docs/Web/API/Selection/anchorOffset}
   *
   * @returns {number|null}
   */
  static get anchorOffset() {
    const e = window.getSelection();
    return e ? e.anchorOffset : null;
  }
  /**
   * Is current selection range collapsed
   *
   * @returns {boolean|null}
   */
  static get isCollapsed() {
    const e = window.getSelection();
    return e ? e.isCollapsed : null;
  }
  /**
   * Check current selection if it is at Editor's zone
   *
   * @returns {boolean}
   */
  static get isAtEditor() {
    return this.isSelectionAtEditor(_b.get());
  }
  /**
   * Check if passed selection is at Editor's zone
   *
   * @param selection - Selection object to check
   */
  static isSelectionAtEditor(e) {
    if (!e)
      return false;
    let t = e.anchorNode || e.focusNode;
    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
    let o4 = null;
    return t && t instanceof Element && (o4 = t.closest(`.${_b.CSS.editorZone}`)), o4 ? o4.nodeType === Node.ELEMENT_NODE : false;
  }
  /**
   * Check if passed range at Editor zone
   *
   * @param range - range to check
   */
  static isRangeAtEditor(e) {
    if (!e)
      return;
    let t = e.startContainer;
    t && t.nodeType === Node.TEXT_NODE && (t = t.parentNode);
    let o4 = null;
    return t && t instanceof Element && (o4 = t.closest(`.${_b.CSS.editorZone}`)), o4 ? o4.nodeType === Node.ELEMENT_NODE : false;
  }
  /**
   * Methods return boolean that true if selection exists on the page
   */
  static get isSelectionExists() {
    return !!_b.get().anchorNode;
  }
  /**
   * Return first range
   *
   * @returns {Range|null}
   */
  static get range() {
    return this.getRangeFromSelection(this.get());
  }
  /**
   * Returns range from passed Selection object
   *
   * @param selection - Selection object to get Range from
   */
  static getRangeFromSelection(e) {
    return e && e.rangeCount ? e.getRangeAt(0) : null;
  }
  /**
   * Calculates position and size of selected text
   *
   * @returns {DOMRect | ClientRect}
   */
  static get rect() {
    let e = document.selection, t, o4 = {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    };
    if (e && e.type !== "Control")
      return e = e, t = e.createRange(), o4.x = t.boundingLeft, o4.y = t.boundingTop, o4.width = t.boundingWidth, o4.height = t.boundingHeight, o4;
    if (!window.getSelection)
      return I("Method window.getSelection is not supported", "warn"), o4;
    if (e = window.getSelection(), e.rangeCount === null || isNaN(e.rangeCount))
      return I("Method SelectionUtils.rangeCount is not supported", "warn"), o4;
    if (e.rangeCount === 0)
      return o4;
    if (t = e.getRangeAt(0).cloneRange(), t.getBoundingClientRect && (o4 = t.getBoundingClientRect()), o4.x === 0 && o4.y === 0) {
      const i = document.createElement("span");
      if (i.getBoundingClientRect) {
        i.appendChild(document.createTextNode("\u200B")), t.insertNode(i), o4 = i.getBoundingClientRect();
        const s4 = i.parentNode;
        s4.removeChild(i), s4.normalize();
      }
    }
    return o4;
  }
  /**
   * Returns selected text as String
   *
   * @returns {string}
   */
  static get text() {
    return window.getSelection ? window.getSelection().toString() : "";
  }
  /**
   * Returns window SelectionUtils
   * {@link https://developer.mozilla.org/ru/docs/Web/API/Window/getSelection}
   *
   * @returns {Selection}
   */
  static get() {
    return window.getSelection();
  }
  /**
   * Set focus to contenteditable or native input element
   *
   * @param element - element where to set focus
   * @param offset - offset of cursor
   */
  static setCursor(e, t = 0) {
    const o4 = document.createRange(), i = window.getSelection();
    return d.isNativeInput(e) ? d.canSetCaret(e) ? (e.focus(), e.selectionStart = e.selectionEnd = t, e.getBoundingClientRect()) : void 0 : (o4.setStart(e, t), o4.setEnd(e, t), i.removeAllRanges(), i.addRange(o4), o4.getBoundingClientRect());
  }
  /**
   * Check if current range exists and belongs to container
   *
   * @param container - where range should be
   */
  static isRangeInsideContainer(e) {
    const t = _b.range;
    return t === null ? false : e.contains(t.startContainer);
  }
  /**
   * Adds fake cursor to the current range
   */
  static addFakeCursor() {
    const e = _b.range;
    if (e === null)
      return;
    const t = d.make("span", "codex-editor__fake-cursor");
    t.dataset.mutationFree = "true", e.collapse(), e.insertNode(t);
  }
  /**
   * Check if passed element contains a fake cursor
   *
   * @param el - where to check
   */
  static isFakeCursorInsideContainer(e) {
    return d.find(e, ".codex-editor__fake-cursor") !== null;
  }
  /**
   * Removes fake cursor from a container
   *
   * @param container - container to look for
   */
  static removeFakeCursor(e = document.body) {
    const t = d.find(e, ".codex-editor__fake-cursor");
    t && t.remove();
  }
  /**
   * Removes fake background
   */
  removeFakeBackground() {
    this.isFakeBackgroundEnabled && (this.isFakeBackgroundEnabled = false, document.execCommand(this.commandRemoveFormat));
  }
  /**
   * Sets fake background
   */
  setFakeBackground() {
    document.execCommand(this.commandBackground, false, "#a8d6ff"), this.isFakeBackgroundEnabled = true;
  }
  /**
   * Save SelectionUtils's range
   */
  save() {
    this.savedSelectionRange = _b.range;
  }
  /**
   * Restore saved SelectionUtils's range
   */
  restore() {
    if (!this.savedSelectionRange)
      return;
    const e = window.getSelection();
    e.removeAllRanges(), e.addRange(this.savedSelectionRange);
  }
  /**
   * Clears saved selection
   */
  clearSaved() {
    this.savedSelectionRange = null;
  }
  /**
   * Collapse current selection
   */
  collapseToEnd() {
    const e = window.getSelection(), t = document.createRange();
    t.selectNodeContents(e.focusNode), t.collapse(false), e.removeAllRanges(), e.addRange(t);
  }
  /**
   * Looks ahead to find passed tag from current selection
   *
   * @param  {string} tagName       - tag to found
   * @param  {string} [className]   - tag's class name
   * @param  {number} [searchDepth] - count of tags that can be included. For better performance.
   * @returns {HTMLElement|null}
   */
  findParentTag(e, t, o4 = 10) {
    const i = window.getSelection();
    let s4 = null;
    return !i || !i.anchorNode || !i.focusNode ? null : ([
      /** the Node in which the selection begins */
      i.anchorNode,
      /** the Node in which the selection ends */
      i.focusNode
    ].forEach((l3) => {
      let a6 = o4;
      for (; a6 > 0 && l3.parentNode && !(l3.tagName === e && (s4 = l3, t && l3.classList && !l3.classList.contains(t) && (s4 = null), s4)); )
        l3 = l3.parentNode, a6--;
    }), s4);
  }
  /**
   * Expands selection range to the passed parent node
   *
   * @param {HTMLElement} element - element which contents should be selected
   */
  expandToTag(e) {
    const t = window.getSelection();
    t.removeAllRanges();
    const o4 = document.createRange();
    o4.selectNodeContents(e), t.addRange(o4);
  }
};
function Fo(n2, e) {
  const { type: t, target: o4, addedNodes: i, removedNodes: s4 } = n2;
  return n2.type === "attributes" && n2.attributeName === "data-empty" ? false : !!(e.contains(o4) || t === "childList" && (Array.from(i).some((a6) => a6 === e) || Array.from(s4).some((a6) => a6 === e)));
}
var Je = "redactor dom changed";
var Dt = "block changed";
var Rt = "fake cursor is about to be toggled";
var Ft = "fake cursor have been set";
var ye = "editor mobile layout toggled";
function Qe(n2, e) {
  if (!n2.conversionConfig)
    return false;
  const t = n2.conversionConfig[e];
  return O(t) || Q(t);
}
function _e(n2, e) {
  return Qe(n2.tool, e);
}
function Ht(n2, e) {
  return Object.entries(n2).some(([t, o4]) => e[t] && Oo(e[t], o4));
}
async function zt(n2, e) {
  const o4 = (await n2.save()).data, i = e.find((s4) => s4.name === n2.name);
  return i !== void 0 && !Qe(i, "export") ? [] : e.reduce((s4, r3) => {
    if (!Qe(r3, "import") || r3.toolbox === void 0)
      return s4;
    const l3 = r3.toolbox.filter((a6) => {
      if (V(a6) || a6.icon === void 0)
        return false;
      if (a6.data !== void 0) {
        if (Ht(a6.data, o4))
          return false;
      } else if (r3.name === n2.name)
        return false;
      return true;
    });
    return s4.push({
      ...r3,
      toolbox: l3
    }), s4;
  }, []);
}
function wt(n2, e) {
  return n2.mergeable ? n2.name === e.name ? true : _e(e, "export") && _e(n2, "import") : false;
}
function Ho(n2, e) {
  const t = e == null ? void 0 : e.export;
  return O(t) ? t(n2) : Q(t) ? n2[t] : (t !== void 0 && I("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."), "");
}
function xt(n2, e) {
  const t = e == null ? void 0 : e.import;
  return O(t) ? t(n2) : Q(t) ? {
    [t]: n2
  } : (t !== void 0 && I("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."), {});
}
var A = /* @__PURE__ */ ((n2) => (n2.Default = "default", n2.Separator = "separator", n2.Html = "html", n2))(A || {});
var J = /* @__PURE__ */ ((n2) => (n2.APPEND_CALLBACK = "appendCallback", n2.RENDERED = "rendered", n2.MOVED = "moved", n2.UPDATED = "updated", n2.REMOVED = "removed", n2.ON_PASTE = "onPaste", n2))(J || {});
var D = class _D extends Te {
  /**
   * @param options - block constructor options
   * @param [options.id] - block's id. Will be generated if omitted.
   * @param options.data - Tool's initial data
   * @param options.tool — block's tool
   * @param options.api - Editor API module for pass it to the Block Tunes
   * @param options.readOnly - Read-Only flag
   * @param [eventBus] - Editor common event bus. Allows to subscribe on some Editor events. Could be omitted when "virtual" Block is created. See BlocksAPI@composeBlockData.
   */
  constructor({
    id: e = Io(),
    data: t,
    tool: o4,
    readOnly: i,
    tunesData: s4
  }, r3) {
    super(), this.cachedInputs = [], this.toolRenderedElement = null, this.tunesInstances = /* @__PURE__ */ new Map(), this.defaultTunesInstances = /* @__PURE__ */ new Map(), this.unavailableTunesData = {}, this.inputIndex = 0, this.editorEventBus = null, this.handleFocus = () => {
      this.dropInputsCache(), this.updateCurrentInput();
    }, this.didMutated = (l3 = void 0) => {
      const a6 = l3 === void 0, c2 = l3 instanceof InputEvent;
      !a6 && !c2 && this.detectToolRootChange(l3);
      let u2;
      a6 || c2 ? u2 = true : u2 = !(l3.length > 0 && l3.every((p2) => {
        const { addedNodes: g4, removedNodes: f2, target: k3 } = p2;
        return [
          ...Array.from(g4),
          ...Array.from(f2),
          k3
        ].some((S4) => (d.isElement(S4) || (S4 = S4.parentElement), S4 && S4.closest('[data-mutation-free="true"]') !== null));
      })), u2 && (this.dropInputsCache(), this.updateCurrentInput(), this.toggleInputsEmptyMark(), this.call(
        "updated"
        /* UPDATED */
      ), this.emit("didMutated", this));
    }, this.name = o4.name, this.id = e, this.settings = o4.settings, this.config = o4.settings.config || {}, this.editorEventBus = r3 || null, this.blockAPI = new G(this), this.tool = o4, this.toolInstance = o4.create(t, this.blockAPI, i), this.tunes = o4.tunes, this.composeTunes(s4), this.holder = this.compose(), window.requestIdleCallback(() => {
      this.watchBlockMutations(), this.addInputEvents(), this.toggleInputsEmptyMark();
    });
  }
  /**
   * CSS classes for the Block
   *
   * @returns {{wrapper: string, content: string}}
   */
  static get CSS() {
    return {
      wrapper: "ce-block",
      wrapperStretched: "ce-block--stretched",
      content: "ce-block__content",
      selected: "ce-block--selected",
      dropTarget: "ce-block--drop-target"
    };
  }
  /**
   * Find and return all editable elements (contenteditable and native inputs) in the Tool HTML
   */
  get inputs() {
    if (this.cachedInputs.length !== 0)
      return this.cachedInputs;
    const e = d.findAllInputs(this.holder);
    return this.inputIndex > e.length - 1 && (this.inputIndex = e.length - 1), this.cachedInputs = e, e;
  }
  /**
   * Return current Tool`s input
   * If Block doesn't contain inputs, return undefined
   */
  get currentInput() {
    return this.inputs[this.inputIndex];
  }
  /**
   * Set input index to the passed element
   *
   * @param element - HTML Element to set as current input
   */
  set currentInput(e) {
    const t = this.inputs.findIndex((o4) => o4 === e || o4.contains(e));
    t !== -1 && (this.inputIndex = t);
  }
  /**
   * Return first Tool`s input
   * If Block doesn't contain inputs, return undefined
   */
  get firstInput() {
    return this.inputs[0];
  }
  /**
   * Return first Tool`s input
   * If Block doesn't contain inputs, return undefined
   */
  get lastInput() {
    const e = this.inputs;
    return e[e.length - 1];
  }
  /**
   * Return next Tool`s input or undefined if it doesn't exist
   * If Block doesn't contain inputs, return undefined
   */
  get nextInput() {
    return this.inputs[this.inputIndex + 1];
  }
  /**
   * Return previous Tool`s input or undefined if it doesn't exist
   * If Block doesn't contain inputs, return undefined
   */
  get previousInput() {
    return this.inputs[this.inputIndex - 1];
  }
  /**
   * Get Block's JSON data
   *
   * @returns {object}
   */
  get data() {
    return this.save().then((e) => e && !V(e.data) ? e.data : {});
  }
  /**
   * Returns tool's sanitizer config
   *
   * @returns {object}
   */
  get sanitize() {
    return this.tool.sanitizeConfig;
  }
  /**
   * is block mergeable
   * We plugin have merge function then we call it mergeable
   *
   * @returns {boolean}
   */
  get mergeable() {
    return O(this.toolInstance.merge);
  }
  /**
   * If Block contains inputs, it is focusable
   */
  get focusable() {
    return this.inputs.length !== 0;
  }
  /**
   * Check block for emptiness
   *
   * @returns {boolean}
   */
  get isEmpty() {
    const e = d.isEmpty(this.pluginsContent, "/"), t = !this.hasMedia;
    return e && t;
  }
  /**
   * Check if block has a media content such as images, iframe and other
   *
   * @returns {boolean}
   */
  get hasMedia() {
    const e = [
      "img",
      "iframe",
      "video",
      "audio",
      "source",
      "input",
      "textarea",
      "twitterwidget"
    ];
    return !!this.holder.querySelector(e.join(","));
  }
  /**
   * Set selected state
   * We don't need to mark Block as Selected when it is empty
   *
   * @param {boolean} state - 'true' to select, 'false' to remove selection
   */
  set selected(e) {
    var i, s4;
    this.holder.classList.toggle(_D.CSS.selected, e);
    const t = e === true && b.isRangeInsideContainer(this.holder), o4 = e === false && b.isFakeCursorInsideContainer(this.holder);
    (t || o4) && ((i = this.editorEventBus) == null || i.emit(Rt, { state: e }), t ? b.addFakeCursor() : b.removeFakeCursor(this.holder), (s4 = this.editorEventBus) == null || s4.emit(Ft, { state: e }));
  }
  /**
   * Returns True if it is Selected
   *
   * @returns {boolean}
   */
  get selected() {
    return this.holder.classList.contains(_D.CSS.selected);
  }
  /**
   * Set stretched state
   *
   * @param {boolean} state - 'true' to enable, 'false' to disable stretched state
   */
  set stretched(e) {
    this.holder.classList.toggle(_D.CSS.wrapperStretched, e);
  }
  /**
   * Return Block's stretched state
   *
   * @returns {boolean}
   */
  get stretched() {
    return this.holder.classList.contains(_D.CSS.wrapperStretched);
  }
  /**
   * Toggle drop target state
   *
   * @param {boolean} state - 'true' if block is drop target, false otherwise
   */
  set dropTarget(e) {
    this.holder.classList.toggle(_D.CSS.dropTarget, e);
  }
  /**
   * Returns Plugins content
   *
   * @returns {HTMLElement}
   */
  get pluginsContent() {
    return this.toolRenderedElement;
  }
  /**
   * Calls Tool's method
   *
   * Method checks tool property {MethodName}. Fires method with passes params If it is instance of Function
   *
   * @param {string} methodName - method to call
   * @param {object} params - method argument
   */
  call(e, t) {
    if (O(this.toolInstance[e])) {
      e === "appendCallback" && I(
        "`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead",
        "warn"
      );
      try {
        this.toolInstance[e].call(this.toolInstance, t);
      } catch (o4) {
        I(`Error during '${e}' call: ${o4.message}`, "error");
      }
    }
  }
  /**
   * Call plugins merge method
   *
   * @param {BlockToolData} data - data to merge
   */
  async mergeWith(e) {
    await this.toolInstance.merge(e);
  }
  /**
   * Extracts data from Block
   * Groups Tool's save processing time
   *
   * @returns {object}
   */
  async save() {
    const e = await this.toolInstance.save(this.pluginsContent), t = this.unavailableTunesData;
    [
      ...this.tunesInstances.entries(),
      ...this.defaultTunesInstances.entries()
    ].forEach(([s4, r3]) => {
      if (O(r3.save))
        try {
          t[s4] = r3.save();
        } catch (l3) {
          I(`Tune ${r3.constructor.name} save method throws an Error %o`, "warn", l3);
        }
    });
    const o4 = window.performance.now();
    let i;
    return Promise.resolve(e).then((s4) => (i = window.performance.now(), {
      id: this.id,
      tool: this.name,
      data: s4,
      tunes: t,
      time: i - o4
    })).catch((s4) => {
      I(`Saving process for ${this.name} tool failed due to the ${s4}`, "log", "red");
    });
  }
  /**
   * Uses Tool's validation method to check the correctness of output data
   * Tool's validation method is optional
   *
   * @description Method returns true|false whether data passed the validation or not
   * @param {BlockToolData} data - data to validate
   * @returns {Promise<boolean>} valid
   */
  async validate(e) {
    let t = true;
    return this.toolInstance.validate instanceof Function && (t = await this.toolInstance.validate(e)), t;
  }
  /**
   * Returns data to render in Block Tunes menu.
   * Splits block tunes into 2 groups: block specific tunes and common tunes
   */
  getTunes() {
    const e = [], t = [], o4 = typeof this.toolInstance.renderSettings == "function" ? this.toolInstance.renderSettings() : [];
    return d.isElement(o4) ? e.push({
      type: A.Html,
      element: o4
    }) : Array.isArray(o4) ? e.push(...o4) : e.push(o4), [
      ...this.tunesInstances.values(),
      ...this.defaultTunesInstances.values()
    ].map((s4) => s4.render()).forEach((s4) => {
      d.isElement(s4) ? t.push({
        type: A.Html,
        element: s4
      }) : Array.isArray(s4) ? t.push(...s4) : t.push(s4);
    }), {
      toolTunes: e,
      commonTunes: t
    };
  }
  /**
   * Update current input index with selection anchor node
   */
  updateCurrentInput() {
    this.currentInput = d.isNativeInput(document.activeElement) || !b.anchorNode ? document.activeElement : b.anchorNode;
  }
  /**
   * Allows to say Editor that Block was changed. Used to manually trigger Editor's 'onChange' callback
   * Can be useful for block changes invisible for editor core.
   */
  dispatchChange() {
    this.didMutated();
  }
  /**
   * Call Tool instance destroy method
   */
  destroy() {
    this.unwatchBlockMutations(), this.removeInputEvents(), super.destroy(), O(this.toolInstance.destroy) && this.toolInstance.destroy();
  }
  /**
   * Tool could specify several entries to be displayed at the Toolbox (for example, "Heading 1", "Heading 2", "Heading 3")
   * This method returns the entry that is related to the Block (depended on the Block data)
   */
  async getActiveToolboxEntry() {
    const e = this.tool.toolbox;
    if (e.length === 1)
      return Promise.resolve(this.tool.toolbox[0]);
    const t = await this.data, o4 = e;
    return o4 == null ? void 0 : o4.find((i) => Ht(i.data, t));
  }
  /**
   * Exports Block data as string using conversion config
   */
  async exportDataAsString() {
    const e = await this.data;
    return Ho(e, this.tool.conversionConfig);
  }
  /**
   * Make default Block wrappers and put Tool`s content there
   *
   * @returns {HTMLDivElement}
   */
  compose() {
    const e = d.make("div", _D.CSS.wrapper), t = d.make("div", _D.CSS.content), o4 = this.toolInstance.render();
    e.dataset.id = this.id, this.toolRenderedElement = o4, t.appendChild(this.toolRenderedElement);
    let i = t;
    return [...this.tunesInstances.values(), ...this.defaultTunesInstances.values()].forEach((s4) => {
      if (O(s4.wrap))
        try {
          i = s4.wrap(i);
        } catch (r3) {
          I(`Tune ${s4.constructor.name} wrap method throws an Error %o`, "warn", r3);
        }
    }), e.appendChild(i), e;
  }
  /**
   * Instantiate Block Tunes
   *
   * @param tunesData - current Block tunes data
   * @private
   */
  composeTunes(e) {
    Array.from(this.tunes.values()).forEach((t) => {
      (t.isInternal ? this.defaultTunesInstances : this.tunesInstances).set(t.name, t.create(e[t.name], this.blockAPI));
    }), Object.entries(e).forEach(([t, o4]) => {
      this.tunesInstances.has(t) || (this.unavailableTunesData[t] = o4);
    });
  }
  /**
   * Adds focus event listeners to all inputs and contenteditable
   */
  addInputEvents() {
    this.inputs.forEach((e) => {
      e.addEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.addEventListener("input", this.didMutated);
    });
  }
  /**
   * removes focus event listeners from all inputs and contenteditable
   */
  removeInputEvents() {
    this.inputs.forEach((e) => {
      e.removeEventListener("focus", this.handleFocus), d.isNativeInput(e) && e.removeEventListener("input", this.didMutated);
    });
  }
  /**
   * Listen common editor Dom Changed event and detect mutations related to the  Block
   */
  watchBlockMutations() {
    var e;
    this.redactorDomChangedCallback = (t) => {
      const { mutations: o4 } = t;
      o4.some((s4) => Fo(s4, this.toolRenderedElement)) && this.didMutated(o4);
    }, (e = this.editorEventBus) == null || e.on(Je, this.redactorDomChangedCallback);
  }
  /**
   * Remove redactor dom change event listener
   */
  unwatchBlockMutations() {
    var e;
    (e = this.editorEventBus) == null || e.off(Je, this.redactorDomChangedCallback);
  }
  /**
   * Sometimes Tool can replace own main element, for example H2 -> H4 or UL -> OL
   * We need to detect such changes and update a link to tools main element with the new one
   *
   * @param mutations - records of block content mutations
   */
  detectToolRootChange(e) {
    e.forEach((t) => {
      if (Array.from(t.removedNodes).includes(this.toolRenderedElement)) {
        const i = t.addedNodes[t.addedNodes.length - 1];
        this.toolRenderedElement = i;
      }
    });
  }
  /**
   * Clears inputs cached value
   */
  dropInputsCache() {
    this.cachedInputs = [];
  }
  /**
   * Mark inputs with 'data-empty' attribute with the empty state
   */
  toggleInputsEmptyMark() {
    this.inputs.forEach(Lt);
  }
};
var zo = class extends y {
  constructor() {
    super(...arguments), this.insert = (e = this.config.defaultBlock, t = {}, o4 = {}, i, s4, r3, l3) => {
      const a6 = this.Editor.BlockManager.insert({
        id: l3,
        tool: e,
        data: t,
        index: i,
        needToFocus: s4,
        replace: r3
      });
      return new G(a6);
    }, this.composeBlockData = async (e) => {
      const t = this.Editor.Tools.blockTools.get(e);
      return new D({
        tool: t,
        api: this.Editor.API,
        readOnly: true,
        data: {},
        tunesData: {}
      }).data;
    }, this.update = async (e, t, o4) => {
      const { BlockManager: i } = this.Editor, s4 = i.getBlockById(e);
      if (s4 === void 0)
        throw new Error(`Block with id "${e}" not found`);
      const r3 = await i.update(s4, t, o4);
      return new G(r3);
    }, this.convert = async (e, t, o4) => {
      var h4, p2;
      const { BlockManager: i, Tools: s4 } = this.Editor, r3 = i.getBlockById(e);
      if (!r3)
        throw new Error(`Block with id "${e}" not found`);
      const l3 = s4.blockTools.get(r3.name), a6 = s4.blockTools.get(t);
      if (!a6)
        throw new Error(`Block Tool with type "${t}" not found`);
      const c2 = ((h4 = l3 == null ? void 0 : l3.conversionConfig) == null ? void 0 : h4.export) !== void 0, u2 = ((p2 = a6.conversionConfig) == null ? void 0 : p2.import) !== void 0;
      if (c2 && u2) {
        const g4 = await i.convert(r3, t, o4);
        return new G(g4);
      } else {
        const g4 = [
          c2 ? false : Le(r3.name),
          u2 ? false : Le(t)
        ].filter(Boolean).join(" and ");
        throw new Error(`Conversion from "${r3.name}" to "${t}" is not possible. ${g4} tool(s) should provide a "conversionConfig"`);
      }
    }, this.insertMany = (e, t = this.Editor.BlockManager.blocks.length - 1) => {
      this.validateIndex(t);
      const o4 = e.map(({ id: i, type: s4, data: r3 }) => this.Editor.BlockManager.composeBlock({
        id: i,
        tool: s4 || this.config.defaultBlock,
        data: r3
      }));
      return this.Editor.BlockManager.insertMany(o4, t), o4.map((i) => new G(i));
    };
  }
  /**
   * Available methods
   *
   * @returns {Blocks}
   */
  get methods() {
    return {
      clear: () => this.clear(),
      render: (e) => this.render(e),
      renderFromHTML: (e) => this.renderFromHTML(e),
      delete: (e) => this.delete(e),
      swap: (e, t) => this.swap(e, t),
      move: (e, t) => this.move(e, t),
      getBlockByIndex: (e) => this.getBlockByIndex(e),
      getById: (e) => this.getById(e),
      getCurrentBlockIndex: () => this.getCurrentBlockIndex(),
      getBlockIndex: (e) => this.getBlockIndex(e),
      getBlocksCount: () => this.getBlocksCount(),
      getBlockByElement: (e) => this.getBlockByElement(e),
      stretchBlock: (e, t = true) => this.stretchBlock(e, t),
      insertNewBlock: () => this.insertNewBlock(),
      insert: this.insert,
      insertMany: this.insertMany,
      update: this.update,
      composeBlockData: this.composeBlockData,
      convert: this.convert
    };
  }
  /**
   * Returns Blocks count
   *
   * @returns {number}
   */
  getBlocksCount() {
    return this.Editor.BlockManager.blocks.length;
  }
  /**
   * Returns current block index
   *
   * @returns {number}
   */
  getCurrentBlockIndex() {
    return this.Editor.BlockManager.currentBlockIndex;
  }
  /**
   * Returns the index of Block by id;
   *
   * @param id - block id
   */
  getBlockIndex(e) {
    const t = this.Editor.BlockManager.getBlockById(e);
    if (!t) {
      X("There is no block with id `" + e + "`", "warn");
      return;
    }
    return this.Editor.BlockManager.getBlockIndex(t);
  }
  /**
   * Returns BlockAPI object by Block index
   *
   * @param {number} index - index to get
   */
  getBlockByIndex(e) {
    const t = this.Editor.BlockManager.getBlockByIndex(e);
    if (t === void 0) {
      X("There is no block at index `" + e + "`", "warn");
      return;
    }
    return new G(t);
  }
  /**
   * Returns BlockAPI object by Block id
   *
   * @param id - id of block to get
   */
  getById(e) {
    const t = this.Editor.BlockManager.getBlockById(e);
    return t === void 0 ? (X("There is no block with id `" + e + "`", "warn"), null) : new G(t);
  }
  /**
   * Get Block API object by any child html element
   *
   * @param element - html element to get Block by
   */
  getBlockByElement(e) {
    const t = this.Editor.BlockManager.getBlock(e);
    if (t === void 0) {
      X("There is no block corresponding to element `" + e + "`", "warn");
      return;
    }
    return new G(t);
  }
  /**
   * Call Block Manager method that swap Blocks
   *
   * @param {number} fromIndex - position of first Block
   * @param {number} toIndex - position of second Block
   * @deprecated — use 'move' instead
   */
  swap(e, t) {
    I(
      "`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead",
      "info"
    ), this.Editor.BlockManager.swap(e, t);
  }
  /**
   * Move block from one index to another
   *
   * @param {number} toIndex - index to move to
   * @param {number} fromIndex - index to move from
   */
  move(e, t) {
    this.Editor.BlockManager.move(e, t);
  }
  /**
   * Deletes Block
   *
   * @param {number} blockIndex - index of Block to delete
   */
  delete(e = this.Editor.BlockManager.currentBlockIndex) {
    try {
      const t = this.Editor.BlockManager.getBlockByIndex(e);
      this.Editor.BlockManager.removeBlock(t);
    } catch (t) {
      X(t, "warn");
      return;
    }
    this.Editor.BlockManager.blocks.length === 0 && this.Editor.BlockManager.insert(), this.Editor.BlockManager.currentBlock && this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END), this.Editor.Toolbar.close();
  }
  /**
   * Clear Editor's area
   */
  async clear() {
    await this.Editor.BlockManager.clear(true), this.Editor.InlineToolbar.close();
  }
  /**
   * Fills Editor with Blocks data
   *
   * @param {OutputData} data — Saved Editor data
   */
  async render(e) {
    if (e === void 0 || e.blocks === void 0)
      throw new Error("Incorrect data passed to the render() method");
    this.Editor.ModificationsObserver.disable(), await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(e.blocks), this.Editor.ModificationsObserver.enable();
  }
  /**
   * Render passed HTML string
   *
   * @param {string} data - HTML string to render
   * @returns {Promise<void>}
   */
  renderFromHTML(e) {
    return this.Editor.BlockManager.clear(), this.Editor.Paste.processText(e, true);
  }
  /**
   * Stretch Block's content
   *
   * @param {number} index - index of Block to stretch
   * @param {boolean} status - true to enable, false to disable
   * @deprecated Use BlockAPI interface to stretch Blocks
   */
  stretchBlock(e, t = true) {
    Ze(
      true,
      "blocks.stretchBlock()",
      "BlockAPI"
    );
    const o4 = this.Editor.BlockManager.getBlockByIndex(e);
    o4 && (o4.stretched = t);
  }
  /**
   * Insert new Block
   * After set caret to this Block
   *
   * @todo remove in 3.0.0
   * @deprecated with insert() method
   */
  insertNewBlock() {
    I("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.", "warn"), this.insert();
  }
  /**
   * Validated block index and throws an error if it's invalid
   *
   * @param index - index to validate
   */
  validateIndex(e) {
    if (typeof e != "number")
      throw new Error("Index should be a number");
    if (e < 0)
      throw new Error("Index should be greater than or equal to 0");
    if (e === null)
      throw new Error("Index should be greater than or equal to 0");
  }
};
function Uo(n2, e) {
  return typeof n2 == "number" ? e.BlockManager.getBlockByIndex(n2) : typeof n2 == "string" ? e.BlockManager.getBlockById(n2) : e.BlockManager.getBlockById(n2.id);
}
var jo = class extends y {
  constructor() {
    super(...arguments), this.setToFirstBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.firstBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock, e, t), true) : false, this.setToLastBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.lastBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock, e, t), true) : false, this.setToPreviousBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.previousBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock, e, t), true) : false, this.setToNextBlock = (e = this.Editor.Caret.positions.DEFAULT, t = 0) => this.Editor.BlockManager.nextBlock ? (this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock, e, t), true) : false, this.setToBlock = (e, t = this.Editor.Caret.positions.DEFAULT, o4 = 0) => {
      const i = Uo(e, this.Editor);
      return i === void 0 ? false : (this.Editor.Caret.setToBlock(i, t, o4), true);
    }, this.focus = (e = false) => e ? this.setToLastBlock(this.Editor.Caret.positions.END) : this.setToFirstBlock(this.Editor.Caret.positions.START);
  }
  /**
   * Available methods
   *
   * @returns {Caret}
   */
  get methods() {
    return {
      setToFirstBlock: this.setToFirstBlock,
      setToLastBlock: this.setToLastBlock,
      setToPreviousBlock: this.setToPreviousBlock,
      setToNextBlock: this.setToNextBlock,
      setToBlock: this.setToBlock,
      focus: this.focus
    };
  }
};
var $o = class extends y {
  /**
   * Available methods
   *
   * @returns {Events}
   */
  get methods() {
    return {
      emit: (e, t) => this.emit(e, t),
      off: (e, t) => this.off(e, t),
      on: (e, t) => this.on(e, t)
    };
  }
  /**
   * Subscribe on Events
   *
   * @param {string} eventName - event name to subscribe
   * @param {Function} callback - event handler
   */
  on(e, t) {
    this.eventsDispatcher.on(e, t);
  }
  /**
   * Emit event with data
   *
   * @param {string} eventName - event to emit
   * @param {object} data - event's data
   */
  emit(e, t) {
    this.eventsDispatcher.emit(e, t);
  }
  /**
   * Unsubscribe from Event
   *
   * @param {string} eventName - event to unsubscribe
   * @param {Function} callback - event handler
   */
  off(e, t) {
    this.eventsDispatcher.off(e, t);
  }
};
var ot = class _ot extends y {
  /**
   * Return namespace section for tool or block tune
   *
   * @param toolName - tool name
   * @param isTune - is tool a block tune
   */
  static getNamespace(e, t) {
    return t ? `blockTunes.${e}` : `tools.${e}`;
  }
  /**
   * Return I18n API methods with global dictionary access
   */
  get methods() {
    return {
      t: () => {
        X("I18n.t() method can be accessed only from Tools", "warn");
      }
    };
  }
  /**
   * Return I18n API methods with tool namespaced dictionary
   *
   * @param toolName - tool name
   * @param isTune - is tool a block tune
   */
  getMethodsForTool(e, t) {
    return Object.assign(
      this.methods,
      {
        t: (o4) => z.t(_ot.getNamespace(e, t), o4)
      }
    );
  }
};
var Yo = class extends y {
  /**
   * Editor.js Core API modules
   */
  get methods() {
    return {
      blocks: this.Editor.BlocksAPI.methods,
      caret: this.Editor.CaretAPI.methods,
      tools: this.Editor.ToolsAPI.methods,
      events: this.Editor.EventsAPI.methods,
      listeners: this.Editor.ListenersAPI.methods,
      notifier: this.Editor.NotifierAPI.methods,
      sanitizer: this.Editor.SanitizerAPI.methods,
      saver: this.Editor.SaverAPI.methods,
      selection: this.Editor.SelectionAPI.methods,
      styles: this.Editor.StylesAPI.classes,
      toolbar: this.Editor.ToolbarAPI.methods,
      inlineToolbar: this.Editor.InlineToolbarAPI.methods,
      tooltip: this.Editor.TooltipAPI.methods,
      i18n: this.Editor.I18nAPI.methods,
      readOnly: this.Editor.ReadOnlyAPI.methods,
      ui: this.Editor.UiAPI.methods
    };
  }
  /**
   * Returns Editor.js Core API methods for passed tool
   *
   * @param toolName - tool name
   * @param isTune - is tool a block tune
   */
  getMethodsForTool(e, t) {
    return Object.assign(
      this.methods,
      {
        i18n: this.Editor.I18nAPI.getMethodsForTool(e, t)
      }
    );
  }
};
var Wo = class extends y {
  /**
   * Available methods
   *
   * @returns {InlineToolbar}
   */
  get methods() {
    return {
      close: () => this.close(),
      open: () => this.open()
    };
  }
  /**
   * Open Inline Toolbar
   */
  open() {
    this.Editor.InlineToolbar.tryToShow();
  }
  /**
   * Close Inline Toolbar
   */
  close() {
    this.Editor.InlineToolbar.close();
  }
};
var Ko = class extends y {
  /**
   * Available methods
   *
   * @returns {Listeners}
   */
  get methods() {
    return {
      on: (e, t, o4, i) => this.on(e, t, o4, i),
      off: (e, t, o4, i) => this.off(e, t, o4, i),
      offById: (e) => this.offById(e)
    };
  }
  /**
   * Ads a DOM event listener. Return it's id.
   *
   * @param {HTMLElement} element - Element to set handler to
   * @param {string} eventType - event type
   * @param {() => void} handler - event handler
   * @param {boolean} useCapture - capture event or not
   */
  on(e, t, o4, i) {
    return this.listeners.on(e, t, o4, i);
  }
  /**
   * Removes DOM listener from element
   *
   * @param {Element} element - Element to remove handler from
   * @param eventType - event type
   * @param handler - event handler
   * @param {boolean} useCapture - capture event or not
   */
  off(e, t, o4, i) {
    this.listeners.off(e, t, o4, i);
  }
  /**
   * Removes DOM listener by the listener id
   *
   * @param id - id of the listener to remove
   */
  offById(e) {
    this.listeners.offById(e);
  }
};
var Ut = { exports: {} };
(function(n2, e) {
  (function(t, o4) {
    n2.exports = o4();
  })(window, function() {
    return function(t) {
      var o4 = {};
      function i(s4) {
        if (o4[s4])
          return o4[s4].exports;
        var r3 = o4[s4] = { i: s4, l: false, exports: {} };
        return t[s4].call(r3.exports, r3, r3.exports, i), r3.l = true, r3.exports;
      }
      return i.m = t, i.c = o4, i.d = function(s4, r3, l3) {
        i.o(s4, r3) || Object.defineProperty(s4, r3, { enumerable: true, get: l3 });
      }, i.r = function(s4) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(s4, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(s4, "__esModule", { value: true });
      }, i.t = function(s4, r3) {
        if (1 & r3 && (s4 = i(s4)), 8 & r3 || 4 & r3 && typeof s4 == "object" && s4 && s4.__esModule)
          return s4;
        var l3 = /* @__PURE__ */ Object.create(null);
        if (i.r(l3), Object.defineProperty(l3, "default", { enumerable: true, value: s4 }), 2 & r3 && typeof s4 != "string")
          for (var a6 in s4)
            i.d(l3, a6, function(c2) {
              return s4[c2];
            }.bind(null, a6));
        return l3;
      }, i.n = function(s4) {
        var r3 = s4 && s4.__esModule ? function() {
          return s4.default;
        } : function() {
          return s4;
        };
        return i.d(r3, "a", r3), r3;
      }, i.o = function(s4, r3) {
        return Object.prototype.hasOwnProperty.call(s4, r3);
      }, i.p = "/", i(i.s = 0);
    }([function(t, o4, i) {
      i(1), /*!
      * Codex JavaScript Notification module
      * https://github.com/codex-team/js-notifier
      */
      t.exports = function() {
        var s4 = i(6), r3 = "cdx-notify--bounce-in", l3 = null;
        return { show: function(a6) {
          if (a6.message) {
            (function() {
              if (l3)
                return true;
              l3 = s4.getWrapper(), document.body.appendChild(l3);
            })();
            var c2 = null, u2 = a6.time || 8e3;
            switch (a6.type) {
              case "confirm":
                c2 = s4.confirm(a6);
                break;
              case "prompt":
                c2 = s4.prompt(a6);
                break;
              default:
                c2 = s4.alert(a6), window.setTimeout(function() {
                  c2.remove();
                }, u2);
            }
            l3.appendChild(c2), c2.classList.add(r3);
          }
        } };
      }();
    }, function(t, o4, i) {
      var s4 = i(2);
      typeof s4 == "string" && (s4 = [[t.i, s4, ""]]);
      var r3 = { hmr: true, transform: void 0, insertInto: void 0 };
      i(4)(s4, r3), s4.locals && (t.exports = s4.locals);
    }, function(t, o4, i) {
      (t.exports = i(3)(false)).push([t.i, `.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`, ""]);
    }, function(t, o4) {
      t.exports = function(i) {
        var s4 = [];
        return s4.toString = function() {
          return this.map(function(r3) {
            var l3 = function(a6, c2) {
              var u2 = a6[1] || "", h4 = a6[3];
              if (!h4)
                return u2;
              if (c2 && typeof btoa == "function") {
                var p2 = (f2 = h4, "/*# sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(f2)))) + " */"), g4 = h4.sources.map(function(k3) {
                  return "/*# sourceURL=" + h4.sourceRoot + k3 + " */";
                });
                return [u2].concat(g4).concat([p2]).join(`
`);
              }
              var f2;
              return [u2].join(`
`);
            }(r3, i);
            return r3[2] ? "@media " + r3[2] + "{" + l3 + "}" : l3;
          }).join("");
        }, s4.i = function(r3, l3) {
          typeof r3 == "string" && (r3 = [[null, r3, ""]]);
          for (var a6 = {}, c2 = 0; c2 < this.length; c2++) {
            var u2 = this[c2][0];
            typeof u2 == "number" && (a6[u2] = true);
          }
          for (c2 = 0; c2 < r3.length; c2++) {
            var h4 = r3[c2];
            typeof h4[0] == "number" && a6[h4[0]] || (l3 && !h4[2] ? h4[2] = l3 : l3 && (h4[2] = "(" + h4[2] + ") and (" + l3 + ")"), s4.push(h4));
          }
        }, s4;
      };
    }, function(t, o4, i) {
      var s4, r3, l3 = {}, a6 = (s4 = function() {
        return window && document && document.all && !window.atob;
      }, function() {
        return r3 === void 0 && (r3 = s4.apply(this, arguments)), r3;
      }), c2 = /* @__PURE__ */ function(v4) {
        var m3 = {};
        return function(x4) {
          if (typeof x4 == "function")
            return x4();
          if (m3[x4] === void 0) {
            var E3 = function(M3) {
              return document.querySelector(M3);
            }.call(this, x4);
            if (window.HTMLIFrameElement && E3 instanceof window.HTMLIFrameElement)
              try {
                E3 = E3.contentDocument.head;
              } catch {
                E3 = null;
              }
            m3[x4] = E3;
          }
          return m3[x4];
        };
      }(), u2 = null, h4 = 0, p2 = [], g4 = i(5);
      function f2(v4, m3) {
        for (var x4 = 0; x4 < v4.length; x4++) {
          var E3 = v4[x4], M3 = l3[E3.id];
          if (M3) {
            M3.refs++;
            for (var T3 = 0; T3 < M3.parts.length; T3++)
              M3.parts[T3](E3.parts[T3]);
            for (; T3 < E3.parts.length; T3++)
              M3.parts.push(j2(E3.parts[T3], m3));
          } else {
            var P3 = [];
            for (T3 = 0; T3 < E3.parts.length; T3++)
              P3.push(j2(E3.parts[T3], m3));
            l3[E3.id] = { id: E3.id, refs: 1, parts: P3 };
          }
        }
      }
      function k3(v4, m3) {
        for (var x4 = [], E3 = {}, M3 = 0; M3 < v4.length; M3++) {
          var T3 = v4[M3], P3 = m3.base ? T3[0] + m3.base : T3[0], B4 = { css: T3[1], media: T3[2], sourceMap: T3[3] };
          E3[P3] ? E3[P3].parts.push(B4) : x4.push(E3[P3] = { id: P3, parts: [B4] });
        }
        return x4;
      }
      function C3(v4, m3) {
        var x4 = c2(v4.insertInto);
        if (!x4)
          throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
        var E3 = p2[p2.length - 1];
        if (v4.insertAt === "top")
          E3 ? E3.nextSibling ? x4.insertBefore(m3, E3.nextSibling) : x4.appendChild(m3) : x4.insertBefore(m3, x4.firstChild), p2.push(m3);
        else if (v4.insertAt === "bottom")
          x4.appendChild(m3);
        else {
          if (typeof v4.insertAt != "object" || !v4.insertAt.before)
            throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);
          var M3 = c2(v4.insertInto + " " + v4.insertAt.before);
          x4.insertBefore(m3, M3);
        }
      }
      function S4(v4) {
        if (v4.parentNode === null)
          return false;
        v4.parentNode.removeChild(v4);
        var m3 = p2.indexOf(v4);
        m3 >= 0 && p2.splice(m3, 1);
      }
      function _3(v4) {
        var m3 = document.createElement("style");
        return v4.attrs.type === void 0 && (v4.attrs.type = "text/css"), ee2(m3, v4.attrs), C3(v4, m3), m3;
      }
      function ee2(v4, m3) {
        Object.keys(m3).forEach(function(x4) {
          v4.setAttribute(x4, m3[x4]);
        });
      }
      function j2(v4, m3) {
        var x4, E3, M3, T3;
        if (m3.transform && v4.css) {
          if (!(T3 = m3.transform(v4.css)))
            return function() {
            };
          v4.css = T3;
        }
        if (m3.singleton) {
          var P3 = h4++;
          x4 = u2 || (u2 = _3(m3)), E3 = fe2.bind(null, x4, P3, false), M3 = fe2.bind(null, x4, P3, true);
        } else
          v4.sourceMap && typeof URL == "function" && typeof URL.createObjectURL == "function" && typeof URL.revokeObjectURL == "function" && typeof Blob == "function" && typeof btoa == "function" ? (x4 = function(B4) {
            var Y2 = document.createElement("link");
            return B4.attrs.type === void 0 && (B4.attrs.type = "text/css"), B4.attrs.rel = "stylesheet", ee2(Y2, B4.attrs), C3(B4, Y2), Y2;
          }(m3), E3 = function(B4, Y2, ge2) {
            var ie2 = ge2.css, He2 = ge2.sourceMap, mo = Y2.convertToAbsoluteUrls === void 0 && He2;
            (Y2.convertToAbsoluteUrls || mo) && (ie2 = g4(ie2)), He2 && (ie2 += `
/*# sourceMappingURL=data:application/json;base64,` + btoa(unescape(encodeURIComponent(JSON.stringify(He2)))) + " */");
            var bo = new Blob([ie2], { type: "text/css" }), mt2 = B4.href;
            B4.href = URL.createObjectURL(bo), mt2 && URL.revokeObjectURL(mt2);
          }.bind(null, x4, m3), M3 = function() {
            S4(x4), x4.href && URL.revokeObjectURL(x4.href);
          }) : (x4 = _3(m3), E3 = function(B4, Y2) {
            var ge2 = Y2.css, ie2 = Y2.media;
            if (ie2 && B4.setAttribute("media", ie2), B4.styleSheet)
              B4.styleSheet.cssText = ge2;
            else {
              for (; B4.firstChild; )
                B4.removeChild(B4.firstChild);
              B4.appendChild(document.createTextNode(ge2));
            }
          }.bind(null, x4), M3 = function() {
            S4(x4);
          });
        return E3(v4), function(B4) {
          if (B4) {
            if (B4.css === v4.css && B4.media === v4.media && B4.sourceMap === v4.sourceMap)
              return;
            E3(v4 = B4);
          } else
            M3();
        };
      }
      t.exports = function(v4, m3) {
        if (typeof DEBUG < "u" && DEBUG && typeof document != "object")
          throw new Error("The style-loader cannot be used in a non-browser environment");
        (m3 = m3 || {}).attrs = typeof m3.attrs == "object" ? m3.attrs : {}, m3.singleton || typeof m3.singleton == "boolean" || (m3.singleton = a6()), m3.insertInto || (m3.insertInto = "head"), m3.insertAt || (m3.insertAt = "bottom");
        var x4 = k3(v4, m3);
        return f2(x4, m3), function(E3) {
          for (var M3 = [], T3 = 0; T3 < x4.length; T3++) {
            var P3 = x4[T3];
            (B4 = l3[P3.id]).refs--, M3.push(B4);
          }
          for (E3 && f2(k3(E3, m3), m3), T3 = 0; T3 < M3.length; T3++) {
            var B4;
            if ((B4 = M3[T3]).refs === 0) {
              for (var Y2 = 0; Y2 < B4.parts.length; Y2++)
                B4.parts[Y2]();
              delete l3[B4.id];
            }
          }
        };
      };
      var $2, oe2 = ($2 = [], function(v4, m3) {
        return $2[v4] = m3, $2.filter(Boolean).join(`
`);
      });
      function fe2(v4, m3, x4, E3) {
        var M3 = x4 ? "" : E3.css;
        if (v4.styleSheet)
          v4.styleSheet.cssText = oe2(m3, M3);
        else {
          var T3 = document.createTextNode(M3), P3 = v4.childNodes;
          P3[m3] && v4.removeChild(P3[m3]), P3.length ? v4.insertBefore(T3, P3[m3]) : v4.appendChild(T3);
        }
      }
    }, function(t, o4) {
      t.exports = function(i) {
        var s4 = typeof window < "u" && window.location;
        if (!s4)
          throw new Error("fixUrls requires window.location");
        if (!i || typeof i != "string")
          return i;
        var r3 = s4.protocol + "//" + s4.host, l3 = r3 + s4.pathname.replace(/\/[^\/]*$/, "/");
        return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(a6, c2) {
          var u2, h4 = c2.trim().replace(/^"(.*)"$/, function(p2, g4) {
            return g4;
          }).replace(/^'(.*)'$/, function(p2, g4) {
            return g4;
          });
          return /^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h4) ? a6 : (u2 = h4.indexOf("//") === 0 ? h4 : h4.indexOf("/") === 0 ? r3 + h4 : l3 + h4.replace(/^\.\//, ""), "url(" + JSON.stringify(u2) + ")");
        });
      };
    }, function(t, o4, i) {
      var s4, r3, l3, a6, c2, u2, h4, p2, g4;
      t.exports = (s4 = "cdx-notifies", r3 = "cdx-notify", l3 = "cdx-notify__cross", a6 = "cdx-notify__button--confirm", c2 = "cdx-notify__button--cancel", u2 = "cdx-notify__input", h4 = "cdx-notify__button", p2 = "cdx-notify__btns-wrapper", { alert: g4 = function(f2) {
        var k3 = document.createElement("DIV"), C3 = document.createElement("DIV"), S4 = f2.message, _3 = f2.style;
        return k3.classList.add(r3), _3 && k3.classList.add(r3 + "--" + _3), k3.innerHTML = S4, C3.classList.add(l3), C3.addEventListener("click", k3.remove.bind(k3)), k3.appendChild(C3), k3;
      }, confirm: function(f2) {
        var k3 = g4(f2), C3 = document.createElement("div"), S4 = document.createElement("button"), _3 = document.createElement("button"), ee2 = k3.querySelector("." + l3), j2 = f2.cancelHandler, $2 = f2.okHandler;
        return C3.classList.add(p2), S4.innerHTML = f2.okText || "Confirm", _3.innerHTML = f2.cancelText || "Cancel", S4.classList.add(h4), _3.classList.add(h4), S4.classList.add(a6), _3.classList.add(c2), j2 && typeof j2 == "function" && (_3.addEventListener("click", j2), ee2.addEventListener("click", j2)), $2 && typeof $2 == "function" && S4.addEventListener("click", $2), S4.addEventListener("click", k3.remove.bind(k3)), _3.addEventListener("click", k3.remove.bind(k3)), C3.appendChild(S4), C3.appendChild(_3), k3.appendChild(C3), k3;
      }, prompt: function(f2) {
        var k3 = g4(f2), C3 = document.createElement("div"), S4 = document.createElement("button"), _3 = document.createElement("input"), ee2 = k3.querySelector("." + l3), j2 = f2.cancelHandler, $2 = f2.okHandler;
        return C3.classList.add(p2), S4.innerHTML = f2.okText || "Ok", S4.classList.add(h4), S4.classList.add(a6), _3.classList.add(u2), f2.placeholder && _3.setAttribute("placeholder", f2.placeholder), f2.default && (_3.value = f2.default), f2.inputType && (_3.type = f2.inputType), j2 && typeof j2 == "function" && ee2.addEventListener("click", j2), $2 && typeof $2 == "function" && S4.addEventListener("click", function() {
          $2(_3.value);
        }), S4.addEventListener("click", k3.remove.bind(k3)), C3.appendChild(_3), C3.appendChild(S4), k3.appendChild(C3), k3;
      }, getWrapper: function() {
        var f2 = document.createElement("DIV");
        return f2.classList.add(s4), f2;
      } });
    }]);
  });
})(Ut);
var Xo = Ut.exports;
var Vo = /* @__PURE__ */ Fe(Xo);
var qo = class {
  /**
   * Show web notification
   *
   * @param {NotifierOptions | ConfirmNotifierOptions | PromptNotifierOptions} options - notification options
   */
  show(e) {
    Vo.show(e);
  }
};
var Zo = class extends y {
  /**
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.notifier = new qo();
  }
  /**
   * Available methods
   */
  get methods() {
    return {
      show: (e) => this.show(e)
    };
  }
  /**
   * Show notification
   *
   * @param {NotifierOptions} options - message option
   */
  show(e) {
    return this.notifier.show(e);
  }
};
var Go = class extends y {
  /**
   * Available methods
   */
  get methods() {
    const e = () => this.isEnabled;
    return {
      toggle: (t) => this.toggle(t),
      get isEnabled() {
        return e();
      }
    };
  }
  /**
   * Set or toggle read-only state
   *
   * @param {boolean|undefined} state - set or toggle state
   * @returns {boolean} current value
   */
  toggle(e) {
    return this.Editor.ReadOnly.toggle(e);
  }
  /**
   * Returns current read-only state
   */
  get isEnabled() {
    return this.Editor.ReadOnly.isEnabled;
  }
};
var jt = { exports: {} };
(function(n2, e) {
  (function(t, o4) {
    n2.exports = o4();
  })(ko, function() {
    function t(h4) {
      var p2 = h4.tags, g4 = Object.keys(p2), f2 = g4.map(function(k3) {
        return typeof p2[k3];
      }).every(function(k3) {
        return k3 === "object" || k3 === "boolean" || k3 === "function";
      });
      if (!f2)
        throw new Error("The configuration was invalid");
      this.config = h4;
    }
    var o4 = ["P", "LI", "TD", "TH", "DIV", "H1", "H2", "H3", "H4", "H5", "H6", "PRE"];
    function i(h4) {
      return o4.indexOf(h4.nodeName) !== -1;
    }
    var s4 = ["A", "B", "STRONG", "I", "EM", "SUB", "SUP", "U", "STRIKE"];
    function r3(h4) {
      return s4.indexOf(h4.nodeName) !== -1;
    }
    t.prototype.clean = function(h4) {
      const p2 = document.implementation.createHTMLDocument(), g4 = p2.createElement("div");
      return g4.innerHTML = h4, this._sanitize(p2, g4), g4.innerHTML;
    }, t.prototype._sanitize = function(h4, p2) {
      var g4 = l3(h4, p2), f2 = g4.firstChild();
      if (f2)
        do {
          if (f2.nodeType === Node.TEXT_NODE)
            if (f2.data.trim() === "" && (f2.previousElementSibling && i(f2.previousElementSibling) || f2.nextElementSibling && i(f2.nextElementSibling))) {
              p2.removeChild(f2), this._sanitize(h4, p2);
              break;
            } else
              continue;
          if (f2.nodeType === Node.COMMENT_NODE) {
            p2.removeChild(f2), this._sanitize(h4, p2);
            break;
          }
          var k3 = r3(f2), C3;
          k3 && (C3 = Array.prototype.some.call(f2.childNodes, i));
          var S4 = !!p2.parentNode, _3 = i(p2) && i(f2) && S4, ee2 = f2.nodeName.toLowerCase(), j2 = a6(this.config, ee2, f2), $2 = k3 && C3;
          if ($2 || c2(f2, j2) || !this.config.keepNestedBlockElements && _3) {
            if (!(f2.nodeName === "SCRIPT" || f2.nodeName === "STYLE"))
              for (; f2.childNodes.length > 0; )
                p2.insertBefore(f2.childNodes[0], f2);
            p2.removeChild(f2), this._sanitize(h4, p2);
            break;
          }
          for (var oe2 = 0; oe2 < f2.attributes.length; oe2 += 1) {
            var fe2 = f2.attributes[oe2];
            u2(fe2, j2, f2) && (f2.removeAttribute(fe2.name), oe2 = oe2 - 1);
          }
          this._sanitize(h4, f2);
        } while (f2 = g4.nextSibling());
    };
    function l3(h4, p2) {
      return h4.createTreeWalker(
        p2,
        NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT,
        null,
        false
      );
    }
    function a6(h4, p2, g4) {
      return typeof h4.tags[p2] == "function" ? h4.tags[p2](g4) : h4.tags[p2];
    }
    function c2(h4, p2) {
      return typeof p2 > "u" ? true : typeof p2 == "boolean" ? !p2 : false;
    }
    function u2(h4, p2, g4) {
      var f2 = h4.name.toLowerCase();
      return p2 === true ? false : typeof p2[f2] == "function" ? !p2[f2](h4.value, g4) : typeof p2[f2] > "u" || p2[f2] === false ? true : typeof p2[f2] == "string" ? p2[f2] !== h4.value : false;
    }
    return t;
  });
})(jt);
var Jo = jt.exports;
var Qo = /* @__PURE__ */ Fe(Jo);
function it(n2, e) {
  return n2.map((t) => {
    const o4 = O(e) ? e(t.tool) : e;
    return V(o4) || (t.data = st(t.data, o4)), t;
  });
}
function q(n2, e = {}) {
  const t = {
    tags: e
  };
  return new Qo(t).clean(n2);
}
function st(n2, e) {
  return Array.isArray(n2) ? ei(n2, e) : R(n2) ? ti(n2, e) : Q(n2) ? oi(n2, e) : n2;
}
function ei(n2, e) {
  return n2.map((t) => st(t, e));
}
function ti(n2, e) {
  const t = {};
  for (const o4 in n2) {
    if (!Object.prototype.hasOwnProperty.call(n2, o4))
      continue;
    const i = n2[o4], s4 = ii(e[o4]) ? e[o4] : e;
    t[o4] = st(i, s4);
  }
  return t;
}
function oi(n2, e) {
  return R(e) ? q(n2, e) : e === false ? q(n2, {}) : n2;
}
function ii(n2) {
  return R(n2) || yo(n2) || O(n2);
}
var si = class extends y {
  /**
   * Available methods
   *
   * @returns {SanitizerConfig}
   */
  get methods() {
    return {
      clean: (e, t) => this.clean(e, t)
    };
  }
  /**
   * Perform sanitizing of a string
   *
   * @param {string} taintString - what to sanitize
   * @param {SanitizerConfig} config - sanitizer config
   * @returns {string}
   */
  clean(e, t) {
    return q(e, t);
  }
};
var ni = class extends y {
  /**
   * Available methods
   *
   * @returns {Saver}
   */
  get methods() {
    return {
      save: () => this.save()
    };
  }
  /**
   * Return Editor's data
   *
   * @returns {OutputData}
   */
  save() {
    const e = "Editor's content can not be saved in read-only mode";
    return this.Editor.ReadOnly.isEnabled ? (X(e, "warn"), Promise.reject(new Error(e))) : this.Editor.Saver.save();
  }
};
var ri = class extends y {
  constructor() {
    super(...arguments), this.selectionUtils = new b();
  }
  /**
   * Available methods
   *
   * @returns {SelectionAPIInterface}
   */
  get methods() {
    return {
      findParentTag: (e, t) => this.findParentTag(e, t),
      expandToTag: (e) => this.expandToTag(e),
      save: () => this.selectionUtils.save(),
      restore: () => this.selectionUtils.restore(),
      setFakeBackground: () => this.selectionUtils.setFakeBackground(),
      removeFakeBackground: () => this.selectionUtils.removeFakeBackground()
    };
  }
  /**
   * Looks ahead from selection and find passed tag with class name
   *
   * @param {string} tagName - tag to find
   * @param {string} className - tag's class name
   * @returns {HTMLElement|null}
   */
  findParentTag(e, t) {
    return this.selectionUtils.findParentTag(e, t);
  }
  /**
   * Expand selection to passed tag
   *
   * @param {HTMLElement} node - tag that should contain selection
   */
  expandToTag(e) {
    this.selectionUtils.expandToTag(e);
  }
};
var li = class extends y {
  /**
   * Available methods
   */
  get methods() {
    return {
      getBlockTools: () => Array.from(this.Editor.Tools.blockTools.values())
    };
  }
};
var ai = class extends y {
  /**
   * Exported classes
   */
  get classes() {
    return {
      /**
       * Base Block styles
       */
      block: "cdx-block",
      /**
       * Inline Tools styles
       */
      inlineToolButton: "ce-inline-tool",
      inlineToolButtonActive: "ce-inline-tool--active",
      /**
       * UI elements
       */
      input: "cdx-input",
      loader: "cdx-loader",
      button: "cdx-button",
      /**
       * Settings styles
       */
      settingsButton: "cdx-settings-button",
      settingsButtonActive: "cdx-settings-button--active"
    };
  }
};
var ci = class extends y {
  /**
   * Available methods
   *
   * @returns {Toolbar}
   */
  get methods() {
    return {
      close: () => this.close(),
      open: () => this.open(),
      toggleBlockSettings: (e) => this.toggleBlockSettings(e),
      toggleToolbox: (e) => this.toggleToolbox(e)
    };
  }
  /**
   * Open toolbar
   */
  open() {
    this.Editor.Toolbar.moveAndOpen();
  }
  /**
   * Close toolbar and all included elements
   */
  close() {
    this.Editor.Toolbar.close();
  }
  /**
   * Toggles Block Setting of the current block
   *
   * @param {boolean} openingState —  opening state of Block Setting
   */
  toggleBlockSettings(e) {
    if (this.Editor.BlockManager.currentBlockIndex === -1) {
      X("Could't toggle the Toolbar because there is no block selected ", "warn");
      return;
    }
    e ?? !this.Editor.BlockSettings.opened ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.open()) : this.Editor.BlockSettings.close();
  }
  /**
   * Open toolbox
   *
   * @param {boolean} openingState - Opening state of toolbox
   */
  toggleToolbox(e) {
    if (this.Editor.BlockManager.currentBlockIndex === -1) {
      X("Could't toggle the Toolbox because there is no block selected ", "warn");
      return;
    }
    e ?? !this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open()) : this.Editor.Toolbar.toolbox.close();
  }
};
var $t = { exports: {} };
(function(n2, e) {
  (function(t, o4) {
    n2.exports = o4();
  })(window, function() {
    return function(t) {
      var o4 = {};
      function i(s4) {
        if (o4[s4])
          return o4[s4].exports;
        var r3 = o4[s4] = { i: s4, l: false, exports: {} };
        return t[s4].call(r3.exports, r3, r3.exports, i), r3.l = true, r3.exports;
      }
      return i.m = t, i.c = o4, i.d = function(s4, r3, l3) {
        i.o(s4, r3) || Object.defineProperty(s4, r3, { enumerable: true, get: l3 });
      }, i.r = function(s4) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(s4, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(s4, "__esModule", { value: true });
      }, i.t = function(s4, r3) {
        if (1 & r3 && (s4 = i(s4)), 8 & r3 || 4 & r3 && typeof s4 == "object" && s4 && s4.__esModule)
          return s4;
        var l3 = /* @__PURE__ */ Object.create(null);
        if (i.r(l3), Object.defineProperty(l3, "default", { enumerable: true, value: s4 }), 2 & r3 && typeof s4 != "string")
          for (var a6 in s4)
            i.d(l3, a6, function(c2) {
              return s4[c2];
            }.bind(null, a6));
        return l3;
      }, i.n = function(s4) {
        var r3 = s4 && s4.__esModule ? function() {
          return s4.default;
        } : function() {
          return s4;
        };
        return i.d(r3, "a", r3), r3;
      }, i.o = function(s4, r3) {
        return Object.prototype.hasOwnProperty.call(s4, r3);
      }, i.p = "", i(i.s = 0);
    }([function(t, o4, i) {
      t.exports = i(1);
    }, function(t, o4, i) {
      i.r(o4), i.d(o4, "default", function() {
        return s4;
      });
      class s4 {
        constructor() {
          this.nodes = { wrapper: null, content: null }, this.showed = false, this.offsetTop = 10, this.offsetLeft = 10, this.offsetRight = 10, this.hidingDelay = 0, this.handleWindowScroll = () => {
            this.showed && this.hide(true);
          }, this.loadStyles(), this.prepare(), window.addEventListener("scroll", this.handleWindowScroll, { passive: true });
        }
        get CSS() {
          return { tooltip: "ct", tooltipContent: "ct__content", tooltipShown: "ct--shown", placement: { left: "ct--left", bottom: "ct--bottom", right: "ct--right", top: "ct--top" } };
        }
        show(l3, a6, c2) {
          this.nodes.wrapper || this.prepare(), this.hidingTimeout && clearTimeout(this.hidingTimeout);
          const u2 = Object.assign({ placement: "bottom", marginTop: 0, marginLeft: 0, marginRight: 0, marginBottom: 0, delay: 70, hidingDelay: 0 }, c2);
          if (u2.hidingDelay && (this.hidingDelay = u2.hidingDelay), this.nodes.content.innerHTML = "", typeof a6 == "string")
            this.nodes.content.appendChild(document.createTextNode(a6));
          else {
            if (!(a6 instanceof Node))
              throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But " + typeof a6 + " given.");
            this.nodes.content.appendChild(a6);
          }
          switch (this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)), u2.placement) {
            case "top":
              this.placeTop(l3, u2);
              break;
            case "left":
              this.placeLeft(l3, u2);
              break;
            case "right":
              this.placeRight(l3, u2);
              break;
            case "bottom":
            default:
              this.placeBottom(l3, u2);
          }
          u2 && u2.delay ? this.showingTimeout = setTimeout(() => {
            this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true;
          }, u2.delay) : (this.nodes.wrapper.classList.add(this.CSS.tooltipShown), this.showed = true);
        }
        hide(l3 = false) {
          if (this.hidingDelay && !l3)
            return this.hidingTimeout && clearTimeout(this.hidingTimeout), void (this.hidingTimeout = setTimeout(() => {
              this.hide(true);
            }, this.hidingDelay));
          this.nodes.wrapper.classList.remove(this.CSS.tooltipShown), this.showed = false, this.showingTimeout && clearTimeout(this.showingTimeout);
        }
        onHover(l3, a6, c2) {
          l3.addEventListener("mouseenter", () => {
            this.show(l3, a6, c2);
          }), l3.addEventListener("mouseleave", () => {
            this.hide();
          });
        }
        destroy() {
          this.nodes.wrapper.remove(), window.removeEventListener("scroll", this.handleWindowScroll);
        }
        prepare() {
          this.nodes.wrapper = this.make("div", this.CSS.tooltip), this.nodes.content = this.make("div", this.CSS.tooltipContent), this.append(this.nodes.wrapper, this.nodes.content), this.append(document.body, this.nodes.wrapper);
        }
        loadStyles() {
          const l3 = "codex-tooltips-style";
          if (document.getElementById(l3))
            return;
          const a6 = i(2), c2 = this.make("style", null, { textContent: a6.toString(), id: l3 });
          this.prepend(document.head, c2);
        }
        placeBottom(l3, a6) {
          const c2 = l3.getBoundingClientRect(), u2 = c2.left + l3.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h4 = c2.bottom + window.pageYOffset + this.offsetTop + a6.marginTop;
          this.applyPlacement("bottom", u2, h4);
        }
        placeTop(l3, a6) {
          const c2 = l3.getBoundingClientRect(), u2 = c2.left + l3.clientWidth / 2 - this.nodes.wrapper.offsetWidth / 2, h4 = c2.top + window.pageYOffset - this.nodes.wrapper.clientHeight - this.offsetTop;
          this.applyPlacement("top", u2, h4);
        }
        placeLeft(l3, a6) {
          const c2 = l3.getBoundingClientRect(), u2 = c2.left - this.nodes.wrapper.offsetWidth - this.offsetLeft - a6.marginLeft, h4 = c2.top + window.pageYOffset + l3.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
          this.applyPlacement("left", u2, h4);
        }
        placeRight(l3, a6) {
          const c2 = l3.getBoundingClientRect(), u2 = c2.right + this.offsetRight + a6.marginRight, h4 = c2.top + window.pageYOffset + l3.clientHeight / 2 - this.nodes.wrapper.offsetHeight / 2;
          this.applyPlacement("right", u2, h4);
        }
        applyPlacement(l3, a6, c2) {
          this.nodes.wrapper.classList.add(this.CSS.placement[l3]), this.nodes.wrapper.style.left = a6 + "px", this.nodes.wrapper.style.top = c2 + "px";
        }
        make(l3, a6 = null, c2 = {}) {
          const u2 = document.createElement(l3);
          Array.isArray(a6) ? u2.classList.add(...a6) : a6 && u2.classList.add(a6);
          for (const h4 in c2)
            c2.hasOwnProperty(h4) && (u2[h4] = c2[h4]);
          return u2;
        }
        append(l3, a6) {
          Array.isArray(a6) ? a6.forEach((c2) => l3.appendChild(c2)) : l3.appendChild(a6);
        }
        prepend(l3, a6) {
          Array.isArray(a6) ? (a6 = a6.reverse()).forEach((c2) => l3.prepend(c2)) : l3.prepend(a6);
        }
      }
    }, function(t, o4) {
      t.exports = `.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`;
    }]).default;
  });
})($t);
var di = $t.exports;
var hi = /* @__PURE__ */ Fe(di);
var U = null;
function nt() {
  U || (U = new hi());
}
function ui(n2, e, t) {
  nt(), U == null || U.show(n2, e, t);
}
function Ne(n2 = false) {
  nt(), U == null || U.hide(n2);
}
function Pe(n2, e, t) {
  nt(), U == null || U.onHover(n2, e, t);
}
function pi() {
  U == null || U.destroy(), U = null;
}
var fi = class extends y {
  /**
   * @class
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    });
  }
  /**
   * Available methods
   */
  get methods() {
    return {
      show: (e, t, o4) => this.show(e, t, o4),
      hide: () => this.hide(),
      onHover: (e, t, o4) => this.onHover(e, t, o4)
    };
  }
  /**
   * Method show tooltip on element with passed HTML content
   *
   * @param {HTMLElement} element - element on which tooltip should be shown
   * @param {TooltipContent} content - tooltip content
   * @param {TooltipOptions} options - tooltip options
   */
  show(e, t, o4) {
    ui(e, t, o4);
  }
  /**
   * Method hides tooltip on HTML page
   */
  hide() {
    Ne();
  }
  /**
   * Decorator for showing Tooltip by mouseenter/mouseleave
   *
   * @param {HTMLElement} element - element on which tooltip should be shown
   * @param {TooltipContent} content - tooltip content
   * @param {TooltipOptions} options - tooltip options
   */
  onHover(e, t, o4) {
    Pe(e, t, o4);
  }
};
var gi = class extends y {
  /**
   * Available methods / getters
   */
  get methods() {
    return {
      nodes: this.editorNodes
      /**
       * There can be added some UI methods, like toggleThinMode() etc
       */
    };
  }
  /**
   * Exported classes
   */
  get editorNodes() {
    return {
      /**
       * Top-level editor instance wrapper
       */
      wrapper: this.Editor.UI.nodes.wrapper,
      /**
       * Element that holds all the Blocks
       */
      redactor: this.Editor.UI.nodes.redactor
    };
  }
};
function Yt(n2, e) {
  const t = {};
  return Object.entries(n2).forEach(([o4, i]) => {
    if (R(i)) {
      const s4 = e ? `${e}.${o4}` : o4;
      Object.values(i).every((l3) => Q(l3)) ? t[o4] = s4 : t[o4] = Yt(i, s4);
      return;
    }
    t[o4] = i;
  }), t;
}
var K = Yt(_t);
function mi(n2, e) {
  const t = {};
  return Object.keys(n2).forEach((o4) => {
    const i = e[o4];
    i !== void 0 ? t[i] = n2[o4] : t[o4] = n2[o4];
  }), t;
}
var Wt = class ve {
  /**
   * @param {HTMLElement[]} nodeList — the list of iterable HTML-items
   * @param {string} focusedCssClass - user-provided CSS-class that will be set in flipping process
   */
  constructor(e, t) {
    this.cursor = -1, this.items = [], this.items = e || [], this.focusedCssClass = t;
  }
  /**
   * Returns Focused button Node
   *
   * @returns {HTMLElement}
   */
  get currentItem() {
    return this.cursor === -1 ? null : this.items[this.cursor];
  }
  /**
   * Sets cursor to specified position
   *
   * @param cursorPosition - new cursor position
   */
  setCursor(e) {
    e < this.items.length && e >= -1 && (this.dropCursor(), this.cursor = e, this.items[this.cursor].classList.add(this.focusedCssClass));
  }
  /**
   * Sets items. Can be used when iterable items changed dynamically
   *
   * @param {HTMLElement[]} nodeList - nodes to iterate
   */
  setItems(e) {
    this.items = e;
  }
  /**
   * Sets cursor next to the current
   */
  next() {
    this.cursor = this.leafNodesAndReturnIndex(ve.directions.RIGHT);
  }
  /**
   * Sets cursor before current
   */
  previous() {
    this.cursor = this.leafNodesAndReturnIndex(ve.directions.LEFT);
  }
  /**
   * Sets cursor to the default position and removes CSS-class from previously focused item
   */
  dropCursor() {
    this.cursor !== -1 && (this.items[this.cursor].classList.remove(this.focusedCssClass), this.cursor = -1);
  }
  /**
   * Leafs nodes inside the target list from active element
   *
   * @param {string} direction - leaf direction. Can be 'left' or 'right'
   * @returns {number} index of focused node
   */
  leafNodesAndReturnIndex(e) {
    if (this.items.length === 0)
      return this.cursor;
    let t = this.cursor;
    return t === -1 ? t = e === ve.directions.RIGHT ? -1 : 0 : this.items[t].classList.remove(this.focusedCssClass), e === ve.directions.RIGHT ? t = (t + 1) % this.items.length : t = (this.items.length + t - 1) % this.items.length, d.canSetCaret(this.items[t]) && Oe(() => b.setCursor(this.items[t]), 50)(), this.items[t].classList.add(this.focusedCssClass), t;
  }
};
Wt.directions = {
  RIGHT: "right",
  LEFT: "left"
};
var me = Wt;
var le = class _le {
  /**
   * @param options - different constructing settings
   */
  constructor(e) {
    this.iterator = null, this.activated = false, this.flipCallbacks = [], this.onKeyDown = (t) => {
      if (this.isEventReadyForHandling(t))
        switch (_le.usedKeys.includes(t.keyCode) && t.preventDefault(), t.keyCode) {
          case w.TAB:
            this.handleTabPress(t);
            break;
          case w.LEFT:
          case w.UP:
            this.flipLeft();
            break;
          case w.RIGHT:
          case w.DOWN:
            this.flipRight();
            break;
          case w.ENTER:
            this.handleEnterPress(t);
            break;
        }
    }, this.iterator = new me(e.items, e.focusedItemClass), this.activateCallback = e.activateCallback, this.allowedKeys = e.allowedKeys || _le.usedKeys;
  }
  /**
   * True if flipper is currently activated
   */
  get isActivated() {
    return this.activated;
  }
  /**
   * Array of keys (codes) that is handled by Flipper
   * Used to:
   *  - preventDefault only for this keys, not all keydowns (@see constructor)
   *  - to skip external behaviours only for these keys, when filler is activated (@see BlockEvents@arrowRightAndDown)
   */
  static get usedKeys() {
    return [
      w.TAB,
      w.LEFT,
      w.RIGHT,
      w.ENTER,
      w.UP,
      w.DOWN
    ];
  }
  /**
   * Active tab/arrows handling by flipper
   *
   * @param items - Some modules (like, InlineToolbar, BlockSettings) might refresh buttons dynamically
   * @param cursorPosition - index of the item that should be focused once flipper is activated
   */
  activate(e, t) {
    this.activated = true, e && this.iterator.setItems(e), t !== void 0 && this.iterator.setCursor(t), document.addEventListener("keydown", this.onKeyDown, true);
  }
  /**
   * Disable tab/arrows handling by flipper
   */
  deactivate() {
    this.activated = false, this.dropCursor(), document.removeEventListener("keydown", this.onKeyDown);
  }
  /**
   * Focus first item
   */
  focusFirst() {
    this.dropCursor(), this.flipRight();
  }
  /**
   * Focuses previous flipper iterator item
   */
  flipLeft() {
    this.iterator.previous(), this.flipCallback();
  }
  /**
   * Focuses next flipper iterator item
   */
  flipRight() {
    this.iterator.next(), this.flipCallback();
  }
  /**
   * Return true if some button is focused
   */
  hasFocus() {
    return !!this.iterator.currentItem;
  }
  /**
   * Registeres function that should be executed on each navigation action
   *
   * @param cb - function to execute
   */
  onFlip(e) {
    this.flipCallbacks.push(e);
  }
  /**
   * Unregisteres function that is executed on each navigation action
   *
   * @param cb - function to stop executing
   */
  removeOnFlip(e) {
    this.flipCallbacks = this.flipCallbacks.filter((t) => t !== e);
  }
  /**
   * Drops flipper's iterator cursor
   *
   * @see DomIterator#dropCursor
   */
  dropCursor() {
    this.iterator.dropCursor();
  }
  /**
   * This function is fired before handling flipper keycodes
   * The result of this function defines if it is need to be handled or not
   *
   * @param {KeyboardEvent} event - keydown keyboard event
   * @returns {boolean}
   */
  isEventReadyForHandling(e) {
    return this.activated && this.allowedKeys.includes(e.keyCode);
  }
  /**
   * When flipper is activated tab press will leaf the items
   *
   * @param {KeyboardEvent} event - tab keydown event
   */
  handleTabPress(e) {
    switch (e.shiftKey ? me.directions.LEFT : me.directions.RIGHT) {
      case me.directions.RIGHT:
        this.flipRight();
        break;
      case me.directions.LEFT:
        this.flipLeft();
        break;
    }
  }
  /**
   * Enter press will click current item if flipper is activated
   *
   * @param {KeyboardEvent} event - enter keydown event
   */
  handleEnterPress(e) {
    this.activated && (this.iterator.currentItem && (e.stopPropagation(), e.preventDefault(), this.iterator.currentItem.click()), O(this.activateCallback) && this.activateCallback(this.iterator.currentItem));
  }
  /**
   * Fired after flipping in any direction
   */
  flipCallback() {
    this.iterator.currentItem && this.iterator.currentItem.scrollIntoViewIfNeeded(), this.flipCallbacks.forEach((e) => e());
  }
};
var bi = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>';
var ki = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>';
var vi = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>';
var wi = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>';
var xi = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>';
var yi = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>';
var Ei = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>';
var Bi = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>';
var yt = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';
var Ti = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>';
var Ci = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>';
var Kt = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>';
var Si = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
var Ii = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
var Mi = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';
var Ai = "__";
var Oi = "--";
function te(n2) {
  return (e, t) => [[n2, e].filter((i) => !!i).join(Ai), t].filter((i) => !!i).join(Oi);
}
var be = te("ce-hint");
var ke = {
  root: be(),
  alignedStart: be(null, "align-left"),
  alignedCenter: be(null, "align-center"),
  title: be("title"),
  description: be("description")
};
var Li = class {
  /**
   * Constructs the hint content instance
   *
   * @param params - hint content parameters
   */
  constructor(e) {
    this.nodes = {
      root: d.make("div", [ke.root, e.alignment === "center" ? ke.alignedCenter : ke.alignedStart]),
      title: d.make("div", ke.title, { textContent: e.title })
    }, this.nodes.root.appendChild(this.nodes.title), e.description !== void 0 && (this.nodes.description = d.make("div", ke.description, { textContent: e.description }), this.nodes.root.appendChild(this.nodes.description));
  }
  /**
   * Returns the root element of the hint content
   */
  getElement() {
    return this.nodes.root;
  }
};
var rt = class {
  /**
   * Constructs the instance
   *
   * @param params - instance parameters
   */
  constructor(e) {
    this.params = e;
  }
  /**
   * Item name if exists
   */
  get name() {
    if (this.params !== void 0 && "name" in this.params)
      return this.params.name;
  }
  /**
   * Destroys the instance
   */
  destroy() {
    Ne();
  }
  /**
   * Called when children popover is opened (if exists)
   */
  onChildrenOpen() {
    var e;
    this.params !== void 0 && "children" in this.params && typeof ((e = this.params.children) == null ? void 0 : e.onOpen) == "function" && this.params.children.onOpen();
  }
  /**
   * Called when children popover is closed (if exists)
   */
  onChildrenClose() {
    var e;
    this.params !== void 0 && "children" in this.params && typeof ((e = this.params.children) == null ? void 0 : e.onClose) == "function" && this.params.children.onClose();
  }
  /**
   * Called on popover item click
   */
  handleClick() {
    var e, t;
    this.params !== void 0 && "onActivate" in this.params && ((t = (e = this.params).onActivate) == null || t.call(e, this.params));
  }
  /**
   * Adds hint to the item element if hint data is provided
   *
   * @param itemElement - popover item root element to add hint to
   * @param hintData - hint data
   */
  addHint(e, t) {
    const o4 = new Li(t);
    Pe(e, o4.getElement(), {
      placement: t.position,
      hidingDelay: 100
    });
  }
  /**
   * Returns item children that are represented as popover items
   */
  get children() {
    var e;
    return this.params !== void 0 && "children" in this.params && ((e = this.params.children) == null ? void 0 : e.items) !== void 0 ? this.params.children.items : [];
  }
  /**
   * Returns true if item has any type of children
   */
  get hasChildren() {
    return this.children.length > 0;
  }
  /**
   * Returns true if item children should be open instantly after popover is opened and not on item click/hover
   */
  get isChildrenOpen() {
    var e;
    return this.params !== void 0 && "children" in this.params && ((e = this.params.children) == null ? void 0 : e.isOpen) === true;
  }
  /**
   * True if item children items should be navigatable via keyboard
   */
  get isChildrenFlippable() {
    var e;
    return !(this.params === void 0 || !("children" in this.params) || ((e = this.params.children) == null ? void 0 : e.isFlippable) === false);
  }
  /**
   * Returns true if item has children that should be searchable
   */
  get isChildrenSearchable() {
    var e;
    return this.params !== void 0 && "children" in this.params && ((e = this.params.children) == null ? void 0 : e.searchable) === true;
  }
  /**
   * True if popover should close once item is activated
   */
  get closeOnActivate() {
    return this.params !== void 0 && "closeOnActivate" in this.params && this.params.closeOnActivate;
  }
  /**
   * True if item is active
   */
  get isActive() {
    return this.params === void 0 || !("isActive" in this.params) ? false : typeof this.params.isActive == "function" ? this.params.isActive() : this.params.isActive === true;
  }
};
var W = te("ce-popover-item");
var L = {
  container: W(),
  active: W(null, "active"),
  disabled: W(null, "disabled"),
  focused: W(null, "focused"),
  hidden: W(null, "hidden"),
  confirmationState: W(null, "confirmation"),
  noHover: W(null, "no-hover"),
  noFocus: W(null, "no-focus"),
  title: W("title"),
  secondaryTitle: W("secondary-title"),
  icon: W("icon"),
  iconTool: W("icon", "tool"),
  iconChevronRight: W("icon", "chevron-right"),
  wobbleAnimation: te("wobble")()
};
var se = class extends rt {
  /**
   * Constructs popover item instance
   *
   * @param params - popover item construction params
   * @param renderParams - popover item render params.
   * The parameters that are not set by user via popover api but rather depend on technical implementation
   */
  constructor(e, t) {
    super(e), this.params = e, this.nodes = {
      root: null,
      icon: null
    }, this.confirmationState = null, this.removeSpecialFocusBehavior = () => {
      var o4;
      (o4 = this.nodes.root) == null || o4.classList.remove(L.noFocus);
    }, this.removeSpecialHoverBehavior = () => {
      var o4;
      (o4 = this.nodes.root) == null || o4.classList.remove(L.noHover);
    }, this.onErrorAnimationEnd = () => {
      var o4, i;
      (o4 = this.nodes.icon) == null || o4.classList.remove(L.wobbleAnimation), (i = this.nodes.icon) == null || i.removeEventListener("animationend", this.onErrorAnimationEnd);
    }, this.nodes.root = this.make(e, t);
  }
  /**
   * True if item is disabled and hence not clickable
   */
  get isDisabled() {
    return this.params.isDisabled === true;
  }
  /**
   * Exposes popover item toggle parameter
   */
  get toggle() {
    return this.params.toggle;
  }
  /**
   * Item title
   */
  get title() {
    return this.params.title;
  }
  /**
   * True if confirmation state is enabled for popover item
   */
  get isConfirmationStateEnabled() {
    return this.confirmationState !== null;
  }
  /**
   * True if item is focused in keyboard navigation process
   */
  get isFocused() {
    return this.nodes.root === null ? false : this.nodes.root.classList.contains(L.focused);
  }
  /**
   * Returns popover item root element
   */
  getElement() {
    return this.nodes.root;
  }
  /**
   * Called on popover item click
   */
  handleClick() {
    if (this.isConfirmationStateEnabled && this.confirmationState !== null) {
      this.activateOrEnableConfirmationMode(this.confirmationState);
      return;
    }
    this.activateOrEnableConfirmationMode(this.params);
  }
  /**
   * Toggles item active state
   *
   * @param isActive - true if item should strictly should become active
   */
  toggleActive(e) {
    var t;
    (t = this.nodes.root) == null || t.classList.toggle(L.active, e);
  }
  /**
   * Toggles item hidden state
   *
   * @param isHidden - true if item should be hidden
   */
  toggleHidden(e) {
    var t;
    (t = this.nodes.root) == null || t.classList.toggle(L.hidden, e);
  }
  /**
   * Resets popover item to its original state
   */
  reset() {
    this.isConfirmationStateEnabled && this.disableConfirmationMode();
  }
  /**
   * Method called once item becomes focused during keyboard navigation
   */
  onFocus() {
    this.disableSpecialHoverAndFocusBehavior();
  }
  /**
   * Constructs HTML element corresponding to popover item params
   *
   * @param params - item construction params
   * @param renderParams - popover item render params
   */
  make(e, t) {
    var s4, r3;
    const o4 = (t == null ? void 0 : t.wrapperTag) || "div", i = d.make(o4, L.container, {
      type: o4 === "button" ? "button" : void 0
    });
    return e.name && (i.dataset.itemName = e.name), this.nodes.icon = d.make("div", [L.icon, L.iconTool], {
      innerHTML: e.icon || Ei
    }), i.appendChild(this.nodes.icon), e.title !== void 0 && i.appendChild(d.make("div", L.title, {
      innerHTML: e.title || ""
    })), e.secondaryLabel && i.appendChild(d.make("div", L.secondaryTitle, {
      textContent: e.secondaryLabel
    })), this.hasChildren && i.appendChild(d.make("div", [L.icon, L.iconChevronRight], {
      innerHTML: wi
    })), this.isActive && i.classList.add(L.active), e.isDisabled && i.classList.add(L.disabled), e.hint !== void 0 && ((s4 = t == null ? void 0 : t.hint) == null ? void 0 : s4.enabled) !== false && this.addHint(i, {
      ...e.hint,
      position: ((r3 = t == null ? void 0 : t.hint) == null ? void 0 : r3.position) || "right"
    }), i;
  }
  /**
   * Activates confirmation mode for the item.
   *
   * @param newState - new popover item params that should be applied
   */
  enableConfirmationMode(e) {
    if (this.nodes.root === null)
      return;
    const t = {
      ...this.params,
      ...e,
      confirmation: "confirmation" in e ? e.confirmation : void 0
    }, o4 = this.make(t);
    this.nodes.root.innerHTML = o4.innerHTML, this.nodes.root.classList.add(L.confirmationState), this.confirmationState = e, this.enableSpecialHoverAndFocusBehavior();
  }
  /**
   * Returns item to its original state
   */
  disableConfirmationMode() {
    if (this.nodes.root === null)
      return;
    const e = this.make(this.params);
    this.nodes.root.innerHTML = e.innerHTML, this.nodes.root.classList.remove(L.confirmationState), this.confirmationState = null, this.disableSpecialHoverAndFocusBehavior();
  }
  /**
   * Enables special focus and hover behavior for item in confirmation state.
   * This is needed to prevent item from being highlighted as hovered/focused just after click.
   */
  enableSpecialHoverAndFocusBehavior() {
    var e, t, o4;
    (e = this.nodes.root) == null || e.classList.add(L.noHover), (t = this.nodes.root) == null || t.classList.add(L.noFocus), (o4 = this.nodes.root) == null || o4.addEventListener("mouseleave", this.removeSpecialHoverBehavior, { once: true });
  }
  /**
   * Disables special focus and hover behavior
   */
  disableSpecialHoverAndFocusBehavior() {
    var e;
    this.removeSpecialFocusBehavior(), this.removeSpecialHoverBehavior(), (e = this.nodes.root) == null || e.removeEventListener("mouseleave", this.removeSpecialHoverBehavior);
  }
  /**
   * Executes item's onActivate callback if the item has no confirmation configured
   *
   * @param item - item to activate or bring to confirmation mode
   */
  activateOrEnableConfirmationMode(e) {
    var t;
    if (!("confirmation" in e) || e.confirmation === void 0)
      try {
        (t = e.onActivate) == null || t.call(e, e), this.disableConfirmationMode();
      } catch {
        this.animateError();
      }
    else
      this.enableConfirmationMode(e.confirmation);
  }
  /**
   * Animates item which symbolizes that error occured while executing 'onActivate()' callback
   */
  animateError() {
    var e, t, o4;
    (e = this.nodes.icon) != null && e.classList.contains(L.wobbleAnimation) || ((t = this.nodes.icon) == null || t.classList.add(L.wobbleAnimation), (o4 = this.nodes.icon) == null || o4.addEventListener("animationend", this.onErrorAnimationEnd));
  }
};
var Ue = te("ce-popover-item-separator");
var je = {
  container: Ue(),
  line: Ue("line"),
  hidden: Ue(null, "hidden")
};
var Xt = class extends rt {
  /**
   * Constructs the instance
   */
  constructor() {
    super(), this.nodes = {
      root: d.make("div", je.container),
      line: d.make("div", je.line)
    }, this.nodes.root.appendChild(this.nodes.line);
  }
  /**
   * Returns popover separator root element
   */
  getElement() {
    return this.nodes.root;
  }
  /**
   * Toggles item hidden state
   *
   * @param isHidden - true if item should be hidden
   */
  toggleHidden(e) {
    var t;
    (t = this.nodes.root) == null || t.classList.toggle(je.hidden, e);
  }
};
var Z = /* @__PURE__ */ ((n2) => (n2.Closed = "closed", n2.ClosedOnActivate = "closed-on-activate", n2))(Z || {});
var H = te("ce-popover");
var N = {
  popover: H(),
  popoverContainer: H("container"),
  popoverOpenTop: H(null, "open-top"),
  popoverOpenLeft: H(null, "open-left"),
  popoverOpened: H(null, "opened"),
  search: H("search"),
  nothingFoundMessage: H("nothing-found-message"),
  nothingFoundMessageDisplayed: H("nothing-found-message", "displayed"),
  items: H("items"),
  overlay: H("overlay"),
  overlayHidden: H("overlay", "hidden"),
  popoverNested: H(null, "nested"),
  getPopoverNestedClass: (n2) => H(null, `nested-level-${n2.toString()}`),
  popoverInline: H(null, "inline"),
  popoverHeader: H("header")
};
var de = /* @__PURE__ */ ((n2) => (n2.NestingLevel = "--nesting-level", n2.PopoverHeight = "--popover-height", n2.InlinePopoverWidth = "--inline-popover-width", n2.TriggerItemLeft = "--trigger-item-left", n2.TriggerItemTop = "--trigger-item-top", n2))(de || {});
var Et = te("ce-popover-item-html");
var Bt = {
  root: Et(),
  hidden: Et(null, "hidden")
};
var Ee = class extends rt {
  /**
   * Constructs the instance
   *
   * @param params – instance parameters
   * @param renderParams – popover item render params.
   * The parameters that are not set by user via popover api but rather depend on technical implementation
   */
  constructor(e, t) {
    var o4, i;
    super(e), this.nodes = {
      root: d.make("div", Bt.root)
    }, this.nodes.root.appendChild(e.element), e.name && (this.nodes.root.dataset.itemName = e.name), e.hint !== void 0 && ((o4 = t == null ? void 0 : t.hint) == null ? void 0 : o4.enabled) !== false && this.addHint(this.nodes.root, {
      ...e.hint,
      position: ((i = t == null ? void 0 : t.hint) == null ? void 0 : i.position) || "right"
    });
  }
  /**
   * Returns popover item root element
   */
  getElement() {
    return this.nodes.root;
  }
  /**
   * Toggles item hidden state
   *
   * @param isHidden - true if item should be hidden
   */
  toggleHidden(e) {
    var t;
    (t = this.nodes.root) == null || t.classList.toggle(Bt.hidden, e);
  }
  /**
   * Returns list of buttons and inputs inside custom content
   */
  getControls() {
    const e = this.nodes.root.querySelectorAll(
      `button, ${d.allInputsSelector}`
    );
    return Array.from(e);
  }
};
var Vt = class extends Te {
  /**
   * Constructs the instance
   *
   * @param params - popover construction params
   * @param itemsRenderParams - popover item render params.
   * The parameters that are not set by user via popover api but rather depend on technical implementation
   */
  constructor(e, t = {}) {
    super(), this.params = e, this.itemsRenderParams = t, this.listeners = new Ce(), this.messages = {
      nothingFound: "Nothing found",
      search: "Search"
    }, this.items = this.buildItems(e.items), e.messages && (this.messages = {
      ...this.messages,
      ...e.messages
    }), this.nodes = {}, this.nodes.popoverContainer = d.make("div", [N.popoverContainer]), this.nodes.nothingFoundMessage = d.make("div", [N.nothingFoundMessage], {
      textContent: this.messages.nothingFound
    }), this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage), this.nodes.items = d.make("div", [N.items]), this.items.forEach((o4) => {
      const i = o4.getElement();
      i !== null && this.nodes.items.appendChild(i);
    }), this.nodes.popoverContainer.appendChild(this.nodes.items), this.listeners.on(this.nodes.popoverContainer, "click", (o4) => this.handleClick(o4)), this.nodes.popover = d.make("div", [
      N.popover,
      this.params.class
    ]), this.nodes.popover.appendChild(this.nodes.popoverContainer);
  }
  /**
   * List of default popover items that are searchable and may have confirmation state
   */
  get itemsDefault() {
    return this.items.filter((e) => e instanceof se);
  }
  /**
   * Returns HTML element corresponding to the popover
   */
  getElement() {
    return this.nodes.popover;
  }
  /**
   * Open popover
   */
  show() {
    this.nodes.popover.classList.add(N.popoverOpened), this.search !== void 0 && this.search.focus();
  }
  /**
   * Closes popover
   */
  hide() {
    this.nodes.popover.classList.remove(N.popoverOpened), this.nodes.popover.classList.remove(N.popoverOpenTop), this.itemsDefault.forEach((e) => e.reset()), this.search !== void 0 && this.search.clear(), this.emit(Z.Closed);
  }
  /**
   * Clears memory
   */
  destroy() {
    var e;
    this.items.forEach((t) => t.destroy()), this.nodes.popover.remove(), this.listeners.removeAll(), (e = this.search) == null || e.destroy();
  }
  /**
   * Looks for the item by name and imitates click on it
   *
   * @param name - name of the item to activate
   */
  activateItemByName(e) {
    const t = this.items.find((o4) => o4.name === e);
    this.handleItemClick(t);
  }
  /**
   * Factory method for creating popover items
   *
   * @param items - list of items params
   */
  buildItems(e) {
    return e.map((t) => {
      switch (t.type) {
        case A.Separator:
          return new Xt();
        case A.Html:
          return new Ee(t, this.itemsRenderParams[A.Html]);
        default:
          return new se(t, this.itemsRenderParams[A.Default]);
      }
    });
  }
  /**
   * Retrieves popover item that is the target of the specified event
   *
   * @param event - event to retrieve popover item from
   */
  getTargetItem(e) {
    return this.items.filter((t) => t instanceof se || t instanceof Ee).find((t) => {
      const o4 = t.getElement();
      return o4 === null ? false : e.composedPath().includes(o4);
    });
  }
  /**
   * Handles popover item click
   *
   * @param item - item to handle click of
   */
  handleItemClick(e) {
    if (!("isDisabled" in e && e.isDisabled)) {
      if (e.hasChildren) {
        this.showNestedItems(e), "handleClick" in e && typeof e.handleClick == "function" && e.handleClick();
        return;
      }
      this.itemsDefault.filter((t) => t !== e).forEach((t) => t.reset()), "handleClick" in e && typeof e.handleClick == "function" && e.handleClick(), this.toggleItemActivenessIfNeeded(e), e.closeOnActivate && (this.hide(), this.emit(Z.ClosedOnActivate));
    }
  }
  /**
   * Handles clicks inside popover
   *
   * @param event - item to handle click of
   */
  handleClick(e) {
    const t = this.getTargetItem(e);
    t !== void 0 && this.handleItemClick(t);
  }
  /**
   * - Toggles item active state, if clicked popover item has property 'toggle' set to true.
   *
   * - Performs radiobutton-like behavior if the item has property 'toggle' set to string key.
   * (All the other items with the same key get inactive, and the item gets active)
   *
   * @param clickedItem - popover item that was clicked
   */
  toggleItemActivenessIfNeeded(e) {
    if (e instanceof se && (e.toggle === true && e.toggleActive(), typeof e.toggle == "string")) {
      const t = this.itemsDefault.filter((o4) => o4.toggle === e.toggle);
      if (t.length === 1) {
        e.toggleActive();
        return;
      }
      t.forEach((o4) => {
        o4.toggleActive(o4 === e);
      });
    }
  }
};
var De = /* @__PURE__ */ ((n2) => (n2.Search = "search", n2))(De || {});
var $e = te("cdx-search-field");
var Ye = {
  wrapper: $e(),
  icon: $e("icon"),
  input: $e("input")
};
var _i = class extends Te {
  /**
   * @param options - available config
   * @param options.items - searchable items list
   * @param options.placeholder - input placeholder
   */
  constructor({ items: e, placeholder: t }) {
    super(), this.listeners = new Ce(), this.items = e, this.wrapper = d.make("div", Ye.wrapper);
    const o4 = d.make("div", Ye.icon, {
      innerHTML: Si
    });
    this.input = d.make("input", Ye.input, {
      placeholder: t,
      /**
       * Used to prevent focusing on the input by Tab key
       * (Popover in the Toolbar lays below the blocks,
       * so Tab in the last block will focus this hidden input if this property is not set)
       */
      tabIndex: -1
    }), this.wrapper.appendChild(o4), this.wrapper.appendChild(this.input), this.listeners.on(this.input, "input", () => {
      this.searchQuery = this.input.value, this.emit(De.Search, {
        query: this.searchQuery,
        items: this.foundItems
      });
    });
  }
  /**
   * Returns search field element
   */
  getElement() {
    return this.wrapper;
  }
  /**
   * Sets focus to the input
   */
  focus() {
    this.input.focus();
  }
  /**
   * Clears search query and results
   */
  clear() {
    this.input.value = "", this.searchQuery = "", this.emit(De.Search, {
      query: "",
      items: this.foundItems
    });
  }
  /**
   * Clears memory
   */
  destroy() {
    this.listeners.removeAll();
  }
  /**
   * Returns list of found items for the current search query
   */
  get foundItems() {
    return this.items.filter((e) => this.checkItem(e));
  }
  /**
   * Contains logic for checking whether passed item conforms the search query
   *
   * @param item - item to be checked
   */
  checkItem(e) {
    var i, s4;
    const t = ((i = e.title) == null ? void 0 : i.toLowerCase()) || "", o4 = (s4 = this.searchQuery) == null ? void 0 : s4.toLowerCase();
    return o4 !== void 0 ? t.includes(o4) : false;
  }
};
var Ni = Object.defineProperty;
var Pi = Object.getOwnPropertyDescriptor;
var Di = (n2, e, t, o4) => {
  for (var i = o4 > 1 ? void 0 : o4 ? Pi(e, t) : e, s4 = n2.length - 1, r3; s4 >= 0; s4--)
    (r3 = n2[s4]) && (i = (o4 ? r3(e, t, i) : r3(i)) || i);
  return o4 && i && Ni(e, t, i), i;
};
var qt = class Zt extends Vt {
  /**
   * Construct the instance
   *
   * @param params - popover params
   * @param itemsRenderParams – popover item render params.
   * The parameters that are not set by user via popover api but rather depend on technical implementation
   */
  constructor(e, t) {
    super(e, t), this.nestingLevel = 0, this.nestedPopoverTriggerItem = null, this.previouslyHoveredItem = null, this.scopeElement = document.body, this.hide = () => {
      var o4;
      super.hide(), this.destroyNestedPopoverIfExists(), (o4 = this.flipper) == null || o4.deactivate(), this.previouslyHoveredItem = null;
    }, this.onFlip = () => {
      const o4 = this.itemsDefault.find((i) => i.isFocused);
      o4 == null || o4.onFocus();
    }, this.onSearch = (o4) => {
      var l3;
      const i = o4.query === "", s4 = o4.items.length === 0;
      this.items.forEach((a6) => {
        let c2 = false;
        a6 instanceof se ? c2 = !o4.items.includes(a6) : (a6 instanceof Xt || a6 instanceof Ee) && (c2 = s4 || !i), a6.toggleHidden(c2);
      }), this.toggleNothingFoundMessage(s4);
      const r3 = o4.query === "" ? this.flippableElements : o4.items.map((a6) => a6.getElement());
      (l3 = this.flipper) != null && l3.isActivated && (this.flipper.deactivate(), this.flipper.activate(r3));
    }, e.nestingLevel !== void 0 && (this.nestingLevel = e.nestingLevel), this.nestingLevel > 0 && this.nodes.popover.classList.add(N.popoverNested), e.scopeElement !== void 0 && (this.scopeElement = e.scopeElement), this.nodes.popoverContainer !== null && this.listeners.on(this.nodes.popoverContainer, "mouseover", (o4) => this.handleHover(o4)), e.searchable && this.addSearch(), e.flippable !== false && (this.flipper = new le({
      items: this.flippableElements,
      focusedItemClass: L.focused,
      allowedKeys: [
        w.TAB,
        w.UP,
        w.DOWN,
        w.ENTER
      ]
    }), this.flipper.onFlip(this.onFlip));
  }
  /**
   * Returns true if some item inside popover is focused
   */
  hasFocus() {
    return this.flipper === void 0 ? false : this.flipper.hasFocus();
  }
  /**
   * Scroll position inside items container of the popover
   */
  get scrollTop() {
    return this.nodes.items === null ? 0 : this.nodes.items.scrollTop;
  }
  /**
   * Returns visible element offset top
   */
  get offsetTop() {
    return this.nodes.popoverContainer === null ? 0 : this.nodes.popoverContainer.offsetTop;
  }
  /**
   * Open popover
   */
  show() {
    var e;
    this.nodes.popover.style.setProperty(de.PopoverHeight, this.size.height + "px"), this.shouldOpenBottom || this.nodes.popover.classList.add(N.popoverOpenTop), this.shouldOpenRight || this.nodes.popover.classList.add(N.popoverOpenLeft), super.show(), (e = this.flipper) == null || e.activate(this.flippableElements);
  }
  /**
   * Clears memory
   */
  destroy() {
    this.hide(), super.destroy();
  }
  /**
   * Handles displaying nested items for the item.
   *
   * @param item – item to show nested popover for
   */
  showNestedItems(e) {
    this.nestedPopover !== null && this.nestedPopover !== void 0 || (this.nestedPopoverTriggerItem = e, this.showNestedPopoverForItem(e));
  }
  /**
   * Handles hover events inside popover items container
   *
   * @param event - hover event data
   */
  handleHover(e) {
    const t = this.getTargetItem(e);
    t !== void 0 && this.previouslyHoveredItem !== t && (this.destroyNestedPopoverIfExists(), this.previouslyHoveredItem = t, t.hasChildren && this.showNestedPopoverForItem(t));
  }
  /**
   * Sets CSS variable with position of item near which nested popover should be displayed.
   * Is used for correct positioning of the nested popover
   *
   * @param nestedPopoverEl - nested popover element
   * @param item – item near which nested popover should be displayed
   */
  setTriggerItemPosition(e, t) {
    const o4 = t.getElement(), i = (o4 ? o4.offsetTop : 0) - this.scrollTop, s4 = this.offsetTop + i;
    e.style.setProperty(de.TriggerItemTop, s4 + "px");
  }
  /**
   * Destroys existing nested popover
   */
  destroyNestedPopoverIfExists() {
    var e, t;
    this.nestedPopover === void 0 || this.nestedPopover === null || (this.nestedPopover.off(Z.ClosedOnActivate, this.hide), this.nestedPopover.hide(), this.nestedPopover.destroy(), this.nestedPopover.getElement().remove(), this.nestedPopover = null, (e = this.flipper) == null || e.activate(this.flippableElements), (t = this.nestedPopoverTriggerItem) == null || t.onChildrenClose());
  }
  /**
   * Creates and displays nested popover for specified item.
   * Is used only on desktop
   *
   * @param item - item to display nested popover by
   */
  showNestedPopoverForItem(e) {
    var o4;
    this.nestedPopover = new Zt({
      searchable: e.isChildrenSearchable,
      items: e.children,
      nestingLevel: this.nestingLevel + 1,
      flippable: e.isChildrenFlippable,
      messages: this.messages
    }), e.onChildrenOpen(), this.nestedPopover.on(Z.ClosedOnActivate, this.hide);
    const t = this.nestedPopover.getElement();
    return this.nodes.popover.appendChild(t), this.setTriggerItemPosition(t, e), t.style.setProperty(de.NestingLevel, this.nestedPopover.nestingLevel.toString()), this.nestedPopover.show(), (o4 = this.flipper) == null || o4.deactivate(), this.nestedPopover;
  }
  /**
   * Checks if popover should be opened bottom.
   * It should happen when there is enough space below or not enough space above
   */
  get shouldOpenBottom() {
    if (this.nodes.popover === void 0 || this.nodes.popover === null)
      return false;
    const e = this.nodes.popoverContainer.getBoundingClientRect(), t = this.scopeElement.getBoundingClientRect(), o4 = this.size.height, i = e.top + o4, s4 = e.top - o4, r3 = Math.min(window.innerHeight, t.bottom);
    return s4 < t.top || i <= r3;
  }
  /**
   * Checks if popover should be opened left.
   * It should happen when there is enough space in the right or not enough space in the left
   */
  get shouldOpenRight() {
    if (this.nodes.popover === void 0 || this.nodes.popover === null)
      return false;
    const e = this.nodes.popover.getBoundingClientRect(), t = this.scopeElement.getBoundingClientRect(), o4 = this.size.width, i = e.right + o4, s4 = e.left - o4, r3 = Math.min(window.innerWidth, t.right);
    return s4 < t.left || i <= r3;
  }
  get size() {
    var i;
    const e = {
      height: 0,
      width: 0
    };
    if (this.nodes.popover === null)
      return e;
    const t = this.nodes.popover.cloneNode(true);
    t.style.visibility = "hidden", t.style.position = "absolute", t.style.top = "-1000px", t.classList.add(N.popoverOpened), (i = t.querySelector("." + N.popoverNested)) == null || i.remove(), document.body.appendChild(t);
    const o4 = t.querySelector("." + N.popoverContainer);
    return e.height = o4.offsetHeight, e.width = o4.offsetWidth, t.remove(), e;
  }
  /**
   * Returns list of elements available for keyboard navigation.
   */
  get flippableElements() {
    return this.items.map((t) => {
      if (t instanceof se)
        return t.getElement();
      if (t instanceof Ee)
        return t.getControls();
    }).flat().filter((t) => t != null);
  }
  /**
   * Adds search to the popover
   */
  addSearch() {
    this.search = new _i({
      items: this.itemsDefault,
      placeholder: this.messages.search
    }), this.search.on(De.Search, this.onSearch);
    const e = this.search.getElement();
    e.classList.add(N.search), this.nodes.popoverContainer.insertBefore(e, this.nodes.popoverContainer.firstChild);
  }
  /**
   * Toggles nothing found message visibility
   *
   * @param isDisplayed - true if the message should be displayed
   */
  toggleNothingFoundMessage(e) {
    this.nodes.nothingFoundMessage.classList.toggle(N.nothingFoundMessageDisplayed, e);
  }
};
Di([
  ue
], qt.prototype, "size", 1);
var lt = qt;
var Ri = class extends lt {
  /**
   * Constructs the instance
   *
   * @param params - instance parameters
   */
  constructor(e) {
    const t = !pe();
    super(
      {
        ...e,
        class: N.popoverInline
      },
      {
        [A.Default]: {
          /**
           * We use button instead of div here to fix bug associated with focus loss (which leads to selection change) on click in safari
           *
           * @todo figure out better way to solve the issue
           */
          wrapperTag: "button",
          hint: {
            position: "top",
            alignment: "center",
            enabled: t
          }
        },
        [A.Html]: {
          hint: {
            position: "top",
            alignment: "center",
            enabled: t
          }
        }
      }
    ), this.items.forEach((o4) => {
      !(o4 instanceof se) && !(o4 instanceof Ee) || o4.hasChildren && o4.isChildrenOpen && this.showNestedItems(o4);
    });
  }
  /**
   * Returns visible element offset top
   */
  get offsetLeft() {
    return this.nodes.popoverContainer === null ? 0 : this.nodes.popoverContainer.offsetLeft;
  }
  /**
   * Open popover
   */
  show() {
    this.nestingLevel === 0 && this.nodes.popover.style.setProperty(
      de.InlinePopoverWidth,
      this.size.width + "px"
    ), super.show();
  }
  /**
   * Disable hover event handling.
   * Overrides parent's class behavior
   */
  handleHover() {
  }
  /**
   * Sets CSS variable with position of item near which nested popover should be displayed.
   * Is used to position nested popover right below clicked item
   *
   * @param nestedPopoverEl - nested popover element
   * @param item – item near which nested popover should be displayed
   */
  setTriggerItemPosition(e, t) {
    const o4 = t.getElement(), i = o4 ? o4.offsetLeft : 0, s4 = this.offsetLeft + i;
    e.style.setProperty(
      de.TriggerItemLeft,
      s4 + "px"
    );
  }
  /**
   * Handles displaying nested items for the item.
   * Overriding in order to add toggling behaviour
   *
   * @param item – item to toggle nested popover for
   */
  showNestedItems(e) {
    if (this.nestedPopoverTriggerItem === e) {
      this.destroyNestedPopoverIfExists(), this.nestedPopoverTriggerItem = null;
      return;
    }
    super.showNestedItems(e);
  }
  /**
   * Creates and displays nested popover for specified item.
   * Is used only on desktop
   *
   * @param item - item to display nested popover by
   */
  showNestedPopoverForItem(e) {
    const t = super.showNestedPopoverForItem(e);
    return t.getElement().classList.add(N.getPopoverNestedClass(t.nestingLevel)), t;
  }
  /**
   * Overrides default item click handling.
   * Helps to close nested popover once other item is clicked.
   *
   * @param item - clicked item
   */
  handleItemClick(e) {
    var t;
    e !== this.nestedPopoverTriggerItem && ((t = this.nestedPopoverTriggerItem) == null || t.handleClick(), super.destroyNestedPopoverIfExists()), super.handleItemClick(e);
  }
};
var Gt = class we {
  constructor() {
    this.scrollPosition = null;
  }
  /**
   * Locks body element scroll
   */
  lock() {
    Ge ? this.lockHard() : document.body.classList.add(we.CSS.scrollLocked);
  }
  /**
   * Unlocks body element scroll
   */
  unlock() {
    Ge ? this.unlockHard() : document.body.classList.remove(we.CSS.scrollLocked);
  }
  /**
   * Locks scroll in a hard way (via setting fixed position to body element)
   */
  lockHard() {
    this.scrollPosition = window.pageYOffset, document.documentElement.style.setProperty(
      "--window-scroll-offset",
      `${this.scrollPosition}px`
    ), document.body.classList.add(we.CSS.scrollLockedHard);
  }
  /**
   * Unlocks hard scroll lock
   */
  unlockHard() {
    document.body.classList.remove(we.CSS.scrollLockedHard), this.scrollPosition !== null && window.scrollTo(0, this.scrollPosition), this.scrollPosition = null;
  }
};
Gt.CSS = {
  scrollLocked: "ce-scroll-locked",
  scrollLockedHard: "ce-scroll-locked--hard"
};
var Fi = Gt;
var We = te("ce-popover-header");
var Ke = {
  root: We(),
  text: We("text"),
  backButton: We("back-button")
};
var Hi = class {
  /**
   * Constructs the instance
   *
   * @param params - popover header params
   */
  constructor({ text: e, onBackButtonClick: t }) {
    this.listeners = new Ce(), this.text = e, this.onBackButtonClick = t, this.nodes = {
      root: d.make("div", [Ke.root]),
      backButton: d.make("button", [Ke.backButton]),
      text: d.make("div", [Ke.text])
    }, this.nodes.backButton.innerHTML = vi, this.nodes.root.appendChild(this.nodes.backButton), this.listeners.on(this.nodes.backButton, "click", this.onBackButtonClick), this.nodes.text.innerText = this.text, this.nodes.root.appendChild(this.nodes.text);
  }
  /**
   * Returns popover header root html element
   */
  getElement() {
    return this.nodes.root;
  }
  /**
   * Destroys the instance
   */
  destroy() {
    this.nodes.root.remove(), this.listeners.destroy();
  }
};
var zi = class {
  constructor() {
    this.history = [];
  }
  /**
   * Push new popover state
   *
   * @param state - new state
   */
  push(e) {
    this.history.push(e);
  }
  /**
   * Pop last popover state
   */
  pop() {
    return this.history.pop();
  }
  /**
   * Title retrieved from the current state
   */
  get currentTitle() {
    return this.history.length === 0 ? "" : this.history[this.history.length - 1].title;
  }
  /**
   * Items list retrieved from the current state
   */
  get currentItems() {
    return this.history.length === 0 ? [] : this.history[this.history.length - 1].items;
  }
  /**
   * Returns history to initial popover state
   */
  reset() {
    for (; this.history.length > 1; )
      this.pop();
  }
};
var Jt = class extends Vt {
  /**
   * Construct the instance
   *
   * @param params - popover params
   */
  constructor(e) {
    super(e, {
      [A.Default]: {
        hint: {
          enabled: false
        }
      },
      [A.Html]: {
        hint: {
          enabled: false
        }
      }
    }), this.scrollLocker = new Fi(), this.history = new zi(), this.isHidden = true, this.nodes.overlay = d.make("div", [N.overlay, N.overlayHidden]), this.nodes.popover.insertBefore(this.nodes.overlay, this.nodes.popover.firstChild), this.listeners.on(this.nodes.overlay, "click", () => {
      this.hide();
    }), this.history.push({ items: e.items });
  }
  /**
   * Open popover
   */
  show() {
    this.nodes.overlay.classList.remove(N.overlayHidden), super.show(), this.scrollLocker.lock(), this.isHidden = false;
  }
  /**
   * Closes popover
   */
  hide() {
    this.isHidden || (super.hide(), this.nodes.overlay.classList.add(N.overlayHidden), this.scrollLocker.unlock(), this.history.reset(), this.isHidden = true);
  }
  /**
   * Clears memory
   */
  destroy() {
    super.destroy(), this.scrollLocker.unlock();
  }
  /**
   * Handles displaying nested items for the item
   *
   * @param item – item to show nested popover for
   */
  showNestedItems(e) {
    this.updateItemsAndHeader(e.children, e.title), this.history.push({
      title: e.title,
      items: e.children
    });
  }
  /**
   * Removes rendered popover items and header and displays new ones
   *
   * @param items - new popover items
   * @param title - new popover header text
   */
  updateItemsAndHeader(e, t) {
    if (this.header !== null && this.header !== void 0 && (this.header.destroy(), this.header = null), t !== void 0) {
      this.header = new Hi({
        text: t,
        onBackButtonClick: () => {
          this.history.pop(), this.updateItemsAndHeader(this.history.currentItems, this.history.currentTitle);
        }
      });
      const o4 = this.header.getElement();
      o4 !== null && this.nodes.popoverContainer.insertBefore(o4, this.nodes.popoverContainer.firstChild);
    }
    this.items.forEach((o4) => {
      var i;
      return (i = o4.getElement()) == null ? void 0 : i.remove();
    }), this.items = this.buildItems(e), this.items.forEach((o4) => {
      var s4;
      const i = o4.getElement();
      i !== null && ((s4 = this.nodes.items) == null || s4.appendChild(i));
    });
  }
};
var Ui = class extends y {
  constructor() {
    super(...arguments), this.opened = false, this.selection = new b(), this.popover = null, this.close = () => {
      this.opened && (this.opened = false, b.isAtEditor || this.selection.restore(), this.selection.clearSaved(), !this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted && this.Editor.BlockManager.currentBlock && this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock), this.eventsDispatcher.emit(this.events.closed), this.popover && (this.popover.off(Z.Closed, this.onPopoverClose), this.popover.destroy(), this.popover.getElement().remove(), this.popover = null));
    }, this.onPopoverClose = () => {
      this.close();
    };
  }
  /**
   * Module Events
   */
  get events() {
    return {
      opened: "block-settings-opened",
      closed: "block-settings-closed"
    };
  }
  /**
   * Block Settings CSS
   */
  get CSS() {
    return {
      settings: "ce-settings"
    };
  }
  /**
   * Getter for inner popover's flipper instance
   *
   * @todo remove once BlockSettings becomes standalone non-module class
   */
  get flipper() {
    var e;
    if (this.popover !== null)
      return "flipper" in this.popover ? (e = this.popover) == null ? void 0 : e.flipper : void 0;
  }
  /**
   * Panel with block settings with 2 sections:
   *  - Tool's Settings
   *  - Default Settings [Move, Remove, etc]
   */
  make() {
    this.nodes.wrapper = d.make("div", [this.CSS.settings]), this.eventsDispatcher.on(ye, this.close);
  }
  /**
   * Destroys module
   */
  destroy() {
    this.removeAllNodes(), this.listeners.destroy(), this.eventsDispatcher.off(ye, this.close);
  }
  /**
   * Open Block Settings pane
   *
   * @param targetBlock - near which Block we should open BlockSettings
   */
  async open(e = this.Editor.BlockManager.currentBlock) {
    var s4;
    this.opened = true, this.selection.save(), this.Editor.BlockSelection.selectBlock(e), this.Editor.BlockSelection.clearCache();
    const { toolTunes: t, commonTunes: o4 } = e.getTunes();
    this.eventsDispatcher.emit(this.events.opened);
    const i = pe() ? Jt : lt;
    this.popover = new i({
      searchable: true,
      items: await this.getTunesItems(e, o4, t),
      scopeElement: this.Editor.API.methods.ui.nodes.redactor,
      messages: {
        nothingFound: z.ui(K.ui.popover, "Nothing found"),
        search: z.ui(K.ui.popover, "Filter")
      }
    }), this.popover.on(Z.Closed, this.onPopoverClose), (s4 = this.nodes.wrapper) == null || s4.append(this.popover.getElement()), this.popover.show();
  }
  /**
   * Returns root block settings element
   */
  getElement() {
    return this.nodes.wrapper;
  }
  /**
   * Returns list of items to be displayed in block tunes menu.
   * Merges tool specific tunes, conversion menu and common tunes in one list in predefined order
   *
   * @param currentBlock –  block we are about to open block tunes for
   * @param commonTunes – common tunes
   * @param toolTunes - tool specific tunes
   */
  async getTunesItems(e, t, o4) {
    const i = [];
    o4 !== void 0 && o4.length > 0 && (i.push(...o4), i.push({
      type: A.Separator
    }));
    const s4 = Array.from(this.Editor.Tools.blockTools.values()), l3 = (await zt(e, s4)).reduce((a6, c2) => (c2.toolbox.forEach((u2) => {
      a6.push({
        icon: u2.icon,
        title: z.t(K.toolNames, u2.title),
        name: c2.name,
        closeOnActivate: true,
        onActivate: async () => {
          const { BlockManager: h4, Caret: p2, Toolbar: g4 } = this.Editor, f2 = await h4.convert(e, c2.name, u2.data);
          g4.close(), p2.setToBlock(f2, p2.positions.END);
        }
      });
    }), a6), []);
    return l3.length > 0 && (i.push({
      icon: Kt,
      name: "convert-to",
      title: z.ui(K.ui.popover, "Convert to"),
      children: {
        searchable: true,
        items: l3
      }
    }), i.push({
      type: A.Separator
    })), i.push(...t), i.map((a6) => this.resolveTuneAliases(a6));
  }
  /**
   * Resolves aliases in tunes menu items
   *
   * @param item - item with resolved aliases
   */
  resolveTuneAliases(e) {
    if (e.type === A.Separator || e.type === A.Html)
      return e;
    const t = mi(e, { label: "title" });
    return e.confirmation && (t.confirmation = this.resolveTuneAliases(e.confirmation)), t;
  }
};
var Qt = { exports: {} };
(function(n2, e) {
  (function(t, o4) {
    n2.exports = o4();
  })(window, function() {
    return function(t) {
      var o4 = {};
      function i(s4) {
        if (o4[s4])
          return o4[s4].exports;
        var r3 = o4[s4] = { i: s4, l: false, exports: {} };
        return t[s4].call(r3.exports, r3, r3.exports, i), r3.l = true, r3.exports;
      }
      return i.m = t, i.c = o4, i.d = function(s4, r3, l3) {
        i.o(s4, r3) || Object.defineProperty(s4, r3, { enumerable: true, get: l3 });
      }, i.r = function(s4) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(s4, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(s4, "__esModule", { value: true });
      }, i.t = function(s4, r3) {
        if (1 & r3 && (s4 = i(s4)), 8 & r3 || 4 & r3 && typeof s4 == "object" && s4 && s4.__esModule)
          return s4;
        var l3 = /* @__PURE__ */ Object.create(null);
        if (i.r(l3), Object.defineProperty(l3, "default", { enumerable: true, value: s4 }), 2 & r3 && typeof s4 != "string")
          for (var a6 in s4)
            i.d(l3, a6, function(c2) {
              return s4[c2];
            }.bind(null, a6));
        return l3;
      }, i.n = function(s4) {
        var r3 = s4 && s4.__esModule ? function() {
          return s4.default;
        } : function() {
          return s4;
        };
        return i.d(r3, "a", r3), r3;
      }, i.o = function(s4, r3) {
        return Object.prototype.hasOwnProperty.call(s4, r3);
      }, i.p = "", i(i.s = 0);
    }([function(t, o4, i) {
      function s4(a6, c2) {
        for (var u2 = 0; u2 < c2.length; u2++) {
          var h4 = c2[u2];
          h4.enumerable = h4.enumerable || false, h4.configurable = true, "value" in h4 && (h4.writable = true), Object.defineProperty(a6, h4.key, h4);
        }
      }
      function r3(a6, c2, u2) {
        return c2 && s4(a6.prototype, c2), u2 && s4(a6, u2), a6;
      }
      i.r(o4);
      var l3 = function() {
        function a6(c2) {
          var u2 = this;
          (function(h4, p2) {
            if (!(h4 instanceof p2))
              throw new TypeError("Cannot call a class as a function");
          })(this, a6), this.commands = {}, this.keys = {}, this.name = c2.name, this.parseShortcutName(c2.name), this.element = c2.on, this.callback = c2.callback, this.executeShortcut = function(h4) {
            u2.execute(h4);
          }, this.element.addEventListener("keydown", this.executeShortcut, false);
        }
        return r3(a6, null, [{ key: "supportedCommands", get: function() {
          return { SHIFT: ["SHIFT"], CMD: ["CMD", "CONTROL", "COMMAND", "WINDOWS", "CTRL"], ALT: ["ALT", "OPTION"] };
        } }, { key: "keyCodes", get: function() {
          return { 0: 48, 1: 49, 2: 50, 3: 51, 4: 52, 5: 53, 6: 54, 7: 55, 8: 56, 9: 57, A: 65, B: 66, C: 67, D: 68, E: 69, F: 70, G: 71, H: 72, I: 73, J: 74, K: 75, L: 76, M: 77, N: 78, O: 79, P: 80, Q: 81, R: 82, S: 83, T: 84, U: 85, V: 86, W: 87, X: 88, Y: 89, Z: 90, BACKSPACE: 8, ENTER: 13, ESCAPE: 27, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, INSERT: 45, DELETE: 46, ".": 190 };
        } }]), r3(a6, [{ key: "parseShortcutName", value: function(c2) {
          c2 = c2.split("+");
          for (var u2 = 0; u2 < c2.length; u2++) {
            c2[u2] = c2[u2].toUpperCase();
            var h4 = false;
            for (var p2 in a6.supportedCommands)
              if (a6.supportedCommands[p2].includes(c2[u2])) {
                h4 = this.commands[p2] = true;
                break;
              }
            h4 || (this.keys[c2[u2]] = true);
          }
          for (var g4 in a6.supportedCommands)
            this.commands[g4] || (this.commands[g4] = false);
        } }, { key: "execute", value: function(c2) {
          var u2, h4 = { CMD: c2.ctrlKey || c2.metaKey, SHIFT: c2.shiftKey, ALT: c2.altKey }, p2 = true;
          for (u2 in this.commands)
            this.commands[u2] !== h4[u2] && (p2 = false);
          var g4, f2 = true;
          for (g4 in this.keys)
            f2 = f2 && c2.keyCode === a6.keyCodes[g4];
          p2 && f2 && this.callback(c2);
        } }, { key: "remove", value: function() {
          this.element.removeEventListener("keydown", this.executeShortcut);
        } }]), a6;
      }();
      o4.default = l3;
    }]).default;
  });
})(Qt);
var ji = Qt.exports;
var $i = /* @__PURE__ */ Fe(ji);
var Yi = class {
  constructor() {
    this.registeredShortcuts = /* @__PURE__ */ new Map();
  }
  /**
   * Register shortcut
   *
   * @param shortcut - shortcut options
   */
  add(e) {
    if (this.findShortcut(e.on, e.name))
      throw Error(
        `Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`
      );
    const o4 = new $i({
      name: e.name,
      on: e.on,
      callback: e.handler
    }), i = this.registeredShortcuts.get(e.on) || [];
    this.registeredShortcuts.set(e.on, [...i, o4]);
  }
  /**
   * Remove shortcut
   *
   * @param element - Element shortcut is set for
   * @param name - shortcut name
   */
  remove(e, t) {
    const o4 = this.findShortcut(e, t);
    if (!o4)
      return;
    o4.remove();
    const i = this.registeredShortcuts.get(e);
    this.registeredShortcuts.set(e, i.filter((s4) => s4 !== o4));
  }
  /**
   * Get Shortcut instance if exist
   *
   * @param element - Element shorcut is set for
   * @param shortcut - shortcut name
   * @returns {number} index - shortcut index if exist
   */
  findShortcut(e, t) {
    return (this.registeredShortcuts.get(e) || []).find(({ name: i }) => i === t);
  }
};
var he = new Yi();
var Wi = Object.defineProperty;
var Ki = Object.getOwnPropertyDescriptor;
var eo = (n2, e, t, o4) => {
  for (var i = o4 > 1 ? void 0 : o4 ? Ki(e, t) : e, s4 = n2.length - 1, r3; s4 >= 0; s4--)
    (r3 = n2[s4]) && (i = (o4 ? r3(e, t, i) : r3(i)) || i);
  return o4 && i && Wi(e, t, i), i;
};
var Se = /* @__PURE__ */ ((n2) => (n2.Opened = "toolbox-opened", n2.Closed = "toolbox-closed", n2.BlockAdded = "toolbox-block-added", n2))(Se || {});
var at = class to extends Te {
  /**
   * Toolbox constructor
   *
   * @param options - available parameters
   * @param options.api - Editor API methods
   * @param options.tools - Tools available to check whether some of them should be displayed at the Toolbox or not
   */
  constructor({ api: e, tools: t, i18nLabels: o4 }) {
    super(), this.opened = false, this.listeners = new Ce(), this.popover = null, this.handleMobileLayoutToggle = () => {
      this.destroyPopover(), this.initPopover();
    }, this.onPopoverClose = () => {
      this.opened = false, this.emit(
        "toolbox-closed"
        /* Closed */
      );
    }, this.api = e, this.tools = t, this.i18nLabels = o4, this.enableShortcuts(), this.nodes = {
      toolbox: d.make("div", to.CSS.toolbox)
    }, this.initPopover(), this.api.events.on(ye, this.handleMobileLayoutToggle);
  }
  /**
   * Returns True if Toolbox is Empty and nothing to show
   *
   * @returns {boolean}
   */
  get isEmpty() {
    return this.toolsToBeDisplayed.length === 0;
  }
  /**
   * CSS styles
   */
  static get CSS() {
    return {
      toolbox: "ce-toolbox"
    };
  }
  /**
   * Returns root block settings element
   */
  getElement() {
    return this.nodes.toolbox;
  }
  /**
   * Returns true if the Toolbox has the Flipper activated and the Flipper has selected button
   */
  hasFocus() {
    if (this.popover !== null)
      return "hasFocus" in this.popover ? this.popover.hasFocus() : void 0;
  }
  /**
   * Destroy Module
   */
  destroy() {
    var e;
    super.destroy(), this.nodes && this.nodes.toolbox && this.nodes.toolbox.remove(), this.removeAllShortcuts(), (e = this.popover) == null || e.off(Z.Closed, this.onPopoverClose), this.listeners.destroy(), this.api.events.off(ye, this.handleMobileLayoutToggle);
  }
  /**
   * Toolbox Tool's button click handler
   *
   * @param toolName - tool type to be activated
   * @param blockDataOverrides - Block data predefined by the activated Toolbox item
   */
  toolButtonActivated(e, t) {
    this.insertNewBlock(e, t);
  }
  /**
   * Open Toolbox with Tools
   */
  open() {
    var e;
    this.isEmpty || ((e = this.popover) == null || e.show(), this.opened = true, this.emit(
      "toolbox-opened"
      /* Opened */
    ));
  }
  /**
   * Close Toolbox
   */
  close() {
    var e;
    (e = this.popover) == null || e.hide(), this.opened = false, this.emit(
      "toolbox-closed"
      /* Closed */
    );
  }
  /**
   * Close Toolbox
   */
  toggle() {
    this.opened ? this.close() : this.open();
  }
  /**
   * Creates toolbox popover and appends it inside wrapper element
   */
  initPopover() {
    var t;
    const e = pe() ? Jt : lt;
    this.popover = new e({
      scopeElement: this.api.ui.nodes.redactor,
      searchable: true,
      messages: {
        nothingFound: this.i18nLabels.nothingFound,
        search: this.i18nLabels.filter
      },
      items: this.toolboxItemsToBeDisplayed
    }), this.popover.on(Z.Closed, this.onPopoverClose), (t = this.nodes.toolbox) == null || t.append(this.popover.getElement());
  }
  /**
   * Destroys popover instance and removes it from DOM
   */
  destroyPopover() {
    this.popover !== null && (this.popover.hide(), this.popover.off(Z.Closed, this.onPopoverClose), this.popover.destroy(), this.popover = null), this.nodes.toolbox !== null && (this.nodes.toolbox.innerHTML = "");
  }
  get toolsToBeDisplayed() {
    const e = [];
    return this.tools.forEach((t) => {
      t.toolbox && e.push(t);
    }), e;
  }
  get toolboxItemsToBeDisplayed() {
    const e = (t, o4) => ({
      icon: t.icon,
      title: z.t(K.toolNames, t.title || Le(o4.name)),
      name: o4.name,
      onActivate: () => {
        this.toolButtonActivated(o4.name, t.data);
      },
      secondaryLabel: o4.shortcut ? tt(o4.shortcut) : ""
    });
    return this.toolsToBeDisplayed.reduce((t, o4) => (Array.isArray(o4.toolbox) ? o4.toolbox.forEach((i) => {
      t.push(e(i, o4));
    }) : o4.toolbox !== void 0 && t.push(e(o4.toolbox, o4)), t), []);
  }
  /**
   * Iterate all tools and enable theirs shortcuts if specified
   */
  enableShortcuts() {
    this.toolsToBeDisplayed.forEach((e) => {
      const t = e.shortcut;
      t && this.enableShortcutForTool(e.name, t);
    });
  }
  /**
   * Enable shortcut Block Tool implemented shortcut
   *
   * @param {string} toolName - Tool name
   * @param {string} shortcut - shortcut according to the ShortcutData Module format
   */
  enableShortcutForTool(e, t) {
    he.add({
      name: t,
      on: this.api.ui.nodes.redactor,
      handler: async (o4) => {
        o4.preventDefault();
        const i = this.api.blocks.getCurrentBlockIndex(), s4 = this.api.blocks.getBlockByIndex(i);
        if (s4)
          try {
            const r3 = await this.api.blocks.convert(s4.id, e);
            this.api.caret.setToBlock(r3, "end");
            return;
          } catch {
          }
        this.insertNewBlock(e);
      }
    });
  }
  /**
   * Removes all added shortcuts
   * Fired when the Read-Only mode is activated
   */
  removeAllShortcuts() {
    this.toolsToBeDisplayed.forEach((e) => {
      const t = e.shortcut;
      t && he.remove(this.api.ui.nodes.redactor, t);
    });
  }
  /**
   * Inserts new block
   * Can be called when button clicked on Toolbox or by ShortcutData
   *
   * @param {string} toolName - Tool name
   * @param blockDataOverrides - predefined Block data
   */
  async insertNewBlock(e, t) {
    const o4 = this.api.blocks.getCurrentBlockIndex(), i = this.api.blocks.getBlockByIndex(o4);
    if (!i)
      return;
    const s4 = i.isEmpty ? o4 : o4 + 1;
    let r3;
    if (t) {
      const a6 = await this.api.blocks.composeBlockData(e);
      r3 = Object.assign(a6, t);
    }
    const l3 = this.api.blocks.insert(
      e,
      r3,
      void 0,
      s4,
      void 0,
      i.isEmpty
    );
    l3.call(J.APPEND_CALLBACK), this.api.caret.setToBlock(s4), this.emit("toolbox-block-added", {
      block: l3
    }), this.api.toolbar.close();
  }
};
eo([
  ue
], at.prototype, "toolsToBeDisplayed", 1);
eo([
  ue
], at.prototype, "toolboxItemsToBeDisplayed", 1);
var Xi = at;
var oo = "block hovered";
async function Vi(n2, e) {
  const t = navigator.keyboard;
  if (!t)
    return e;
  try {
    return (await t.getLayoutMap()).get(n2) || e;
  } catch (o4) {
    return console.error(o4), e;
  }
}
var qi = class extends y {
  /**
   * @class
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.toolboxInstance = null;
  }
  /**
   * CSS styles
   *
   * @returns {object}
   */
  get CSS() {
    return {
      toolbar: "ce-toolbar",
      content: "ce-toolbar__content",
      actions: "ce-toolbar__actions",
      actionsOpened: "ce-toolbar__actions--opened",
      toolbarOpened: "ce-toolbar--opened",
      openedToolboxHolderModifier: "codex-editor--toolbox-opened",
      plusButton: "ce-toolbar__plus",
      plusButtonShortcut: "ce-toolbar__plus-shortcut",
      settingsToggler: "ce-toolbar__settings-btn",
      settingsTogglerHidden: "ce-toolbar__settings-btn--hidden"
    };
  }
  /**
   * Returns the Toolbar opening state
   *
   * @returns {boolean}
   */
  get opened() {
    return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened);
  }
  /**
   * Public interface for accessing the Toolbox
   */
  get toolbox() {
    var e;
    return {
      opened: (e = this.toolboxInstance) == null ? void 0 : e.opened,
      close: () => {
        var t;
        (t = this.toolboxInstance) == null || t.close();
      },
      open: () => {
        if (this.toolboxInstance === null) {
          I("toolbox.open() called before initialization is finished", "warn");
          return;
        }
        this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.toolboxInstance.open();
      },
      toggle: () => {
        if (this.toolboxInstance === null) {
          I("toolbox.toggle() called before initialization is finished", "warn");
          return;
        }
        this.toolboxInstance.toggle();
      },
      hasFocus: () => {
        var t;
        return (t = this.toolboxInstance) == null ? void 0 : t.hasFocus();
      }
    };
  }
  /**
   * Block actions appearance manipulations
   */
  get blockActions() {
    return {
      hide: () => {
        this.nodes.actions.classList.remove(this.CSS.actionsOpened);
      },
      show: () => {
        this.nodes.actions.classList.add(this.CSS.actionsOpened);
      }
    };
  }
  /**
   * Methods for working with Block Tunes toggler
   */
  get blockTunesToggler() {
    return {
      hide: () => this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),
      show: () => this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)
    };
  }
  /**
   * Toggles read-only mode
   *
   * @param {boolean} readOnlyEnabled - read-only mode
   */
  toggleReadOnly(e) {
    e ? (this.destroy(), this.Editor.BlockSettings.destroy(), this.disableModuleBindings()) : window.requestIdleCallback(() => {
      this.drawUI(), this.enableModuleBindings();
    }, { timeout: 2e3 });
  }
  /**
   * Move Toolbar to the passed (or current) Block
   *
   * @param block - block to move Toolbar near it
   */
  moveAndOpen(e = this.Editor.BlockManager.currentBlock) {
    if (this.toolboxInstance === null) {
      I("Can't open Toolbar since Editor initialization is not finished yet", "warn");
      return;
    }
    if (this.toolboxInstance.opened && this.toolboxInstance.close(), this.Editor.BlockSettings.opened && this.Editor.BlockSettings.close(), !e)
      return;
    this.hoveredBlock = e;
    const t = e.holder, { isMobile: o4 } = this.Editor.UI;
    let i;
    const s4 = 20, r3 = e.firstInput, l3 = t.getBoundingClientRect(), a6 = r3 !== void 0 ? r3.getBoundingClientRect() : null, c2 = a6 !== null ? a6.top - l3.top : null, u2 = c2 !== null ? c2 > s4 : void 0;
    if (o4)
      i = t.offsetTop + t.offsetHeight;
    else if (r3 === void 0 || u2) {
      const h4 = parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);
      i = t.offsetTop + h4;
    } else {
      const h4 = _o(r3), p2 = parseInt(window.getComputedStyle(this.nodes.plusButton).height, 10), g4 = 8;
      i = t.offsetTop + h4 - p2 + g4 + c2;
    }
    this.nodes.wrapper.style.top = `${Math.floor(i)}px`, this.Editor.BlockManager.blocks.length === 1 && e.isEmpty ? this.blockTunesToggler.hide() : this.blockTunesToggler.show(), this.open();
  }
  /**
   * Close the Toolbar
   */
  close() {
    var e, t;
    this.Editor.ReadOnly.isEnabled || ((e = this.nodes.wrapper) == null || e.classList.remove(this.CSS.toolbarOpened), this.blockActions.hide(), (t = this.toolboxInstance) == null || t.close(), this.Editor.BlockSettings.close(), this.reset());
  }
  /**
   * Reset the Toolbar position to prevent DOM height growth, for example after blocks deletion
   */
  reset() {
    this.nodes.wrapper.style.top = "unset";
  }
  /**
   * Open Toolbar with Plus Button and Actions
   *
   * @param {boolean} withBlockActions - by default, Toolbar opens with Block Actions.
   *                                     This flag allows to open Toolbar without Actions.
   */
  open(e = true) {
    this.nodes.wrapper.classList.add(this.CSS.toolbarOpened), e ? this.blockActions.show() : this.blockActions.hide();
  }
  /**
   * Draws Toolbar elements
   */
  async make() {
    this.nodes.wrapper = d.make("div", this.CSS.toolbar), ["content", "actions"].forEach((s4) => {
      this.nodes[s4] = d.make("div", this.CSS[s4]);
    }), d.append(this.nodes.wrapper, this.nodes.content), d.append(this.nodes.content, this.nodes.actions), this.nodes.plusButton = d.make("div", this.CSS.plusButton, {
      innerHTML: Ci
    }), d.append(this.nodes.actions, this.nodes.plusButton), this.readOnlyMutableListeners.on(this.nodes.plusButton, "click", () => {
      Ne(true), this.plusButtonClicked();
    }, false);
    const e = d.make("div");
    e.appendChild(document.createTextNode(z.ui(K.ui.toolbar.toolbox, "Add"))), e.appendChild(d.make("div", this.CSS.plusButtonShortcut, {
      textContent: "/"
    })), Pe(this.nodes.plusButton, e, {
      hidingDelay: 400
    }), this.nodes.settingsToggler = d.make("span", this.CSS.settingsToggler, {
      innerHTML: Ti
    }), d.append(this.nodes.actions, this.nodes.settingsToggler);
    const t = d.make("div"), o4 = d.text(z.ui(K.ui.blockTunes.toggler, "Click to tune")), i = await Vi("Slash", "/");
    t.appendChild(o4), t.appendChild(d.make("div", this.CSS.plusButtonShortcut, {
      textContent: tt(`CMD + ${i}`)
    })), Pe(this.nodes.settingsToggler, t, {
      hidingDelay: 400
    }), d.append(this.nodes.actions, this.makeToolbox()), d.append(this.nodes.actions, this.Editor.BlockSettings.getElement()), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);
  }
  /**
   * Creates the Toolbox instance and return it's rendered element
   */
  makeToolbox() {
    return this.toolboxInstance = new Xi({
      api: this.Editor.API.methods,
      tools: this.Editor.Tools.blockTools,
      i18nLabels: {
        filter: z.ui(K.ui.popover, "Filter"),
        nothingFound: z.ui(K.ui.popover, "Nothing found")
      }
    }), this.toolboxInstance.on(Se.Opened, () => {
      this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier);
    }), this.toolboxInstance.on(Se.Closed, () => {
      this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier);
    }), this.toolboxInstance.on(Se.BlockAdded, ({ block: e }) => {
      const { BlockManager: t, Caret: o4 } = this.Editor, i = t.getBlockById(e.id);
      i.inputs.length === 0 && (i === t.lastBlock ? (t.insertAtEnd(), o4.setToBlock(t.lastBlock)) : o4.setToBlock(t.nextBlock));
    }), this.toolboxInstance.getElement();
  }
  /**
   * Handler for Plus Button
   */
  plusButtonClicked() {
    var e;
    this.Editor.BlockManager.currentBlock = this.hoveredBlock, (e = this.toolboxInstance) == null || e.toggle();
  }
  /**
   * Enable bindings
   */
  enableModuleBindings() {
    this.readOnlyMutableListeners.on(this.nodes.settingsToggler, "mousedown", (e) => {
      var t;
      e.stopPropagation(), this.settingsTogglerClicked(), (t = this.toolboxInstance) != null && t.opened && this.toolboxInstance.close(), Ne(true);
    }, true), pe() || this.eventsDispatcher.on(oo, (e) => {
      var t;
      this.Editor.BlockSettings.opened || (t = this.toolboxInstance) != null && t.opened || this.moveAndOpen(e.block);
    });
  }
  /**
   * Disable bindings
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Clicks on the Block Settings toggler
   */
  settingsTogglerClicked() {
    this.Editor.BlockManager.currentBlock = this.hoveredBlock, this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.BlockSettings.open(this.hoveredBlock);
  }
  /**
   * Draws Toolbar UI
   *
   * Toolbar contains BlockSettings and Toolbox.
   * That's why at first we draw its components and then Toolbar itself
   *
   * Steps:
   *  - Make Toolbar dependent components like BlockSettings, Toolbox and so on
   *  - Make itself and append dependent nodes to itself
   *
   */
  drawUI() {
    this.Editor.BlockSettings.make(), this.make();
  }
  /**
   * Removes all created and saved HTMLElements
   * It is used in Read-Only mode
   */
  destroy() {
    this.removeAllNodes(), this.toolboxInstance && this.toolboxInstance.destroy();
  }
};
var ne = /* @__PURE__ */ ((n2) => (n2[n2.Block = 0] = "Block", n2[n2.Inline = 1] = "Inline", n2[n2.Tune = 2] = "Tune", n2))(ne || {});
var Ie = /* @__PURE__ */ ((n2) => (n2.Shortcut = "shortcut", n2.Toolbox = "toolbox", n2.EnabledInlineTools = "inlineToolbar", n2.EnabledBlockTunes = "tunes", n2.Config = "config", n2))(Ie || {});
var io = /* @__PURE__ */ ((n2) => (n2.Shortcut = "shortcut", n2.SanitizeConfig = "sanitize", n2))(io || {});
var ce = /* @__PURE__ */ ((n2) => (n2.IsEnabledLineBreaks = "enableLineBreaks", n2.Toolbox = "toolbox", n2.ConversionConfig = "conversionConfig", n2.IsReadOnlySupported = "isReadOnlySupported", n2.PasteConfig = "pasteConfig", n2))(ce || {});
var ct = /* @__PURE__ */ ((n2) => (n2.IsInline = "isInline", n2.Title = "title", n2))(ct || {});
var et = /* @__PURE__ */ ((n2) => (n2.IsTune = "isTune", n2))(et || {});
var dt = class {
  /**
   * @class
   * @param {ConstructorOptions} options - Constructor options
   */
  constructor({
    name: e,
    constructable: t,
    config: o4,
    api: i,
    isDefault: s4,
    isInternal: r3 = false,
    defaultPlaceholder: l3
  }) {
    this.api = i, this.name = e, this.constructable = t, this.config = o4, this.isDefault = s4, this.isInternal = r3, this.defaultPlaceholder = l3;
  }
  /**
   * Returns Tool user configuration
   */
  get settings() {
    const e = this.config.config || {};
    return this.isDefault && !("placeholder" in e) && this.defaultPlaceholder && (e.placeholder = this.defaultPlaceholder), e;
  }
  /**
   * Calls Tool's reset method
   */
  reset() {
    if (O(this.constructable.reset))
      return this.constructable.reset();
  }
  /**
   * Calls Tool's prepare method
   */
  prepare() {
    if (O(this.constructable.prepare))
      return this.constructable.prepare({
        toolName: this.name,
        config: this.settings
      });
  }
  /**
   * Returns shortcut for Tool (internal or specified by user)
   */
  get shortcut() {
    const e = this.constructable.shortcut;
    return this.config.shortcut || e;
  }
  /**
   * Returns Tool's sanitizer configuration
   */
  get sanitizeConfig() {
    return this.constructable.sanitize || {};
  }
  /**
   * Returns true if Tools is inline
   */
  isInline() {
    return this.type === ne.Inline;
  }
  /**
   * Returns true if Tools is block
   */
  isBlock() {
    return this.type === ne.Block;
  }
  /**
   * Returns true if Tools is tune
   */
  isTune() {
    return this.type === ne.Tune;
  }
};
var Zi = class extends y {
  /**
   * @param moduleConfiguration - Module Configuration
   * @param moduleConfiguration.config - Editor's config
   * @param moduleConfiguration.eventsDispatcher - Editor's event dispatcher
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.CSS = {
      inlineToolbar: "ce-inline-toolbar"
    }, this.opened = false, this.popover = null, this.toolbarVerticalMargin = pe() ? 20 : 6, this.toolsInstances = /* @__PURE__ */ new Map();
  }
  /**
   * Toggles read-only mode
   *
   * @param {boolean} readOnlyEnabled - read-only mode
   */
  toggleReadOnly(e) {
    e ? this.destroy() : window.requestIdleCallback(() => {
      this.make();
    }, { timeout: 2e3 });
  }
  /**
   *  Moving / appearance
   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   */
  /**
   * Shows Inline Toolbar if something is selected
   *
   * @param [needToClose] - pass true to close toolbar if it is not allowed.
   *                                  Avoid to use it just for closing IT, better call .close() clearly.
   */
  async tryToShow(e = false) {
    e && this.close(), this.allowedToShow() && (await this.open(), this.Editor.Toolbar.close());
  }
  /**
   * Hides Inline Toolbar
   */
  close() {
    var e, t;
    this.opened && (this.Editor.ReadOnly.isEnabled || (Array.from(this.toolsInstances.entries()).forEach(([o4, i]) => {
      const s4 = this.getToolShortcut(o4);
      s4 && he.remove(this.Editor.UI.nodes.redactor, s4), O(i.clear) && i.clear();
    }), this.toolsInstances = null, this.reset(), this.opened = false, (e = this.popover) == null || e.hide(), (t = this.popover) == null || t.destroy(), this.popover = null));
  }
  /**
   * Check if node is contained by Inline Toolbar
   *
   * @param {Node} node — node to check
   */
  containsNode(e) {
    return this.nodes.wrapper === void 0 ? false : this.nodes.wrapper.contains(e);
  }
  /**
   * Removes UI and its components
   */
  destroy() {
    var e;
    this.removeAllNodes(), (e = this.popover) == null || e.destroy(), this.popover = null;
  }
  /**
   * Making DOM
   */
  make() {
    this.nodes.wrapper = d.make("div", [
      this.CSS.inlineToolbar,
      ...this.isRtl ? [this.Editor.UI.CSS.editorRtlFix] : []
    ]), d.append(this.Editor.UI.nodes.wrapper, this.nodes.wrapper);
  }
  /**
   * Shows Inline Toolbar
   */
  async open() {
    var t;
    if (this.opened)
      return;
    this.opened = true, this.popover !== null && this.popover.destroy();
    const e = await this.getInlineTools();
    this.popover = new Ri({
      items: e,
      scopeElement: this.Editor.API.methods.ui.nodes.redactor,
      messages: {
        nothingFound: z.ui(K.ui.popover, "Nothing found"),
        search: z.ui(K.ui.popover, "Filter")
      }
    }), this.move(this.popover.size.width), (t = this.nodes.wrapper) == null || t.append(this.popover.getElement()), this.popover.show();
  }
  /**
   * Move Toolbar to the selected text
   *
   * @param popoverWidth - width of the toolbar popover
   */
  move(e) {
    const t = b.rect, o4 = this.Editor.UI.nodes.wrapper.getBoundingClientRect(), i = {
      x: t.x - o4.x,
      y: t.y + t.height - // + window.scrollY
      o4.top + this.toolbarVerticalMargin
    };
    i.x + e + o4.x > this.Editor.UI.contentRect.right && (i.x = this.Editor.UI.contentRect.right - e - o4.x), this.nodes.wrapper.style.left = Math.floor(i.x) + "px", this.nodes.wrapper.style.top = Math.floor(i.y) + "px";
  }
  /**
   * Clear orientation classes and reset position
   */
  reset() {
    this.nodes.wrapper.style.left = "0", this.nodes.wrapper.style.top = "0";
  }
  /**
   * Need to show Inline Toolbar or not
   */
  allowedToShow() {
    const e = ["IMG", "INPUT"], t = b.get(), o4 = b.text;
    if (!t || !t.anchorNode || t.isCollapsed || o4.length < 1)
      return false;
    const i = d.isElement(t.anchorNode) ? t.anchorNode : t.anchorNode.parentElement;
    if (i === null || t && e.includes(i.tagName) || i.closest('[contenteditable="true"]') === null)
      return false;
    const r3 = this.Editor.BlockManager.getBlock(t.anchorNode);
    return r3 ? r3.tool.inlineTools.size !== 0 : false;
  }
  /**
   *  Working with Tools
   *  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   */
  /**
   * Returns Inline Tools segregated by their appearance type: popover items and custom html elements.
   * Sets this.toolsInstances map
   */
  async getInlineTools() {
    const e = b.get(), t = this.Editor.BlockManager.getBlock(e.anchorNode), o4 = Array.from(t.tool.inlineTools.values()), i = [];
    this.toolsInstances === null && (this.toolsInstances = /* @__PURE__ */ new Map());
    for (let s4 = 0; s4 < o4.length; s4++) {
      const r3 = o4[s4], l3 = r3.create(), a6 = await l3.render();
      this.toolsInstances.set(r3.name, l3);
      const c2 = this.getToolShortcut(r3.name);
      if (c2)
        try {
          this.enableShortcuts(r3.name, c2);
        } catch {
        }
      const u2 = c2 !== void 0 ? tt(c2) : void 0, h4 = z.t(
        K.toolNames,
        r3.title || Le(r3.name)
      );
      [a6].flat().forEach((p2) => {
        var f2, k3;
        const g4 = {
          name: r3.name,
          onActivate: () => {
            this.toolClicked(l3);
          },
          hint: {
            title: h4,
            description: u2
          }
        };
        if (d.isElement(p2)) {
          const C3 = {
            ...g4,
            element: p2,
            type: A.Html
          };
          if (O(l3.renderActions)) {
            const S4 = l3.renderActions();
            C3.children = {
              isOpen: (f2 = l3.checkState) == null ? void 0 : f2.call(l3, b.get()),
              /** Disable keyboard navigation in actions, as it might conflict with enter press handling */
              isFlippable: false,
              items: [
                {
                  type: A.Html,
                  element: S4
                }
              ]
            };
          } else
            (k3 = l3.checkState) == null || k3.call(l3, b.get());
          i.push(C3);
        } else if (p2.type === A.Html)
          i.push({
            ...g4,
            ...p2,
            type: A.Html
          });
        else if (p2.type === A.Separator)
          i.push({
            type: A.Separator
          });
        else {
          const C3 = {
            ...g4,
            ...p2,
            type: A.Default
          };
          "children" in C3 && s4 !== 0 && i.push({
            type: A.Separator
          }), i.push(C3), "children" in C3 && s4 < o4.length - 1 && i.push({
            type: A.Separator
          });
        }
      });
    }
    return i;
  }
  /**
   * Get shortcut name for tool
   *
   * @param toolName — Tool name
   */
  getToolShortcut(e) {
    const { Tools: t } = this.Editor, o4 = t.inlineTools.get(e), i = t.internal.inlineTools;
    return Array.from(i.keys()).includes(e) ? this.inlineTools[e][io.Shortcut] : o4 == null ? void 0 : o4.shortcut;
  }
  /**
   * Enable Tool shortcut with Editor Shortcuts Module
   *
   * @param toolName - tool name
   * @param shortcut - shortcut according to the ShortcutData Module format
   */
  enableShortcuts(e, t) {
    he.add({
      name: t,
      handler: (o4) => {
        var s4;
        const { currentBlock: i } = this.Editor.BlockManager;
        i && i.tool.enabledInlineTools && (o4.preventDefault(), (s4 = this.popover) == null || s4.activateItemByName(e));
      },
      on: this.Editor.UI.nodes.redactor
    });
  }
  /**
   * Inline Tool button clicks
   *
   * @param tool - Tool's instance
   */
  toolClicked(e) {
    var o4;
    const t = b.range;
    (o4 = e.surround) == null || o4.call(e, t), this.checkToolsState();
  }
  /**
   * Check Tools` state by selection
   */
  checkToolsState() {
    var e;
    (e = this.toolsInstances) == null || e.forEach((t) => {
      var o4;
      (o4 = t.checkState) == null || o4.call(t, b.get());
    });
  }
  /**
   * Get inline tools tools
   * Tools that has isInline is true
   */
  get inlineTools() {
    const e = {};
    return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t, o4]) => {
      e[t] = o4.create();
    }), e;
  }
};
function so() {
  const n2 = window.getSelection();
  if (n2 === null)
    return [null, 0];
  let e = n2.focusNode, t = n2.focusOffset;
  return e === null ? [null, 0] : (e.nodeType !== Node.TEXT_NODE && e.childNodes.length > 0 && (e.childNodes[t] ? (e = e.childNodes[t], t = 0) : (e = e.childNodes[t - 1], t = e.textContent.length)), [e, t]);
}
function no(n2, e, t, o4) {
  const i = document.createRange();
  o4 === "left" ? (i.setStart(n2, 0), i.setEnd(e, t)) : (i.setStart(e, t), i.setEnd(n2, n2.childNodes.length));
  const s4 = i.cloneContents(), r3 = document.createElement("div");
  r3.appendChild(s4);
  const l3 = r3.textContent || "";
  return Lo(l3);
}
function Me(n2) {
  const e = d.getDeepestNode(n2);
  if (e === null || d.isEmpty(n2))
    return true;
  if (d.isNativeInput(e))
    return e.selectionEnd === 0;
  if (d.isEmpty(n2))
    return true;
  const [t, o4] = so();
  return t === null ? false : no(n2, t, o4, "left");
}
function Ae(n2) {
  const e = d.getDeepestNode(n2, true);
  if (e === null)
    return true;
  if (d.isNativeInput(e))
    return e.selectionEnd === e.value.length;
  const [t, o4] = so();
  return t === null ? false : no(n2, t, o4, "right");
}
var Gi = class extends y {
  /**
   * All keydowns on Block
   *
   * @param {KeyboardEvent} event - keydown
   */
  keydown(e) {
    switch (this.beforeKeydownProcessing(e), e.keyCode) {
      case w.BACKSPACE:
        this.backspace(e);
        break;
      case w.DELETE:
        this.delete(e);
        break;
      case w.ENTER:
        this.enter(e);
        break;
      case w.DOWN:
      case w.RIGHT:
        this.arrowRightAndDown(e);
        break;
      case w.UP:
      case w.LEFT:
        this.arrowLeftAndUp(e);
        break;
      case w.TAB:
        this.tabPressed(e);
        break;
    }
    e.key === "/" && !e.ctrlKey && !e.metaKey && this.slashPressed(e), e.code === "Slash" && (e.ctrlKey || e.metaKey) && (e.preventDefault(), this.commandSlashPressed());
  }
  /**
   * Fires on keydown before event processing
   *
   * @param {KeyboardEvent} event - keydown
   */
  beforeKeydownProcessing(e) {
    this.needToolbarClosing(e) && Mt(e.keyCode) && (this.Editor.Toolbar.close(), e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || this.Editor.BlockSelection.clearSelection(e));
  }
  /**
   * Key up on Block:
   * - shows Inline Toolbar if something selected
   * - shows conversion toolbar with 85% of block selection
   *
   * @param {KeyboardEvent} event - keyup event
   */
  keyup(e) {
    e.shiftKey || this.Editor.UI.checkEmptiness();
  }
  /**
   * Add drop target styles
   *
   * @param {DragEvent} event - drag over event
   */
  dragOver(e) {
    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
    t.dropTarget = true;
  }
  /**
   * Remove drop target style
   *
   * @param {DragEvent} event - drag leave event
   */
  dragLeave(e) {
    const t = this.Editor.BlockManager.getBlockByChildNode(e.target);
    t.dropTarget = false;
  }
  /**
   * Copying selected blocks
   * Before putting to the clipboard we sanitize all blocks and then copy to the clipboard
   *
   * @param {ClipboardEvent} event - clipboard event
   */
  handleCommandC(e) {
    const { BlockSelection: t } = this.Editor;
    t.anyBlockSelected && t.copySelectedBlocks(e);
  }
  /**
   * Copy and Delete selected Blocks
   *
   * @param {ClipboardEvent} event - clipboard event
   */
  handleCommandX(e) {
    const { BlockSelection: t, BlockManager: o4, Caret: i } = this.Editor;
    t.anyBlockSelected && t.copySelectedBlocks(e).then(() => {
      const s4 = o4.removeSelectedBlocks(), r3 = o4.insertDefaultBlockAtIndex(s4, true);
      i.setToBlock(r3, i.positions.START), t.clearSelection(e);
    });
  }
  /**
   * Tab pressed inside a Block.
   *
   * @param {KeyboardEvent} event - keydown
   */
  tabPressed(e) {
    const { InlineToolbar: t, Caret: o4 } = this.Editor;
    if (t.opened)
      return;
    (e.shiftKey ? o4.navigatePrevious(true) : o4.navigateNext(true)) && e.preventDefault();
  }
  /**
   * '/' + 'command' keydown inside a Block
   */
  commandSlashPressed() {
    this.Editor.BlockSelection.selectedBlocks.length > 1 || this.activateBlockSettings();
  }
  /**
   * '/' keydown inside a Block
   *
   * @param event - keydown
   */
  slashPressed(e) {
    this.Editor.BlockManager.currentBlock.isEmpty && (e.preventDefault(), this.Editor.Caret.insertContentAtCaretPosition("/"), this.activateToolbox());
  }
  /**
   * ENTER pressed on block
   *
   * @param {KeyboardEvent} event - keydown
   */
  enter(e) {
    const { BlockManager: t, UI: o4 } = this.Editor, i = t.currentBlock;
    if (i === void 0 || i.tool.isLineBreaksEnabled || o4.someToolbarOpened && o4.someFlipperButtonFocused || e.shiftKey && !Ge)
      return;
    let s4 = i;
    i.currentInput !== void 0 && Me(i.currentInput) && !i.hasMedia ? this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex) : i.currentInput && Ae(i.currentInput) ? s4 = this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex + 1) : s4 = this.Editor.BlockManager.split(), this.Editor.Caret.setToBlock(s4), this.Editor.Toolbar.moveAndOpen(s4), e.preventDefault();
  }
  /**
   * Handle backspace keydown on Block
   *
   * @param {KeyboardEvent} event - keydown
   */
  backspace(e) {
    const { BlockManager: t, Caret: o4 } = this.Editor, { currentBlock: i, previousBlock: s4 } = t;
    if (i === void 0 || !b.isCollapsed || !i.currentInput || !Me(i.currentInput))
      return;
    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.firstInput)) {
      o4.navigatePrevious();
      return;
    }
    if (s4 === null)
      return;
    if (s4.isEmpty) {
      t.removeBlock(s4);
      return;
    }
    if (i.isEmpty) {
      t.removeBlock(i);
      const a6 = t.currentBlock;
      o4.setToBlock(a6, o4.positions.END);
      return;
    }
    wt(s4, i) ? this.mergeBlocks(s4, i) : o4.setToBlock(s4, o4.positions.END);
  }
  /**
   * Handles delete keydown on Block
   * Removes char after the caret.
   * If caret is at the end of the block, merge next block with current
   *
   * @param {KeyboardEvent} event - keydown
   */
  delete(e) {
    const { BlockManager: t, Caret: o4 } = this.Editor, { currentBlock: i, nextBlock: s4 } = t;
    if (!b.isCollapsed || !Ae(i.currentInput))
      return;
    if (e.preventDefault(), this.Editor.Toolbar.close(), !(i.currentInput === i.lastInput)) {
      o4.navigateNext();
      return;
    }
    if (s4 === null)
      return;
    if (s4.isEmpty) {
      t.removeBlock(s4);
      return;
    }
    if (i.isEmpty) {
      t.removeBlock(i), o4.setToBlock(s4, o4.positions.START);
      return;
    }
    wt(i, s4) ? this.mergeBlocks(i, s4) : o4.setToBlock(s4, o4.positions.START);
  }
  /**
   * Merge passed Blocks
   *
   * @param targetBlock - to which Block we want to merge
   * @param blockToMerge - what Block we want to merge
   */
  mergeBlocks(e, t) {
    const { BlockManager: o4, Caret: i, Toolbar: s4 } = this.Editor;
    i.createShadow(e.lastInput), o4.mergeBlocks(e, t).then(() => {
      i.restoreCaret(e.pluginsContent), s4.close();
    });
  }
  /**
   * Handle right and down keyboard keys
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  arrowRightAndDown(e) {
    const t = le.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === w.TAB);
    if (this.Editor.UI.someToolbarOpened && t)
      return;
    this.Editor.Toolbar.close();
    const { currentBlock: o4 } = this.Editor.BlockManager, s4 = ((o4 == null ? void 0 : o4.currentInput) !== void 0 ? Ae(o4.currentInput) : void 0) || this.Editor.BlockSelection.anyBlockSelected;
    if (e.shiftKey && e.keyCode === w.DOWN && s4) {
      this.Editor.CrossBlockSelection.toggleBlockSelectedState();
      return;
    }
    if (e.keyCode === w.DOWN || e.keyCode === w.RIGHT && !this.isRtl ? this.Editor.Caret.navigateNext() : this.Editor.Caret.navigatePrevious()) {
      e.preventDefault();
      return;
    }
    Oe(() => {
      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
    }, 20)(), this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * Handle left and up keyboard keys
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  arrowLeftAndUp(e) {
    if (this.Editor.UI.someToolbarOpened) {
      if (le.usedKeys.includes(e.keyCode) && (!e.shiftKey || e.keyCode === w.TAB))
        return;
      this.Editor.UI.closeAllToolbars();
    }
    this.Editor.Toolbar.close();
    const { currentBlock: t } = this.Editor.BlockManager, i = ((t == null ? void 0 : t.currentInput) !== void 0 ? Me(t.currentInput) : void 0) || this.Editor.BlockSelection.anyBlockSelected;
    if (e.shiftKey && e.keyCode === w.UP && i) {
      this.Editor.CrossBlockSelection.toggleBlockSelectedState(false);
      return;
    }
    if (e.keyCode === w.UP || e.keyCode === w.LEFT && !this.isRtl ? this.Editor.Caret.navigatePrevious() : this.Editor.Caret.navigateNext()) {
      e.preventDefault();
      return;
    }
    Oe(() => {
      this.Editor.BlockManager.currentBlock && this.Editor.BlockManager.currentBlock.updateCurrentInput();
    }, 20)(), this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * Cases when we need to close Toolbar
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  needToolbarClosing(e) {
    const t = e.keyCode === w.ENTER && this.Editor.Toolbar.toolbox.opened, o4 = e.keyCode === w.ENTER && this.Editor.BlockSettings.opened, i = e.keyCode === w.ENTER && this.Editor.InlineToolbar.opened, s4 = e.keyCode === w.TAB;
    return !(e.shiftKey || s4 || t || o4 || i);
  }
  /**
   * If Toolbox is not open, then just open it and show plus button
   */
  activateToolbox() {
    this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.Toolbar.toolbox.open();
  }
  /**
   * Open Toolbar and show BlockSettings before flipping Tools
   */
  activateBlockSettings() {
    this.Editor.Toolbar.opened || this.Editor.Toolbar.moveAndOpen(), this.Editor.BlockSettings.opened || this.Editor.BlockSettings.open();
  }
};
var Xe = class {
  /**
   * @class
   * @param {HTMLElement} workingArea — editor`s working node
   */
  constructor(e) {
    this.blocks = [], this.workingArea = e;
  }
  /**
   * Get length of Block instances array
   *
   * @returns {number}
   */
  get length() {
    return this.blocks.length;
  }
  /**
   * Get Block instances array
   *
   * @returns {Block[]}
   */
  get array() {
    return this.blocks;
  }
  /**
   * Get blocks html elements array
   *
   * @returns {HTMLElement[]}
   */
  get nodes() {
    return At(this.workingArea.children);
  }
  /**
   * Proxy trap to implement array-like setter
   *
   * @example
   * blocks[0] = new Block(...)
   * @param {Blocks} instance — Blocks instance
   * @param {PropertyKey} property — block index or any Blocks class property key to set
   * @param {Block} value — value to set
   * @returns {boolean}
   */
  static set(e, t, o4) {
    return isNaN(Number(t)) ? (Reflect.set(e, t, o4), true) : (e.insert(+t, o4), true);
  }
  /**
   * Proxy trap to implement array-like getter
   *
   * @param {Blocks} instance — Blocks instance
   * @param {PropertyKey} property — Blocks class property key
   * @returns {Block|*}
   */
  static get(e, t) {
    return isNaN(Number(t)) ? Reflect.get(e, t) : e.get(+t);
  }
  /**
   * Push new Block to the blocks array and append it to working area
   *
   * @param {Block} block - Block to add
   */
  push(e) {
    this.blocks.push(e), this.insertToDOM(e);
  }
  /**
   * Swaps blocks with indexes first and second
   *
   * @param {number} first - first block index
   * @param {number} second - second block index
   * @deprecated — use 'move' instead
   */
  swap(e, t) {
    const o4 = this.blocks[t];
    d.swap(this.blocks[e].holder, o4.holder), this.blocks[t] = this.blocks[e], this.blocks[e] = o4;
  }
  /**
   * Move a block from one to another index
   *
   * @param {number} toIndex - new index of the block
   * @param {number} fromIndex - block to move
   */
  move(e, t) {
    const o4 = this.blocks.splice(t, 1)[0], i = e - 1, s4 = Math.max(0, i), r3 = this.blocks[s4];
    e > 0 ? this.insertToDOM(o4, "afterend", r3) : this.insertToDOM(o4, "beforebegin", r3), this.blocks.splice(e, 0, o4);
    const l3 = this.composeBlockEvent("move", {
      fromIndex: t,
      toIndex: e
    });
    o4.call(J.MOVED, l3);
  }
  /**
   * Insert new Block at passed index
   *
   * @param {number} index — index to insert Block
   * @param {Block} block — Block to insert
   * @param {boolean} replace — it true, replace block on given index
   */
  insert(e, t, o4 = false) {
    if (!this.length) {
      this.push(t);
      return;
    }
    e > this.length && (e = this.length), o4 && (this.blocks[e].holder.remove(), this.blocks[e].call(J.REMOVED));
    const i = o4 ? 1 : 0;
    if (this.blocks.splice(e, i, t), e > 0) {
      const s4 = this.blocks[e - 1];
      this.insertToDOM(t, "afterend", s4);
    } else {
      const s4 = this.blocks[e + 1];
      s4 ? this.insertToDOM(t, "beforebegin", s4) : this.insertToDOM(t);
    }
  }
  /**
   * Replaces block under passed index with passed block
   *
   * @param index - index of existed block
   * @param block - new block
   */
  replace(e, t) {
    if (this.blocks[e] === void 0)
      throw Error("Incorrect index");
    this.blocks[e].holder.replaceWith(t.holder), this.blocks[e] = t;
  }
  /**
   * Inserts several blocks at once
   *
   * @param blocks - blocks to insert
   * @param index - index to insert blocks at
   */
  insertMany(e, t) {
    const o4 = new DocumentFragment();
    for (const i of e)
      o4.appendChild(i.holder);
    if (this.length > 0) {
      if (t > 0) {
        const i = Math.min(t - 1, this.length - 1);
        this.blocks[i].holder.after(o4);
      } else
        t === 0 && this.workingArea.prepend(o4);
      this.blocks.splice(t, 0, ...e);
    } else
      this.blocks.push(...e), this.workingArea.appendChild(o4);
    e.forEach((i) => i.call(J.RENDERED));
  }
  /**
   * Remove block
   *
   * @param {number} index - index of Block to remove
   */
  remove(e) {
    isNaN(e) && (e = this.length - 1), this.blocks[e].holder.remove(), this.blocks[e].call(J.REMOVED), this.blocks.splice(e, 1);
  }
  /**
   * Remove all blocks
   */
  removeAll() {
    this.workingArea.innerHTML = "", this.blocks.forEach((e) => e.call(J.REMOVED)), this.blocks.length = 0;
  }
  /**
   * Insert Block after passed target
   *
   * @todo decide if this method is necessary
   * @param {Block} targetBlock — target after which Block should be inserted
   * @param {Block} newBlock — Block to insert
   */
  insertAfter(e, t) {
    const o4 = this.blocks.indexOf(e);
    this.insert(o4 + 1, t);
  }
  /**
   * Get Block by index
   *
   * @param {number} index — Block index
   * @returns {Block}
   */
  get(e) {
    return this.blocks[e];
  }
  /**
   * Return index of passed Block
   *
   * @param {Block} block - Block to find
   * @returns {number}
   */
  indexOf(e) {
    return this.blocks.indexOf(e);
  }
  /**
   * Insert new Block into DOM
   *
   * @param {Block} block - Block to insert
   * @param {InsertPosition} position — insert position (if set, will use insertAdjacentElement)
   * @param {Block} target — Block related to position
   */
  insertToDOM(e, t, o4) {
    t ? o4.holder.insertAdjacentElement(t, e.holder) : this.workingArea.appendChild(e.holder), e.call(J.RENDERED);
  }
  /**
   * Composes Block event with passed type and details
   *
   * @param {string} type - event type
   * @param {object} detail - event detail
   */
  composeBlockEvent(e, t) {
    return new CustomEvent(e, {
      detail: t
    });
  }
};
var Tt = "block-removed";
var Ct = "block-added";
var Ji = "block-moved";
var St = "block-changed";
var Qi = class {
  constructor() {
    this.completed = Promise.resolve();
  }
  /**
   * Add new promise to queue
   *
   * @param operation - promise should be added to queue
   */
  add(e) {
    return new Promise((t, o4) => {
      this.completed = this.completed.then(e).then(t).catch(o4);
    });
  }
};
var es = class extends y {
  constructor() {
    super(...arguments), this._currentBlockIndex = -1, this._blocks = null;
  }
  /**
   * Returns current Block index
   *
   * @returns {number}
   */
  get currentBlockIndex() {
    return this._currentBlockIndex;
  }
  /**
   * Set current Block index and fire Block lifecycle callbacks
   *
   * @param {number} newIndex - index of Block to set as current
   */
  set currentBlockIndex(e) {
    this._currentBlockIndex = e;
  }
  /**
   * returns first Block
   *
   * @returns {Block}
   */
  get firstBlock() {
    return this._blocks[0];
  }
  /**
   * returns last Block
   *
   * @returns {Block}
   */
  get lastBlock() {
    return this._blocks[this._blocks.length - 1];
  }
  /**
   * Get current Block instance
   *
   * @returns {Block}
   */
  get currentBlock() {
    return this._blocks[this.currentBlockIndex];
  }
  /**
   * Set passed Block as a current
   *
   * @param block - block to set as a current
   */
  set currentBlock(e) {
    this.currentBlockIndex = this.getBlockIndex(e);
  }
  /**
   * Returns next Block instance
   *
   * @returns {Block|null}
   */
  get nextBlock() {
    return this.currentBlockIndex === this._blocks.length - 1 ? null : this._blocks[this.currentBlockIndex + 1];
  }
  /**
   * Return first Block with inputs after current Block
   *
   * @returns {Block | undefined}
   */
  get nextContentfulBlock() {
    return this.blocks.slice(this.currentBlockIndex + 1).find((t) => !!t.inputs.length);
  }
  /**
   * Return first Block with inputs before current Block
   *
   * @returns {Block | undefined}
   */
  get previousContentfulBlock() {
    return this.blocks.slice(0, this.currentBlockIndex).reverse().find((t) => !!t.inputs.length);
  }
  /**
   * Returns previous Block instance
   *
   * @returns {Block|null}
   */
  get previousBlock() {
    return this.currentBlockIndex === 0 ? null : this._blocks[this.currentBlockIndex - 1];
  }
  /**
   * Get array of Block instances
   *
   * @returns {Block[]} {@link Blocks#array}
   */
  get blocks() {
    return this._blocks.array;
  }
  /**
   * Check if each Block is empty
   *
   * @returns {boolean}
   */
  get isEditorEmpty() {
    return this.blocks.every((e) => e.isEmpty);
  }
  /**
   * Should be called after Editor.UI preparation
   * Define this._blocks property
   */
  prepare() {
    const e = new Xe(this.Editor.UI.nodes.redactor);
    this._blocks = new Proxy(e, {
      set: Xe.set,
      get: Xe.get
    }), this.listeners.on(
      document,
      "copy",
      (t) => this.Editor.BlockEvents.handleCommandC(t)
    );
  }
  /**
   * Toggle read-only state
   *
   * If readOnly is true:
   *  - Unbind event handlers from created Blocks
   *
   * if readOnly is false:
   *  - Bind event handlers to all existing Blocks
   *
   * @param {boolean} readOnlyEnabled - "read only" state
   */
  toggleReadOnly(e) {
    e ? this.disableModuleBindings() : this.enableModuleBindings();
  }
  /**
   * Creates Block instance by tool name
   *
   * @param {object} options - block creation options
   * @param {string} options.tool - tools passed in editor config {@link EditorConfig#tools}
   * @param {string} [options.id] - unique id for this block
   * @param {BlockToolData} [options.data] - constructor params
   * @returns {Block}
   */
  composeBlock({
    tool: e,
    data: t = {},
    id: o4 = void 0,
    tunes: i = {}
  }) {
    const s4 = this.Editor.ReadOnly.isEnabled, r3 = this.Editor.Tools.blockTools.get(e), l3 = new D({
      id: o4,
      data: t,
      tool: r3,
      api: this.Editor.API,
      readOnly: s4,
      tunesData: i
    }, this.eventsDispatcher);
    return s4 || window.requestIdleCallback(() => {
      this.bindBlockEvents(l3);
    }, { timeout: 2e3 }), l3;
  }
  /**
   * Insert new block into _blocks
   *
   * @param {object} options - insert options
   * @param {string} [options.id] - block's unique id
   * @param {string} [options.tool] - plugin name, by default method inserts the default block type
   * @param {object} [options.data] - plugin data
   * @param {number} [options.index] - index where to insert new Block
   * @param {boolean} [options.needToFocus] - flag shows if needed to update current Block index
   * @param {boolean} [options.replace] - flag shows if block by passed index should be replaced with inserted one
   * @returns {Block}
   */
  insert({
    id: e = void 0,
    tool: t = this.config.defaultBlock,
    data: o4 = {},
    index: i,
    needToFocus: s4 = true,
    replace: r3 = false,
    tunes: l3 = {}
  } = {}) {
    let a6 = i;
    a6 === void 0 && (a6 = this.currentBlockIndex + (r3 ? 0 : 1));
    const c2 = this.composeBlock({
      id: e,
      tool: t,
      data: o4,
      tunes: l3
    });
    return r3 && this.blockDidMutated(Tt, this.getBlockByIndex(a6), {
      index: a6
    }), this._blocks.insert(a6, c2, r3), this.blockDidMutated(Ct, c2, {
      index: a6
    }), s4 ? this.currentBlockIndex = a6 : a6 <= this.currentBlockIndex && this.currentBlockIndex++, c2;
  }
  /**
   * Inserts several blocks at once
   *
   * @param blocks - blocks to insert
   * @param index - index where to insert
   */
  insertMany(e, t = 0) {
    this._blocks.insertMany(e, t);
  }
  /**
   * Update Block data.
   *
   * Currently we don't have an 'update' method in the Tools API, so we just create a new block with the same id and type
   * Should not trigger 'block-removed' or 'block-added' events.
   *
   * If neither data nor tunes is provided, return the provided block instead.
   *
   * @param block - block to update
   * @param data - (optional) new data
   * @param tunes - (optional) tune data
   */
  async update(e, t, o4) {
    if (!t && !o4)
      return e;
    const i = await e.data, s4 = this.composeBlock({
      id: e.id,
      tool: e.name,
      data: Object.assign({}, i, t ?? {}),
      tunes: o4 ?? e.tunes
    }), r3 = this.getBlockIndex(e);
    return this._blocks.replace(r3, s4), this.blockDidMutated(St, s4, {
      index: r3
    }), s4;
  }
  /**
   * Replace passed Block with the new one with specified Tool and data
   *
   * @param block - block to replace
   * @param newTool - new Tool name
   * @param data - new Tool data
   */
  replace(e, t, o4) {
    const i = this.getBlockIndex(e);
    return this.insert({
      tool: t,
      data: o4,
      index: i,
      replace: true
    });
  }
  /**
   * Insert pasted content. Call onPaste callback after insert.
   *
   * @param {string} toolName - name of Tool to insert
   * @param {PasteEvent} pasteEvent - pasted data
   * @param {boolean} replace - should replace current block
   */
  paste(e, t, o4 = false) {
    const i = this.insert({
      tool: e,
      replace: o4
    });
    try {
      window.requestIdleCallback(() => {
        i.call(J.ON_PASTE, t);
      });
    } catch (s4) {
      I(`${e}: onPaste callback call is failed`, "error", s4);
    }
    return i;
  }
  /**
   * Insert new default block at passed index
   *
   * @param {number} index - index where Block should be inserted
   * @param {boolean} needToFocus - if true, updates current Block index
   *
   * TODO: Remove method and use insert() with index instead (?)
   * @returns {Block} inserted Block
   */
  insertDefaultBlockAtIndex(e, t = false) {
    const o4 = this.composeBlock({ tool: this.config.defaultBlock });
    return this._blocks[e] = o4, this.blockDidMutated(Ct, o4, {
      index: e
    }), t ? this.currentBlockIndex = e : e <= this.currentBlockIndex && this.currentBlockIndex++, o4;
  }
  /**
   * Always inserts at the end
   *
   * @returns {Block}
   */
  insertAtEnd() {
    return this.currentBlockIndex = this.blocks.length - 1, this.insert();
  }
  /**
   * Merge two blocks
   *
   * @param {Block} targetBlock - previous block will be append to this block
   * @param {Block} blockToMerge - block that will be merged with target block
   * @returns {Promise} - the sequence that can be continued
   */
  async mergeBlocks(e, t) {
    let o4;
    if (e.name === t.name && e.mergeable) {
      const i = await t.data;
      if (V(i)) {
        console.error("Could not merge Block. Failed to extract original Block data.");
        return;
      }
      const [s4] = it([i], e.tool.sanitizeConfig);
      o4 = s4;
    } else if (e.mergeable && _e(t, "export") && _e(e, "import")) {
      const i = await t.exportDataAsString(), s4 = q(i, e.tool.sanitizeConfig);
      o4 = xt(s4, e.tool.conversionConfig);
    }
    o4 !== void 0 && (await e.mergeWith(o4), this.removeBlock(t), this.currentBlockIndex = this._blocks.indexOf(e));
  }
  /**
   * Remove passed Block
   *
   * @param block - Block to remove
   * @param addLastBlock - if true, adds new default block at the end. @todo remove this logic and use event-bus instead
   */
  removeBlock(e, t = true) {
    return new Promise((o4) => {
      const i = this._blocks.indexOf(e);
      if (!this.validateIndex(i))
        throw new Error("Can't find a Block to remove");
      e.destroy(), this._blocks.remove(i), this.blockDidMutated(Tt, e, {
        index: i
      }), this.currentBlockIndex >= i && this.currentBlockIndex--, this.blocks.length ? i === 0 && (this.currentBlockIndex = 0) : (this.unsetCurrentBlock(), t && this.insert()), o4();
    });
  }
  /**
   * Remove only selected Blocks
   * and returns first Block index where started removing...
   *
   * @returns {number|undefined}
   */
  removeSelectedBlocks() {
    let e;
    for (let t = this.blocks.length - 1; t >= 0; t--)
      this.blocks[t].selected && (this.removeBlock(this.blocks[t]), e = t);
    return e;
  }
  /**
   * Attention!
   * After removing insert the new default typed Block and focus on it
   * Removes all blocks
   */
  removeAllBlocks() {
    for (let e = this.blocks.length - 1; e >= 0; e--)
      this._blocks.remove(e);
    this.unsetCurrentBlock(), this.insert(), this.currentBlock.firstInput.focus();
  }
  /**
   * Split current Block
   * 1. Extract content from Caret position to the Block`s end
   * 2. Insert a new Block below current one with extracted content
   *
   * @returns {Block}
   */
  split() {
    const e = this.Editor.Caret.extractFragmentFromCaretPosition(), t = d.make("div");
    t.appendChild(e);
    const o4 = {
      text: d.isEmpty(t) ? "" : t.innerHTML
    };
    return this.insert({ data: o4 });
  }
  /**
   * Returns Block by passed index
   *
   * @param {number} index - index to get. -1 to get last
   * @returns {Block}
   */
  getBlockByIndex(e) {
    return e === -1 && (e = this._blocks.length - 1), this._blocks[e];
  }
  /**
   * Returns an index for passed Block
   *
   * @param block - block to find index
   */
  getBlockIndex(e) {
    return this._blocks.indexOf(e);
  }
  /**
   * Returns the Block by passed id
   *
   * @param id - id of block to get
   * @returns {Block}
   */
  getBlockById(e) {
    return this._blocks.array.find((t) => t.id === e);
  }
  /**
   * Get Block instance by html element
   *
   * @param {Node} element - html element to get Block by
   */
  getBlock(e) {
    d.isElement(e) || (e = e.parentNode);
    const t = this._blocks.nodes, o4 = e.closest(`.${D.CSS.wrapper}`), i = t.indexOf(o4);
    if (i >= 0)
      return this._blocks[i];
  }
  /**
   * 1) Find first-level Block from passed child Node
   * 2) Mark it as current
   *
   * @param {Node} childNode - look ahead from this node.
   * @returns {Block | undefined} can return undefined in case when the passed child note is not a part of the current editor instance
   */
  setCurrentBlockByChildNode(e) {
    d.isElement(e) || (e = e.parentNode);
    const t = e.closest(`.${D.CSS.wrapper}`);
    if (!t)
      return;
    const o4 = t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);
    if (o4 != null && o4.isEqualNode(this.Editor.UI.nodes.wrapper))
      return this.currentBlockIndex = this._blocks.nodes.indexOf(t), this.currentBlock.updateCurrentInput(), this.currentBlock;
  }
  /**
   * Return block which contents passed node
   *
   * @param {Node} childNode - node to get Block by
   * @returns {Block}
   */
  getBlockByChildNode(e) {
    if (!e || !(e instanceof Node))
      return;
    d.isElement(e) || (e = e.parentNode);
    const t = e.closest(`.${D.CSS.wrapper}`);
    return this.blocks.find((o4) => o4.holder === t);
  }
  /**
   * Swap Blocks Position
   *
   * @param {number} fromIndex - index of first block
   * @param {number} toIndex - index of second block
   * @deprecated — use 'move' instead
   */
  swap(e, t) {
    this._blocks.swap(e, t), this.currentBlockIndex = t;
  }
  /**
   * Move a block to a new index
   *
   * @param {number} toIndex - index where to move Block
   * @param {number} fromIndex - index of Block to move
   */
  move(e, t = this.currentBlockIndex) {
    if (isNaN(e) || isNaN(t)) {
      I("Warning during 'move' call: incorrect indices provided.", "warn");
      return;
    }
    if (!this.validateIndex(e) || !this.validateIndex(t)) {
      I("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.", "warn");
      return;
    }
    this._blocks.move(e, t), this.currentBlockIndex = e, this.blockDidMutated(Ji, this.currentBlock, {
      fromIndex: t,
      toIndex: e
    });
  }
  /**
   * Converts passed Block to the new Tool
   * Uses Conversion Config
   *
   * @param blockToConvert - Block that should be converted
   * @param targetToolName - name of the Tool to convert to
   * @param blockDataOverrides - optional new Block data overrides
   */
  async convert(e, t, o4) {
    if (!await e.save())
      throw new Error("Could not convert Block. Failed to extract original Block data.");
    const s4 = this.Editor.Tools.blockTools.get(t);
    if (!s4)
      throw new Error(`Could not convert Block. Tool \xAB${t}\xBB not found.`);
    const r3 = await e.exportDataAsString(), l3 = q(
      r3,
      s4.sanitizeConfig
    );
    let a6 = xt(l3, s4.conversionConfig);
    return o4 && (a6 = Object.assign(a6, o4)), this.replace(e, s4.name, a6);
  }
  /**
   * Sets current Block Index -1 which means unknown
   * and clear highlights
   */
  unsetCurrentBlock() {
    this.currentBlockIndex = -1;
  }
  /**
   * Clears Editor
   *
   * @param {boolean} needToAddDefaultBlock - 1) in internal calls (for example, in api.blocks.render)
   *                                             we don't need to add an empty default block
   *                                        2) in api.blocks.clear we should add empty block
   */
  async clear(e = false) {
    const t = new Qi();
    this.blocks.forEach((o4) => {
      t.add(async () => {
        await this.removeBlock(o4, false);
      });
    }), await t.completed, this.unsetCurrentBlock(), e && this.insert(), this.Editor.UI.checkEmptiness();
  }
  /**
   * Cleans up all the block tools' resources
   * This is called when editor is destroyed
   */
  async destroy() {
    await Promise.all(this.blocks.map((e) => e.destroy()));
  }
  /**
   * Bind Block events
   *
   * @param {Block} block - Block to which event should be bound
   */
  bindBlockEvents(e) {
    const { BlockEvents: t } = this.Editor;
    this.readOnlyMutableListeners.on(e.holder, "keydown", (o4) => {
      t.keydown(o4);
    }), this.readOnlyMutableListeners.on(e.holder, "keyup", (o4) => {
      t.keyup(o4);
    }), this.readOnlyMutableListeners.on(e.holder, "dragover", (o4) => {
      t.dragOver(o4);
    }), this.readOnlyMutableListeners.on(e.holder, "dragleave", (o4) => {
      t.dragLeave(o4);
    }), e.on("didMutated", (o4) => this.blockDidMutated(St, o4, {
      index: this.getBlockIndex(o4)
    }));
  }
  /**
   * Disable mutable handlers and bindings
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Enables all module handlers and bindings for all Blocks
   */
  enableModuleBindings() {
    this.readOnlyMutableListeners.on(
      document,
      "cut",
      (e) => this.Editor.BlockEvents.handleCommandX(e)
    ), this.blocks.forEach((e) => {
      this.bindBlockEvents(e);
    });
  }
  /**
   * Validates that the given index is not lower than 0 or higher than the amount of blocks
   *
   * @param {number} index - index of blocks array to validate
   * @returns {boolean}
   */
  validateIndex(e) {
    return !(e < 0 || e >= this._blocks.length);
  }
  /**
   * Block mutation callback
   *
   * @param mutationType - what happened with block
   * @param block - mutated block
   * @param detailData - additional data to pass with change event
   */
  blockDidMutated(e, t, o4) {
    const i = new CustomEvent(e, {
      detail: {
        target: new G(t),
        ...o4
      }
    });
    return this.eventsDispatcher.emit(Dt, {
      event: i
    }), t;
  }
};
var ts = class extends y {
  constructor() {
    super(...arguments), this.anyBlockSelectedCache = null, this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
  }
  /**
   * Sanitizer Config
   *
   * @returns {SanitizerConfig}
   */
  get sanitizerConfig() {
    return {
      p: {},
      h1: {},
      h2: {},
      h3: {},
      h4: {},
      h5: {},
      h6: {},
      ol: {},
      ul: {},
      li: {},
      br: true,
      img: {
        src: true,
        width: true,
        height: true
      },
      a: {
        href: true
      },
      b: {},
      i: {},
      u: {}
    };
  }
  /**
   * Flag that identifies all Blocks selection
   *
   * @returns {boolean}
   */
  get allBlocksSelected() {
    const { BlockManager: e } = this.Editor;
    return e.blocks.every((t) => t.selected === true);
  }
  /**
   * Set selected all blocks
   *
   * @param {boolean} state - state to set
   */
  set allBlocksSelected(e) {
    const { BlockManager: t } = this.Editor;
    t.blocks.forEach((o4) => {
      o4.selected = e;
    }), this.clearCache();
  }
  /**
   * Flag that identifies any Block selection
   *
   * @returns {boolean}
   */
  get anyBlockSelected() {
    const { BlockManager: e } = this.Editor;
    return this.anyBlockSelectedCache === null && (this.anyBlockSelectedCache = e.blocks.some((t) => t.selected === true)), this.anyBlockSelectedCache;
  }
  /**
   * Return selected Blocks array
   *
   * @returns {Block[]}
   */
  get selectedBlocks() {
    return this.Editor.BlockManager.blocks.filter((e) => e.selected);
  }
  /**
   * Module Preparation
   * Registers Shortcuts CMD+A and CMD+C
   * to select all and copy them
   */
  prepare() {
    this.selection = new b(), he.add({
      name: "CMD+A",
      handler: (e) => {
        const { BlockManager: t, ReadOnly: o4 } = this.Editor;
        if (o4.isEnabled) {
          e.preventDefault(), this.selectAllBlocks();
          return;
        }
        t.currentBlock && this.handleCommandA(e);
      },
      on: this.Editor.UI.nodes.redactor
    });
  }
  /**
   * Toggle read-only state
   *
   *  - Remove all ranges
   *  - Unselect all Blocks
   */
  toggleReadOnly() {
    b.get().removeAllRanges(), this.allBlocksSelected = false;
  }
  /**
   * Remove selection of Block
   *
   * @param {number?} index - Block index according to the BlockManager's indexes
   */
  unSelectBlockByIndex(e) {
    const { BlockManager: t } = this.Editor;
    let o4;
    isNaN(e) ? o4 = t.currentBlock : o4 = t.getBlockByIndex(e), o4.selected = false, this.clearCache();
  }
  /**
   * Clear selection from Blocks
   *
   * @param {Event} reason - event caused clear of selection
   * @param {boolean} restoreSelection - if true, restore saved selection
   */
  clearSelection(e, t = false) {
    const { BlockManager: o4, Caret: i, RectangleSelection: s4 } = this.Editor;
    this.needToSelectAll = false, this.nativeInputSelected = false, this.readyToBlockSelection = false;
    const r3 = e && e instanceof KeyboardEvent, l3 = r3 && Mt(e.keyCode);
    if (this.anyBlockSelected && r3 && l3 && !b.isSelectionExists) {
      const a6 = o4.removeSelectedBlocks();
      o4.insertDefaultBlockAtIndex(a6, true), i.setToBlock(o4.currentBlock), Oe(() => {
        const c2 = e.key;
        i.insertContentAtCaretPosition(c2.length > 1 ? "" : c2);
      }, 20)();
    }
    if (this.Editor.CrossBlockSelection.clear(e), !this.anyBlockSelected || s4.isRectActivated()) {
      this.Editor.RectangleSelection.clearSelection();
      return;
    }
    t && this.selection.restore(), this.allBlocksSelected = false;
  }
  /**
   * Reduce each Block and copy its content
   *
   * @param {ClipboardEvent} e - copy/cut event
   * @returns {Promise<void>}
   */
  copySelectedBlocks(e) {
    e.preventDefault();
    const t = d.make("div");
    this.selectedBlocks.forEach((s4) => {
      const r3 = q(s4.holder.innerHTML, this.sanitizerConfig), l3 = d.make("p");
      l3.innerHTML = r3, t.appendChild(l3);
    });
    const o4 = Array.from(t.childNodes).map((s4) => s4.textContent).join(`

`), i = t.innerHTML;
    return e.clipboardData.setData("text/plain", o4), e.clipboardData.setData("text/html", i), Promise.all(this.selectedBlocks.map((s4) => s4.save())).then((s4) => {
      try {
        e.clipboardData.setData(this.Editor.Paste.MIME_TYPE, JSON.stringify(s4));
      } catch {
      }
    });
  }
  /**
   * Select Block by its index
   *
   * @param {number?} index - Block index according to the BlockManager's indexes
   */
  selectBlockByIndex(e) {
    const { BlockManager: t } = this.Editor, o4 = t.getBlockByIndex(e);
    o4 !== void 0 && this.selectBlock(o4);
  }
  /**
   * Select passed Block
   *
   * @param {Block} block - Block to select
   */
  selectBlock(e) {
    this.selection.save(), b.get().removeAllRanges(), e.selected = true, this.clearCache(), this.Editor.InlineToolbar.close();
  }
  /**
   * Remove selection from passed Block
   *
   * @param {Block} block - Block to unselect
   */
  unselectBlock(e) {
    e.selected = false, this.clearCache();
  }
  /**
   * Clear anyBlockSelected cache
   */
  clearCache() {
    this.anyBlockSelectedCache = null;
  }
  /**
   * Module destruction
   * De-registers Shortcut CMD+A
   */
  destroy() {
    he.remove(this.Editor.UI.nodes.redactor, "CMD+A");
  }
  /**
   * First CMD+A selects all input content by native behaviour,
   * next CMD+A keypress selects all blocks
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  handleCommandA(e) {
    if (this.Editor.RectangleSelection.clearSelection(), d.isNativeInput(e.target) && !this.readyToBlockSelection) {
      this.readyToBlockSelection = true;
      return;
    }
    const t = this.Editor.BlockManager.getBlock(e.target), o4 = t.inputs;
    if (o4.length > 1 && !this.readyToBlockSelection) {
      this.readyToBlockSelection = true;
      return;
    }
    if (o4.length === 1 && !this.needToSelectAll) {
      this.needToSelectAll = true;
      return;
    }
    this.needToSelectAll ? (e.preventDefault(), this.selectAllBlocks(), this.needToSelectAll = false, this.readyToBlockSelection = false) : this.readyToBlockSelection && (e.preventDefault(), this.selectBlock(t), this.needToSelectAll = true);
  }
  /**
   * Select All Blocks
   * Each Block has selected setter that makes Block copyable
   */
  selectAllBlocks() {
    this.selection.save(), b.get().removeAllRanges(), this.allBlocksSelected = true, this.Editor.InlineToolbar.close();
  }
};
var Re = class _Re extends y {
  /**
   * Allowed caret positions in input
   *
   * @static
   * @returns {{START: string, END: string, DEFAULT: string}}
   */
  get positions() {
    return {
      START: "start",
      END: "end",
      DEFAULT: "default"
    };
  }
  /**
   * Elements styles that can be useful for Caret Module
   */
  static get CSS() {
    return {
      shadowCaret: "cdx-shadow-caret"
    };
  }
  /**
   * Method gets Block instance and puts caret to the text node with offset
   * There two ways that method applies caret position:
   *   - first found text node: sets at the beginning, but you can pass an offset
   *   - last found text node: sets at the end of the node. Also, you can customize the behaviour
   *
   * @param {Block} block - Block class
   * @param {string} position - position where to set caret.
   *                            If default - leave default behaviour and apply offset if it's passed
   * @param {number} offset - caret offset regarding to the text node
   */
  setToBlock(e, t = this.positions.DEFAULT, o4 = 0) {
    var c2;
    const { BlockManager: i, BlockSelection: s4 } = this.Editor;
    if (s4.clearSelection(), !e.focusable) {
      (c2 = window.getSelection()) == null || c2.removeAllRanges(), s4.selectBlock(e), i.currentBlock = e;
      return;
    }
    let r3;
    switch (t) {
      case this.positions.START:
        r3 = e.firstInput;
        break;
      case this.positions.END:
        r3 = e.lastInput;
        break;
      default:
        r3 = e.currentInput;
    }
    if (!r3)
      return;
    const l3 = d.getDeepestNode(r3, t === this.positions.END), a6 = d.getContentLength(l3);
    switch (true) {
      case t === this.positions.START:
        o4 = 0;
        break;
      case t === this.positions.END:
      case o4 > a6:
        o4 = a6;
        break;
    }
    this.set(l3, o4), i.setCurrentBlockByChildNode(e.holder), i.currentBlock.currentInput = r3;
  }
  /**
   * Set caret to the current input of current Block.
   *
   * @param {HTMLElement} input - input where caret should be set
   * @param {string} position - position of the caret.
   *                            If default - leave default behaviour and apply offset if it's passed
   * @param {number} offset - caret offset regarding to the text node
   */
  setToInput(e, t = this.positions.DEFAULT, o4 = 0) {
    const { currentBlock: i } = this.Editor.BlockManager, s4 = d.getDeepestNode(e);
    switch (t) {
      case this.positions.START:
        this.set(s4, 0);
        break;
      case this.positions.END:
        this.set(s4, d.getContentLength(s4));
        break;
      default:
        o4 && this.set(s4, o4);
    }
    i.currentInput = e;
  }
  /**
   * Creates Document Range and sets caret to the element with offset
   *
   * @param {HTMLElement} element - target node.
   * @param {number} offset - offset
   */
  set(e, t = 0) {
    const { top: i, bottom: s4 } = b.setCursor(e, t), { innerHeight: r3 } = window;
    i < 0 ? window.scrollBy(0, i - 30) : s4 > r3 && window.scrollBy(0, s4 - r3 + 30);
  }
  /**
   * Set Caret to the last Block
   * If last block is not empty, append another empty block
   */
  setToTheLastBlock() {
    const e = this.Editor.BlockManager.lastBlock;
    if (e)
      if (e.tool.isDefault && e.isEmpty)
        this.setToBlock(e);
      else {
        const t = this.Editor.BlockManager.insertAtEnd();
        this.setToBlock(t);
      }
  }
  /**
   * Extract content fragment of current Block from Caret position to the end of the Block
   */
  extractFragmentFromCaretPosition() {
    const e = b.get();
    if (e.rangeCount) {
      const t = e.getRangeAt(0), o4 = this.Editor.BlockManager.currentBlock.currentInput;
      if (t.deleteContents(), o4)
        if (d.isNativeInput(o4)) {
          const i = o4, s4 = document.createDocumentFragment(), r3 = i.value.substring(0, i.selectionStart), l3 = i.value.substring(i.selectionStart);
          return s4.textContent = l3, i.value = r3, s4;
        } else {
          const i = t.cloneRange();
          return i.selectNodeContents(o4), i.setStart(t.endContainer, t.endOffset), i.extractContents();
        }
    }
  }
  /**
   * Set's caret to the next Block or Tool`s input
   * Before moving caret, we should check if caret position is at the end of Plugins node
   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection
   *
   * @param {boolean} force - pass true to skip check for caret position
   */
  navigateNext(e = false) {
    const { BlockManager: t } = this.Editor, { currentBlock: o4, nextBlock: i } = t;
    if (o4 === void 0)
      return false;
    const { nextInput: s4, currentInput: r3 } = o4, l3 = r3 !== void 0 ? Ae(r3) : void 0;
    let a6 = i;
    const c2 = e || l3 || !o4.focusable;
    if (s4 && c2)
      return this.setToInput(s4, this.positions.START), true;
    if (a6 === null) {
      if (o4.tool.isDefault || !c2)
        return false;
      a6 = t.insertAtEnd();
    }
    return c2 ? (this.setToBlock(a6, this.positions.START), true) : false;
  }
  /**
   * Set's caret to the previous Tool`s input or Block
   * Before moving caret, we should check if caret position is start of the Plugins node
   * Using {@link Dom#getDeepestNode} to get a last node and match with current selection
   *
   * @param {boolean} force - pass true to skip check for caret position
   */
  navigatePrevious(e = false) {
    const { currentBlock: t, previousBlock: o4 } = this.Editor.BlockManager;
    if (!t)
      return false;
    const { previousInput: i, currentInput: s4 } = t, r3 = s4 !== void 0 ? Me(s4) : void 0, l3 = e || r3 || !t.focusable;
    return i && l3 ? (this.setToInput(i, this.positions.END), true) : o4 !== null && l3 ? (this.setToBlock(o4, this.positions.END), true) : false;
  }
  /**
   * Inserts shadow element after passed element where caret can be placed
   *
   * @param {Element} element - element after which shadow caret should be inserted
   */
  createShadow(e) {
    const t = document.createElement("span");
    t.classList.add(_Re.CSS.shadowCaret), e.insertAdjacentElement("beforeend", t);
  }
  /**
   * Restores caret position
   *
   * @param {HTMLElement} element - element where caret should be restored
   */
  restoreCaret(e) {
    const t = e.querySelector(`.${_Re.CSS.shadowCaret}`);
    if (!t)
      return;
    new b().expandToTag(t);
    const i = document.createRange();
    i.selectNode(t), i.extractContents();
  }
  /**
   * Inserts passed content at caret position
   *
   * @param {string} content - content to insert
   */
  insertContentAtCaretPosition(e) {
    const t = document.createDocumentFragment(), o4 = document.createElement("div"), i = b.get(), s4 = b.range;
    o4.innerHTML = e, Array.from(o4.childNodes).forEach((c2) => t.appendChild(c2)), t.childNodes.length === 0 && t.appendChild(new Text());
    const r3 = t.lastChild;
    s4.deleteContents(), s4.insertNode(t);
    const l3 = document.createRange(), a6 = r3.nodeType === Node.TEXT_NODE ? r3 : r3.firstChild;
    a6 !== null && a6.textContent !== null && l3.setStart(a6, a6.textContent.length), i.removeAllRanges(), i.addRange(l3);
  }
};
var os = class extends y {
  constructor() {
    super(...arguments), this.onMouseUp = () => {
      this.listeners.off(document, "mouseover", this.onMouseOver), this.listeners.off(document, "mouseup", this.onMouseUp);
    }, this.onMouseOver = (e) => {
      const { BlockManager: t, BlockSelection: o4 } = this.Editor;
      if (e.relatedTarget === null && e.target === null)
        return;
      const i = t.getBlockByChildNode(e.relatedTarget) || this.lastSelectedBlock, s4 = t.getBlockByChildNode(e.target);
      if (!(!i || !s4) && s4 !== i) {
        if (i === this.firstSelectedBlock) {
          b.get().removeAllRanges(), i.selected = true, s4.selected = true, o4.clearCache();
          return;
        }
        if (s4 === this.firstSelectedBlock) {
          i.selected = false, s4.selected = false, o4.clearCache();
          return;
        }
        this.Editor.InlineToolbar.close(), this.toggleBlocksSelectedState(i, s4), this.lastSelectedBlock = s4;
      }
    };
  }
  /**
   * Module preparation
   *
   * @returns {Promise}
   */
  async prepare() {
    this.listeners.on(document, "mousedown", (e) => {
      this.enableCrossBlockSelection(e);
    });
  }
  /**
   * Sets up listeners
   *
   * @param {MouseEvent} event - mouse down event
   */
  watchSelection(e) {
    if (e.button !== wo.LEFT)
      return;
    const { BlockManager: t } = this.Editor;
    this.firstSelectedBlock = t.getBlock(e.target), this.lastSelectedBlock = this.firstSelectedBlock, this.listeners.on(document, "mouseover", this.onMouseOver), this.listeners.on(document, "mouseup", this.onMouseUp);
  }
  /**
   * Return boolean is cross block selection started:
   * there should be at least 2 selected blocks
   */
  get isCrossBlockSelectionStarted() {
    return !!this.firstSelectedBlock && !!this.lastSelectedBlock && this.firstSelectedBlock !== this.lastSelectedBlock;
  }
  /**
   * Change selection state of the next Block
   * Used for CBS via Shift + arrow keys
   *
   * @param {boolean} next - if true, toggle next block. Previous otherwise
   */
  toggleBlockSelectedState(e = true) {
    const { BlockManager: t, BlockSelection: o4 } = this.Editor;
    this.lastSelectedBlock || (this.lastSelectedBlock = this.firstSelectedBlock = t.currentBlock), this.firstSelectedBlock === this.lastSelectedBlock && (this.firstSelectedBlock.selected = true, o4.clearCache(), b.get().removeAllRanges());
    const i = t.blocks.indexOf(this.lastSelectedBlock) + (e ? 1 : -1), s4 = t.blocks[i];
    s4 && (this.lastSelectedBlock.selected !== s4.selected ? (s4.selected = true, o4.clearCache()) : (this.lastSelectedBlock.selected = false, o4.clearCache()), this.lastSelectedBlock = s4, this.Editor.InlineToolbar.close(), s4.holder.scrollIntoView({
      block: "nearest"
    }));
  }
  /**
   * Clear saved state
   *
   * @param {Event} reason - event caused clear of selection
   */
  clear(e) {
    const { BlockManager: t, BlockSelection: o4, Caret: i } = this.Editor, s4 = t.blocks.indexOf(this.firstSelectedBlock), r3 = t.blocks.indexOf(this.lastSelectedBlock);
    if (o4.anyBlockSelected && s4 > -1 && r3 > -1 && e && e instanceof KeyboardEvent)
      switch (e.keyCode) {
        case w.DOWN:
        case w.RIGHT:
          i.setToBlock(t.blocks[Math.max(s4, r3)], i.positions.END);
          break;
        case w.UP:
        case w.LEFT:
          i.setToBlock(t.blocks[Math.min(s4, r3)], i.positions.START);
          break;
        default:
          i.setToBlock(t.blocks[Math.max(s4, r3)], i.positions.END);
      }
    this.firstSelectedBlock = this.lastSelectedBlock = null;
  }
  /**
   * Enables Cross Block Selection
   *
   * @param {MouseEvent} event - mouse down event
   */
  enableCrossBlockSelection(e) {
    const { UI: t } = this.Editor;
    b.isCollapsed || this.Editor.BlockSelection.clearSelection(e), t.nodes.redactor.contains(e.target) ? this.watchSelection(e) : this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * Change blocks selection state between passed two blocks.
   *
   * @param {Block} firstBlock - first block in range
   * @param {Block} lastBlock - last block in range
   */
  toggleBlocksSelectedState(e, t) {
    const { BlockManager: o4, BlockSelection: i } = this.Editor, s4 = o4.blocks.indexOf(e), r3 = o4.blocks.indexOf(t), l3 = e.selected !== t.selected;
    for (let a6 = Math.min(s4, r3); a6 <= Math.max(s4, r3); a6++) {
      const c2 = o4.blocks[a6];
      c2 !== this.firstSelectedBlock && c2 !== (l3 ? e : t) && (o4.blocks[a6].selected = !o4.blocks[a6].selected, i.clearCache());
    }
  }
};
var is = class extends y {
  constructor() {
    super(...arguments), this.isStartedAtEditor = false;
  }
  /**
   * Toggle read-only state
   *
   * if state is true:
   *  - disable all drag-n-drop event handlers
   *
   * if state is false:
   *  - restore drag-n-drop event handlers
   *
   * @param {boolean} readOnlyEnabled - "read only" state
   */
  toggleReadOnly(e) {
    e ? this.disableModuleBindings() : this.enableModuleBindings();
  }
  /**
   * Add drag events listeners to editor zone
   */
  enableModuleBindings() {
    const { UI: e } = this.Editor;
    this.readOnlyMutableListeners.on(e.nodes.holder, "drop", async (t) => {
      await this.processDrop(t);
    }, true), this.readOnlyMutableListeners.on(e.nodes.holder, "dragstart", () => {
      this.processDragStart();
    }), this.readOnlyMutableListeners.on(e.nodes.holder, "dragover", (t) => {
      this.processDragOver(t);
    }, true);
  }
  /**
   * Unbind drag-n-drop event handlers
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Handle drop event
   *
   * @param {DragEvent} dropEvent - drop event
   */
  async processDrop(e) {
    const {
      BlockManager: t,
      Paste: o4,
      Caret: i
    } = this.Editor;
    e.preventDefault(), t.blocks.forEach((r3) => {
      r3.dropTarget = false;
    }), b.isAtEditor && !b.isCollapsed && this.isStartedAtEditor && document.execCommand("delete"), this.isStartedAtEditor = false;
    const s4 = t.setCurrentBlockByChildNode(e.target);
    if (s4)
      this.Editor.Caret.setToBlock(s4, i.positions.END);
    else {
      const r3 = t.setCurrentBlockByChildNode(t.lastBlock.holder);
      this.Editor.Caret.setToBlock(r3, i.positions.END);
    }
    await o4.processDataTransfer(e.dataTransfer, true);
  }
  /**
   * Handle drag start event
   */
  processDragStart() {
    b.isAtEditor && !b.isCollapsed && (this.isStartedAtEditor = true), this.Editor.InlineToolbar.close();
  }
  /**
   * @param {DragEvent} dragEvent - drag event
   */
  processDragOver(e) {
    e.preventDefault();
  }
};
var ss = 180;
var ns = 400;
var rs = class extends y {
  /**
   * Prepare the module
   *
   * @param options - options used by the modification observer module
   * @param options.config - Editor configuration object
   * @param options.eventsDispatcher - common Editor event bus
   */
  constructor({ config: e, eventsDispatcher: t }) {
    super({
      config: e,
      eventsDispatcher: t
    }), this.disabled = false, this.batchingTimeout = null, this.batchingOnChangeQueue = /* @__PURE__ */ new Map(), this.batchTime = ns, this.mutationObserver = new MutationObserver((o4) => {
      this.redactorChanged(o4);
    }), this.eventsDispatcher.on(Dt, (o4) => {
      this.particularBlockChanged(o4.event);
    }), this.eventsDispatcher.on(Rt, () => {
      this.disable();
    }), this.eventsDispatcher.on(Ft, () => {
      this.enable();
    });
  }
  /**
   * Enables onChange event
   */
  enable() {
    this.mutationObserver.observe(
      this.Editor.UI.nodes.redactor,
      {
        childList: true,
        subtree: true,
        characterData: true,
        attributes: true
      }
    ), this.disabled = false;
  }
  /**
   * Disables onChange event
   */
  disable() {
    this.mutationObserver.disconnect(), this.disabled = true;
  }
  /**
   * Call onChange event passed to Editor.js configuration
   *
   * @param event - some of our custom change events
   */
  particularBlockChanged(e) {
    this.disabled || !O(this.config.onChange) || (this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`, e), this.batchingTimeout && clearTimeout(this.batchingTimeout), this.batchingTimeout = setTimeout(() => {
      let t;
      this.batchingOnChangeQueue.size === 1 ? t = this.batchingOnChangeQueue.values().next().value : t = Array.from(this.batchingOnChangeQueue.values()), this.config.onChange && this.config.onChange(this.Editor.API.methods, t), this.batchingOnChangeQueue.clear();
    }, this.batchTime));
  }
  /**
   * Fired on every blocks wrapper dom change
   *
   * @param mutations - mutations happened
   */
  redactorChanged(e) {
    this.eventsDispatcher.emit(Je, {
      mutations: e
    });
  }
};
var ro = class lo extends y {
  constructor() {
    super(...arguments), this.MIME_TYPE = "application/x-editor-js", this.toolsTags = {}, this.tagsByTool = {}, this.toolsPatterns = [], this.toolsFiles = {}, this.exceptionList = [], this.processTool = (e) => {
      try {
        const t = e.create({}, {}, false);
        if (e.pasteConfig === false) {
          this.exceptionList.push(e.name);
          return;
        }
        if (!O(t.onPaste))
          return;
        this.getTagsConfig(e), this.getFilesConfig(e), this.getPatternsConfig(e);
      } catch (t) {
        I(
          `Paste handling for \xAB${e.name}\xBB Tool hasn't been set up because of the error`,
          "warn",
          t
        );
      }
    }, this.handlePasteEvent = async (e) => {
      const { BlockManager: t, Toolbar: o4 } = this.Editor, i = t.setCurrentBlockByChildNode(e.target);
      !i || this.isNativeBehaviour(e.target) && !e.clipboardData.types.includes("Files") || i && this.exceptionList.includes(i.name) || (e.preventDefault(), this.processDataTransfer(e.clipboardData), o4.close());
    };
  }
  /**
   * Set onPaste callback and collect tools` paste configurations
   */
  async prepare() {
    this.processTools();
  }
  /**
   * Set read-only state
   *
   * @param {boolean} readOnlyEnabled - read only flag value
   */
  toggleReadOnly(e) {
    e ? this.unsetCallback() : this.setCallback();
  }
  /**
   * Handle pasted or dropped data transfer object
   *
   * @param {DataTransfer} dataTransfer - pasted or dropped data transfer object
   * @param {boolean} isDragNDrop - true if data transfer comes from drag'n'drop events
   */
  async processDataTransfer(e, t = false) {
    const { Tools: o4 } = this.Editor, i = e.types;
    if ((i.includes ? i.includes("Files") : i.contains("Files")) && !V(this.toolsFiles)) {
      await this.processFiles(e.files);
      return;
    }
    const r3 = e.getData(this.MIME_TYPE), l3 = e.getData("text/plain");
    let a6 = e.getData("text/html");
    if (r3)
      try {
        this.insertEditorJSData(JSON.parse(r3));
        return;
      } catch {
      }
    t && l3.trim() && a6.trim() && (a6 = "<p>" + (a6.trim() ? a6 : l3) + "</p>");
    const c2 = Object.keys(this.toolsTags).reduce((p2, g4) => (p2[g4.toLowerCase()] = this.toolsTags[g4].sanitizationConfig ?? {}, p2), {}), u2 = Object.assign({}, c2, o4.getAllInlineToolsSanitizeConfig(), { br: {} }), h4 = q(a6, u2);
    !h4.trim() || h4.trim() === l3 || !d.isHTMLString(h4) ? await this.processText(l3) : await this.processText(h4, true);
  }
  /**
   * Process pasted text and divide them into Blocks
   *
   * @param {string} data - text to process. Can be HTML or plain.
   * @param {boolean} isHTML - if passed string is HTML, this parameter should be true
   */
  async processText(e, t = false) {
    const { Caret: o4, BlockManager: i } = this.Editor, s4 = t ? this.processHTML(e) : this.processPlain(e);
    if (!s4.length)
      return;
    if (s4.length === 1) {
      s4[0].isBlock ? this.processSingleBlock(s4.pop()) : this.processInlinePaste(s4.pop());
      return;
    }
    const l3 = i.currentBlock && i.currentBlock.tool.isDefault && i.currentBlock.isEmpty;
    s4.map(
      async (a6, c2) => this.insertBlock(a6, c2 === 0 && l3)
    ), i.currentBlock && o4.setToBlock(i.currentBlock, o4.positions.END);
  }
  /**
   * Set onPaste callback handler
   */
  setCallback() {
    this.listeners.on(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
  }
  /**
   * Unset onPaste callback handler
   */
  unsetCallback() {
    this.listeners.off(this.Editor.UI.nodes.holder, "paste", this.handlePasteEvent);
  }
  /**
   * Get and process tool`s paste configs
   */
  processTools() {
    const e = this.Editor.Tools.blockTools;
    Array.from(e.values()).forEach(this.processTool);
  }
  /**
   * Get tags name list from either tag name or sanitization config.
   *
   * @param {string | object} tagOrSanitizeConfig - tag name or sanitize config object.
   * @returns {string[]} array of tags.
   */
  collectTagNames(e) {
    return Q(e) ? [e] : R(e) ? Object.keys(e) : [];
  }
  /**
   * Get tags to substitute by Tool
   *
   * @param tool - BlockTool object
   */
  getTagsConfig(e) {
    if (e.pasteConfig === false)
      return;
    const t = e.pasteConfig.tags || [], o4 = [];
    t.forEach((i) => {
      const s4 = this.collectTagNames(i);
      o4.push(...s4), s4.forEach((r3) => {
        if (Object.prototype.hasOwnProperty.call(this.toolsTags, r3)) {
          I(
            `Paste handler for \xAB${e.name}\xBB Tool on \xAB${r3}\xBB tag is skipped because it is already used by \xAB${this.toolsTags[r3].tool.name}\xBB Tool.`,
            "warn"
          );
          return;
        }
        const l3 = R(i) ? i[r3] : null;
        this.toolsTags[r3.toUpperCase()] = {
          tool: e,
          sanitizationConfig: l3
        };
      });
    }), this.tagsByTool[e.name] = o4.map((i) => i.toUpperCase());
  }
  /**
   * Get files` types and extensions to substitute by Tool
   *
   * @param tool - BlockTool object
   */
  getFilesConfig(e) {
    if (e.pasteConfig === false)
      return;
    const { files: t = {} } = e.pasteConfig;
    let { extensions: o4, mimeTypes: i } = t;
    !o4 && !i || (o4 && !Array.isArray(o4) && (I(`\xABextensions\xBB property of the onDrop config for \xAB${e.name}\xBB Tool should be an array`), o4 = []), i && !Array.isArray(i) && (I(`\xABmimeTypes\xBB property of the onDrop config for \xAB${e.name}\xBB Tool should be an array`), i = []), i && (i = i.filter((s4) => To(s4) ? true : (I(`MIME type value \xAB${s4}\xBB for the \xAB${e.name}\xBB Tool is not a valid MIME type`, "warn"), false))), this.toolsFiles[e.name] = {
      extensions: o4 || [],
      mimeTypes: i || []
    });
  }
  /**
   * Get RegExp patterns to substitute by Tool
   *
   * @param tool - BlockTool object
   */
  getPatternsConfig(e) {
    e.pasteConfig === false || !e.pasteConfig.patterns || V(e.pasteConfig.patterns) || Object.entries(e.pasteConfig.patterns).forEach(([t, o4]) => {
      o4 instanceof RegExp || I(
        `Pattern ${o4} for \xAB${e.name}\xBB Tool is skipped because it should be a Regexp instance.`,
        "warn"
      ), this.toolsPatterns.push({
        key: t,
        pattern: o4,
        tool: e
      });
    });
  }
  /**
   * Check if browser behavior suits better
   *
   * @param {EventTarget} element - element where content has been pasted
   * @returns {boolean}
   */
  isNativeBehaviour(e) {
    return d.isNativeInput(e);
  }
  /**
   * Get files from data transfer object and insert related Tools
   *
   * @param {FileList} items - pasted or dropped items
   */
  async processFiles(e) {
    const { BlockManager: t } = this.Editor;
    let o4;
    o4 = await Promise.all(
      Array.from(e).map((r3) => this.processFile(r3))
    ), o4 = o4.filter((r3) => !!r3);
    const s4 = t.currentBlock.tool.isDefault && t.currentBlock.isEmpty;
    o4.forEach(
      (r3, l3) => {
        t.paste(r3.type, r3.event, l3 === 0 && s4);
      }
    );
  }
  /**
   * Get information about file and find Tool to handle it
   *
   * @param {File} file - file to process
   */
  async processFile(e) {
    const t = Bo(e), o4 = Object.entries(this.toolsFiles).find(([r3, { mimeTypes: l3, extensions: a6 }]) => {
      const [c2, u2] = e.type.split("/"), h4 = a6.find((g4) => g4.toLowerCase() === t.toLowerCase()), p2 = l3.find((g4) => {
        const [f2, k3] = g4.split("/");
        return f2 === c2 && (k3 === u2 || k3 === "*");
      });
      return !!h4 || !!p2;
    });
    if (!o4)
      return;
    const [i] = o4;
    return {
      event: this.composePasteEvent("file", {
        file: e
      }),
      type: i
    };
  }
  /**
   * Split HTML string to blocks and return it as array of Block data
   *
   * @param {string} innerHTML - html string to process
   * @returns {PasteData[]}
   */
  processHTML(e) {
    const { Tools: t } = this.Editor, o4 = d.make("DIV");
    return o4.innerHTML = e, this.getNodes(o4).map((s4) => {
      let r3, l3 = t.defaultTool, a6 = false;
      switch (s4.nodeType) {
        case Node.DOCUMENT_FRAGMENT_NODE:
          r3 = d.make("div"), r3.appendChild(s4);
          break;
        case Node.ELEMENT_NODE:
          r3 = s4, a6 = true, this.toolsTags[r3.tagName] && (l3 = this.toolsTags[r3.tagName].tool);
          break;
      }
      const { tags: c2 } = l3.pasteConfig || { tags: [] }, u2 = c2.reduce((g4, f2) => (this.collectTagNames(f2).forEach((C3) => {
        const S4 = R(f2) ? f2[C3] : null;
        g4[C3.toLowerCase()] = S4 || {};
      }), g4), {}), h4 = Object.assign({}, u2, l3.baseSanitizeConfig);
      if (r3.tagName.toLowerCase() === "table") {
        const g4 = q(r3.outerHTML, h4);
        r3 = d.make("div", void 0, {
          innerHTML: g4
        }).firstChild;
      } else
        r3.innerHTML = q(r3.innerHTML, h4);
      const p2 = this.composePasteEvent("tag", {
        data: r3
      });
      return {
        content: r3,
        isBlock: a6,
        tool: l3.name,
        event: p2
      };
    }).filter((s4) => {
      const r3 = d.isEmpty(s4.content), l3 = d.isSingleTag(s4.content);
      return !r3 || l3;
    });
  }
  /**
   * Split plain text by new line symbols and return it as array of Block data
   *
   * @param {string} plain - string to process
   * @returns {PasteData[]}
   */
  processPlain(e) {
    const { defaultBlock: t } = this.config;
    if (!e)
      return [];
    const o4 = t;
    return e.split(/\r?\n/).filter((i) => i.trim()).map((i) => {
      const s4 = d.make("div");
      s4.textContent = i;
      const r3 = this.composePasteEvent("tag", {
        data: s4
      });
      return {
        content: s4,
        tool: o4,
        isBlock: false,
        event: r3
      };
    });
  }
  /**
   * Process paste of single Block tool content
   *
   * @param {PasteData} dataToInsert - data of Block to insert
   */
  async processSingleBlock(e) {
    const { Caret: t, BlockManager: o4 } = this.Editor, { currentBlock: i } = o4;
    if (!i || e.tool !== i.name || !d.containsOnlyInlineElements(e.content.innerHTML)) {
      this.insertBlock(e, (i == null ? void 0 : i.tool.isDefault) && i.isEmpty);
      return;
    }
    t.insertContentAtCaretPosition(e.content.innerHTML);
  }
  /**
   * Process paste to single Block:
   * 1. Find patterns` matches
   * 2. Insert new block if it is not the same type as current one
   * 3. Just insert text if there is no substitutions
   *
   * @param {PasteData} dataToInsert - data of Block to insert
   */
  async processInlinePaste(e) {
    const { BlockManager: t, Caret: o4 } = this.Editor, { content: i } = e;
    if (t.currentBlock && t.currentBlock.tool.isDefault && i.textContent.length < lo.PATTERN_PROCESSING_MAX_LENGTH) {
      const r3 = await this.processPattern(i.textContent);
      if (r3) {
        const l3 = t.currentBlock && t.currentBlock.tool.isDefault && t.currentBlock.isEmpty, a6 = t.paste(r3.tool, r3.event, l3);
        o4.setToBlock(a6, o4.positions.END);
        return;
      }
    }
    if (t.currentBlock && t.currentBlock.currentInput) {
      const r3 = t.currentBlock.tool.baseSanitizeConfig;
      document.execCommand(
        "insertHTML",
        false,
        q(i.innerHTML, r3)
      );
    } else
      this.insertBlock(e);
  }
  /**
   * Get patterns` matches
   *
   * @param {string} text - text to process
   * @returns {Promise<{event: PasteEvent, tool: string}>}
   */
  async processPattern(e) {
    const t = this.toolsPatterns.find((i) => {
      const s4 = i.pattern.exec(e);
      return s4 ? e === s4.shift() : false;
    });
    return t ? {
      event: this.composePasteEvent("pattern", {
        key: t.key,
        data: e
      }),
      tool: t.tool.name
    } : void 0;
  }
  /**
   * Insert pasted Block content to Editor
   *
   * @param {PasteData} data - data to insert
   * @param {boolean} canReplaceCurrentBlock - if true and is current Block is empty, will replace current Block
   * @returns {void}
   */
  insertBlock(e, t = false) {
    const { BlockManager: o4, Caret: i } = this.Editor, { currentBlock: s4 } = o4;
    let r3;
    if (t && s4 && s4.isEmpty) {
      r3 = o4.paste(e.tool, e.event, true), i.setToBlock(r3, i.positions.END);
      return;
    }
    r3 = o4.paste(e.tool, e.event), i.setToBlock(r3, i.positions.END);
  }
  /**
   * Insert data passed as application/x-editor-js JSON
   *
   * @param {Array} blocks — Blocks' data to insert
   * @returns {void}
   */
  insertEditorJSData(e) {
    const { BlockManager: t, Caret: o4, Tools: i } = this.Editor;
    it(
      e,
      (r3) => i.blockTools.get(r3).sanitizeConfig
    ).forEach(({ tool: r3, data: l3 }, a6) => {
      let c2 = false;
      a6 === 0 && (c2 = t.currentBlock && t.currentBlock.tool.isDefault && t.currentBlock.isEmpty);
      const u2 = t.insert({
        tool: r3,
        data: l3,
        replace: c2
      });
      o4.setToBlock(u2, o4.positions.END);
    });
  }
  /**
   * Fetch nodes from Element node
   *
   * @param {Node} node - current node
   * @param {Node[]} nodes - processed nodes
   * @param {Node} destNode - destination node
   */
  processElementNode(e, t, o4) {
    const i = Object.keys(this.toolsTags), s4 = e, { tool: r3 } = this.toolsTags[s4.tagName] || {}, l3 = this.tagsByTool[r3 == null ? void 0 : r3.name] || [], a6 = i.includes(s4.tagName), c2 = d.blockElements.includes(s4.tagName.toLowerCase()), u2 = Array.from(s4.children).some(
      ({ tagName: p2 }) => i.includes(p2) && !l3.includes(p2)
    ), h4 = Array.from(s4.children).some(
      ({ tagName: p2 }) => d.blockElements.includes(p2.toLowerCase())
    );
    if (!c2 && !a6 && !u2)
      return o4.appendChild(s4), [...t, o4];
    if (a6 && !u2 || c2 && !h4 && !u2)
      return [...t, o4, s4];
  }
  /**
   * Recursively divide HTML string to two types of nodes:
   * 1. Block element
   * 2. Document Fragments contained text and markup tags like a, b, i etc.
   *
   * @param {Node} wrapper - wrapper of paster HTML content
   * @returns {Node[]}
   */
  getNodes(e) {
    const t = Array.from(e.childNodes);
    let o4;
    const i = (s4, r3) => {
      if (d.isEmpty(r3) && !d.isSingleTag(r3))
        return s4;
      const l3 = s4[s4.length - 1];
      let a6 = new DocumentFragment();
      switch (l3 && d.isFragment(l3) && (a6 = s4.pop()), r3.nodeType) {
        case Node.ELEMENT_NODE:
          if (o4 = this.processElementNode(r3, s4, a6), o4)
            return o4;
          break;
        case Node.TEXT_NODE:
          return a6.appendChild(r3), [...s4, a6];
        default:
          return [...s4, a6];
      }
      return [...s4, ...Array.from(r3.childNodes).reduce(i, [])];
    };
    return t.reduce(i, []);
  }
  /**
   * Compose paste event with passed type and detail
   *
   * @param {string} type - event type
   * @param {PasteEventDetail} detail - event detail
   */
  composePasteEvent(e, t) {
    return new CustomEvent(e, {
      detail: t
    });
  }
};
ro.PATTERN_PROCESSING_MAX_LENGTH = 450;
var ls = ro;
var as = class extends y {
  constructor() {
    super(...arguments), this.toolsDontSupportReadOnly = [], this.readOnlyEnabled = false;
  }
  /**
   * Returns state of read only mode
   */
  get isEnabled() {
    return this.readOnlyEnabled;
  }
  /**
   * Set initial state
   */
  async prepare() {
    const { Tools: e } = this.Editor, { blockTools: t } = e, o4 = [];
    Array.from(t.entries()).forEach(([i, s4]) => {
      s4.isReadOnlySupported || o4.push(i);
    }), this.toolsDontSupportReadOnly = o4, this.config.readOnly && o4.length > 0 && this.throwCriticalError(), this.toggle(this.config.readOnly, true);
  }
  /**
   * Set read-only mode or toggle current state
   * Call all Modules `toggleReadOnly` method and re-render Editor
   *
   * @param state - (optional) read-only state or toggle
   * @param isInitial - (optional) true when editor is initializing
   */
  async toggle(e = !this.readOnlyEnabled, t = false) {
    e && this.toolsDontSupportReadOnly.length > 0 && this.throwCriticalError();
    const o4 = this.readOnlyEnabled;
    this.readOnlyEnabled = e;
    for (const s4 in this.Editor)
      this.Editor[s4].toggleReadOnly && this.Editor[s4].toggleReadOnly(e);
    if (o4 === e)
      return this.readOnlyEnabled;
    if (t)
      return this.readOnlyEnabled;
    this.Editor.ModificationsObserver.disable();
    const i = await this.Editor.Saver.save();
    return await this.Editor.BlockManager.clear(), await this.Editor.Renderer.render(i.blocks), this.Editor.ModificationsObserver.enable(), this.readOnlyEnabled;
  }
  /**
   * Throws an error about tools which don't support read-only mode
   */
  throwCriticalError() {
    throw new Pt(
      `To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`
    );
  }
};
var xe = class _xe extends y {
  constructor() {
    super(...arguments), this.isRectSelectionActivated = false, this.SCROLL_SPEED = 3, this.HEIGHT_OF_SCROLL_ZONE = 40, this.BOTTOM_SCROLL_ZONE = 1, this.TOP_SCROLL_ZONE = 2, this.MAIN_MOUSE_BUTTON = 0, this.mousedown = false, this.isScrolling = false, this.inScrollZone = null, this.startX = 0, this.startY = 0, this.mouseX = 0, this.mouseY = 0, this.stackOfSelected = [], this.listenerIds = [];
  }
  /**
   * CSS classes for the Block
   *
   * @returns {{wrapper: string, content: string}}
   */
  static get CSS() {
    return {
      overlay: "codex-editor-overlay",
      overlayContainer: "codex-editor-overlay__container",
      rect: "codex-editor-overlay__rectangle",
      topScrollZone: "codex-editor-overlay__scroll-zone--top",
      bottomScrollZone: "codex-editor-overlay__scroll-zone--bottom"
    };
  }
  /**
   * Module Preparation
   * Creating rect and hang handlers
   */
  prepare() {
    this.enableModuleBindings();
  }
  /**
   * Init rect params
   *
   * @param {number} pageX - X coord of mouse
   * @param {number} pageY - Y coord of mouse
   */
  startSelection(e, t) {
    const o4 = document.elementFromPoint(e - window.pageXOffset, t - window.pageYOffset);
    o4.closest(`.${this.Editor.Toolbar.CSS.toolbar}`) || (this.Editor.BlockSelection.allBlocksSelected = false, this.clearSelection(), this.stackOfSelected = []);
    const s4 = [
      `.${D.CSS.content}`,
      `.${this.Editor.Toolbar.CSS.toolbar}`,
      `.${this.Editor.InlineToolbar.CSS.inlineToolbar}`
    ], r3 = o4.closest("." + this.Editor.UI.CSS.editorWrapper), l3 = s4.some((a6) => !!o4.closest(a6));
    !r3 || l3 || (this.mousedown = true, this.startX = e, this.startY = t);
  }
  /**
   * Clear all params to end selection
   */
  endSelection() {
    this.mousedown = false, this.startX = 0, this.startY = 0, this.overlayRectangle.style.display = "none";
  }
  /**
   * is RectSelection Activated
   */
  isRectActivated() {
    return this.isRectSelectionActivated;
  }
  /**
   * Mark that selection is end
   */
  clearSelection() {
    this.isRectSelectionActivated = false;
  }
  /**
   * Sets Module necessary event handlers
   */
  enableModuleBindings() {
    const { container: e } = this.genHTML();
    this.listeners.on(e, "mousedown", (t) => {
      this.processMouseDown(t);
    }, false), this.listeners.on(document.body, "mousemove", Ve((t) => {
      this.processMouseMove(t);
    }, 10), {
      passive: true
    }), this.listeners.on(document.body, "mouseleave", () => {
      this.processMouseLeave();
    }), this.listeners.on(window, "scroll", Ve((t) => {
      this.processScroll(t);
    }, 10), {
      passive: true
    }), this.listeners.on(document.body, "mouseup", () => {
      this.processMouseUp();
    }, false);
  }
  /**
   * Handle mouse down events
   *
   * @param {MouseEvent} mouseEvent - mouse event payload
   */
  processMouseDown(e) {
    if (e.button !== this.MAIN_MOUSE_BUTTON)
      return;
    e.target.closest(d.allInputsSelector) !== null || this.startSelection(e.pageX, e.pageY);
  }
  /**
   * Handle mouse move events
   *
   * @param {MouseEvent} mouseEvent - mouse event payload
   */
  processMouseMove(e) {
    this.changingRectangle(e), this.scrollByZones(e.clientY);
  }
  /**
   * Handle mouse leave
   */
  processMouseLeave() {
    this.clearSelection(), this.endSelection();
  }
  /**
   * @param {MouseEvent} mouseEvent - mouse event payload
   */
  processScroll(e) {
    this.changingRectangle(e);
  }
  /**
   * Handle mouse up
   */
  processMouseUp() {
    this.clearSelection(), this.endSelection();
  }
  /**
   * Scroll If mouse in scroll zone
   *
   * @param {number} clientY - Y coord of mouse
   */
  scrollByZones(e) {
    if (this.inScrollZone = null, e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.TOP_SCROLL_ZONE), document.documentElement.clientHeight - e <= this.HEIGHT_OF_SCROLL_ZONE && (this.inScrollZone = this.BOTTOM_SCROLL_ZONE), !this.inScrollZone) {
      this.isScrolling = false;
      return;
    }
    this.isScrolling || (this.scrollVertical(this.inScrollZone === this.TOP_SCROLL_ZONE ? -this.SCROLL_SPEED : this.SCROLL_SPEED), this.isScrolling = true);
  }
  /**
   * Generates required HTML elements
   *
   * @returns {Object<string, Element>}
   */
  genHTML() {
    const { UI: e } = this.Editor, t = e.nodes.holder.querySelector("." + e.CSS.editorWrapper), o4 = d.make("div", _xe.CSS.overlay, {}), i = d.make("div", _xe.CSS.overlayContainer, {}), s4 = d.make("div", _xe.CSS.rect, {});
    return i.appendChild(s4), o4.appendChild(i), t.appendChild(o4), this.overlayRectangle = s4, {
      container: t,
      overlay: o4
    };
  }
  /**
   * Activates scrolling if blockSelection is active and mouse is in scroll zone
   *
   * @param {number} speed - speed of scrolling
   */
  scrollVertical(e) {
    if (!(this.inScrollZone && this.mousedown))
      return;
    const t = window.pageYOffset;
    window.scrollBy(0, e), this.mouseY += window.pageYOffset - t, setTimeout(() => {
      this.scrollVertical(e);
    }, 0);
  }
  /**
   * Handles the change in the rectangle and its effect
   *
   * @param {MouseEvent} event - mouse event
   */
  changingRectangle(e) {
    if (!this.mousedown)
      return;
    e.pageY !== void 0 && (this.mouseX = e.pageX, this.mouseY = e.pageY);
    const { rightPos: t, leftPos: o4, index: i } = this.genInfoForMouseSelection(), s4 = this.startX > t && this.mouseX > t, r3 = this.startX < o4 && this.mouseX < o4;
    this.rectCrossesBlocks = !(s4 || r3), this.isRectSelectionActivated || (this.rectCrossesBlocks = false, this.isRectSelectionActivated = true, this.shrinkRectangleToPoint(), this.overlayRectangle.style.display = "block"), this.updateRectangleSize(), this.Editor.Toolbar.close(), i !== void 0 && (this.trySelectNextBlock(i), this.inverseSelection(), b.get().removeAllRanges());
  }
  /**
   * Shrink rect to singular point
   */
  shrinkRectangleToPoint() {
    this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`;
  }
  /**
   * Select or unselect all of blocks in array if rect is out or in selectable area
   */
  inverseSelection() {
    const t = this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;
    if (this.rectCrossesBlocks && !t)
      for (const o4 of this.stackOfSelected)
        this.Editor.BlockSelection.selectBlockByIndex(o4);
    if (!this.rectCrossesBlocks && t)
      for (const o4 of this.stackOfSelected)
        this.Editor.BlockSelection.unSelectBlockByIndex(o4);
  }
  /**
   * Updates size of rectangle
   */
  updateRectangleSize() {
    this.mouseY >= this.startY ? (this.overlayRectangle.style.top = `${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.bottom = `calc(100% - ${this.mouseY - window.pageYOffset}px`) : (this.overlayRectangle.style.bottom = `calc(100% - ${this.startY - window.pageYOffset}px`, this.overlayRectangle.style.top = `${this.mouseY - window.pageYOffset}px`), this.mouseX >= this.startX ? (this.overlayRectangle.style.left = `${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.right = `calc(100% - ${this.mouseX - window.pageXOffset}px`) : (this.overlayRectangle.style.right = `calc(100% - ${this.startX - window.pageXOffset}px`, this.overlayRectangle.style.left = `${this.mouseX - window.pageXOffset}px`);
  }
  /**
   * Collects information needed to determine the behavior of the rectangle
   *
   * @returns {object} index - index next Block, leftPos - start of left border of Block, rightPos - right border
   */
  genInfoForMouseSelection() {
    const t = document.body.offsetWidth / 2, o4 = this.mouseY - window.pageYOffset, i = document.elementFromPoint(t, o4), s4 = this.Editor.BlockManager.getBlockByChildNode(i);
    let r3;
    s4 !== void 0 && (r3 = this.Editor.BlockManager.blocks.findIndex((h4) => h4.holder === s4.holder));
    const l3 = this.Editor.BlockManager.lastBlock.holder.querySelector("." + D.CSS.content), a6 = Number.parseInt(window.getComputedStyle(l3).width, 10) / 2, c2 = t - a6, u2 = t + a6;
    return {
      index: r3,
      leftPos: c2,
      rightPos: u2
    };
  }
  /**
   * Select block with index index
   *
   * @param index - index of block in redactor
   */
  addBlockInSelection(e) {
    this.rectCrossesBlocks && this.Editor.BlockSelection.selectBlockByIndex(e), this.stackOfSelected.push(e);
  }
  /**
   * Adds a block to the selection and determines which blocks should be selected
   *
   * @param {object} index - index of new block in the reactor
   */
  trySelectNextBlock(e) {
    const t = this.stackOfSelected[this.stackOfSelected.length - 1] === e, o4 = this.stackOfSelected.length, i = 1, s4 = -1, r3 = 0;
    if (t)
      return;
    const l3 = this.stackOfSelected[o4 - 1] - this.stackOfSelected[o4 - 2] > 0;
    let a6 = r3;
    o4 > 1 && (a6 = l3 ? i : s4);
    const c2 = e > this.stackOfSelected[o4 - 1] && a6 === i, u2 = e < this.stackOfSelected[o4 - 1] && a6 === s4, p2 = !(c2 || u2 || a6 === r3);
    if (!p2 && (e > this.stackOfSelected[o4 - 1] || this.stackOfSelected[o4 - 1] === void 0)) {
      let k3 = this.stackOfSelected[o4 - 1] + 1 || e;
      for (k3; k3 <= e; k3++)
        this.addBlockInSelection(k3);
      return;
    }
    if (!p2 && e < this.stackOfSelected[o4 - 1]) {
      for (let k3 = this.stackOfSelected[o4 - 1] - 1; k3 >= e; k3--)
        this.addBlockInSelection(k3);
      return;
    }
    if (!p2)
      return;
    let g4 = o4 - 1, f2;
    for (e > this.stackOfSelected[o4 - 1] ? f2 = () => e > this.stackOfSelected[g4] : f2 = () => e < this.stackOfSelected[g4]; f2(); )
      this.rectCrossesBlocks && this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[g4]), this.stackOfSelected.pop(), g4--;
  }
};
var cs = class extends y {
  /**
   * Renders passed blocks as one batch
   *
   * @param blocksData - blocks to render
   */
  async render(e) {
    return new Promise((t) => {
      const { Tools: o4, BlockManager: i } = this.Editor;
      if (e.length === 0)
        i.insert();
      else {
        const s4 = e.map(({ type: r3, data: l3, tunes: a6, id: c2 }) => {
          o4.available.has(r3) === false && (X(`Tool \xAB${r3}\xBB is not found. Check 'tools' property at the Editor.js config.`, "warn"), l3 = this.composeStubDataForTool(r3, l3, c2), r3 = o4.stubTool);
          let u2;
          try {
            u2 = i.composeBlock({
              id: c2,
              tool: r3,
              data: l3,
              tunes: a6
            });
          } catch (h4) {
            I(`Block \xAB${r3}\xBB skipped because of plugins error`, "error", {
              data: l3,
              error: h4
            }), l3 = this.composeStubDataForTool(r3, l3, c2), r3 = o4.stubTool, u2 = i.composeBlock({
              id: c2,
              tool: r3,
              data: l3,
              tunes: a6
            });
          }
          return u2;
        });
        i.insertMany(s4);
      }
      window.requestIdleCallback(() => {
        t();
      }, { timeout: 2e3 });
    });
  }
  /**
   * Create data for the Stub Tool that will be used instead of unavailable tool
   *
   * @param tool - unavailable tool name to stub
   * @param data - data of unavailable block
   * @param [id] - id of unavailable block
   */
  composeStubDataForTool(e, t, o4) {
    const { Tools: i } = this.Editor;
    let s4 = e;
    if (i.unavailable.has(e)) {
      const r3 = i.unavailable.get(e).toolbox;
      r3 !== void 0 && r3[0].title !== void 0 && (s4 = r3[0].title);
    }
    return {
      savedData: {
        id: o4,
        type: e,
        data: t
      },
      title: s4
    };
  }
};
var ds = class extends y {
  /**
   * Composes new chain of Promises to fire them alternatelly
   *
   * @returns {OutputData}
   */
  async save() {
    const { BlockManager: e, Tools: t } = this.Editor, o4 = e.blocks, i = [];
    try {
      o4.forEach((l3) => {
        i.push(this.getSavedData(l3));
      });
      const s4 = await Promise.all(i), r3 = await it(s4, (l3) => t.blockTools.get(l3).sanitizeConfig);
      return this.makeOutput(r3);
    } catch (s4) {
      X("Saving failed due to the Error %o", "error", s4);
    }
  }
  /**
   * Saves and validates
   *
   * @param {Block} block - Editor's Tool
   * @returns {ValidatedData} - Tool's validated data
   */
  async getSavedData(e) {
    const t = await e.save(), o4 = t && await e.validate(t.data);
    return {
      ...t,
      isValid: o4
    };
  }
  /**
   * Creates output object with saved data, time and version of editor
   *
   * @param {ValidatedData} allExtractedData - data extracted from Blocks
   * @returns {OutputData}
   */
  makeOutput(e) {
    const t = [];
    return e.forEach(({ id: o4, tool: i, data: s4, tunes: r3, isValid: l3 }) => {
      if (!l3) {
        I(`Block \xAB${i}\xBB skipped because saved data is invalid`);
        return;
      }
      if (i === this.Editor.Tools.stubTool) {
        t.push(s4);
        return;
      }
      const a6 = {
        id: o4,
        type: i,
        data: s4,
        ...!V(r3) && {
          tunes: r3
        }
      };
      t.push(a6);
    }), {
      time: +/* @__PURE__ */ new Date(),
      blocks: t,
      version: "2.30.6"
    };
  }
};
(function() {
  try {
    if (typeof document < "u") {
      var n2 = document.createElement("style");
      n2.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")), document.head.appendChild(n2);
    }
  } catch (e) {
    console.error("vite-plugin-css-injected-by-js", e);
  }
})();
var hs = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';
function us(n2) {
  const e = document.createElement("div");
  e.innerHTML = n2.trim();
  const t = document.createDocumentFragment();
  return t.append(...Array.from(e.childNodes)), t;
}
var ht = class _ht {
  /**
   * Default placeholder for Paragraph Tool
   *
   * @returns {string}
   * @class
   */
  static get DEFAULT_PLACEHOLDER() {
    return "";
  }
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {object} params - constructor params
   * @param {ParagraphData} params.data - previously saved data
   * @param {ParagraphConfig} params.config - user config for Tool
   * @param {object} params.api - editor.js api
   * @param {boolean} readOnly - read only mode flag
   */
  constructor({ data: e, config: t, api: o4, readOnly: i }) {
    this.api = o4, this.readOnly = i, this._CSS = {
      block: this.api.styles.block,
      wrapper: "ce-paragraph"
    }, this.readOnly || (this.onKeyUp = this.onKeyUp.bind(this)), this._placeholder = t.placeholder ? t.placeholder : _ht.DEFAULT_PLACEHOLDER, this._data = e ?? {}, this._element = null, this._preserveBlank = t.preserveBlank ?? false;
  }
  /**
   * Check if text content is empty and set empty string to inner html.
   * We need this because some browsers (e.g. Safari) insert <br> into empty contenteditanle elements
   *
   * @param {KeyboardEvent} e - key up event
   */
  onKeyUp(e) {
    if (e.code !== "Backspace" && e.code !== "Delete" || !this._element)
      return;
    const { textContent: t } = this._element;
    t === "" && (this._element.innerHTML = "");
  }
  /**
   * Create Tool's view
   *
   * @returns {HTMLDivElement}
   * @private
   */
  drawView() {
    const e = document.createElement("DIV");
    return e.classList.add(this._CSS.wrapper, this._CSS.block), e.contentEditable = "false", e.dataset.placeholderActive = this.api.i18n.t(this._placeholder), this._data.text && (e.innerHTML = this._data.text), this.readOnly || (e.contentEditable = "true", e.addEventListener("keyup", this.onKeyUp)), e;
  }
  /**
   * Return Tool's view
   *
   * @returns {HTMLDivElement}
   */
  render() {
    return this._element = this.drawView(), this._element;
  }
  /**
   * Method that specified how to merge two Text blocks.
   * Called by Editor.js by backspace at the beginning of the Block
   *
   * @param {ParagraphData} data
   * @public
   */
  merge(e) {
    if (!this._element)
      return;
    this._data.text += e.text;
    const t = us(e.text);
    this._element.appendChild(t), this._element.normalize();
  }
  /**
   * Validate Paragraph block data:
   * - check for emptiness
   *
   * @param {ParagraphData} savedData — data received after saving
   * @returns {boolean} false if saved data is not correct, otherwise true
   * @public
   */
  validate(e) {
    return !(e.text.trim() === "" && !this._preserveBlank);
  }
  /**
   * Extract Tool's data from the view
   *
   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view
   * @returns {ParagraphData} - saved data
   * @public
   */
  save(e) {
    return {
      text: e.innerHTML
    };
  }
  /**
   * On paste callback fired from Editor.
   *
   * @param {HTMLPasteEvent} event - event with pasted data
   */
  onPaste(e) {
    const t = {
      text: e.detail.data.innerHTML
    };
    this._data = t, window.requestAnimationFrame(() => {
      this._element && (this._element.innerHTML = this._data.text || "");
    });
  }
  /**
   * Enable Conversion Toolbar. Paragraph can be converted to/from other tools
   * @returns {ConversionConfig}
   */
  static get conversionConfig() {
    return {
      export: "text",
      // to convert Paragraph to other block, use 'text' property of saved data
      import: "text"
      // to covert other block's exported string to Paragraph, fill 'text' property of tool data
    };
  }
  /**
   * Sanitizer rules
   * @returns {SanitizerConfig} - Edtior.js sanitizer config
   */
  static get sanitize() {
    return {
      text: {
        br: true
      }
    };
  }
  /**
   * Returns true to notify the core that read-only mode is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Used by Editor paste handling API.
   * Provides configuration to handle P tags.
   *
   * @returns {PasteConfig} - Paragraph Paste Setting
   */
  static get pasteConfig() {
    return {
      tags: ["P"]
    };
  }
  /**
   * Icon and title for displaying at the Toolbox
   *
   * @returns {ToolboxConfig} - Paragraph Toolbox Setting
   */
  static get toolbox() {
    return {
      icon: hs,
      title: "Text"
    };
  }
};
var ut = class {
  constructor() {
    this.commandName = "bold";
  }
  /**
   * Sanitizer Rule
   * Leave <b> tags
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      b: {}
    };
  }
  /**
   * Create button for Inline Toolbar
   */
  render() {
    return {
      icon: bi,
      name: "bold",
      onActivate: () => {
        document.execCommand(this.commandName);
      },
      isActive: () => document.queryCommandState(this.commandName)
    };
  }
  /**
   * Set a shortcut
   *
   * @returns {boolean}
   */
  get shortcut() {
    return "CMD+B";
  }
};
ut.isInline = true;
ut.title = "Bold";
var pt = class {
  constructor() {
    this.commandName = "italic", this.CSS = {
      button: "ce-inline-tool",
      buttonActive: "ce-inline-tool--active",
      buttonModifier: "ce-inline-tool--italic"
    }, this.nodes = {
      button: null
    };
  }
  /**
   * Sanitizer Rule
   * Leave <i> tags
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      i: {}
    };
  }
  /**
   * Create button for Inline Toolbar
   */
  render() {
    return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = Bi, this.nodes.button;
  }
  /**
   * Wrap range with <i> tag
   */
  surround() {
    document.execCommand(this.commandName);
  }
  /**
   * Check selection and set activated state to button if there are <i> tag
   */
  checkState() {
    const e = document.queryCommandState(this.commandName);
    return this.nodes.button.classList.toggle(this.CSS.buttonActive, e), e;
  }
  /**
   * Set a shortcut
   */
  get shortcut() {
    return "CMD+I";
  }
};
pt.isInline = true;
pt.title = "Italic";
var ft = class {
  /**
   * @param api - Editor.js API
   */
  constructor({ api: e }) {
    this.commandLink = "createLink", this.commandUnlink = "unlink", this.ENTER_KEY = 13, this.CSS = {
      button: "ce-inline-tool",
      buttonActive: "ce-inline-tool--active",
      buttonModifier: "ce-inline-tool--link",
      buttonUnlink: "ce-inline-tool--unlink",
      input: "ce-inline-tool-input",
      inputShowed: "ce-inline-tool-input--showed"
    }, this.nodes = {
      button: null,
      input: null
    }, this.inputOpened = false, this.toolbar = e.toolbar, this.inlineToolbar = e.inlineToolbar, this.notifier = e.notifier, this.i18n = e.i18n, this.selection = new b();
  }
  /**
   * Sanitizer Rule
   * Leave <a> tags
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      a: {
        href: true,
        target: "_blank",
        rel: "nofollow"
      }
    };
  }
  /**
   * Create button for Inline Toolbar
   */
  render() {
    return this.nodes.button = document.createElement("button"), this.nodes.button.type = "button", this.nodes.button.classList.add(this.CSS.button, this.CSS.buttonModifier), this.nodes.button.innerHTML = yt, this.nodes.button;
  }
  /**
   * Input for the link
   */
  renderActions() {
    return this.nodes.input = document.createElement("input"), this.nodes.input.placeholder = this.i18n.t("Add a link"), this.nodes.input.enterKeyHint = "done", this.nodes.input.classList.add(this.CSS.input), this.nodes.input.addEventListener("keydown", (e) => {
      e.keyCode === this.ENTER_KEY && this.enterPressed(e);
    }), this.nodes.input;
  }
  /**
   * Handle clicks on the Inline Toolbar icon
   *
   * @param {Range} range - range to wrap with link
   */
  surround(e) {
    if (e) {
      this.inputOpened ? (this.selection.restore(), this.selection.removeFakeBackground()) : (this.selection.setFakeBackground(), this.selection.save());
      const t = this.selection.findParentTag("A");
      if (t) {
        this.selection.expandToTag(t), this.unlink(), this.closeActions(), this.checkState(), this.toolbar.close();
        return;
      }
    }
    this.toggleActions();
  }
  /**
   * Check selection and set activated state to button if there are <a> tag
   */
  checkState() {
    const e = this.selection.findParentTag("A");
    if (e) {
      this.nodes.button.innerHTML = Ii, this.nodes.button.classList.add(this.CSS.buttonUnlink), this.nodes.button.classList.add(this.CSS.buttonActive), this.openActions();
      const t = e.getAttribute("href");
      this.nodes.input.value = t !== "null" ? t : "", this.selection.save();
    } else
      this.nodes.button.innerHTML = yt, this.nodes.button.classList.remove(this.CSS.buttonUnlink), this.nodes.button.classList.remove(this.CSS.buttonActive);
    return !!e;
  }
  /**
   * Function called with Inline Toolbar closing
   */
  clear() {
    this.closeActions();
  }
  /**
   * Set a shortcut
   */
  get shortcut() {
    return "CMD+K";
  }
  /**
   * Show/close link input
   */
  toggleActions() {
    this.inputOpened ? this.closeActions(false) : this.openActions(true);
  }
  /**
   * @param {boolean} needFocus - on link creation we need to focus input. On editing - nope.
   */
  openActions(e = false) {
    this.nodes.input.classList.add(this.CSS.inputShowed), e && this.nodes.input.focus(), this.inputOpened = true;
  }
  /**
   * Close input
   *
   * @param {boolean} clearSavedSelection — we don't need to clear saved selection
   *                                        on toggle-clicks on the icon of opened Toolbar
   */
  closeActions(e = true) {
    if (this.selection.isFakeBackgroundEnabled) {
      const t = new b();
      t.save(), this.selection.restore(), this.selection.removeFakeBackground(), t.restore();
    }
    this.nodes.input.classList.remove(this.CSS.inputShowed), this.nodes.input.value = "", e && this.selection.clearSaved(), this.inputOpened = false;
  }
  /**
   * Enter pressed on input
   *
   * @param {KeyboardEvent} event - enter keydown event
   */
  enterPressed(e) {
    let t = this.nodes.input.value || "";
    if (!t.trim()) {
      this.selection.restore(), this.unlink(), e.preventDefault(), this.closeActions();
      return;
    }
    if (!this.validateURL(t)) {
      this.notifier.show({
        message: "Pasted link is not valid.",
        style: "error"
      }), I("Incorrect Link pasted", "warn", t);
      return;
    }
    t = this.prepareLink(t), this.selection.restore(), this.selection.removeFakeBackground(), this.insertLink(t), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), this.selection.collapseToEnd(), this.inlineToolbar.close();
  }
  /**
   * Detects if passed string is URL
   *
   * @param {string} str - string to validate
   * @returns {boolean}
   */
  validateURL(e) {
    return !/\s/.test(e);
  }
  /**
   * Process link before injection
   * - sanitize
   * - add protocol for links like 'google.com'
   *
   * @param {string} link - raw user input
   */
  prepareLink(e) {
    return e = e.trim(), e = this.addProtocol(e), e;
  }
  /**
   * Add 'http' protocol to the links like 'vc.ru', 'google.com'
   *
   * @param {string} link - string to process
   */
  addProtocol(e) {
    if (/^(\w+):(\/\/)?/.test(e))
      return e;
    const t = /^\/[^/\s]/.test(e), o4 = e.substring(0, 1) === "#", i = /^\/\/[^/\s]/.test(e);
    return !t && !o4 && !i && (e = "http://" + e), e;
  }
  /**
   * Inserts <a> tag with "href"
   *
   * @param {string} link - "href" value
   */
  insertLink(e) {
    const t = this.selection.findParentTag("A");
    t && this.selection.expandToTag(t), document.execCommand(this.commandLink, false, e);
  }
  /**
   * Removes <a> tag
   */
  unlink() {
    document.execCommand(this.commandUnlink);
  }
};
ft.isInline = true;
ft.title = "Link";
var ao = class {
  /**
   * @param api - Editor.js API
   */
  constructor({ api: e }) {
    this.i18nAPI = e.i18n, this.blocksAPI = e.blocks, this.selectionAPI = e.selection, this.toolsAPI = e.tools, this.caretAPI = e.caret;
  }
  /**
   * Returns tool's UI config
   */
  async render() {
    const e = b.get(), t = this.blocksAPI.getBlockByElement(e.anchorNode);
    if (t === void 0)
      return [];
    const o4 = this.toolsAPI.getBlockTools(), i = await zt(t, o4);
    if (i.length === 0)
      return [];
    const s4 = i.reduce((c2, u2) => {
      var h4;
      return (h4 = u2.toolbox) == null || h4.forEach((p2) => {
        c2.push({
          icon: p2.icon,
          title: z.t(K.toolNames, p2.title),
          name: u2.name,
          closeOnActivate: true,
          onActivate: async () => {
            const g4 = await this.blocksAPI.convert(t.id, u2.name, p2.data);
            this.caretAPI.setToBlock(g4, "end");
          }
        });
      }), c2;
    }, []), r3 = await t.getActiveToolboxEntry(), l3 = r3 !== void 0 ? r3.icon : Kt, a6 = !pe();
    return {
      icon: l3,
      name: "convert-to",
      hint: {
        title: this.i18nAPI.t("Convert to")
      },
      children: {
        searchable: a6,
        items: s4,
        onOpen: () => {
          a6 && (this.selectionAPI.setFakeBackground(), this.selectionAPI.save());
        },
        onClose: () => {
          a6 && (this.selectionAPI.restore(), this.selectionAPI.removeFakeBackground());
        }
      }
    };
  }
};
ao.isInline = true;
var co = class {
  /**
   * @param options - constructor options
   * @param options.data - stub tool data
   * @param options.api - Editor.js API
   */
  constructor({ data: e, api: t }) {
    this.CSS = {
      wrapper: "ce-stub",
      info: "ce-stub__info",
      title: "ce-stub__title",
      subtitle: "ce-stub__subtitle"
    }, this.api = t, this.title = e.title || this.api.i18n.t("Error"), this.subtitle = this.api.i18n.t("The block can not be displayed correctly."), this.savedData = e.savedData, this.wrapper = this.make();
  }
  /**
   * Returns stub holder
   *
   * @returns {HTMLElement}
   */
  render() {
    return this.wrapper;
  }
  /**
   * Return original Tool data
   *
   * @returns {BlockToolData}
   */
  save() {
    return this.savedData;
  }
  /**
   * Create Tool html markup
   *
   * @returns {HTMLElement}
   */
  make() {
    const e = d.make("div", this.CSS.wrapper), t = Mi, o4 = d.make("div", this.CSS.info), i = d.make("div", this.CSS.title, {
      textContent: this.title
    }), s4 = d.make("div", this.CSS.subtitle, {
      textContent: this.subtitle
    });
    return e.innerHTML = t, o4.appendChild(i), o4.appendChild(s4), e.appendChild(o4), e;
  }
};
co.isReadOnlySupported = true;
var ps = class extends dt {
  constructor() {
    super(...arguments), this.type = ne.Inline;
  }
  /**
   * Returns title for Inline Tool if specified by user
   */
  get title() {
    return this.constructable[ct.Title];
  }
  /**
   * Constructs new InlineTool instance from constructable
   */
  create() {
    return new this.constructable({
      api: this.api,
      config: this.settings
    });
  }
};
var fs = class extends dt {
  constructor() {
    super(...arguments), this.type = ne.Tune;
  }
  /**
   * Constructs new BlockTune instance from constructable
   *
   * @param data - Tune data
   * @param block - Block API object
   */
  create(e, t) {
    return new this.constructable({
      api: this.api,
      config: this.settings,
      block: t,
      data: e
    });
  }
};
var F = class _F extends Map {
  /**
   * Returns Block Tools collection
   */
  get blockTools() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isBlock());
    return new _F(e);
  }
  /**
   * Returns Inline Tools collection
   */
  get inlineTools() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isInline());
    return new _F(e);
  }
  /**
   * Returns Block Tunes collection
   */
  get blockTunes() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isTune());
    return new _F(e);
  }
  /**
   * Returns internal Tools collection
   */
  get internalTools() {
    const e = Array.from(this.entries()).filter(([, t]) => t.isInternal);
    return new _F(e);
  }
  /**
   * Returns Tools collection provided by user
   */
  get externalTools() {
    const e = Array.from(this.entries()).filter(([, t]) => !t.isInternal);
    return new _F(e);
  }
};
var gs = Object.defineProperty;
var ms = Object.getOwnPropertyDescriptor;
var ho = (n2, e, t, o4) => {
  for (var i = o4 > 1 ? void 0 : o4 ? ms(e, t) : e, s4 = n2.length - 1, r3; s4 >= 0; s4--)
    (r3 = n2[s4]) && (i = (o4 ? r3(e, t, i) : r3(i)) || i);
  return o4 && i && gs(e, t, i), i;
};
var gt = class extends dt {
  constructor() {
    super(...arguments), this.type = ne.Block, this.inlineTools = new F(), this.tunes = new F();
  }
  /**
   * Creates new Tool instance
   *
   * @param data - Tool data
   * @param block - BlockAPI for current Block
   * @param readOnly - True if Editor is in read-only mode
   */
  create(e, t, o4) {
    return new this.constructable({
      data: e,
      block: t,
      readOnly: o4,
      api: this.api,
      config: this.settings
    });
  }
  /**
   * Returns true if read-only mode is supported by Tool
   */
  get isReadOnlySupported() {
    return this.constructable[ce.IsReadOnlySupported] === true;
  }
  /**
   * Returns true if Tool supports linebreaks
   */
  get isLineBreaksEnabled() {
    return this.constructable[ce.IsEnabledLineBreaks];
  }
  /**
   * Returns Tool toolbox configuration (internal or user-specified).
   *
   * Merges internal and user-defined toolbox configs based on the following rules:
   *
   * - If both internal and user-defined toolbox configs are arrays their items are merged.
   * Length of the second one is kept.
   *
   * - If both are objects their properties are merged.
   *
   * - If one is an object and another is an array than internal config is replaced with user-defined
   * config. This is made to allow user to override default tool's toolbox representation (single/multiple entries)
   */
  get toolbox() {
    const e = this.constructable[ce.Toolbox], t = this.config[Ie.Toolbox];
    if (!V(e) && t !== false)
      return t ? Array.isArray(e) ? Array.isArray(t) ? t.map((o4, i) => {
        const s4 = e[i];
        return s4 ? {
          ...s4,
          ...o4
        } : o4;
      }) : [t] : Array.isArray(t) ? t : [
        {
          ...e,
          ...t
        }
      ] : Array.isArray(e) ? e : [e];
  }
  /**
   * Returns Tool conversion configuration
   */
  get conversionConfig() {
    return this.constructable[ce.ConversionConfig];
  }
  /**
   * Returns enabled inline tools for Tool
   */
  get enabledInlineTools() {
    return this.config[Ie.EnabledInlineTools] || false;
  }
  /**
   * Returns enabled tunes for Tool
   */
  get enabledBlockTunes() {
    return this.config[Ie.EnabledBlockTunes];
  }
  /**
   * Returns Tool paste configuration
   */
  get pasteConfig() {
    return this.constructable[ce.PasteConfig] ?? {};
  }
  get sanitizeConfig() {
    const e = super.sanitizeConfig, t = this.baseSanitizeConfig;
    if (V(e))
      return t;
    const o4 = {};
    for (const i in e)
      if (Object.prototype.hasOwnProperty.call(e, i)) {
        const s4 = e[i];
        R(s4) ? o4[i] = Object.assign({}, t, s4) : o4[i] = s4;
      }
    return o4;
  }
  get baseSanitizeConfig() {
    const e = {};
    return Array.from(this.inlineTools.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), Array.from(this.tunes.values()).forEach((t) => Object.assign(e, t.sanitizeConfig)), e;
  }
};
ho([
  ue
], gt.prototype, "sanitizeConfig", 1);
ho([
  ue
], gt.prototype, "baseSanitizeConfig", 1);
var bs = class {
  /**
   * @class
   * @param config - tools config
   * @param editorConfig - EditorJS config
   * @param api - EditorJS API module
   */
  constructor(e, t, o4) {
    this.api = o4, this.config = e, this.editorConfig = t;
  }
  /**
   * Returns Tool object based on it's type
   *
   * @param name - tool name
   */
  get(e) {
    const { class: t, isInternal: o4 = false, ...i } = this.config[e], s4 = this.getConstructor(t), r3 = t[et.IsTune];
    return new s4({
      name: e,
      constructable: t,
      config: i,
      api: this.api.getMethodsForTool(e, r3),
      isDefault: e === this.editorConfig.defaultBlock,
      defaultPlaceholder: this.editorConfig.placeholder,
      isInternal: o4
    });
  }
  /**
   * Find appropriate Tool object constructor for Tool constructable
   *
   * @param constructable - Tools constructable
   */
  getConstructor(e) {
    switch (true) {
      case e[ct.IsInline]:
        return ps;
      case e[et.IsTune]:
        return fs;
      default:
        return gt;
    }
  }
};
var uo = class {
  /**
   * MoveDownTune constructor
   *
   * @param {API} api — Editor's API
   */
  constructor({ api: e }) {
    this.CSS = {
      animation: "wobble"
    }, this.api = e;
  }
  /**
   * Tune's appearance in block settings menu
   */
  render() {
    return {
      icon: ki,
      title: this.api.i18n.t("Move down"),
      onActivate: () => this.handleClick(),
      name: "move-down"
    };
  }
  /**
   * Handle clicks on 'move down' button
   */
  handleClick() {
    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e + 1);
    if (!t)
      throw new Error("Unable to move Block down since it is already the last");
    const o4 = t.holder, i = o4.getBoundingClientRect();
    let s4 = Math.abs(window.innerHeight - o4.offsetHeight);
    i.top < window.innerHeight && (s4 = window.scrollY + o4.offsetHeight), window.scrollTo(0, s4), this.api.blocks.move(e + 1), this.api.toolbar.toggleBlockSettings(true);
  }
};
uo.isTune = true;
var po = class {
  /**
   * DeleteTune constructor
   *
   * @param {API} api - Editor's API
   */
  constructor({ api: e }) {
    this.api = e;
  }
  /**
   * Tune's appearance in block settings menu
   */
  render() {
    return {
      icon: yi,
      title: this.api.i18n.t("Delete"),
      name: "delete",
      confirmation: {
        title: this.api.i18n.t("Click to delete"),
        onActivate: () => this.handleClick()
      }
    };
  }
  /**
   * Delete block conditions passed
   */
  handleClick() {
    this.api.blocks.delete();
  }
};
po.isTune = true;
var fo = class {
  /**
   * MoveUpTune constructor
   *
   * @param {API} api - Editor's API
   */
  constructor({ api: e }) {
    this.CSS = {
      animation: "wobble"
    }, this.api = e;
  }
  /**
   * Tune's appearance in block settings menu
   */
  render() {
    return {
      icon: xi,
      title: this.api.i18n.t("Move up"),
      onActivate: () => this.handleClick(),
      name: "move-up"
    };
  }
  /**
   * Move current block up
   */
  handleClick() {
    const e = this.api.blocks.getCurrentBlockIndex(), t = this.api.blocks.getBlockByIndex(e), o4 = this.api.blocks.getBlockByIndex(e - 1);
    if (e === 0 || !t || !o4)
      throw new Error("Unable to move Block up since it is already the first");
    const i = t.holder, s4 = o4.holder, r3 = i.getBoundingClientRect(), l3 = s4.getBoundingClientRect();
    let a6;
    l3.top > 0 ? a6 = Math.abs(r3.top) - Math.abs(l3.top) : a6 = Math.abs(r3.top) + l3.height, window.scrollBy(0, -1 * a6), this.api.blocks.move(e - 1), this.api.toolbar.toggleBlockSettings(true);
  }
};
fo.isTune = true;
var ks = Object.defineProperty;
var vs = Object.getOwnPropertyDescriptor;
var ws = (n2, e, t, o4) => {
  for (var i = o4 > 1 ? void 0 : o4 ? vs(e, t) : e, s4 = n2.length - 1, r3; s4 >= 0; s4--)
    (r3 = n2[s4]) && (i = (o4 ? r3(e, t, i) : r3(i)) || i);
  return o4 && i && ks(e, t, i), i;
};
var go = class extends y {
  constructor() {
    super(...arguments), this.stubTool = "stub", this.toolsAvailable = new F(), this.toolsUnavailable = new F();
  }
  /**
   * Returns available Tools
   */
  get available() {
    return this.toolsAvailable;
  }
  /**
   * Returns unavailable Tools
   */
  get unavailable() {
    return this.toolsUnavailable;
  }
  /**
   * Return Tools for the Inline Toolbar
   */
  get inlineTools() {
    return this.available.inlineTools;
  }
  /**
   * Return editor block tools
   */
  get blockTools() {
    return this.available.blockTools;
  }
  /**
   * Return available Block Tunes
   *
   * @returns {object} - object of Inline Tool's classes
   */
  get blockTunes() {
    return this.available.blockTunes;
  }
  /**
   * Returns default Tool object
   */
  get defaultTool() {
    return this.blockTools.get(this.config.defaultBlock);
  }
  /**
   * Returns internal tools
   */
  get internal() {
    return this.available.internalTools;
  }
  /**
   * Creates instances via passed or default configuration
   *
   * @returns {Promise<void>}
   */
  async prepare() {
    if (this.validateTools(), this.config.tools = qe({}, this.internalTools, this.config.tools), !Object.prototype.hasOwnProperty.call(this.config, "tools") || Object.keys(this.config.tools).length === 0)
      throw Error("Can't start without tools");
    const e = this.prepareConfig();
    this.factory = new bs(e, this.config, this.Editor.API);
    const t = this.getListOfPrepareFunctions(e);
    if (t.length === 0)
      return Promise.resolve();
    await Eo(t, (o4) => {
      this.toolPrepareMethodSuccess(o4);
    }, (o4) => {
      this.toolPrepareMethodFallback(o4);
    }), this.prepareBlockTools();
  }
  getAllInlineToolsSanitizeConfig() {
    const e = {};
    return Array.from(this.inlineTools.values()).forEach((t) => {
      Object.assign(e, t.sanitizeConfig);
    }), e;
  }
  /**
   * Calls each Tool reset method to clean up anything set by Tool
   */
  destroy() {
    Object.values(this.available).forEach(async (e) => {
      O(e.reset) && await e.reset();
    });
  }
  /**
   * Returns internal tools
   * Includes Bold, Italic, Link and Paragraph
   */
  get internalTools() {
    return {
      convertTo: {
        class: ao,
        isInternal: true
      },
      link: {
        class: ft,
        isInternal: true
      },
      bold: {
        class: ut,
        isInternal: true
      },
      italic: {
        class: pt,
        isInternal: true
      },
      paragraph: {
        class: ht,
        inlineToolbar: true,
        isInternal: true
      },
      stub: {
        class: co,
        isInternal: true
      },
      moveUp: {
        class: fo,
        isInternal: true
      },
      delete: {
        class: po,
        isInternal: true
      },
      moveDown: {
        class: uo,
        isInternal: true
      }
    };
  }
  /**
   * Tool prepare method success callback
   *
   * @param {object} data - append tool to available list
   */
  toolPrepareMethodSuccess(e) {
    const t = this.factory.get(e.toolName);
    if (t.isInline()) {
      const i = ["render"].filter((s4) => !t.create()[s4]);
      if (i.length) {
        I(
          `Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,
          "warn",
          i
        ), this.toolsUnavailable.set(t.name, t);
        return;
      }
    }
    this.toolsAvailable.set(t.name, t);
  }
  /**
   * Tool prepare method fail callback
   *
   * @param {object} data - append tool to unavailable list
   */
  toolPrepareMethodFallback(e) {
    this.toolsUnavailable.set(e.toolName, this.factory.get(e.toolName));
  }
  /**
   * Binds prepare function of plugins with user or default config
   *
   * @returns {Array} list of functions that needs to be fired sequentially
   * @param config - tools config
   */
  getListOfPrepareFunctions(e) {
    const t = [];
    return Object.entries(e).forEach(([o4, i]) => {
      t.push({
        // eslint-disable-next-line @typescript-eslint/no-empty-function
        function: O(i.class.prepare) ? i.class.prepare : () => {
        },
        data: {
          toolName: o4,
          config: i.config
        }
      });
    }), t;
  }
  /**
   * Assign enabled Inline Tools and Block Tunes for Block Tool
   */
  prepareBlockTools() {
    Array.from(this.blockTools.values()).forEach((e) => {
      this.assignInlineToolsToBlockTool(e), this.assignBlockTunesToBlockTool(e);
    });
  }
  /**
   * Assign enabled Inline Tools for Block Tool
   *
   * @param tool - Block Tool
   */
  assignInlineToolsToBlockTool(e) {
    if (this.config.inlineToolbar !== false) {
      if (e.enabledInlineTools === true) {
        e.inlineTools = new F(
          Array.isArray(this.config.inlineToolbar) ? this.config.inlineToolbar.map((t) => [t, this.inlineTools.get(t)]) : Array.from(this.inlineTools.entries())
        );
        return;
      }
      Array.isArray(e.enabledInlineTools) && (e.inlineTools = new F(
        /** Prepend ConvertTo Inline Tool */
        ["convertTo", ...e.enabledInlineTools].map((t) => [t, this.inlineTools.get(t)])
      ));
    }
  }
  /**
   * Assign enabled Block Tunes for Block Tool
   *
   * @param tool — Block Tool
   */
  assignBlockTunesToBlockTool(e) {
    if (e.enabledBlockTunes !== false) {
      if (Array.isArray(e.enabledBlockTunes)) {
        const t = new F(
          e.enabledBlockTunes.map((o4) => [o4, this.blockTunes.get(o4)])
        );
        e.tunes = new F([...t, ...this.blockTunes.internalTools]);
        return;
      }
      if (Array.isArray(this.config.tunes)) {
        const t = new F(
          this.config.tunes.map((o4) => [o4, this.blockTunes.get(o4)])
        );
        e.tunes = new F([...t, ...this.blockTunes.internalTools]);
        return;
      }
      e.tunes = this.blockTunes.internalTools;
    }
  }
  /**
   * Validate Tools configuration objects and throw Error for user if it is invalid
   */
  validateTools() {
    for (const e in this.config.tools)
      if (Object.prototype.hasOwnProperty.call(this.config.tools, e)) {
        if (e in this.internalTools)
          return;
        const t = this.config.tools[e];
        if (!O(t) && !O(t.class))
          throw Error(
            `Tool \xAB${e}\xBB must be a constructor function or an object with function in the \xABclass\xBB property`
          );
      }
  }
  /**
   * Unify tools config
   */
  prepareConfig() {
    const e = {};
    for (const t in this.config.tools)
      R(this.config.tools[t]) ? e[t] = this.config.tools[t] : e[t] = { class: this.config.tools[t] };
    return e;
  }
};
ws([
  ue
], go.prototype, "getAllInlineToolsSanitizeConfig", 1);
var xs = `:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;
var ys = class extends y {
  constructor() {
    super(...arguments), this.isMobile = false, this.contentRectCache = void 0, this.resizeDebouncer = vt(() => {
      this.windowResize();
    }, 200);
  }
  /**
   * Editor.js UI CSS class names
   *
   * @returns {{editorWrapper: string, editorZone: string}}
   */
  get CSS() {
    return {
      editorWrapper: "codex-editor",
      editorWrapperNarrow: "codex-editor--narrow",
      editorZone: "codex-editor__redactor",
      editorZoneHidden: "codex-editor__redactor--hidden",
      editorEmpty: "codex-editor--empty",
      editorRtlFix: "codex-editor--rtl"
    };
  }
  /**
   * Return Width of center column of Editor
   *
   * @returns {DOMRect}
   */
  get contentRect() {
    if (this.contentRectCache)
      return this.contentRectCache;
    const e = this.nodes.wrapper.querySelector(`.${D.CSS.content}`);
    return e ? (this.contentRectCache = e.getBoundingClientRect(), this.contentRectCache) : {
      width: 650,
      left: 0,
      right: 0
    };
  }
  /**
   * Making main interface
   */
  async prepare() {
    this.setIsMobile(), this.make(), this.loadStyles();
  }
  /**
   * Toggle read-only state
   *
   * If readOnly is true:
   *  - removes all listeners from main UI module elements
   *
   * if readOnly is false:
   *  - enables all listeners to UI module elements
   *
   * @param {boolean} readOnlyEnabled - "read only" state
   */
  toggleReadOnly(e) {
    e ? this.disableModuleBindings() : window.requestIdleCallback(() => {
      this.enableModuleBindings();
    }, {
      timeout: 2e3
    });
  }
  /**
   * Check if Editor is empty and set CSS class to wrapper
   */
  checkEmptiness() {
    const { BlockManager: e } = this.Editor;
    this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty, e.isEditorEmpty);
  }
  /**
   * Check if one of Toolbar is opened
   * Used to prevent global keydowns (for example, Enter) conflicts with Enter-on-toolbar
   *
   * @returns {boolean}
   */
  get someToolbarOpened() {
    const { Toolbar: e, BlockSettings: t, InlineToolbar: o4 } = this.Editor;
    return !!(t.opened || o4.opened || e.toolbox.opened);
  }
  /**
   * Check for some Flipper-buttons is under focus
   */
  get someFlipperButtonFocused() {
    return this.Editor.Toolbar.toolbox.hasFocus() ? true : Object.entries(this.Editor).filter(([e, t]) => t.flipper instanceof le).some(([e, t]) => t.flipper.hasFocus());
  }
  /**
   * Clean editor`s UI
   */
  destroy() {
    this.nodes.holder.innerHTML = "";
  }
  /**
   * Close all Editor's toolbars
   */
  closeAllToolbars() {
    const { Toolbar: e, BlockSettings: t, InlineToolbar: o4 } = this.Editor;
    t.close(), o4.close(), e.toolbox.close();
  }
  /**
   * Check for mobile mode and save the result
   */
  setIsMobile() {
    const e = window.innerWidth < Ot;
    e !== this.isMobile && this.eventsDispatcher.emit(ye, {
      isEnabled: this.isMobile
    }), this.isMobile = e;
  }
  /**
   * Makes Editor.js interface
   */
  make() {
    this.nodes.holder = d.getHolder(this.config.holder), this.nodes.wrapper = d.make("div", [
      this.CSS.editorWrapper,
      ...this.isRtl ? [this.CSS.editorRtlFix] : []
    ]), this.nodes.redactor = d.make("div", this.CSS.editorZone), this.nodes.holder.offsetWidth < this.contentRect.width && this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow), this.nodes.redactor.style.paddingBottom = this.config.minHeight + "px", this.nodes.wrapper.appendChild(this.nodes.redactor), this.nodes.holder.appendChild(this.nodes.wrapper);
  }
  /**
   * Appends CSS
   */
  loadStyles() {
    const e = "editor-js-styles";
    if (d.get(e))
      return;
    const t = d.make("style", null, {
      id: e,
      textContent: xs.toString()
    });
    this.config.style && !V(this.config.style) && this.config.style.nonce && t.setAttribute("nonce", this.config.style.nonce), d.prepend(document.head, t);
  }
  /**
   * Bind events on the Editor.js interface
   */
  enableModuleBindings() {
    this.readOnlyMutableListeners.on(this.nodes.redactor, "click", (t) => {
      this.redactorClicked(t);
    }, false), this.readOnlyMutableListeners.on(this.nodes.redactor, "mousedown", (t) => {
      this.documentTouched(t);
    }, {
      capture: true,
      passive: true
    }), this.readOnlyMutableListeners.on(this.nodes.redactor, "touchstart", (t) => {
      this.documentTouched(t);
    }, {
      capture: true,
      passive: true
    }), this.readOnlyMutableListeners.on(document, "keydown", (t) => {
      this.documentKeydown(t);
    }, true), this.readOnlyMutableListeners.on(document, "mousedown", (t) => {
      this.documentClicked(t);
    }, true);
    const e = vt(() => {
      this.selectionChanged();
    }, ss);
    this.readOnlyMutableListeners.on(document, "selectionchange", e, true), this.readOnlyMutableListeners.on(window, "resize", () => {
      this.resizeDebouncer();
    }, {
      passive: true
    }), this.watchBlockHoveredEvents(), this.enableInputsEmptyMark();
  }
  /**
   * Listen redactor mousemove to emit 'block-hovered' event
   */
  watchBlockHoveredEvents() {
    let e;
    this.readOnlyMutableListeners.on(this.nodes.redactor, "mousemove", Ve((t) => {
      const o4 = t.target.closest(".ce-block");
      this.Editor.BlockSelection.anyBlockSelected || o4 && e !== o4 && (e = o4, this.eventsDispatcher.emit(oo, {
        block: this.Editor.BlockManager.getBlockByChildNode(o4)
      }));
    }, 20), {
      passive: true
    });
  }
  /**
   * Unbind events on the Editor.js interface
   */
  disableModuleBindings() {
    this.readOnlyMutableListeners.clearAll();
  }
  /**
   * Resize window handler
   */
  windowResize() {
    this.contentRectCache = null, this.setIsMobile();
  }
  /**
   * All keydowns on document
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  documentKeydown(e) {
    switch (e.keyCode) {
      case w.ENTER:
        this.enterPressed(e);
        break;
      case w.BACKSPACE:
      case w.DELETE:
        this.backspacePressed(e);
        break;
      case w.ESC:
        this.escapePressed(e);
        break;
      default:
        this.defaultBehaviour(e);
        break;
    }
  }
  /**
   * Ignore all other document's keydown events
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  defaultBehaviour(e) {
    const { currentBlock: t } = this.Editor.BlockManager, o4 = e.target.closest(`.${this.CSS.editorWrapper}`), i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
    if (t !== void 0 && o4 === null) {
      this.Editor.BlockEvents.keydown(e);
      return;
    }
    o4 || t && i || (this.Editor.BlockManager.unsetCurrentBlock(), this.Editor.Toolbar.close());
  }
  /**
   * @param {KeyboardEvent} event - keyboard event
   */
  backspacePressed(e) {
    const { BlockManager: t, BlockSelection: o4, Caret: i } = this.Editor;
    if (o4.anyBlockSelected && !b.isSelectionExists) {
      const s4 = t.removeSelectedBlocks(), r3 = t.insertDefaultBlockAtIndex(s4, true);
      i.setToBlock(r3, i.positions.START), o4.clearSelection(e), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation();
    }
  }
  /**
   * Escape pressed
   * If some of Toolbar components are opened, then close it otherwise close Toolbar
   *
   * @param {Event} event - escape keydown event
   */
  escapePressed(e) {
    this.Editor.BlockSelection.clearSelection(e), this.Editor.Toolbar.toolbox.opened ? (this.Editor.Toolbar.toolbox.close(), this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock, this.Editor.Caret.positions.END)) : this.Editor.BlockSettings.opened ? this.Editor.BlockSettings.close() : this.Editor.InlineToolbar.opened ? this.Editor.InlineToolbar.close() : this.Editor.Toolbar.close();
  }
  /**
   * Enter pressed on document
   *
   * @param {KeyboardEvent} event - keyboard event
   */
  enterPressed(e) {
    const { BlockManager: t, BlockSelection: o4 } = this.Editor;
    if (this.someToolbarOpened)
      return;
    const i = t.currentBlockIndex >= 0;
    if (o4.anyBlockSelected && !b.isSelectionExists) {
      o4.clearSelection(e), e.preventDefault(), e.stopImmediatePropagation(), e.stopPropagation();
      return;
    }
    if (!this.someToolbarOpened && i && e.target.tagName === "BODY") {
      const s4 = this.Editor.BlockManager.insert();
      e.preventDefault(), this.Editor.Caret.setToBlock(s4), this.Editor.Toolbar.moveAndOpen(s4);
    }
    this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * All clicks on document
   *
   * @param {MouseEvent} event - Click event
   */
  documentClicked(e) {
    var l3, a6;
    if (!e.isTrusted)
      return;
    const t = e.target;
    this.nodes.holder.contains(t) || b.isAtEditor || (this.Editor.BlockManager.unsetCurrentBlock(), this.Editor.Toolbar.close());
    const i = (l3 = this.Editor.BlockSettings.nodes.wrapper) == null ? void 0 : l3.contains(t), s4 = (a6 = this.Editor.Toolbar.nodes.settingsToggler) == null ? void 0 : a6.contains(t), r3 = i || s4;
    if (this.Editor.BlockSettings.opened && !r3) {
      this.Editor.BlockSettings.close();
      const c2 = this.Editor.BlockManager.getBlockByChildNode(t);
      this.Editor.Toolbar.moveAndOpen(c2);
    }
    this.Editor.BlockSelection.clearSelection(e);
  }
  /**
   * First touch on editor
   * Fired before click
   *
   * Used to change current block — we need to do it before 'selectionChange' event.
   * Also:
   * - Move and show the Toolbar
   * - Set a Caret
   *
   * @param {MouseEvent | TouchEvent} event - touch or mouse event
   */
  documentTouched(e) {
    let t = e.target;
    if (t === this.nodes.redactor) {
      const o4 = e instanceof MouseEvent ? e.clientX : e.touches[0].clientX, i = e instanceof MouseEvent ? e.clientY : e.touches[0].clientY;
      t = document.elementFromPoint(o4, i);
    }
    try {
      this.Editor.BlockManager.setCurrentBlockByChildNode(t);
    } catch {
      this.Editor.RectangleSelection.isRectActivated() || this.Editor.Caret.setToTheLastBlock();
    }
    this.Editor.Toolbar.moveAndOpen();
  }
  /**
   * All clicks on the redactor zone
   *
   * @param {MouseEvent} event - click event
   * @description
   * - By clicks on the Editor's bottom zone:
   *      - if last Block is empty, set a Caret to this
   *      - otherwise, add a new empty Block and set a Caret to that
   */
  redactorClicked(e) {
    if (!b.isCollapsed)
      return;
    const t = e.target, o4 = e.metaKey || e.ctrlKey;
    if (d.isAnchor(t) && o4) {
      e.stopImmediatePropagation(), e.stopPropagation();
      const i = t.getAttribute("href"), s4 = So(i);
      Mo(s4);
      return;
    }
    this.processBottomZoneClick(e);
  }
  /**
   * Check if user clicks on the Editor's bottom zone:
   *  - set caret to the last block
   *  - or add new empty block
   *
   * @param event - click event
   */
  processBottomZoneClick(e) {
    const t = this.Editor.BlockManager.getBlockByIndex(-1), o4 = d.offset(t.holder).bottom, i = e.pageY, { BlockSelection: s4 } = this.Editor;
    if (e.target instanceof Element && e.target.isEqualNode(this.nodes.redactor) && /**
    * If there is cross block selection started, target will be equal to redactor so we need additional check
    */
    !s4.anyBlockSelected && /**
    * Prevent caret jumping (to last block) when clicking between blocks
    */
    o4 < i) {
      e.stopImmediatePropagation(), e.stopPropagation();
      const { BlockManager: l3, Caret: a6, Toolbar: c2 } = this.Editor;
      (!l3.lastBlock.tool.isDefault || !l3.lastBlock.isEmpty) && l3.insertAtEnd(), a6.setToTheLastBlock(), c2.moveAndOpen(l3.lastBlock);
    }
  }
  /**
   * Handle selection changes on mobile devices
   * Uses for showing the Inline Toolbar
   */
  selectionChanged() {
    const { CrossBlockSelection: e, BlockSelection: t } = this.Editor, o4 = b.anchorElement;
    if (e.isCrossBlockSelectionStarted && t.anyBlockSelected && b.get().removeAllRanges(), !o4) {
      b.range || this.Editor.InlineToolbar.close();
      return;
    }
    const i = o4.closest(`.${D.CSS.content}`);
    (i === null || i.closest(`.${b.CSS.editorWrapper}`) !== this.nodes.wrapper) && (this.Editor.InlineToolbar.containsNode(o4) || this.Editor.InlineToolbar.close(), !(o4.dataset.inlineToolbar === "true")) || (this.Editor.BlockManager.currentBlock || this.Editor.BlockManager.setCurrentBlockByChildNode(o4), this.Editor.InlineToolbar.tryToShow(true));
  }
  /**
   * Editor.js provides and ability to show placeholders for empty contenteditable elements
   *
   * This method watches for input and focus events and toggles 'data-empty' attribute
   * to workaroud the case, when inputs contains only <br>s and has no visible content
   * Then, CSS could rely on this attribute to show placeholders
   */
  enableInputsEmptyMark() {
    function e(t) {
      const o4 = t.target;
      Lt(o4);
    }
    this.readOnlyMutableListeners.on(this.nodes.wrapper, "input", e), this.readOnlyMutableListeners.on(this.nodes.wrapper, "focusin", e), this.readOnlyMutableListeners.on(this.nodes.wrapper, "focusout", e);
  }
};
var Es = {
  // API Modules
  BlocksAPI: zo,
  CaretAPI: jo,
  EventsAPI: $o,
  I18nAPI: ot,
  API: Yo,
  InlineToolbarAPI: Wo,
  ListenersAPI: Ko,
  NotifierAPI: Zo,
  ReadOnlyAPI: Go,
  SanitizerAPI: si,
  SaverAPI: ni,
  SelectionAPI: ri,
  ToolsAPI: li,
  StylesAPI: ai,
  ToolbarAPI: ci,
  TooltipAPI: fi,
  UiAPI: gi,
  // Toolbar Modules
  BlockSettings: Ui,
  Toolbar: qi,
  InlineToolbar: Zi,
  // Modules
  BlockEvents: Gi,
  BlockManager: es,
  BlockSelection: ts,
  Caret: Re,
  CrossBlockSelection: os,
  DragNDrop: is,
  ModificationsObserver: rs,
  Paste: ls,
  ReadOnly: as,
  RectangleSelection: xe,
  Renderer: cs,
  Saver: ds,
  Tools: go,
  UI: ys
};
var Bs = class {
  /**
   * @param {EditorConfig} config - user configuration
   */
  constructor(e) {
    this.moduleInstances = {}, this.eventsDispatcher = new Te();
    let t, o4;
    this.isReady = new Promise((i, s4) => {
      t = i, o4 = s4;
    }), Promise.resolve().then(async () => {
      this.configuration = e, this.validate(), this.init(), await this.start(), await this.render();
      const { BlockManager: i, Caret: s4, UI: r3, ModificationsObserver: l3 } = this.moduleInstances;
      r3.checkEmptiness(), l3.enable(), this.configuration.autofocus && s4.setToBlock(i.blocks[0], s4.positions.START), t();
    }).catch((i) => {
      I(`Editor.js is not ready because of ${i}`, "error"), o4(i);
    });
  }
  /**
   * Setting for configuration
   *
   * @param {EditorConfig|string} config - Editor's config to set
   */
  set configuration(e) {
    var o4, i;
    R(e) ? this.config = {
      ...e
    } : this.config = {
      holder: e
    }, Ze(!!this.config.holderId, "config.holderId", "config.holder"), this.config.holderId && !this.config.holder && (this.config.holder = this.config.holderId, this.config.holderId = null), this.config.holder == null && (this.config.holder = "editorjs"), this.config.logLevel || (this.config.logLevel = It.VERBOSE), xo(this.config.logLevel), Ze(!!this.config.initialBlock, "config.initialBlock", "config.defaultBlock"), this.config.defaultBlock = this.config.defaultBlock || this.config.initialBlock || "paragraph", this.config.minHeight = this.config.minHeight !== void 0 ? this.config.minHeight : 300;
    const t = {
      type: this.config.defaultBlock,
      data: {}
    };
    this.config.placeholder = this.config.placeholder || false, this.config.sanitizer = this.config.sanitizer || {
      p: true,
      b: true,
      a: true
    }, this.config.hideToolbar = this.config.hideToolbar ? this.config.hideToolbar : false, this.config.tools = this.config.tools || {}, this.config.i18n = this.config.i18n || {}, this.config.data = this.config.data || { blocks: [] }, this.config.onReady = this.config.onReady || (() => {
    }), this.config.onChange = this.config.onChange || (() => {
    }), this.config.inlineToolbar = this.config.inlineToolbar !== void 0 ? this.config.inlineToolbar : true, (V(this.config.data) || !this.config.data.blocks || this.config.data.blocks.length === 0) && (this.config.data = { blocks: [t] }), this.config.readOnly = this.config.readOnly || false, (o4 = this.config.i18n) != null && o4.messages && z.setDictionary(this.config.i18n.messages), this.config.i18n.direction = ((i = this.config.i18n) == null ? void 0 : i.direction) || "ltr";
  }
  /**
   * Returns private property
   *
   * @returns {EditorConfig}
   */
  get configuration() {
    return this.config;
  }
  /**
   * Checks for required fields in Editor's config
   */
  validate() {
    const { holderId: e, holder: t } = this.config;
    if (e && t)
      throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");
    if (Q(t) && !d.get(t))
      throw Error(`element with ID \xAB${t}\xBB is missing. Pass correct holder's ID.`);
    if (t && R(t) && !d.isElement(t))
      throw Error("\xABholder\xBB value must be an Element node");
  }
  /**
   * Initializes modules:
   *  - make and save instances
   *  - configure
   */
  init() {
    this.constructModules(), this.configureModules();
  }
  /**
   * Start Editor!
   *
   * Get list of modules that needs to be prepared and return a sequence (Promise)
   *
   * @returns {Promise<void>}
   */
  async start() {
    await [
      "Tools",
      "UI",
      "BlockManager",
      "Paste",
      "BlockSelection",
      "RectangleSelection",
      "CrossBlockSelection",
      "ReadOnly"
    ].reduce(
      (t, o4) => t.then(async () => {
        try {
          await this.moduleInstances[o4].prepare();
        } catch (i) {
          if (i instanceof Pt)
            throw new Error(i.message);
          I(`Module ${o4} was skipped because of %o`, "warn", i);
        }
      }),
      Promise.resolve()
    );
  }
  /**
   * Render initial data
   */
  render() {
    return this.moduleInstances.Renderer.render(this.config.data.blocks);
  }
  /**
   * Make modules instances and save it to the @property this.moduleInstances
   */
  constructModules() {
    Object.entries(Es).forEach(([e, t]) => {
      try {
        this.moduleInstances[e] = new t({
          config: this.configuration,
          eventsDispatcher: this.eventsDispatcher
        });
      } catch (o4) {
        I("[constructModules]", `Module ${e} skipped because`, "error", o4);
      }
    });
  }
  /**
   * Modules instances configuration:
   *  - pass other modules to the 'state' property
   *  - ...
   */
  configureModules() {
    for (const e in this.moduleInstances)
      Object.prototype.hasOwnProperty.call(this.moduleInstances, e) && (this.moduleInstances[e].state = this.getModulesDiff(e));
  }
  /**
   * Return modules without passed name
   *
   * @param {string} name - module for witch modules difference should be calculated
   */
  getModulesDiff(e) {
    const t = {};
    for (const o4 in this.moduleInstances)
      o4 !== e && (t[o4] = this.moduleInstances[o4]);
    return t;
  }
};
var Ts = class {
  /** Editor version */
  static get version() {
    return "2.30.6";
  }
  /**
   * @param {EditorConfig|string|undefined} [configuration] - user configuration
   */
  constructor(e) {
    let t = () => {
    };
    R(e) && O(e.onReady) && (t = e.onReady);
    const o4 = new Bs(e);
    this.isReady = o4.isReady.then(() => {
      this.exportAPI(o4), t();
    });
  }
  /**
   * Export external API methods
   *
   * @param {Core} editor — Editor's instance
   */
  exportAPI(e) {
    const t = ["configuration"], o4 = () => {
      Object.values(e.moduleInstances).forEach((s4) => {
        O(s4.destroy) && s4.destroy(), s4.listeners.removeAll();
      }), pi(), e = null;
      for (const s4 in this)
        Object.prototype.hasOwnProperty.call(this, s4) && delete this[s4];
      Object.setPrototypeOf(this, null);
    };
    t.forEach((s4) => {
      this[s4] = e[s4];
    }), this.destroy = o4, Object.setPrototypeOf(this, e.moduleInstances.API.methods), delete this.exportAPI, Object.entries({
      blocks: {
        clear: "clear",
        render: "render"
      },
      caret: {
        focus: "focus"
      },
      events: {
        on: "on",
        off: "off",
        emit: "emit"
      },
      saver: {
        save: "save"
      }
    }).forEach(([s4, r3]) => {
      Object.entries(r3).forEach(([l3, a6]) => {
        this[a6] = e.moduleInstances.API.methods[s4][l3];
      });
    });
  }
};

// node_modules/@editorjs/image/dist/image.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var o4 = document.createElement("style");
      o4.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')), document.head.appendChild(o4);
    }
  } catch (e) {
    console.error("vite-plugin-css-injected-by-js", e);
  }
})();
var H2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>';
var I2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>';
var L2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';
var U2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';
function S(C3, a6 = null, r3 = {}) {
  const c2 = document.createElement(C3);
  Array.isArray(a6) ? c2.classList.add(...a6) : a6 !== null && c2.classList.add(a6);
  for (const i in r3)
    r3.hasOwnProperty(i) && (c2[i] = r3[i]);
  return c2;
}
var F2 = /* @__PURE__ */ ((C3) => (C3.Empty = "empty", C3.Uploading = "uploading", C3.Filled = "filled", C3))(F2 || {});
var x = class {
  /**
   * @param ui - image tool Ui module
   * @param ui.api - Editor.js API
   * @param ui.config - user config
   * @param ui.onSelectFile - callback for clicks on Select file button
   * @param ui.readOnly - read-only mode flag
   */
  constructor({ api: a6, config: r3, onSelectFile: c2, readOnly: i }) {
    this.api = a6, this.config = r3, this.onSelectFile = c2, this.readOnly = i, this.nodes = {
      wrapper: S("div", [this.CSS.baseClass, this.CSS.wrapper]),
      imageContainer: S("div", [this.CSS.imageContainer]),
      fileButton: this.createFileButton(),
      imageEl: void 0,
      imagePreloader: S("div", this.CSS.imagePreloader),
      caption: S("div", [this.CSS.input, this.CSS.caption], {
        contentEditable: !this.readOnly
      })
    }, this.nodes.caption.dataset.placeholder = this.config.captionPlaceholder, this.nodes.imageContainer.appendChild(this.nodes.imagePreloader), this.nodes.wrapper.appendChild(this.nodes.imageContainer), this.nodes.wrapper.appendChild(this.nodes.caption), this.nodes.wrapper.appendChild(this.nodes.fileButton);
  }
  /**
   * Apply visual representation of activated tune
   * @param tuneName - one of available tunes {@link Tunes.tunes}
   * @param status - true for enable, false for disable
   */
  applyTune(a6, r3) {
    this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${a6}`, r3);
  }
  /**
   * Renders tool UI
   * @param toolData - saved tool data
   */
  render(a6) {
    return a6.file === void 0 || Object.keys(a6.file).length === 0 ? this.toggleStatus(
      "empty"
      /* Empty */
    ) : this.toggleStatus(
      "uploading"
      /* Uploading */
    ), this.nodes.wrapper;
  }
  /**
   * Shows uploading preloader
   * @param src - preview source
   */
  showPreloader(a6) {
    this.nodes.imagePreloader.style.backgroundImage = `url(${a6})`, this.toggleStatus(
      "uploading"
      /* Uploading */
    );
  }
  /**
   * Hide uploading preloader
   */
  hidePreloader() {
    this.nodes.imagePreloader.style.backgroundImage = "", this.toggleStatus(
      "empty"
      /* Empty */
    );
  }
  /**
   * Shows an image
   * @param url - image source
   */
  fillImage(a6) {
    const r3 = /\.mp4$/.test(a6) ? "VIDEO" : "IMG", c2 = {
      src: a6
    };
    let i = "load";
    r3 === "VIDEO" && (c2.autoplay = true, c2.loop = true, c2.muted = true, c2.playsinline = true, i = "loadeddata"), this.nodes.imageEl = S(r3, this.CSS.imageEl, c2), this.nodes.imageEl.addEventListener(i, () => {
      this.toggleStatus(
        "filled"
        /* Filled */
      ), this.nodes.imagePreloader !== void 0 && (this.nodes.imagePreloader.style.backgroundImage = "");
    }), this.nodes.imageContainer.appendChild(this.nodes.imageEl);
  }
  /**
   * Shows caption input
   * @param text - caption content text
   */
  fillCaption(a6) {
    this.nodes.caption !== void 0 && (this.nodes.caption.innerHTML = a6);
  }
  /**
   * CSS classes
   */
  get CSS() {
    return {
      baseClass: this.api.styles.block,
      loading: this.api.styles.loader,
      input: this.api.styles.input,
      button: this.api.styles.button,
      /**
       * Tool's classes
       */
      wrapper: "image-tool",
      imageContainer: "image-tool__image",
      imagePreloader: "image-tool__image-preloader",
      imageEl: "image-tool__image-picture",
      caption: "image-tool__caption"
    };
  }
  /**
   * Creates upload-file button
   */
  createFileButton() {
    const a6 = S("div", [this.CSS.button]);
    return a6.innerHTML = this.config.buttonContent ?? `${L2} ${this.api.i18n.t("Select an Image")}`, a6.addEventListener("click", () => {
      this.onSelectFile();
    }), a6;
  }
  /**
   * Changes UI status
   * @param status - see {@link Ui.status} constants
   */
  toggleStatus(a6) {
    for (const r3 in F2)
      Object.prototype.hasOwnProperty.call(F2, r3) && this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${F2[r3]}`, a6 === F2[r3]);
  }
};
function D2(C3) {
  return C3 && C3.__esModule && Object.prototype.hasOwnProperty.call(C3, "default") ? C3.default : C3;
}
var R2 = { exports: {} };
(function(C3, a6) {
  (function(r3, c2) {
    C3.exports = c2();
  })(window, function() {
    return function(r3) {
      var c2 = {};
      function i(o4) {
        if (c2[o4])
          return c2[o4].exports;
        var n2 = c2[o4] = { i: o4, l: false, exports: {} };
        return r3[o4].call(n2.exports, n2, n2.exports, i), n2.l = true, n2.exports;
      }
      return i.m = r3, i.c = c2, i.d = function(o4, n2, d5) {
        i.o(o4, n2) || Object.defineProperty(o4, n2, { enumerable: true, get: d5 });
      }, i.r = function(o4) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(o4, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(o4, "__esModule", { value: true });
      }, i.t = function(o4, n2) {
        if (1 & n2 && (o4 = i(o4)), 8 & n2 || 4 & n2 && typeof o4 == "object" && o4 && o4.__esModule)
          return o4;
        var d5 = /* @__PURE__ */ Object.create(null);
        if (i.r(d5), Object.defineProperty(d5, "default", { enumerable: true, value: o4 }), 2 & n2 && typeof o4 != "string")
          for (var b4 in o4)
            i.d(d5, b4, function(u2) {
              return o4[u2];
            }.bind(null, b4));
        return d5;
      }, i.n = function(o4) {
        var n2 = o4 && o4.__esModule ? function() {
          return o4.default;
        } : function() {
          return o4;
        };
        return i.d(n2, "a", n2), n2;
      }, i.o = function(o4, n2) {
        return Object.prototype.hasOwnProperty.call(o4, n2);
      }, i.p = "", i(i.s = 3);
    }([function(r3, c2) {
      var i;
      i = /* @__PURE__ */ function() {
        return this;
      }();
      try {
        i = i || new Function("return this")();
      } catch {
        typeof window == "object" && (i = window);
      }
      r3.exports = i;
    }, function(r3, c2, i) {
      (function(o4) {
        var n2 = i(2), d5 = setTimeout;
        function b4() {
        }
        function u2(e) {
          if (!(this instanceof u2))
            throw new TypeError("Promises must be constructed via new");
          if (typeof e != "function")
            throw new TypeError("not a function");
          this._state = 0, this._handled = false, this._value = void 0, this._deferreds = [], t(e, this);
        }
        function f2(e, l3) {
          for (; e._state === 3; )
            e = e._value;
          e._state !== 0 ? (e._handled = true, u2._immediateFn(function() {
            var s4 = e._state === 1 ? l3.onFulfilled : l3.onRejected;
            if (s4 !== null) {
              var g4;
              try {
                g4 = s4(e._value);
              } catch (m3) {
                return void y4(l3.promise, m3);
              }
              p2(l3.promise, g4);
            } else
              (e._state === 1 ? p2 : y4)(l3.promise, e._value);
          })) : e._deferreds.push(l3);
        }
        function p2(e, l3) {
          try {
            if (l3 === e)
              throw new TypeError("A promise cannot be resolved with itself.");
            if (l3 && (typeof l3 == "object" || typeof l3 == "function")) {
              var s4 = l3.then;
              if (l3 instanceof u2)
                return e._state = 3, e._value = l3, void w4(e);
              if (typeof s4 == "function")
                return void t((g4 = s4, m3 = l3, function() {
                  g4.apply(m3, arguments);
                }), e);
            }
            e._state = 1, e._value = l3, w4(e);
          } catch (h4) {
            y4(e, h4);
          }
          var g4, m3;
        }
        function y4(e, l3) {
          e._state = 2, e._value = l3, w4(e);
        }
        function w4(e) {
          e._state === 2 && e._deferreds.length === 0 && u2._immediateFn(function() {
            e._handled || u2._unhandledRejectionFn(e._value);
          });
          for (var l3 = 0, s4 = e._deferreds.length; l3 < s4; l3++)
            f2(e, e._deferreds[l3]);
          e._deferreds = null;
        }
        function v4(e, l3, s4) {
          this.onFulfilled = typeof e == "function" ? e : null, this.onRejected = typeof l3 == "function" ? l3 : null, this.promise = s4;
        }
        function t(e, l3) {
          var s4 = false;
          try {
            e(function(g4) {
              s4 || (s4 = true, p2(l3, g4));
            }, function(g4) {
              s4 || (s4 = true, y4(l3, g4));
            });
          } catch (g4) {
            if (s4)
              return;
            s4 = true, y4(l3, g4);
          }
        }
        u2.prototype.catch = function(e) {
          return this.then(null, e);
        }, u2.prototype.then = function(e, l3) {
          var s4 = new this.constructor(b4);
          return f2(this, new v4(e, l3, s4)), s4;
        }, u2.prototype.finally = n2.a, u2.all = function(e) {
          return new u2(function(l3, s4) {
            if (!e || e.length === void 0)
              throw new TypeError("Promise.all accepts an array");
            var g4 = Array.prototype.slice.call(e);
            if (g4.length === 0)
              return l3([]);
            var m3 = g4.length;
            function h4(T3, E3) {
              try {
                if (E3 && (typeof E3 == "object" || typeof E3 == "function")) {
                  var j2 = E3.then;
                  if (typeof j2 == "function")
                    return void j2.call(E3, function(M3) {
                      h4(T3, M3);
                    }, s4);
                }
                g4[T3] = E3, --m3 == 0 && l3(g4);
              } catch (M3) {
                s4(M3);
              }
            }
            for (var k3 = 0; k3 < g4.length; k3++)
              h4(k3, g4[k3]);
          });
        }, u2.resolve = function(e) {
          return e && typeof e == "object" && e.constructor === u2 ? e : new u2(function(l3) {
            l3(e);
          });
        }, u2.reject = function(e) {
          return new u2(function(l3, s4) {
            s4(e);
          });
        }, u2.race = function(e) {
          return new u2(function(l3, s4) {
            for (var g4 = 0, m3 = e.length; g4 < m3; g4++)
              e[g4].then(l3, s4);
          });
        }, u2._immediateFn = typeof o4 == "function" && function(e) {
          o4(e);
        } || function(e) {
          d5(e, 0);
        }, u2._unhandledRejectionFn = function(e) {
          typeof console < "u" && console && console.warn("Possible Unhandled Promise Rejection:", e);
        }, c2.a = u2;
      }).call(this, i(5).setImmediate);
    }, function(r3, c2, i) {
      c2.a = function(o4) {
        var n2 = this.constructor;
        return this.then(function(d5) {
          return n2.resolve(o4()).then(function() {
            return d5;
          });
        }, function(d5) {
          return n2.resolve(o4()).then(function() {
            return n2.reject(d5);
          });
        });
      };
    }, function(r3, c2, i) {
      function o4(t) {
        return (o4 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e) {
          return typeof e;
        } : function(e) {
          return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
        })(t);
      }
      i(4);
      var n2, d5, b4, u2, f2, p2, y4, w4 = i(8), v4 = (d5 = function(t) {
        return new Promise(function(e, l3) {
          t = u2(t), (t = f2(t)).beforeSend && t.beforeSend();
          var s4 = window.XMLHttpRequest ? new window.XMLHttpRequest() : new window.ActiveXObject("Microsoft.XMLHTTP");
          s4.open(t.method, t.url), s4.setRequestHeader("X-Requested-With", "XMLHttpRequest"), Object.keys(t.headers).forEach(function(m3) {
            var h4 = t.headers[m3];
            s4.setRequestHeader(m3, h4);
          });
          var g4 = t.ratio;
          s4.upload.addEventListener("progress", function(m3) {
            var h4 = Math.round(m3.loaded / m3.total * 100), k3 = Math.ceil(h4 * g4 / 100);
            t.progress(Math.min(k3, 100));
          }, false), s4.addEventListener("progress", function(m3) {
            var h4 = Math.round(m3.loaded / m3.total * 100), k3 = Math.ceil(h4 * (100 - g4) / 100) + g4;
            t.progress(Math.min(k3, 100));
          }, false), s4.onreadystatechange = function() {
            if (s4.readyState === 4) {
              var m3 = s4.response;
              try {
                m3 = JSON.parse(m3);
              } catch {
              }
              var h4 = w4.parseHeaders(s4.getAllResponseHeaders()), k3 = { body: m3, code: s4.status, headers: h4 };
              y4(s4.status) ? e(k3) : l3(k3);
            }
          }, s4.send(t.data);
        });
      }, b4 = function(t) {
        return t.method = "POST", d5(t);
      }, u2 = function() {
        var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        if (t.url && typeof t.url != "string")
          throw new Error("Url must be a string");
        if (t.url = t.url || "", t.method && typeof t.method != "string")
          throw new Error("`method` must be a string or null");
        if (t.method = t.method ? t.method.toUpperCase() : "GET", t.headers && o4(t.headers) !== "object")
          throw new Error("`headers` must be an object or null");
        if (t.headers = t.headers || {}, t.type && (typeof t.type != "string" || !Object.values(n2).includes(t.type)))
          throw new Error("`type` must be taken from module's \xABcontentType\xBB library");
        if (t.progress && typeof t.progress != "function")
          throw new Error("`progress` must be a function or null");
        if (t.progress = t.progress || function(e) {
        }, t.beforeSend = t.beforeSend || function(e) {
        }, t.ratio && typeof t.ratio != "number")
          throw new Error("`ratio` must be a number");
        if (t.ratio < 0 || t.ratio > 100)
          throw new Error("`ratio` must be in a 0-100 interval");
        if (t.ratio = t.ratio || 90, t.accept && typeof t.accept != "string")
          throw new Error("`accept` must be a string with a list of allowed mime-types");
        if (t.accept = t.accept || "*/*", t.multiple && typeof t.multiple != "boolean")
          throw new Error("`multiple` must be a true or false");
        if (t.multiple = t.multiple || false, t.fieldName && typeof t.fieldName != "string")
          throw new Error("`fieldName` must be a string");
        return t.fieldName = t.fieldName || "files", t;
      }, f2 = function(t) {
        switch (t.method) {
          case "GET":
            var e = p2(t.data, n2.URLENCODED);
            delete t.data, t.url = /\?/.test(t.url) ? t.url + "&" + e : t.url + "?" + e;
            break;
          case "POST":
          case "PUT":
          case "DELETE":
          case "UPDATE":
            var l3 = function() {
              return (arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}).type || n2.JSON;
            }(t);
            (w4.isFormData(t.data) || w4.isFormElement(t.data)) && (l3 = n2.FORM), t.data = p2(t.data, l3), l3 !== v4.contentType.FORM && (t.headers["content-type"] = l3);
        }
        return t;
      }, p2 = function() {
        var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        switch (arguments.length > 1 ? arguments[1] : void 0) {
          case n2.URLENCODED:
            return w4.urlEncode(t);
          case n2.JSON:
            return w4.jsonEncode(t);
          case n2.FORM:
            return w4.formEncode(t);
          default:
            return t;
        }
      }, y4 = function(t) {
        return t >= 200 && t < 300;
      }, { contentType: n2 = { URLENCODED: "application/x-www-form-urlencoded; charset=utf-8", FORM: "multipart/form-data", JSON: "application/json; charset=utf-8" }, request: d5, get: function(t) {
        return t.method = "GET", d5(t);
      }, post: b4, transport: function(t) {
        return t = u2(t), w4.selectFiles(t).then(function(e) {
          for (var l3 = new FormData(), s4 = 0; s4 < e.length; s4++)
            l3.append(t.fieldName, e[s4], e[s4].name);
          w4.isObject(t.data) && Object.keys(t.data).forEach(function(m3) {
            var h4 = t.data[m3];
            l3.append(m3, h4);
          });
          var g4 = t.beforeSend;
          return t.beforeSend = function() {
            return g4(e);
          }, t.data = l3, b4(t);
        });
      }, selectFiles: function(t) {
        return delete (t = u2(t)).beforeSend, w4.selectFiles(t);
      } });
      r3.exports = v4;
    }, function(r3, c2, i) {
      i.r(c2);
      var o4 = i(1);
      window.Promise = window.Promise || o4.a;
    }, function(r3, c2, i) {
      (function(o4) {
        var n2 = o4 !== void 0 && o4 || typeof self < "u" && self || window, d5 = Function.prototype.apply;
        function b4(u2, f2) {
          this._id = u2, this._clearFn = f2;
        }
        c2.setTimeout = function() {
          return new b4(d5.call(setTimeout, n2, arguments), clearTimeout);
        }, c2.setInterval = function() {
          return new b4(d5.call(setInterval, n2, arguments), clearInterval);
        }, c2.clearTimeout = c2.clearInterval = function(u2) {
          u2 && u2.close();
        }, b4.prototype.unref = b4.prototype.ref = function() {
        }, b4.prototype.close = function() {
          this._clearFn.call(n2, this._id);
        }, c2.enroll = function(u2, f2) {
          clearTimeout(u2._idleTimeoutId), u2._idleTimeout = f2;
        }, c2.unenroll = function(u2) {
          clearTimeout(u2._idleTimeoutId), u2._idleTimeout = -1;
        }, c2._unrefActive = c2.active = function(u2) {
          clearTimeout(u2._idleTimeoutId);
          var f2 = u2._idleTimeout;
          f2 >= 0 && (u2._idleTimeoutId = setTimeout(function() {
            u2._onTimeout && u2._onTimeout();
          }, f2));
        }, i(6), c2.setImmediate = typeof self < "u" && self.setImmediate || o4 !== void 0 && o4.setImmediate || this && this.setImmediate, c2.clearImmediate = typeof self < "u" && self.clearImmediate || o4 !== void 0 && o4.clearImmediate || this && this.clearImmediate;
      }).call(this, i(0));
    }, function(r3, c2, i) {
      (function(o4, n2) {
        (function(d5, b4) {
          if (!d5.setImmediate) {
            var u2, f2, p2, y4, w4, v4 = 1, t = {}, e = false, l3 = d5.document, s4 = Object.getPrototypeOf && Object.getPrototypeOf(d5);
            s4 = s4 && s4.setTimeout ? s4 : d5, {}.toString.call(d5.process) === "[object process]" ? u2 = function(h4) {
              n2.nextTick(function() {
                m3(h4);
              });
            } : function() {
              if (d5.postMessage && !d5.importScripts) {
                var h4 = true, k3 = d5.onmessage;
                return d5.onmessage = function() {
                  h4 = false;
                }, d5.postMessage("", "*"), d5.onmessage = k3, h4;
              }
            }() ? (y4 = "setImmediate$" + Math.random() + "$", w4 = function(h4) {
              h4.source === d5 && typeof h4.data == "string" && h4.data.indexOf(y4) === 0 && m3(+h4.data.slice(y4.length));
            }, d5.addEventListener ? d5.addEventListener("message", w4, false) : d5.attachEvent("onmessage", w4), u2 = function(h4) {
              d5.postMessage(y4 + h4, "*");
            }) : d5.MessageChannel ? ((p2 = new MessageChannel()).port1.onmessage = function(h4) {
              m3(h4.data);
            }, u2 = function(h4) {
              p2.port2.postMessage(h4);
            }) : l3 && "onreadystatechange" in l3.createElement("script") ? (f2 = l3.documentElement, u2 = function(h4) {
              var k3 = l3.createElement("script");
              k3.onreadystatechange = function() {
                m3(h4), k3.onreadystatechange = null, f2.removeChild(k3), k3 = null;
              }, f2.appendChild(k3);
            }) : u2 = function(h4) {
              setTimeout(m3, 0, h4);
            }, s4.setImmediate = function(h4) {
              typeof h4 != "function" && (h4 = new Function("" + h4));
              for (var k3 = new Array(arguments.length - 1), T3 = 0; T3 < k3.length; T3++)
                k3[T3] = arguments[T3 + 1];
              var E3 = { callback: h4, args: k3 };
              return t[v4] = E3, u2(v4), v4++;
            }, s4.clearImmediate = g4;
          }
          function g4(h4) {
            delete t[h4];
          }
          function m3(h4) {
            if (e)
              setTimeout(m3, 0, h4);
            else {
              var k3 = t[h4];
              if (k3) {
                e = true;
                try {
                  (function(T3) {
                    var E3 = T3.callback, j2 = T3.args;
                    switch (j2.length) {
                      case 0:
                        E3();
                        break;
                      case 1:
                        E3(j2[0]);
                        break;
                      case 2:
                        E3(j2[0], j2[1]);
                        break;
                      case 3:
                        E3(j2[0], j2[1], j2[2]);
                        break;
                      default:
                        E3.apply(b4, j2);
                    }
                  })(k3);
                } finally {
                  g4(h4), e = false;
                }
              }
            }
          }
        })(typeof self > "u" ? o4 === void 0 ? this : o4 : self);
      }).call(this, i(0), i(7));
    }, function(r3, c2) {
      var i, o4, n2 = r3.exports = {};
      function d5() {
        throw new Error("setTimeout has not been defined");
      }
      function b4() {
        throw new Error("clearTimeout has not been defined");
      }
      function u2(s4) {
        if (i === setTimeout)
          return setTimeout(s4, 0);
        if ((i === d5 || !i) && setTimeout)
          return i = setTimeout, setTimeout(s4, 0);
        try {
          return i(s4, 0);
        } catch {
          try {
            return i.call(null, s4, 0);
          } catch {
            return i.call(this, s4, 0);
          }
        }
      }
      (function() {
        try {
          i = typeof setTimeout == "function" ? setTimeout : d5;
        } catch {
          i = d5;
        }
        try {
          o4 = typeof clearTimeout == "function" ? clearTimeout : b4;
        } catch {
          o4 = b4;
        }
      })();
      var f2, p2 = [], y4 = false, w4 = -1;
      function v4() {
        y4 && f2 && (y4 = false, f2.length ? p2 = f2.concat(p2) : w4 = -1, p2.length && t());
      }
      function t() {
        if (!y4) {
          var s4 = u2(v4);
          y4 = true;
          for (var g4 = p2.length; g4; ) {
            for (f2 = p2, p2 = []; ++w4 < g4; )
              f2 && f2[w4].run();
            w4 = -1, g4 = p2.length;
          }
          f2 = null, y4 = false, function(m3) {
            if (o4 === clearTimeout)
              return clearTimeout(m3);
            if ((o4 === b4 || !o4) && clearTimeout)
              return o4 = clearTimeout, clearTimeout(m3);
            try {
              o4(m3);
            } catch {
              try {
                return o4.call(null, m3);
              } catch {
                return o4.call(this, m3);
              }
            }
          }(s4);
        }
      }
      function e(s4, g4) {
        this.fun = s4, this.array = g4;
      }
      function l3() {
      }
      n2.nextTick = function(s4) {
        var g4 = new Array(arguments.length - 1);
        if (arguments.length > 1)
          for (var m3 = 1; m3 < arguments.length; m3++)
            g4[m3 - 1] = arguments[m3];
        p2.push(new e(s4, g4)), p2.length !== 1 || y4 || u2(t);
      }, e.prototype.run = function() {
        this.fun.apply(null, this.array);
      }, n2.title = "browser", n2.browser = true, n2.env = {}, n2.argv = [], n2.version = "", n2.versions = {}, n2.on = l3, n2.addListener = l3, n2.once = l3, n2.off = l3, n2.removeListener = l3, n2.removeAllListeners = l3, n2.emit = l3, n2.prependListener = l3, n2.prependOnceListener = l3, n2.listeners = function(s4) {
        return [];
      }, n2.binding = function(s4) {
        throw new Error("process.binding is not supported");
      }, n2.cwd = function() {
        return "/";
      }, n2.chdir = function(s4) {
        throw new Error("process.chdir is not supported");
      }, n2.umask = function() {
        return 0;
      };
    }, function(r3, c2, i) {
      function o4(d5, b4) {
        for (var u2 = 0; u2 < b4.length; u2++) {
          var f2 = b4[u2];
          f2.enumerable = f2.enumerable || false, f2.configurable = true, "value" in f2 && (f2.writable = true), Object.defineProperty(d5, f2.key, f2);
        }
      }
      var n2 = i(9);
      r3.exports = function() {
        function d5() {
          (function(p2, y4) {
            if (!(p2 instanceof y4))
              throw new TypeError("Cannot call a class as a function");
          })(this, d5);
        }
        var b4, u2, f2;
        return b4 = d5, f2 = [{ key: "urlEncode", value: function(p2) {
          return n2(p2);
        } }, { key: "jsonEncode", value: function(p2) {
          return JSON.stringify(p2);
        } }, { key: "formEncode", value: function(p2) {
          if (this.isFormData(p2))
            return p2;
          if (this.isFormElement(p2))
            return new FormData(p2);
          if (this.isObject(p2)) {
            var y4 = new FormData();
            return Object.keys(p2).forEach(function(w4) {
              var v4 = p2[w4];
              y4.append(w4, v4);
            }), y4;
          }
          throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement");
        } }, { key: "isObject", value: function(p2) {
          return Object.prototype.toString.call(p2) === "[object Object]";
        } }, { key: "isFormData", value: function(p2) {
          return p2 instanceof FormData;
        } }, { key: "isFormElement", value: function(p2) {
          return p2 instanceof HTMLFormElement;
        } }, { key: "selectFiles", value: function() {
          var p2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          return new Promise(function(y4, w4) {
            var v4 = document.createElement("INPUT");
            v4.type = "file", p2.multiple && v4.setAttribute("multiple", "multiple"), p2.accept && v4.setAttribute("accept", p2.accept), v4.style.display = "none", document.body.appendChild(v4), v4.addEventListener("change", function(t) {
              var e = t.target.files;
              y4(e), document.body.removeChild(v4);
            }, false), v4.click();
          });
        } }, { key: "parseHeaders", value: function(p2) {
          var y4 = p2.trim().split(/[\r\n]+/), w4 = {};
          return y4.forEach(function(v4) {
            var t = v4.split(": "), e = t.shift(), l3 = t.join(": ");
            e && (w4[e] = l3);
          }), w4;
        } }], (u2 = null) && o4(b4.prototype, u2), f2 && o4(b4, f2), d5;
      }();
    }, function(r3, c2) {
      var i = function(n2) {
        return encodeURIComponent(n2).replace(/[!'()*]/g, escape).replace(/%20/g, "+");
      }, o4 = function(n2, d5, b4, u2) {
        return d5 = d5 || null, b4 = b4 || "&", u2 = u2 || null, n2 ? function(f2) {
          for (var p2 = new Array(), y4 = 0; y4 < f2.length; y4++)
            f2[y4] && p2.push(f2[y4]);
          return p2;
        }(Object.keys(n2).map(function(f2) {
          var p2, y4, w4 = f2;
          if (u2 && (w4 = u2 + "[" + w4 + "]"), typeof n2[f2] == "object" && n2[f2] !== null)
            p2 = o4(n2[f2], null, b4, w4);
          else {
            d5 && (y4 = w4, w4 = !isNaN(parseFloat(y4)) && isFinite(y4) ? d5 + Number(w4) : w4);
            var v4 = n2[f2];
            v4 = (v4 = (v4 = (v4 = v4 === true ? "1" : v4) === false ? "0" : v4) === 0 ? "0" : v4) || "", p2 = i(w4) + "=" + i(v4);
          }
          return p2;
        })).join(b4).replace(/[!'()*]/g, "") : "";
      };
      r3.exports = o4;
    }]);
  });
})(R2);
var B = R2.exports;
var _ = /* @__PURE__ */ D2(B);
function O2(C3) {
  return C3 !== void 0 && typeof C3.then == "function";
}
var q2 = class {
  /**
   * @param params - uploader module params
   * @param params.config - image tool config
   * @param params.onUpload - one callback for all uploading (file, url, d-n-d, pasting)
   * @param params.onError - callback for uploading errors
   */
  constructor({ config: a6, onUpload: r3, onError: c2 }) {
    this.config = a6, this.onUpload = r3, this.onError = c2;
  }
  /**
   * Handle clicks on the upload file button
   * Fires ajax.transport()
   * @param onPreview - callback fired when preview is ready
   */
  uploadSelectedFile({ onPreview: a6 }) {
    const r3 = function(i) {
      const o4 = new FileReader();
      o4.readAsDataURL(i), o4.onload = (n2) => {
        a6(n2.target.result);
      };
    };
    let c2;
    if (this.config.uploader && typeof this.config.uploader.uploadByFile == "function") {
      const i = this.config.uploader.uploadByFile;
      c2 = _.selectFiles({ accept: this.config.types ?? "image/*" }).then((o4) => {
        r3(o4[0]);
        const n2 = i(o4[0]);
        return O2(n2) || console.warn("Custom uploader method uploadByFile should return a Promise"), n2;
      });
    } else
      c2 = _.transport({
        url: this.config.endpoints.byFile,
        data: this.config.additionalRequestData,
        accept: this.config.types ?? "image/*",
        headers: this.config.additionalRequestHeaders,
        beforeSend: (i) => {
          r3(i[0]);
        },
        fieldName: this.config.field ?? "image"
      }).then((i) => i.body);
    c2.then((i) => {
      this.onUpload(i);
    }).catch((i) => {
      this.onError(i);
    });
  }
  /**
   * Handle clicks on the upload file button
   * Fires ajax.post()
   * @param url - image source url
   */
  uploadByUrl(a6) {
    let r3;
    this.config.uploader && typeof this.config.uploader.uploadByUrl == "function" ? (r3 = this.config.uploader.uploadByUrl(a6), O2(r3) || console.warn("Custom uploader method uploadByUrl should return a Promise")) : r3 = _.post({
      url: this.config.endpoints.byUrl,
      data: Object.assign({
        url: a6
      }, this.config.additionalRequestData),
      type: _.contentType.JSON,
      headers: this.config.additionalRequestHeaders
    }).then((c2) => c2.body), r3.then((c2) => {
      this.onUpload(c2);
    }).catch((c2) => {
      this.onError(c2);
    });
  }
  /**
   * Handle clicks on the upload file button
   * Fires ajax.post()
   * @param file - file pasted by drag-n-drop
   * @param onPreview - file pasted by drag-n-drop
   */
  uploadByFile(a6, { onPreview: r3 }) {
    const c2 = new FileReader();
    c2.readAsDataURL(a6), c2.onload = (o4) => {
      r3(o4.target.result);
    };
    let i;
    if (this.config.uploader && typeof this.config.uploader.uploadByFile == "function")
      i = this.config.uploader.uploadByFile(a6), O2(i) || console.warn("Custom uploader method uploadByFile should return a Promise");
    else {
      const o4 = new FormData();
      o4.append(this.config.field ?? "image", a6), this.config.additionalRequestData && Object.keys(this.config.additionalRequestData).length && Object.entries(this.config.additionalRequestData).forEach(([n2, d5]) => {
        o4.append(n2, d5);
      }), i = _.post({
        url: this.config.endpoints.byFile,
        data: o4,
        type: _.contentType.JSON,
        headers: this.config.additionalRequestHeaders
      }).then((n2) => n2.body);
    }
    i.then((o4) => {
      this.onUpload(o4);
    }).catch((o4) => {
      this.onError(o4);
    });
  }
};
var P = class _P {
  /**
   * @param tool - tool properties got from editor.js
   * @param tool.data - previously saved data
   * @param tool.config - user config for Tool
   * @param tool.api - Editor.js API
   * @param tool.readOnly - read-only mode flag
   * @param tool.block - current Block API
   */
  constructor({ data: a6, config: r3, api: c2, readOnly: i, block: o4 }) {
    this.api = c2, this.readOnly = i, this.block = o4, this.config = {
      endpoints: r3.endpoints,
      additionalRequestData: r3.additionalRequestData,
      additionalRequestHeaders: r3.additionalRequestHeaders,
      field: r3.field,
      types: r3.types,
      captionPlaceholder: this.api.i18n.t(r3.captionPlaceholder ?? "Caption"),
      buttonContent: r3.buttonContent,
      uploader: r3.uploader,
      actions: r3.actions
    }, this.uploader = new q2({
      config: this.config,
      onUpload: (n2) => this.onUpload(n2),
      onError: (n2) => this.uploadingFailed(n2)
    }), this.ui = new x({
      api: c2,
      config: this.config,
      onSelectFile: () => {
        this.uploader.uploadSelectedFile({
          onPreview: (n2) => {
            this.ui.showPreloader(n2);
          }
        });
      },
      readOnly: i
    }), this._data = {
      caption: "",
      withBorder: false,
      withBackground: false,
      stretched: false,
      file: {
        url: ""
      }
    }, this.data = a6;
  }
  /**
   * Notify core that read-only mode is supported
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   */
  static get toolbox() {
    return {
      icon: L2,
      title: "Image"
    };
  }
  /**
   * Available image tools
   */
  static get tunes() {
    return [
      {
        name: "withBorder",
        icon: I2,
        title: "With border",
        toggle: true
      },
      {
        name: "stretched",
        icon: U2,
        title: "Stretch image",
        toggle: true
      },
      {
        name: "withBackground",
        icon: H2,
        title: "With background",
        toggle: true
      }
    ];
  }
  /**
   * Renders Block content
   */
  render() {
    return this.ui.render(this.data);
  }
  /**
   * Validate data: check if Image exists
   * @param savedData — data received after saving
   * @returns false if saved data is not correct, otherwise true
   */
  validate(a6) {
    return !!a6.file.url;
  }
  /**
   * Return Block data
   */
  save() {
    const a6 = this.ui.nodes.caption;
    return this._data.caption = a6.innerHTML, this.data;
  }
  /**
   * Returns configuration for block tunes: add background, add border, stretch image
   * @returns TunesMenuConfig
   */
  renderSettings() {
    return _P.tunes.concat(this.config.actions || []).map((r3) => ({
      icon: r3.icon,
      label: this.api.i18n.t(r3.title),
      name: r3.name,
      toggle: r3.toggle,
      isActive: this.data[r3.name],
      onActivate: () => {
        if (typeof r3.action == "function") {
          r3.action(r3.name);
          return;
        }
        this.tuneToggled(r3.name);
      }
    }));
  }
  /**
   * Fires after clicks on the Toolbox Image Icon
   * Initiates click on the Select File button
   */
  appendCallback() {
    this.ui.nodes.fileButton.click();
  }
  /**
   * Specify paste substitutes
   * @see {@link https://github.com/codex-team/editor.js/blob/master/docs/tools.md#paste-handling}
   */
  static get pasteConfig() {
    return {
      /**
       * Paste HTML into Editor
       */
      tags: [
        {
          img: { src: true }
        }
      ],
      /**
       * Paste URL of image into the Editor
       */
      patterns: {
        image: /https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i
      },
      /**
       * Drag n drop file from into the Editor
       */
      files: {
        mimeTypes: ["image/*"]
      }
    };
  }
  /**
   * Specify paste handlers
   * @see {@link https://github.com/codex-team/editor.js/blob/master/docs/tools.md#paste-handling}
   * @param event - editor.js custom paste event
   *                              {@link https://github.com/codex-team/editor.js/blob/master/types/tools/paste-events.d.ts}
   */
  async onPaste(a6) {
    switch (a6.type) {
      case "tag": {
        const r3 = a6.detail.data;
        if (/^blob:/.test(r3.src)) {
          const i = await (await fetch(r3.src)).blob();
          this.uploadFile(i);
          break;
        }
        this.uploadUrl(r3.src);
        break;
      }
      case "pattern": {
        const r3 = a6.detail.data;
        this.uploadUrl(r3);
        break;
      }
      case "file": {
        const r3 = a6.detail.file;
        this.uploadFile(r3);
        break;
      }
    }
  }
  /**
   * Private methods
   * ̿̿ ̿̿ ̿̿ ̿'̿'\̵͇̿̿\з= ( ▀ ͜͞ʖ▀) =ε/̵͇̿̿/’̿’̿ ̿ ̿̿ ̿̿ ̿̿
   */
  /**
   * Stores all Tool's data
   * @param data - data in Image Tool format
   */
  set data(a6) {
    this.image = a6.file, this._data.caption = a6.caption || "", this.ui.fillCaption(this._data.caption), _P.tunes.forEach(({ name: r3 }) => {
      const c2 = typeof a6[r3] < "u" ? a6[r3] === true || a6[r3] === "true" : false;
      this.setTune(r3, c2);
    });
  }
  /**
   * Return Tool data
   */
  get data() {
    return this._data;
  }
  /**
   * Set new image file
   * @param file - uploaded file data
   */
  set image(a6) {
    this._data.file = a6 || { url: "" }, a6 && a6.url && this.ui.fillImage(a6.url);
  }
  /**
   * File uploading callback
   * @param response - uploading server response
   */
  onUpload(a6) {
    a6.success && a6.file ? this.image = a6.file : this.uploadingFailed("incorrect response: " + JSON.stringify(a6));
  }
  /**
   * Handle uploader errors
   * @param errorText - uploading error info
   */
  uploadingFailed(a6) {
    console.log("Image Tool: uploading failed because of", a6), this.api.notifier.show({
      message: this.api.i18n.t("Couldn\u2019t upload image. Please try another."),
      style: "error"
    }), this.ui.hidePreloader();
  }
  /**
   * Callback fired when Block Tune is activated
   * @param tuneName - tune that has been clicked
   */
  tuneToggled(a6) {
    this.setTune(a6, !this._data[a6]);
  }
  /**
   * Set one tune
   * @param tuneName - {@link Tunes.tunes}
   * @param value - tune state
   */
  setTune(a6, r3) {
    this._data[a6] = r3, this.ui.applyTune(a6, r3), a6 === "stretched" && Promise.resolve().then(() => {
      this.block.stretched = r3;
    }).catch((c2) => {
      console.error(c2);
    });
  }
  /**
   * Show preloader and upload image file
   * @param file - file that is currently uploading (from paste)
   */
  uploadFile(a6) {
    this.uploader.uploadByFile(a6, {
      onPreview: (r3) => {
        this.ui.showPreloader(r3);
      }
    });
  }
  /**
   * Show preloader and upload image by target url
   * @param url - url pasted
   */
  uploadUrl(a6) {
    this.ui.showPreloader(a6), this.uploader.uploadByUrl(a6);
  }
};

// node_modules/@editorjs/list/dist/list.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")), document.head.appendChild(e);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
var a = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';
var o = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';
var d2 = class {
  /**
   * Notify core that read-only mode is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Allow to use native Enter behaviour
   *
   * @returns {boolean}
   * @public
   */
  static get enableLineBreaks() {
    return true;
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @returns {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: a,
      title: "List"
    };
  }
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {object} params - tool constructor options
   * @param {ListData} params.data - previously saved data
   * @param {object} params.config - user config for Tool
   * @param {object} params.api - Editor.js API
   * @param {boolean} params.readOnly - read-only mode flag
   */
  constructor({ data: e, config: t, api: r3, readOnly: s4 }) {
    this._elements = {
      wrapper: null
    }, this.api = r3, this.readOnly = s4, this.settings = [
      {
        name: "unordered",
        label: this.api.i18n.t("Unordered"),
        icon: a,
        default: t.defaultStyle === "unordered" || false
      },
      {
        name: "ordered",
        label: this.api.i18n.t("Ordered"),
        icon: o,
        default: t.defaultStyle === "ordered" || true
      }
    ], this._data = {
      style: this.settings.find((i) => i.default === true).name,
      items: []
    }, this.data = e;
  }
  /**
   * Returns list tag with items
   *
   * @returns {Element}
   * @public
   */
  render() {
    return this._elements.wrapper = this.makeMainTag(this._data.style), this._data.items.length ? this._data.items.forEach((e) => {
      this._elements.wrapper.appendChild(this._make("li", this.CSS.item, {
        innerHTML: e
      }));
    }) : this._elements.wrapper.appendChild(this._make("li", this.CSS.item)), this.readOnly || this._elements.wrapper.addEventListener("keydown", (e) => {
      const [t, r3] = [13, 8];
      switch (e.keyCode) {
        case t:
          this.getOutofList(e);
          break;
        case r3:
          this.backspace(e);
          break;
      }
    }, false), this._elements.wrapper;
  }
  /**
   * @returns {ListData}
   * @public
   */
  save() {
    return this.data;
  }
  /**
   * Allow List Tool to be converted to/from other block
   *
   * @returns {{export: Function, import: Function}}
   */
  static get conversionConfig() {
    return {
      /**
       * To create exported string from list, concatenate items by dot-symbol.
       *
       * @param {ListData} data - list data to create a string from thats
       * @returns {string}
       */
      export: (e) => e.items.join(". "),
      /**
       * To create a list from other block's string, just put it at the first item
       *
       * @param {string} string - string to create list tool data from that
       * @returns {ListData}
       */
      import: (e) => ({
        items: [e],
        style: "unordered"
      })
    };
  }
  /**
   * Sanitizer rules
   *
   * @returns {object}
   */
  static get sanitize() {
    return {
      style: {},
      items: {
        br: true
      }
    };
  }
  /**
   * Settings
   *
   * @public
   * @returns {Array}
   */
  renderSettings() {
    return this.settings.map((e) => ({
      ...e,
      isActive: this._data.style === e.name,
      closeOnActivate: true,
      onActivate: () => this.toggleTune(e.name)
    }));
  }
  /**
   * On paste callback that is fired from Editor
   *
   * @param {PasteEvent} event - event with pasted data
   */
  onPaste(e) {
    const t = e.detail.data;
    this.data = this.pasteHandler(t);
  }
  /**
   * List Tool on paste configuration
   *
   * @public
   */
  static get pasteConfig() {
    return {
      tags: ["OL", "UL", "LI"]
    };
  }
  /**
   * Creates main <ul> or <ol> tag depended on style
   *
   * @param {string} style - 'ordered' or 'unordered'
   * @returns {HTMLOListElement|HTMLUListElement}
   */
  makeMainTag(e) {
    const t = e === "ordered" ? this.CSS.wrapperOrdered : this.CSS.wrapperUnordered, r3 = e === "ordered" ? "ol" : "ul";
    return this._make(r3, [this.CSS.baseBlock, this.CSS.wrapper, t], {
      contentEditable: !this.readOnly
    });
  }
  /**
   * Toggles List style
   *
   * @param {string} style - 'ordered'|'unordered'
   */
  toggleTune(e) {
    const t = this.makeMainTag(e);
    for (; this._elements.wrapper.hasChildNodes(); )
      t.appendChild(this._elements.wrapper.firstChild);
    this._elements.wrapper.replaceWith(t), this._elements.wrapper = t, this._data.style = e;
  }
  /**
   * Styles
   *
   * @private
   */
  get CSS() {
    return {
      baseBlock: this.api.styles.block,
      wrapper: "cdx-list",
      wrapperOrdered: "cdx-list--ordered",
      wrapperUnordered: "cdx-list--unordered",
      item: "cdx-list__item"
    };
  }
  /**
   * List data setter
   *
   * @param {ListData} listData
   */
  set data(e) {
    e || (e = {}), this._data.style = e.style || this.settings.find((r3) => r3.default === true).name, this._data.items = e.items || [];
    const t = this._elements.wrapper;
    t && t.parentNode.replaceChild(this.render(), t);
  }
  /**
   * Return List data
   *
   * @returns {ListData}
   */
  get data() {
    this._data.items = [];
    const e = this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);
    for (let t = 0; t < e.length; t++)
      e[t].innerHTML.replace("<br>", " ").trim() && this._data.items.push(e[t].innerHTML);
    return this._data;
  }
  /**
   * Helper for making Elements with attributes
   *
   * @param  {string} tagName           - new Element tag name
   * @param  {Array|string} classNames  - list or name of CSS classname(s)
   * @param  {object} attributes        - any attributes
   * @returns {Element}
   */
  _make(e, t = null, r3 = {}) {
    const s4 = document.createElement(e);
    Array.isArray(t) ? s4.classList.add(...t) : t && s4.classList.add(t);
    for (const i in r3)
      s4[i] = r3[i];
    return s4;
  }
  /**
   * Returns current List item by the caret position
   *
   * @returns {Element}
   */
  get currentItem() {
    let e = window.getSelection().anchorNode;
    return e.nodeType !== Node.ELEMENT_NODE && (e = e.parentNode), e.closest(`.${this.CSS.item}`);
  }
  /**
   * Get out from List Tool
   * by Enter on the empty last item
   *
   * @param {KeyboardEvent} event
   */
  getOutofList(e) {
    const t = this._elements.wrapper.querySelectorAll("." + this.CSS.item);
    if (t.length < 2)
      return;
    const r3 = t[t.length - 1], s4 = this.currentItem;
    s4 === r3 && !r3.textContent.trim().length && (s4.parentElement.removeChild(s4), this.api.blocks.insert(), this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()), e.preventDefault(), e.stopPropagation());
  }
  /**
   * Handle backspace
   *
   * @param {KeyboardEvent} event
   */
  backspace(e) {
    const t = this._elements.wrapper.querySelectorAll("." + this.CSS.item), r3 = t[0];
    r3 && t.length < 2 && !r3.innerHTML.replace("<br>", " ").trim() && e.preventDefault();
  }
  /**
   * Select LI content by CMD+A
   *
   * @param {KeyboardEvent} event
   */
  selectItem(e) {
    e.preventDefault();
    const t = window.getSelection(), r3 = t.anchorNode.parentNode, s4 = r3.closest("." + this.CSS.item), i = new Range();
    i.selectNodeContents(s4), t.removeAllRanges(), t.addRange(i);
  }
  /**
   * Handle UL, OL and LI tags paste and returns List data
   *
   * @param {HTMLUListElement|HTMLOListElement|HTMLLIElement} element
   * @returns {ListData}
   */
  pasteHandler(e) {
    const { tagName: t } = e;
    let r3;
    switch (t) {
      case "OL":
        r3 = "ordered";
        break;
      case "UL":
      case "LI":
        r3 = "unordered";
    }
    const s4 = {
      style: r3,
      items: []
    };
    if (t === "LI")
      s4.items = [e.innerHTML];
    else {
      const i = Array.from(e.querySelectorAll("LI"));
      s4.items = i.map((n2) => n2.innerHTML).filter((n2) => !!n2.trim());
    }
    return s4;
  }
};

// node_modules/@editorjs/header/dist/header.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")), document.head.appendChild(e);
    }
  } catch (n2) {
    console.error("vite-plugin-css-injected-by-js", n2);
  }
})();
var a2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>';
var l = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>';
var o2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>';
var h = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>';
var d3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>';
var u = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>';
var g = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';
var v = class {
  constructor({ data: e, config: t, api: s4, readOnly: r3 }) {
    this.api = s4, this.readOnly = r3, this._settings = t, this._data = this.normalizeData(e), this._element = this.getTag();
  }
  /**
   * Styles
   */
  get _CSS() {
    return {
      block: this.api.styles.block,
      wrapper: "ce-header"
    };
  }
  /**
   * Check if data is valid
   * 
   * @param {any} data - data to check
   * @returns {data is HeaderData}
   * @private
   */
  isHeaderData(e) {
    return e.text !== void 0;
  }
  /**
   * Normalize input data
   *
   * @param {HeaderData} data - saved data to process
   *
   * @returns {HeaderData}
   * @private
   */
  normalizeData(e) {
    const t = { text: "", level: this.defaultLevel.number };
    return this.isHeaderData(e) && (t.text = e.text || "", e.level !== void 0 && !isNaN(parseInt(e.level.toString())) && (t.level = parseInt(e.level.toString()))), t;
  }
  /**
   * Return Tool's view
   *
   * @returns {HTMLHeadingElement}
   * @public
   */
  render() {
    return this._element;
  }
  /**
   * Returns header block tunes config
   *
   * @returns {Array}
   */
  renderSettings() {
    return this.levels.map((e) => ({
      icon: e.svg,
      label: this.api.i18n.t(`Heading ${e.number}`),
      onActivate: () => this.setLevel(e.number),
      closeOnActivate: true,
      isActive: this.currentLevel.number === e.number,
      render: () => document.createElement("div")
    }));
  }
  /**
   * Callback for Block's settings buttons
   *
   * @param {number} level - level to set
   */
  setLevel(e) {
    this.data = {
      level: e,
      text: this.data.text
    };
  }
  /**
   * Method that specified how to merge two Text blocks.
   * Called by Editor.js by backspace at the beginning of the Block
   *
   * @param {HeaderData} data - saved data to merger with current block
   * @public
   */
  merge(e) {
    this._element.insertAdjacentHTML("beforeend", e.text);
  }
  /**
   * Validate Text block data:
   * - check for emptiness
   *
   * @param {HeaderData} blockData — data received after saving
   * @returns {boolean} false if saved data is not correct, otherwise true
   * @public
   */
  validate(e) {
    return e.text.trim() !== "";
  }
  /**
   * Extract Tool's data from the view
   *
   * @param {HTMLHeadingElement} toolsContent - Text tools rendered view
   * @returns {HeaderData} - saved data
   * @public
   */
  save(e) {
    return {
      text: e.innerHTML,
      level: this.currentLevel.number
    };
  }
  /**
   * Allow Header to be converted to/from other blocks
   */
  static get conversionConfig() {
    return {
      export: "text",
      // use 'text' property for other blocks
      import: "text"
      // fill 'text' property from other block's export string
    };
  }
  /**
   * Sanitizer Rules
   */
  static get sanitize() {
    return {
      level: false,
      text: {}
    };
  }
  /**
   * Returns true to notify core that read-only is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Get current Tools`s data
   *
   * @returns {HeaderData} Current data
   * @private
   */
  get data() {
    return this._data.text = this._element.innerHTML, this._data.level = this.currentLevel.number, this._data;
  }
  /**
   * Store data in plugin:
   * - at the this._data property
   * - at the HTML
   *
   * @param {HeaderData} data — data to set
   * @private
   */
  set data(e) {
    if (this._data = this.normalizeData(e), e.level !== void 0 && this._element.parentNode) {
      const t = this.getTag();
      t.innerHTML = this._element.innerHTML, this._element.parentNode.replaceChild(t, this._element), this._element = t;
    }
    e.text !== void 0 && (this._element.innerHTML = this._data.text || "");
  }
  /**
   * Get tag for target level
   * By default returns second-leveled header
   *
   * @returns {HTMLElement}
   */
  getTag() {
    const e = document.createElement(this.currentLevel.tag);
    return e.innerHTML = this._data.text || "", e.classList.add(this._CSS.wrapper), e.contentEditable = this.readOnly ? "false" : "true", e.dataset.placeholder = this.api.i18n.t(this._settings.placeholder || ""), e;
  }
  /**
   * Get current level
   *
   * @returns {level}
   */
  get currentLevel() {
    let e = this.levels.find((t) => t.number === this._data.level);
    return e || (e = this.defaultLevel), e;
  }
  /**
   * Return default level
   *
   * @returns {level}
   */
  get defaultLevel() {
    if (this._settings.defaultLevel) {
      const e = this.levels.find((t) => t.number === this._settings.defaultLevel);
      if (e)
        return e;
      console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels");
    }
    return this.levels[1];
  }
  /**
   * @typedef {object} level
   * @property {number} number - level number
   * @property {string} tag - tag corresponds with level number
   * @property {string} svg - icon
   */
  /**
   * Available header levels
   *
   * @returns {level[]}
   */
  get levels() {
    const e = [
      {
        number: 1,
        tag: "H1",
        svg: a2
      },
      {
        number: 2,
        tag: "H2",
        svg: l
      },
      {
        number: 3,
        tag: "H3",
        svg: o2
      },
      {
        number: 4,
        tag: "H4",
        svg: h
      },
      {
        number: 5,
        tag: "H5",
        svg: d3
      },
      {
        number: 6,
        tag: "H6",
        svg: u
      }
    ];
    return this._settings.levels ? e.filter(
      (t) => this._settings.levels.includes(t.number)
    ) : e;
  }
  /**
   * Handle H1-H6 tags on paste to substitute it with header Tool
   *
   * @param {PasteEvent} event - event with pasted content
   */
  onPaste(e) {
    const t = e.detail;
    if ("data" in t) {
      const s4 = t.data;
      let r3 = this.defaultLevel.number;
      switch (s4.tagName) {
        case "H1":
          r3 = 1;
          break;
        case "H2":
          r3 = 2;
          break;
        case "H3":
          r3 = 3;
          break;
        case "H4":
          r3 = 4;
          break;
        case "H5":
          r3 = 5;
          break;
        case "H6":
          r3 = 6;
          break;
      }
      this._settings.levels && (r3 = this._settings.levels.reduce((n2, i) => Math.abs(i - r3) < Math.abs(n2 - r3) ? i : n2)), this.data = {
        level: r3,
        text: s4.innerHTML
      };
    }
  }
  /**
   * Used by Editor.js paste handling API.
   * Provides configuration to handle H1-H6 tags.
   *
   * @returns {{handler: (function(HTMLElement): {text: string}), tags: string[]}}
   */
  static get pasteConfig() {
    return {
      tags: ["H1", "H2", "H3", "H4", "H5", "H6"]
    };
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @returns {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: g,
      title: "Heading"
    };
  }
};

// resources/js/editor.js
var import_underline = __toESM(require_bundle(), 1);

// node_modules/@editorjs/code/dist/code.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".ce-code__textarea{min-height:200px;font-family:Menlo,Monaco,Consolas,Courier New,monospace;color:#41314e;line-height:1.6em;font-size:12px;background:#f8f7fa;border:1px solid #f1f1f4;box-shadow:none;white-space:pre;word-wrap:normal;overflow-x:auto;resize:vertical}")), document.head.appendChild(e);
    }
  } catch (o4) {
    console.error("vite-plugin-css-injected-by-js", o4);
  }
})();
function l2(c2, t) {
  let a6 = "";
  for (; a6 !== `
` && t > 0; )
    t = t - 1, a6 = c2.substr(t, 1);
  return a6 === `
` && (t += 1), t;
}
var h2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';
var d4 = class _d {
  /**
   * Notify core that read-only mode is supported
   * @returns true if read-only mode is supported
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Allows pressing Enter key to create line breaks inside the CodeTool textarea
   * This enables multi-line input within the code editor.
   * @returns true if line breaks are allowed in the textarea
   */
  static get enableLineBreaks() {
    return true;
  }
  /**
   * Render plugin`s main Element and fill it with saved data
   * @param options - tool constricting options
   * @param options.data — previously saved plugin code
   * @param options.config - user config for Tool
   * @param options.api - Editor.js API
   * @param options.readOnly - read only mode flag
   */
  constructor({ data: t, config: e, api: a6, readOnly: r3 }) {
    this.api = a6, this.readOnly = r3, this.placeholder = this.api.i18n.t(e.placeholder || _d.DEFAULT_PLACEHOLDER), this.CSS = {
      baseClass: this.api.styles.block,
      input: this.api.styles.input,
      wrapper: "ce-code",
      textarea: "ce-code__textarea"
    }, this.nodes = {
      holder: null,
      textarea: null
    }, this.data = {
      code: t.code ?? ""
    }, this.nodes.holder = this.drawView();
  }
  /**
   * Return Tool's view
   * @returns this.nodes.holder - Code's wrapper
   */
  render() {
    return this.nodes.holder;
  }
  /**
   * Extract Tool's data from the view
   * @param codeWrapper - CodeTool's wrapper, containing textarea with code
   * @returns - saved plugin code
   */
  save(t) {
    return {
      code: t.querySelector("textarea").value
    };
  }
  /**
   * onPaste callback fired from Editor`s core
   * @param event - event with pasted content
   */
  onPaste(t) {
    const e = t.detail;
    if ("data" in e) {
      const a6 = e.data;
      this.data = {
        code: a6 || ""
      };
    }
  }
  /**
   * Returns Tool`s data from private property
   * @returns
   */
  get data() {
    return this._data;
  }
  /**
   * Set Tool`s data to private property and update view
   * @param data - saved tool data
   */
  set data(t) {
    this._data = t, this.nodes.textarea && (this.nodes.textarea.textContent = t.code);
  }
  /**
   * Get Tool toolbox settings.
   * Provides the icon and title to display in the toolbox for the CodeTool.
   * @returns An object containing:
   * - icon: SVG representation of the Tool's icon
   * - title: Title to show in the toolbox
   */
  static get toolbox() {
    return {
      icon: h2,
      title: "Code"
    };
  }
  /**
   * Default placeholder for CodeTool's textarea
   * @returns
   */
  static get DEFAULT_PLACEHOLDER() {
    return "Enter a code";
  }
  /**
   *  Used by Editor.js paste handling API.
   *  Provides configuration to handle CODE tag.
   * @returns
   */
  static get pasteConfig() {
    return {
      tags: ["pre"]
    };
  }
  /**
   * Automatic sanitize config
   * @returns
   */
  static get sanitize() {
    return {
      code: true
      // Allow HTML tags
    };
  }
  /**
   * Handles Tab key pressing (adds/removes indentations)
   * @param event - keydown
   */
  tabHandler(t) {
    t.stopPropagation(), t.preventDefault();
    const e = t.target, a6 = t.shiftKey, r3 = e.selectionStart, s4 = e.value, n2 = "  ";
    let i;
    if (!a6)
      i = r3 + n2.length, e.value = s4.substring(0, r3) + n2 + s4.substring(r3);
    else {
      const o4 = l2(s4, r3);
      if (s4.substr(o4, n2.length) !== n2)
        return;
      e.value = s4.substring(0, o4) + s4.substring(o4 + n2.length), i = r3 - n2.length;
    }
    e.setSelectionRange(i, i);
  }
  /**
   * Create Tool's view
   * @returns
   */
  drawView() {
    const t = document.createElement("div"), e = document.createElement("textarea");
    return t.classList.add(this.CSS.baseClass, this.CSS.wrapper), e.classList.add(this.CSS.textarea, this.CSS.input), e.textContent = this.data.code, e.placeholder = this.placeholder, this.readOnly && (e.disabled = true), t.appendChild(e), e.addEventListener("keydown", (a6) => {
      switch (a6.code) {
        case "Tab":
          this.tabHandler(a6);
          break;
      }
    }), this.nodes.textarea = e, t;
  }
};

// node_modules/@editorjs/inline-code/dist/inline-code.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")), document.head.appendChild(e);
    }
  } catch (n2) {
    console.error("vite-plugin-css-injected-by-js", n2);
  }
})();
var a3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8L5 12L9 16"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8L19 12L15 16"/></svg>';
var s = class _s {
  constructor({ api: t }) {
    this.tag = "CODE", this.api = t, this.button = null, this.iconClasses = {
      base: this.api.styles.inlineToolButton,
      active: this.api.styles.inlineToolButtonActive
    };
  }
  /**
   * Class name for term-tag
   *
   * @type {string}
   */
  static get CSS() {
    return "inline-code";
  }
  /**
   * Specifies Tool as Inline Toolbar Tool
   *
   * @return {boolean}
   */
  static get isInline() {
    return true;
  }
  /**
   * Create button element for Toolbar
   *
   * @return {HTMLElement}
   */
  render() {
    return this.button = document.createElement("button"), this.button.type = "button", this.button.classList.add(this.iconClasses.base), this.button.innerHTML = this.toolboxIcon, this.button;
  }
  /**
   * Wrap/Unwrap selected fragment
   *
   * @param {Range} range - selected fragment
   */
  surround(t) {
    if (!t)
      return;
    let e = this.api.selection.findParentTag(this.tag, _s.CSS);
    e ? this.unwrap(e) : this.wrap(t);
  }
  /**
   * Wrap selection with term-tag
   *
   * @param {Range} range - selected fragment
   */
  wrap(t) {
    let e = document.createElement(this.tag);
    e.classList.add(_s.CSS), e.appendChild(t.extractContents()), t.insertNode(e), this.api.selection.expandToTag(e);
  }
  /**
   * Unwrap term-tag
   *
   * @param {HTMLElement} termWrapper - term wrapper tag
   */
  unwrap(t) {
    var i;
    this.api.selection.expandToTag(t);
    const e = window.getSelection();
    if (!e)
      return;
    const n2 = e.getRangeAt(0), o4 = n2.extractContents();
    (i = t.parentNode) == null || i.removeChild(t), n2.insertNode(o4), e.removeAllRanges(), e.addRange(n2);
  }
  /**
   * Check and change Term's state for current selection
   * 
   * @return {boolean}
   */
  checkState() {
    const t = this.api.selection.findParentTag(this.tag, _s.CSS);
    return this.button && this.button.classList.toggle(this.iconClasses.active, !!t), !!t;
  }
  /**
   * Get Tool icon's SVG
   * @return {string}
   */
  get toolboxIcon() {
    return a3;
  }
  /**
   * Sanitizer rule
   * @return {SanitizerConfig}
   */
  static get sanitize() {
    return {
      code: {
        class: _s.CSS
      }
    };
  }
};

// node_modules/@editorjs/quote/dist/quote.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var t = document.createElement("style");
      t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")), document.head.appendChild(t);
    }
  } catch (e) {
    console.error("vite-plugin-css-injected-by-js", e);
  }
})();
var De2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>';
var He = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>';
var Re2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';
var b2 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
function Fe2(e) {
  if (e.__esModule)
    return e;
  var t = e.default;
  if (typeof t == "function") {
    var n2 = function r3() {
      return this instanceof r3 ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);
    };
    n2.prototype = t.prototype;
  } else
    n2 = {};
  return Object.defineProperty(n2, "__esModule", { value: true }), Object.keys(e).forEach(function(r3) {
    var i = Object.getOwnPropertyDescriptor(e, r3);
    Object.defineProperty(n2, r3, i.get ? i : {
      enumerable: true,
      get: function() {
        return e[r3];
      }
    });
  }), n2;
}
var g2 = {};
var P2 = {};
var j = {};
Object.defineProperty(j, "__esModule", { value: true });
j.allInputsSelector = We2;
function We2() {
  var e = ["text", "password", "email", "number", "search", "tel", "url"];
  return "[contenteditable=true], textarea, input:not([type]), " + e.map(function(t) {
    return 'input[type="'.concat(t, '"]');
  }).join(", ");
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.allInputsSelector = void 0;
  var t = j;
  Object.defineProperty(e, "allInputsSelector", { enumerable: true, get: function() {
    return t.allInputsSelector;
  } });
})(P2);
var s2 = {};
var T = {};
Object.defineProperty(T, "__esModule", { value: true });
T.isNativeInput = Ue2;
function Ue2(e) {
  var t = [
    "INPUT",
    "TEXTAREA"
  ];
  return e && e.tagName ? t.includes(e.tagName) : false;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isNativeInput = void 0;
  var t = T;
  Object.defineProperty(e, "isNativeInput", { enumerable: true, get: function() {
    return t.isNativeInput;
  } });
})(s2);
var ie = {};
var S2 = {};
Object.defineProperty(S2, "__esModule", { value: true });
S2.append = qe2;
function qe2(e, t) {
  Array.isArray(t) ? t.forEach(function(n2) {
    e.appendChild(n2);
  }) : e.appendChild(t);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.append = void 0;
  var t = S2;
  Object.defineProperty(e, "append", { enumerable: true, get: function() {
    return t.append;
  } });
})(ie);
var C = {};
var L3 = {};
Object.defineProperty(L3, "__esModule", { value: true });
L3.blockElements = ze2;
function ze2() {
  return [
    "address",
    "article",
    "aside",
    "blockquote",
    "canvas",
    "div",
    "dl",
    "dt",
    "fieldset",
    "figcaption",
    "figure",
    "footer",
    "form",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "header",
    "hgroup",
    "hr",
    "li",
    "main",
    "nav",
    "noscript",
    "ol",
    "output",
    "p",
    "pre",
    "ruby",
    "section",
    "table",
    "tbody",
    "thead",
    "tr",
    "tfoot",
    "ul",
    "video"
  ];
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.blockElements = void 0;
  var t = L3;
  Object.defineProperty(e, "blockElements", { enumerable: true, get: function() {
    return t.blockElements;
  } });
})(C);
var ae2 = {};
var M = {};
Object.defineProperty(M, "__esModule", { value: true });
M.calculateBaseline = Ge2;
function Ge2(e) {
  var t = window.getComputedStyle(e), n2 = parseFloat(t.fontSize), r3 = parseFloat(t.lineHeight) || n2 * 1.2, i = parseFloat(t.paddingTop), a6 = parseFloat(t.borderTopWidth), l3 = parseFloat(t.marginTop), u2 = n2 * 0.8, d5 = (r3 - n2) / 2, c2 = l3 + a6 + i + d5 + u2;
  return c2;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.calculateBaseline = void 0;
  var t = M;
  Object.defineProperty(e, "calculateBaseline", { enumerable: true, get: function() {
    return t.calculateBaseline;
  } });
})(ae2);
var le2 = {};
var k = {};
var w2 = {};
var N2 = {};
Object.defineProperty(N2, "__esModule", { value: true });
N2.isContentEditable = Ke2;
function Ke2(e) {
  return e.contentEditable === "true";
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isContentEditable = void 0;
  var t = N2;
  Object.defineProperty(e, "isContentEditable", { enumerable: true, get: function() {
    return t.isContentEditable;
  } });
})(w2);
Object.defineProperty(k, "__esModule", { value: true });
k.canSetCaret = Qe2;
var Xe2 = s2;
var Ye2 = w2;
function Qe2(e) {
  var t = true;
  if ((0, Xe2.isNativeInput)(e))
    switch (e.type) {
      case "file":
      case "checkbox":
      case "radio":
      case "hidden":
      case "submit":
      case "button":
      case "image":
      case "reset":
        t = false;
        break;
    }
  else
    t = (0, Ye2.isContentEditable)(e);
  return t;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.canSetCaret = void 0;
  var t = k;
  Object.defineProperty(e, "canSetCaret", { enumerable: true, get: function() {
    return t.canSetCaret;
  } });
})(le2);
var _2 = {};
var I3 = {};
function Ve2(e, t, n2) {
  const r3 = n2.value !== void 0 ? "value" : "get", i = n2[r3], a6 = `#${t}Cache`;
  if (n2[r3] = function(...l3) {
    return this[a6] === void 0 && (this[a6] = i.apply(this, l3)), this[a6];
  }, r3 === "get" && n2.set) {
    const l3 = n2.set;
    n2.set = function(u2) {
      delete e[a6], l3.apply(this, u2);
    };
  }
  return n2;
}
function ue2() {
  const e = {
    win: false,
    mac: false,
    x11: false,
    linux: false
  }, t = Object.keys(e).find((n2) => window.navigator.appVersion.toLowerCase().indexOf(n2) !== -1);
  return t !== void 0 && (e[t] = true), e;
}
function A2(e) {
  return e != null && e !== "" && (typeof e != "object" || Object.keys(e).length > 0);
}
function Ze2(e) {
  return !A2(e);
}
var Je2 = () => typeof window < "u" && window.navigator !== null && A2(window.navigator.platform) && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === "MacIntel" && window.navigator.maxTouchPoints > 1);
function xe2(e) {
  const t = ue2();
  return e = e.replace(/shift/gi, "\u21E7").replace(/backspace/gi, "\u232B").replace(/enter/gi, "\u23CE").replace(/up/gi, "\u2191").replace(/left/gi, "\u2192").replace(/down/gi, "\u2193").replace(/right/gi, "\u2190").replace(/escape/gi, "\u238B").replace(/insert/gi, "Ins").replace(/delete/gi, "\u2421").replace(/\+/gi, "+"), t.mac ? e = e.replace(/ctrl|cmd/gi, "\u2318").replace(/alt/gi, "\u2325") : e = e.replace(/cmd/gi, "Ctrl").replace(/windows/gi, "WIN"), e;
}
function et2(e) {
  return e[0].toUpperCase() + e.slice(1);
}
function tt2(e) {
  const t = document.createElement("div");
  t.style.position = "absolute", t.style.left = "-999px", t.style.bottom = "-999px", t.innerHTML = e, document.body.appendChild(t);
  const n2 = window.getSelection(), r3 = document.createRange();
  if (r3.selectNode(t), n2 === null)
    throw new Error("Cannot copy text to clipboard");
  n2.removeAllRanges(), n2.addRange(r3), document.execCommand("copy"), document.body.removeChild(t);
}
function nt2(e, t, n2) {
  let r3;
  return (...i) => {
    const a6 = this, l3 = () => {
      r3 = void 0, n2 !== true && e.apply(a6, i);
    }, u2 = n2 === true && r3 !== void 0;
    window.clearTimeout(r3), r3 = window.setTimeout(l3, t), u2 && e.apply(a6, i);
  };
}
function o3(e) {
  return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
}
function rt2(e) {
  return o3(e) === "boolean";
}
function oe(e) {
  return o3(e) === "function" || o3(e) === "asyncfunction";
}
function it2(e) {
  return oe(e) && /^\s*class\s+/.test(e.toString());
}
function at2(e) {
  return o3(e) === "number";
}
function v2(e) {
  return o3(e) === "object";
}
function lt2(e) {
  return Promise.resolve(e) === e;
}
function ut2(e) {
  return o3(e) === "string";
}
function ot2(e) {
  return o3(e) === "undefined";
}
function O3(e, ...t) {
  if (!t.length)
    return e;
  const n2 = t.shift();
  if (v2(e) && v2(n2))
    for (const r3 in n2)
      v2(n2[r3]) ? (e[r3] === void 0 && Object.assign(e, { [r3]: {} }), O3(e[r3], n2[r3])) : Object.assign(e, { [r3]: n2[r3] });
  return O3(e, ...t);
}
function ct2(e, t, n2) {
  const r3 = `\xAB${t}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${n2}\xBB instead.`;
  e && console.warn(r3);
}
function st2(e) {
  try {
    return new URL(e).href;
  } catch {
  }
  return e.substring(0, 2) === "//" ? window.location.protocol + e : window.location.origin + e;
}
function dt2(e) {
  return e > 47 && e < 58 || e === 32 || e === 13 || e === 229 || e > 64 && e < 91 || e > 95 && e < 112 || e > 185 && e < 193 || e > 218 && e < 223;
}
var ft2 = {
  BACKSPACE: 8,
  TAB: 9,
  ENTER: 13,
  SHIFT: 16,
  CTRL: 17,
  ALT: 18,
  ESC: 27,
  SPACE: 32,
  LEFT: 37,
  UP: 38,
  DOWN: 40,
  RIGHT: 39,
  DELETE: 46,
  META: 91,
  SLASH: 191
};
var pt2 = {
  LEFT: 0,
  WHEEL: 1,
  RIGHT: 2,
  BACKWARD: 3,
  FORWARD: 4
};
var gt2 = class {
  constructor() {
    this.completed = Promise.resolve();
  }
  /**
   * Add new promise to queue
   * @param operation - promise should be added to queue
   */
  add(t) {
    return new Promise((n2, r3) => {
      this.completed = this.completed.then(t).then(n2).catch(r3);
    });
  }
};
function vt2(e, t, n2 = void 0) {
  let r3, i, a6, l3 = null, u2 = 0;
  n2 || (n2 = {});
  const d5 = function() {
    u2 = n2.leading === false ? 0 : Date.now(), l3 = null, a6 = e.apply(r3, i), l3 === null && (r3 = i = null);
  };
  return function() {
    const c2 = Date.now();
    !u2 && n2.leading === false && (u2 = c2);
    const f2 = t - (c2 - u2);
    return r3 = this, i = arguments, f2 <= 0 || f2 > t ? (l3 && (clearTimeout(l3), l3 = null), u2 = c2, a6 = e.apply(r3, i), l3 === null && (r3 = i = null)) : !l3 && n2.trailing !== false && (l3 = setTimeout(d5, f2)), a6;
  };
}
var mt = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  PromiseQueue: gt2,
  beautifyShortcut: xe2,
  cacheable: Ve2,
  capitalize: et2,
  copyTextToClipboard: tt2,
  debounce: nt2,
  deepMerge: O3,
  deprecationAssert: ct2,
  getUserOS: ue2,
  getValidUrl: st2,
  isBoolean: rt2,
  isClass: it2,
  isEmpty: Ze2,
  isFunction: oe,
  isIosDevice: Je2,
  isNumber: at2,
  isObject: v2,
  isPrintableKey: dt2,
  isPromise: lt2,
  isString: ut2,
  isUndefined: ot2,
  keyCodes: ft2,
  mouseButtons: pt2,
  notEmpty: A2,
  throttle: vt2,
  typeOf: o3
}, Symbol.toStringTag, { value: "Module" }));
var $ = /* @__PURE__ */ Fe2(mt);
Object.defineProperty(I3, "__esModule", { value: true });
I3.containsOnlyInlineElements = yt2;
var bt2 = $;
var _t2 = C;
function yt2(e) {
  var t;
  (0, bt2.isString)(e) ? (t = document.createElement("div"), t.innerHTML = e) : t = e;
  var n2 = function(r3) {
    return !(0, _t2.blockElements)().includes(r3.tagName.toLowerCase()) && Array.from(r3.children).every(n2);
  };
  return Array.from(t.children).every(n2);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.containsOnlyInlineElements = void 0;
  var t = I3;
  Object.defineProperty(e, "containsOnlyInlineElements", { enumerable: true, get: function() {
    return t.containsOnlyInlineElements;
  } });
})(_2);
var ce2 = {};
var B2 = {};
var y2 = {};
var D3 = {};
Object.defineProperty(D3, "__esModule", { value: true });
D3.make = ht2;
function ht2(e, t, n2) {
  var r3;
  t === void 0 && (t = null), n2 === void 0 && (n2 = {});
  var i = document.createElement(e);
  if (Array.isArray(t)) {
    var a6 = t.filter(function(u2) {
      return u2 !== void 0;
    });
    (r3 = i.classList).add.apply(r3, a6);
  } else
    t !== null && i.classList.add(t);
  for (var l3 in n2)
    Object.prototype.hasOwnProperty.call(n2, l3) && (i[l3] = n2[l3]);
  return i;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.make = void 0;
  var t = D3;
  Object.defineProperty(e, "make", { enumerable: true, get: function() {
    return t.make;
  } });
})(y2);
Object.defineProperty(B2, "__esModule", { value: true });
B2.fragmentToString = Ot2;
var Et2 = y2;
function Ot2(e) {
  var t = (0, Et2.make)("div");
  return t.appendChild(e), t.innerHTML;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.fragmentToString = void 0;
  var t = B2;
  Object.defineProperty(e, "fragmentToString", { enumerable: true, get: function() {
    return t.fragmentToString;
  } });
})(ce2);
var se2 = {};
var H3 = {};
Object.defineProperty(H3, "__esModule", { value: true });
H3.getContentLength = jt2;
var Pt2 = s2;
function jt2(e) {
  var t, n2;
  return (0, Pt2.isNativeInput)(e) ? e.value.length : e.nodeType === Node.TEXT_NODE ? e.length : (n2 = (t = e.textContent) === null || t === void 0 ? void 0 : t.length) !== null && n2 !== void 0 ? n2 : 0;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.getContentLength = void 0;
  var t = H3;
  Object.defineProperty(e, "getContentLength", { enumerable: true, get: function() {
    return t.getContentLength;
  } });
})(se2);
var R3 = {};
var F3 = {};
var re2 = b2 && b2.__spreadArray || function(e, t, n2) {
  if (n2 || arguments.length === 2)
    for (var r3 = 0, i = t.length, a6; r3 < i; r3++)
      (a6 || !(r3 in t)) && (a6 || (a6 = Array.prototype.slice.call(t, 0, r3)), a6[r3] = t[r3]);
  return e.concat(a6 || Array.prototype.slice.call(t));
};
Object.defineProperty(F3, "__esModule", { value: true });
F3.getDeepestBlockElements = de2;
var Tt2 = _2;
function de2(e) {
  return (0, Tt2.containsOnlyInlineElements)(e) ? [e] : Array.from(e.children).reduce(function(t, n2) {
    return re2(re2([], t, true), de2(n2), true);
  }, []);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.getDeepestBlockElements = void 0;
  var t = F3;
  Object.defineProperty(e, "getDeepestBlockElements", { enumerable: true, get: function() {
    return t.getDeepestBlockElements;
  } });
})(R3);
var fe = {};
var W2 = {};
var h3 = {};
var U3 = {};
Object.defineProperty(U3, "__esModule", { value: true });
U3.isLineBreakTag = St2;
function St2(e) {
  return [
    "BR",
    "WBR"
  ].includes(e.tagName);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isLineBreakTag = void 0;
  var t = U3;
  Object.defineProperty(e, "isLineBreakTag", { enumerable: true, get: function() {
    return t.isLineBreakTag;
  } });
})(h3);
var E = {};
var q3 = {};
Object.defineProperty(q3, "__esModule", { value: true });
q3.isSingleTag = Ct2;
function Ct2(e) {
  return [
    "AREA",
    "BASE",
    "BR",
    "COL",
    "COMMAND",
    "EMBED",
    "HR",
    "IMG",
    "INPUT",
    "KEYGEN",
    "LINK",
    "META",
    "PARAM",
    "SOURCE",
    "TRACK",
    "WBR"
  ].includes(e.tagName);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isSingleTag = void 0;
  var t = q3;
  Object.defineProperty(e, "isSingleTag", { enumerable: true, get: function() {
    return t.isSingleTag;
  } });
})(E);
Object.defineProperty(W2, "__esModule", { value: true });
W2.getDeepestNode = pe2;
var Lt2 = s2;
var Mt2 = h3;
var kt2 = E;
function pe2(e, t) {
  t === void 0 && (t = false);
  var n2 = t ? "lastChild" : "firstChild", r3 = t ? "previousSibling" : "nextSibling";
  if (e.nodeType === Node.ELEMENT_NODE && e[n2]) {
    var i = e[n2];
    if ((0, kt2.isSingleTag)(i) && !(0, Lt2.isNativeInput)(i) && !(0, Mt2.isLineBreakTag)(i))
      if (i[r3])
        i = i[r3];
      else if (i.parentNode !== null && i.parentNode[r3])
        i = i.parentNode[r3];
      else
        return i.parentNode;
    return pe2(i, t);
  }
  return e;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.getDeepestNode = void 0;
  var t = W2;
  Object.defineProperty(e, "getDeepestNode", { enumerable: true, get: function() {
    return t.getDeepestNode;
  } });
})(fe);
var ge = {};
var z2 = {};
var p = b2 && b2.__spreadArray || function(e, t, n2) {
  if (n2 || arguments.length === 2)
    for (var r3 = 0, i = t.length, a6; r3 < i; r3++)
      (a6 || !(r3 in t)) && (a6 || (a6 = Array.prototype.slice.call(t, 0, r3)), a6[r3] = t[r3]);
  return e.concat(a6 || Array.prototype.slice.call(t));
};
Object.defineProperty(z2, "__esModule", { value: true });
z2.findAllInputs = $t2;
var wt2 = _2;
var Nt2 = R3;
var It2 = P2;
var At2 = s2;
function $t2(e) {
  return Array.from(e.querySelectorAll((0, It2.allInputsSelector)())).reduce(function(t, n2) {
    return (0, At2.isNativeInput)(n2) || (0, wt2.containsOnlyInlineElements)(n2) ? p(p([], t, true), [n2], false) : p(p([], t, true), (0, Nt2.getDeepestBlockElements)(n2), true);
  }, []);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.findAllInputs = void 0;
  var t = z2;
  Object.defineProperty(e, "findAllInputs", { enumerable: true, get: function() {
    return t.findAllInputs;
  } });
})(ge);
var ve2 = {};
var G2 = {};
Object.defineProperty(G2, "__esModule", { value: true });
G2.isCollapsedWhitespaces = Bt2;
function Bt2(e) {
  return !/[^\t\n\r ]/.test(e);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isCollapsedWhitespaces = void 0;
  var t = G2;
  Object.defineProperty(e, "isCollapsedWhitespaces", { enumerable: true, get: function() {
    return t.isCollapsedWhitespaces;
  } });
})(ve2);
var K2 = {};
var X2 = {};
Object.defineProperty(X2, "__esModule", { value: true });
X2.isElement = Ht2;
var Dt2 = $;
function Ht2(e) {
  return (0, Dt2.isNumber)(e) ? false : !!e && !!e.nodeType && e.nodeType === Node.ELEMENT_NODE;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isElement = void 0;
  var t = X2;
  Object.defineProperty(e, "isElement", { enumerable: true, get: function() {
    return t.isElement;
  } });
})(K2);
var me2 = {};
var Y = {};
var Q2 = {};
var V2 = {};
Object.defineProperty(V2, "__esModule", { value: true });
V2.isLeaf = Rt2;
function Rt2(e) {
  return e === null ? false : e.childNodes.length === 0;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isLeaf = void 0;
  var t = V2;
  Object.defineProperty(e, "isLeaf", { enumerable: true, get: function() {
    return t.isLeaf;
  } });
})(Q2);
var Z2 = {};
var J2 = {};
Object.defineProperty(J2, "__esModule", { value: true });
J2.isNodeEmpty = zt2;
var Ft2 = h3;
var Wt2 = K2;
var Ut2 = s2;
var qt2 = E;
function zt2(e, t) {
  var n2 = "";
  return (0, qt2.isSingleTag)(e) && !(0, Ft2.isLineBreakTag)(e) ? false : ((0, Wt2.isElement)(e) && (0, Ut2.isNativeInput)(e) ? n2 = e.value : e.textContent !== null && (n2 = e.textContent.replace("\u200B", "")), t !== void 0 && (n2 = n2.replace(new RegExp(t, "g"), "")), n2.trim().length === 0);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isNodeEmpty = void 0;
  var t = J2;
  Object.defineProperty(e, "isNodeEmpty", { enumerable: true, get: function() {
    return t.isNodeEmpty;
  } });
})(Z2);
Object.defineProperty(Y, "__esModule", { value: true });
Y.isEmpty = Xt2;
var Gt2 = Q2;
var Kt2 = Z2;
function Xt2(e, t) {
  e.normalize();
  for (var n2 = [e]; n2.length > 0; ) {
    var r3 = n2.shift();
    if (r3) {
      if (e = r3, (0, Gt2.isLeaf)(e) && !(0, Kt2.isNodeEmpty)(e, t))
        return false;
      n2.push.apply(n2, Array.from(e.childNodes));
    }
  }
  return true;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isEmpty = void 0;
  var t = Y;
  Object.defineProperty(e, "isEmpty", { enumerable: true, get: function() {
    return t.isEmpty;
  } });
})(me2);
var be2 = {};
var x2 = {};
Object.defineProperty(x2, "__esModule", { value: true });
x2.isFragment = Qt2;
var Yt2 = $;
function Qt2(e) {
  return (0, Yt2.isNumber)(e) ? false : !!e && !!e.nodeType && e.nodeType === Node.DOCUMENT_FRAGMENT_NODE;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isFragment = void 0;
  var t = x2;
  Object.defineProperty(e, "isFragment", { enumerable: true, get: function() {
    return t.isFragment;
  } });
})(be2);
var _e2 = {};
var ee = {};
Object.defineProperty(ee, "__esModule", { value: true });
ee.isHTMLString = Zt2;
var Vt2 = y2;
function Zt2(e) {
  var t = (0, Vt2.make)("div");
  return t.innerHTML = e, t.childElementCount > 0;
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.isHTMLString = void 0;
  var t = ee;
  Object.defineProperty(e, "isHTMLString", { enumerable: true, get: function() {
    return t.isHTMLString;
  } });
})(_e2);
var ye2 = {};
var te2 = {};
Object.defineProperty(te2, "__esModule", { value: true });
te2.offset = Jt2;
function Jt2(e) {
  var t = e.getBoundingClientRect(), n2 = window.pageXOffset || document.documentElement.scrollLeft, r3 = window.pageYOffset || document.documentElement.scrollTop, i = t.top + r3, a6 = t.left + n2;
  return {
    top: i,
    left: a6,
    bottom: i + t.height,
    right: a6 + t.width
  };
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.offset = void 0;
  var t = te2;
  Object.defineProperty(e, "offset", { enumerable: true, get: function() {
    return t.offset;
  } });
})(ye2);
var he2 = {};
var ne2 = {};
Object.defineProperty(ne2, "__esModule", { value: true });
ne2.prepend = xt2;
function xt2(e, t) {
  Array.isArray(t) ? (t = t.reverse(), t.forEach(function(n2) {
    return e.prepend(n2);
  })) : e.prepend(t);
}
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.prepend = void 0;
  var t = ne2;
  Object.defineProperty(e, "prepend", { enumerable: true, get: function() {
    return t.prepend;
  } });
})(he2);
(function(e) {
  Object.defineProperty(e, "__esModule", { value: true }), e.prepend = e.offset = e.make = e.isLineBreakTag = e.isSingleTag = e.isNodeEmpty = e.isLeaf = e.isHTMLString = e.isFragment = e.isEmpty = e.isElement = e.isContentEditable = e.isCollapsedWhitespaces = e.findAllInputs = e.isNativeInput = e.allInputsSelector = e.getDeepestNode = e.getDeepestBlockElements = e.getContentLength = e.fragmentToString = e.containsOnlyInlineElements = e.canSetCaret = e.calculateBaseline = e.blockElements = e.append = void 0;
  var t = P2;
  Object.defineProperty(e, "allInputsSelector", { enumerable: true, get: function() {
    return t.allInputsSelector;
  } });
  var n2 = s2;
  Object.defineProperty(e, "isNativeInput", { enumerable: true, get: function() {
    return n2.isNativeInput;
  } });
  var r3 = ie;
  Object.defineProperty(e, "append", { enumerable: true, get: function() {
    return r3.append;
  } });
  var i = C;
  Object.defineProperty(e, "blockElements", { enumerable: true, get: function() {
    return i.blockElements;
  } });
  var a6 = ae2;
  Object.defineProperty(e, "calculateBaseline", { enumerable: true, get: function() {
    return a6.calculateBaseline;
  } });
  var l3 = le2;
  Object.defineProperty(e, "canSetCaret", { enumerable: true, get: function() {
    return l3.canSetCaret;
  } });
  var u2 = _2;
  Object.defineProperty(e, "containsOnlyInlineElements", { enumerable: true, get: function() {
    return u2.containsOnlyInlineElements;
  } });
  var d5 = ce2;
  Object.defineProperty(e, "fragmentToString", { enumerable: true, get: function() {
    return d5.fragmentToString;
  } });
  var c2 = se2;
  Object.defineProperty(e, "getContentLength", { enumerable: true, get: function() {
    return c2.getContentLength;
  } });
  var f2 = R3;
  Object.defineProperty(e, "getDeepestBlockElements", { enumerable: true, get: function() {
    return f2.getDeepestBlockElements;
  } });
  var Oe2 = fe;
  Object.defineProperty(e, "getDeepestNode", { enumerable: true, get: function() {
    return Oe2.getDeepestNode;
  } });
  var Pe2 = ge;
  Object.defineProperty(e, "findAllInputs", { enumerable: true, get: function() {
    return Pe2.findAllInputs;
  } });
  var je2 = ve2;
  Object.defineProperty(e, "isCollapsedWhitespaces", { enumerable: true, get: function() {
    return je2.isCollapsedWhitespaces;
  } });
  var Te2 = w2;
  Object.defineProperty(e, "isContentEditable", { enumerable: true, get: function() {
    return Te2.isContentEditable;
  } });
  var Se2 = K2;
  Object.defineProperty(e, "isElement", { enumerable: true, get: function() {
    return Se2.isElement;
  } });
  var Ce2 = me2;
  Object.defineProperty(e, "isEmpty", { enumerable: true, get: function() {
    return Ce2.isEmpty;
  } });
  var Le2 = be2;
  Object.defineProperty(e, "isFragment", { enumerable: true, get: function() {
    return Le2.isFragment;
  } });
  var Me2 = _e2;
  Object.defineProperty(e, "isHTMLString", { enumerable: true, get: function() {
    return Me2.isHTMLString;
  } });
  var ke2 = Q2;
  Object.defineProperty(e, "isLeaf", { enumerable: true, get: function() {
    return ke2.isLeaf;
  } });
  var we2 = Z2;
  Object.defineProperty(e, "isNodeEmpty", { enumerable: true, get: function() {
    return we2.isNodeEmpty;
  } });
  var Ne2 = h3;
  Object.defineProperty(e, "isLineBreakTag", { enumerable: true, get: function() {
    return Ne2.isLineBreakTag;
  } });
  var Ie2 = E;
  Object.defineProperty(e, "isSingleTag", { enumerable: true, get: function() {
    return Ie2.isSingleTag;
  } });
  var Ae2 = y2;
  Object.defineProperty(e, "make", { enumerable: true, get: function() {
    return Ae2.make;
  } });
  var $e2 = ye2;
  Object.defineProperty(e, "offset", { enumerable: true, get: function() {
    return $e2.offset;
  } });
  var Be2 = he2;
  Object.defineProperty(e, "prepend", { enumerable: true, get: function() {
    return Be2.prepend;
  } });
})(g2);
var Ee2 = /* @__PURE__ */ ((e) => (e.Left = "left", e.Center = "center", e))(Ee2 || {});
var m = class _m {
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {object} params - constructor params
   * @param {QuoteData} params.data - previously saved data
   * @param {QuoteConfig} params.config - user config for Tool
   * @param {API} params.api - editor.js api
   * @param {boolean} params.readOnly - read only mode flag
   */
  constructor({ data: t, config: n2, api: r3, readOnly: i, block: a6 }) {
    const { DEFAULT_ALIGNMENT: l3 } = _m;
    this.api = r3, this.readOnly = i, this._quotePlaceholder = n2.quotePlaceholder || _m.DEFAULT_QUOTE_PLACEHOLDER, this._captionPlaceholder = n2.captionPlaceholder || _m.DEFAULT_CAPTION_PLACEHOLDER, this._data = {
      text: t.text || "",
      caption: t.caption || "",
      alignment: Object.values(Ee2).includes(t.alignment) && t.alignment || n2.defaultAlignment || l3
    }, this._CSS = {
      baseClass: this.api.styles.block,
      wrapper: "cdx-quote",
      text: "cdx-quote__text",
      input: this.api.styles.input,
      caption: "cdx-quote__caption"
    }, this._block = a6;
  }
  /**
   * Notify core that read-only mode is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @returns {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: Re2,
      title: "Quote"
    };
  }
  /**
   * Empty Quote is not empty Block
   *
   * @public
   * @returns {boolean}
   */
  static get contentless() {
    return true;
  }
  /**
   * Allow to press Enter inside the Quote
   *
   * @public
   * @returns {boolean}
   */
  static get enableLineBreaks() {
    return true;
  }
  /**
   * Default placeholder for quote text
   *
   * @public
   * @returns {string}
   */
  static get DEFAULT_QUOTE_PLACEHOLDER() {
    return "Enter a quote";
  }
  /**
   * Default placeholder for quote caption
   *
   * @public
   * @returns {string}
   */
  static get DEFAULT_CAPTION_PLACEHOLDER() {
    return "Enter a caption";
  }
  /**
   * Default quote alignment
   *
   * @public
   * @returns {string}
   */
  static get DEFAULT_ALIGNMENT() {
    return "left";
  }
  /**
   * Allow Quote to be converted to/from other blocks
   */
  static get conversionConfig() {
    return {
      /**
       * To create Quote data from string, simple fill 'text' property
       */
      import: "text",
      /**
       * To create string from Quote data, concatenate text and caption
       *
       * @param {QuoteData} quoteData
       * @returns {string}
       */
      export: function(t) {
        return t.caption ? `${t.text} \u2014 ${t.caption}` : t.text;
      }
    };
  }
  /**
   * Tool`s styles
   *
   * @returns {QuoteCSS}
   */
  get CSS() {
    return {
      baseClass: this.api.styles.block,
      wrapper: "cdx-quote",
      text: "cdx-quote__text",
      input: this.api.styles.input,
      caption: "cdx-quote__caption"
    };
  }
  /**
   * Tool`s settings properties
   *
   * @returns {*[]}
   */
  get settings() {
    return [
      {
        name: "left",
        icon: He
      },
      {
        name: "center",
        icon: De2
      }
    ];
  }
  /**
   * Create Quote Tool container with inputs
   *
   * @returns {Element}
   */
  render() {
    const t = g2.make("blockquote", [
      this._CSS.baseClass,
      this._CSS.wrapper
    ]), n2 = g2.make("div", [this._CSS.input, this._CSS.text], {
      contentEditable: !this.readOnly,
      innerHTML: this._data.text
    }), r3 = g2.make("div", [this._CSS.input, this._CSS.caption], {
      contentEditable: !this.readOnly,
      innerHTML: this._data.caption
    });
    return n2.dataset.placeholder = this._quotePlaceholder, r3.dataset.placeholder = this._captionPlaceholder, t.appendChild(n2), t.appendChild(r3), t;
  }
  /**
   * Extract Quote data from Quote Tool element
   *
   * @param {HTMLDivElement} quoteElement - element to save
   * @returns {QuoteData}
   */
  save(t) {
    const n2 = t.querySelector(`.${this._CSS.text}`), r3 = t.querySelector(`.${this._CSS.caption}`);
    return Object.assign(this._data, {
      text: (n2 == null ? void 0 : n2.innerHTML) ?? "",
      caption: (r3 == null ? void 0 : r3.innerHTML) ?? ""
    });
  }
  /**
   * Sanitizer rules
   */
  static get sanitize() {
    return {
      text: {
        br: true
      },
      caption: {
        br: true
      },
      alignment: {}
    };
  }
  /**
   * Create wrapper for Tool`s settings buttons:
   * 1. Left alignment
   * 2. Center alignment
   *
   * @returns {MenuConfig}
   *
   */
  renderSettings() {
    const t = (n2) => n2 && n2[0].toUpperCase() + n2.slice(1);
    return this.settings.map((n2) => ({
      icon: n2.icon,
      label: this.api.i18n.t(`Align ${t(n2.name)}`),
      onActivate: () => this._toggleTune(n2.name),
      isActive: this._data.alignment === n2.name,
      closeOnActivate: true
    }));
  }
  /**
   * Toggle quote`s alignment
   *
   * @param {string} tune - alignment
   * @private
   */
  _toggleTune(t) {
    this._data.alignment = t, this._block.dispatchChange();
  }
};

// node_modules/@editorjs/table/dist/table.mjs
(function() {
  var r3;
  "use strict";
  try {
    if (typeof document < "u") {
      var o4 = document.createElement("style");
      o4.nonce = (r3 = document.head.querySelector("meta[property=csp-nonce]")) == null ? void 0 : r3.content, o4.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}.tc-add-column--disabled{visibility:hidden}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row--disabled{display:none}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')), document.head.appendChild(o4);
    }
  } catch (e) {
    console.error("vite-plugin-css-injected-by-js", e);
  }
})();
function c(d5, t, e = {}) {
  const o4 = document.createElement(d5);
  Array.isArray(t) ? o4.classList.add(...t) : t && o4.classList.add(t);
  for (const i in e)
    Object.prototype.hasOwnProperty.call(e, i) && (o4[i] = e[i]);
  return o4;
}
function f(d5) {
  const t = d5.getBoundingClientRect();
  return {
    y1: Math.floor(t.top + window.pageYOffset),
    x1: Math.floor(t.left + window.pageXOffset),
    x2: Math.floor(t.right + window.pageXOffset),
    y2: Math.floor(t.bottom + window.pageYOffset)
  };
}
function g3(d5, t) {
  const e = f(d5), o4 = f(t);
  return {
    fromTopBorder: o4.y1 - e.y1,
    fromLeftBorder: o4.x1 - e.x1,
    fromRightBorder: e.x2 - o4.x2,
    fromBottomBorder: e.y2 - o4.y2
  };
}
function k2(d5, t) {
  const e = d5.getBoundingClientRect(), { width: o4, height: i, x: n2, y: r3 } = e, { clientX: h4, clientY: l3 } = t;
  return {
    width: o4,
    height: i,
    x: h4 - n2,
    y: l3 - r3
  };
}
function m2(d5, t) {
  return t.parentNode.insertBefore(d5, t);
}
function C2(d5, t = true) {
  const e = document.createRange(), o4 = window.getSelection();
  e.selectNodeContents(d5), e.collapse(t), o4.removeAllRanges(), o4.addRange(e);
}
var a4 = class _a {
  /**
   * @param {object} options - constructor options
   * @param {PopoverItem[]} options.items - constructor options
   */
  constructor({ items: t }) {
    this.items = t, this.wrapper = void 0, this.itemEls = [];
  }
  /**
   * Set of CSS classnames used in popover
   *
   * @returns {object}
   */
  static get CSS() {
    return {
      popover: "tc-popover",
      popoverOpened: "tc-popover--opened",
      item: "tc-popover__item",
      itemHidden: "tc-popover__item--hidden",
      itemConfirmState: "tc-popover__item--confirm",
      itemIcon: "tc-popover__item-icon",
      itemLabel: "tc-popover__item-label"
    };
  }
  /**
   * Returns the popover element
   *
   * @returns {Element}
   */
  render() {
    return this.wrapper = c("div", _a.CSS.popover), this.items.forEach((t, e) => {
      const o4 = c("div", _a.CSS.item), i = c("div", _a.CSS.itemIcon, {
        innerHTML: t.icon
      }), n2 = c("div", _a.CSS.itemLabel, {
        textContent: t.label
      });
      o4.dataset.index = e, o4.appendChild(i), o4.appendChild(n2), this.wrapper.appendChild(o4), this.itemEls.push(o4);
    }), this.wrapper.addEventListener("click", (t) => {
      this.popoverClicked(t);
    }), this.wrapper;
  }
  /**
   * Popover wrapper click listener
   * Used to delegate clicks in items
   *
   * @returns {void}
   */
  popoverClicked(t) {
    const e = t.target.closest(`.${_a.CSS.item}`);
    if (!e)
      return;
    const o4 = e.dataset.index, i = this.items[o4];
    if (i.confirmationRequired && !this.hasConfirmationState(e)) {
      this.setConfirmationState(e);
      return;
    }
    i.onClick();
  }
  /**
   * Enable the confirmation state on passed item
   *
   * @returns {void}
   */
  setConfirmationState(t) {
    t.classList.add(_a.CSS.itemConfirmState);
  }
  /**
   * Disable the confirmation state on passed item
   *
   * @returns {void}
   */
  clearConfirmationState(t) {
    t.classList.remove(_a.CSS.itemConfirmState);
  }
  /**
   * Check if passed item has the confirmation state
   *
   * @returns {boolean}
   */
  hasConfirmationState(t) {
    return t.classList.contains(_a.CSS.itemConfirmState);
  }
  /**
   * Return an opening state
   *
   * @returns {boolean}
   */
  get opened() {
    return this.wrapper.classList.contains(_a.CSS.popoverOpened);
  }
  /**
   * Opens the popover
   *
   * @returns {void}
   */
  open() {
    this.items.forEach((t, e) => {
      typeof t.hideIf == "function" && this.itemEls[e].classList.toggle(_a.CSS.itemHidden, t.hideIf());
    }), this.wrapper.classList.add(_a.CSS.popoverOpened);
  }
  /**
   * Closes the popover
   *
   * @returns {void}
   */
  close() {
    this.wrapper.classList.remove(_a.CSS.popoverOpened), this.itemEls.forEach((t) => {
      this.clearConfirmationState(t);
    });
  }
};
var R4 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L10 12M10 12L7 15M10 12H4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L14 12M14 12L17 15M14 12H20"/></svg>';
var b3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>';
var x3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>';
var S3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>';
var y3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>';
var L4 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>';
var M2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>';
var v3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>';
var O4 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';
var T2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';
var H4 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';
var A3 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>';
var w3 = class _w {
  /**
   * Creates toolbox buttons and toolbox menus
   *
   * @param {object} api - Editor.js api
   * @param {PopoverItem[]} items - Editor.js api
   * @param {function} onOpen - callback fired when the Popover is opening
   * @param {function} onClose - callback fired when the Popover is closing
   * @param {string} [cssModifier] - the modifier for the Toolbox. Allows to add some specific styles.
   */
  constructor({ api: t, items: e, onOpen: o4, onClose: i, cssModifier: n2 = "" }) {
    this.api = t, this.items = e, this.onOpen = o4, this.onClose = i, this.cssModifier = n2, this.popover = null, this.wrapper = this.createToolbox();
  }
  /**
   * Style classes
   */
  static get CSS() {
    return {
      toolbox: "tc-toolbox",
      toolboxShowed: "tc-toolbox--showed",
      toggler: "tc-toolbox__toggler"
    };
  }
  /**
   * Returns rendered Toolbox element
   */
  get element() {
    return this.wrapper;
  }
  /**
   * Creating a toolbox to open menu for a manipulating columns
   *
   * @returns {Element}
   */
  createToolbox() {
    const t = c("div", [
      _w.CSS.toolbox,
      this.cssModifier ? `${_w.CSS.toolbox}--${this.cssModifier}` : ""
    ]);
    t.dataset.mutationFree = "true";
    const e = this.createPopover(), o4 = this.createToggler();
    return t.appendChild(o4), t.appendChild(e), t;
  }
  /**
   * Creates the Toggler
   *
   * @returns {Element}
   */
  createToggler() {
    const t = c("div", _w.CSS.toggler, {
      innerHTML: M2
    });
    return t.addEventListener("click", () => {
      this.togglerClicked();
    }), t;
  }
  /**
   * Creates the Popover instance and render it
   *
   * @returns {Element}
   */
  createPopover() {
    return this.popover = new a4({
      items: this.items
    }), this.popover.render();
  }
  /**
   * Toggler click handler. Opens/Closes the popover
   *
   * @returns {void}
   */
  togglerClicked() {
    this.popover.opened ? (this.popover.close(), this.onClose()) : (this.popover.open(), this.onOpen());
  }
  /**
   * Shows the Toolbox
   *
   * @param {function} computePositionMethod - method that returns the position coordinate
   * @returns {void}
   */
  show(t) {
    const e = t();
    Object.entries(e).forEach(([o4, i]) => {
      this.wrapper.style[o4] = i;
    }), this.wrapper.classList.add(_w.CSS.toolboxShowed);
  }
  /**
   * Hides the Toolbox
   *
   * @returns {void}
   */
  hide() {
    this.popover.close(), this.wrapper.classList.remove(_w.CSS.toolboxShowed);
  }
};
function B3(d5, t) {
  let e = 0;
  return function(...o4) {
    const i = (/* @__PURE__ */ new Date()).getTime();
    if (!(i - e < d5))
      return e = i, t(...o4);
  };
}
var s3 = {
  wrapper: "tc-wrap",
  wrapperReadOnly: "tc-wrap--readonly",
  table: "tc-table",
  row: "tc-row",
  withHeadings: "tc-table--heading",
  rowSelected: "tc-row--selected",
  cell: "tc-cell",
  cellSelected: "tc-cell--selected",
  addRow: "tc-add-row",
  addRowDisabled: "tc-add-row--disabled",
  addColumn: "tc-add-column",
  addColumnDisabled: "tc-add-column--disabled"
};
var E2 = class {
  /**
   * Creates
   *
   * @constructor
   * @param {boolean} readOnly - read-only mode flag
   * @param {object} api - Editor.js API
   * @param {TableData} data - Editor.js API
   * @param {TableConfig} config - Editor.js API
   */
  constructor(t, e, o4, i) {
    this.readOnly = t, this.api = e, this.data = o4, this.config = i, this.wrapper = null, this.table = null, this.toolboxColumn = this.createColumnToolbox(), this.toolboxRow = this.createRowToolbox(), this.createTableWrapper(), this.hoveredRow = 0, this.hoveredColumn = 0, this.selectedRow = 0, this.selectedColumn = 0, this.tunes = {
      withHeadings: false
    }, this.resize(), this.fill(), this.focusedCell = {
      row: 0,
      column: 0
    }, this.documentClicked = (n2) => {
      const r3 = n2.target.closest(`.${s3.table}`) !== null, h4 = n2.target.closest(`.${s3.wrapper}`) === null;
      (r3 || h4) && this.hideToolboxes();
      const u2 = n2.target.closest(`.${s3.addRow}`), p2 = n2.target.closest(`.${s3.addColumn}`);
      u2 && u2.parentNode === this.wrapper ? (this.addRow(void 0, true), this.hideToolboxes()) : p2 && p2.parentNode === this.wrapper && (this.addColumn(void 0, true), this.hideToolboxes());
    }, this.readOnly || this.bindEvents();
  }
  /**
   * Returns the rendered table wrapper
   *
   * @returns {Element}
   */
  getWrapper() {
    return this.wrapper;
  }
  /**
   * Hangs the necessary handlers to events
   */
  bindEvents() {
    document.addEventListener("click", this.documentClicked), this.table.addEventListener("mousemove", B3(150, (t) => this.onMouseMoveInTable(t)), { passive: true }), this.table.onkeypress = (t) => this.onKeyPressListener(t), this.table.addEventListener("keydown", (t) => this.onKeyDownListener(t)), this.table.addEventListener("focusin", (t) => this.focusInTableListener(t));
  }
  /**
   * Configures and creates the toolbox for manipulating with columns
   *
   * @returns {Toolbox}
   */
  createColumnToolbox() {
    return new w3({
      api: this.api,
      cssModifier: "column",
      items: [
        {
          label: this.api.i18n.t("Add column to left"),
          icon: S3,
          hideIf: () => this.numberOfColumns === this.config.maxcols,
          onClick: () => {
            this.addColumn(this.selectedColumn, true), this.hideToolboxes();
          }
        },
        {
          label: this.api.i18n.t("Add column to right"),
          icon: y3,
          hideIf: () => this.numberOfColumns === this.config.maxcols,
          onClick: () => {
            this.addColumn(this.selectedColumn + 1, true), this.hideToolboxes();
          }
        },
        {
          label: this.api.i18n.t("Delete column"),
          icon: b3,
          hideIf: () => this.numberOfColumns === 1,
          confirmationRequired: true,
          onClick: () => {
            this.deleteColumn(this.selectedColumn), this.hideToolboxes();
          }
        }
      ],
      onOpen: () => {
        this.selectColumn(this.hoveredColumn), this.hideRowToolbox();
      },
      onClose: () => {
        this.unselectColumn();
      }
    });
  }
  /**
   * Configures and creates the toolbox for manipulating with rows
   *
   * @returns {Toolbox}
   */
  createRowToolbox() {
    return new w3({
      api: this.api,
      cssModifier: "row",
      items: [
        {
          label: this.api.i18n.t("Add row above"),
          icon: L4,
          hideIf: () => this.numberOfRows === this.config.maxrows,
          onClick: () => {
            this.addRow(this.selectedRow, true), this.hideToolboxes();
          }
        },
        {
          label: this.api.i18n.t("Add row below"),
          icon: x3,
          hideIf: () => this.numberOfRows === this.config.maxrows,
          onClick: () => {
            this.addRow(this.selectedRow + 1, true), this.hideToolboxes();
          }
        },
        {
          label: this.api.i18n.t("Delete row"),
          icon: b3,
          hideIf: () => this.numberOfRows === 1,
          confirmationRequired: true,
          onClick: () => {
            this.deleteRow(this.selectedRow), this.hideToolboxes();
          }
        }
      ],
      onOpen: () => {
        this.selectRow(this.hoveredRow), this.hideColumnToolbox();
      },
      onClose: () => {
        this.unselectRow();
      }
    });
  }
  /**
   * When you press enter it moves the cursor down to the next row
   * or creates it if the click occurred on the last one
   */
  moveCursorToNextRow() {
    this.focusedCell.row !== this.numberOfRows ? (this.focusedCell.row += 1, this.focusCell(this.focusedCell)) : (this.addRow(), this.focusedCell.row += 1, this.focusCell(this.focusedCell), this.updateToolboxesPosition(0, 0));
  }
  /**
   * Get table cell by row and col index
   *
   * @param {number} row - cell row coordinate
   * @param {number} column - cell column coordinate
   * @returns {HTMLElement}
   */
  getCell(t, e) {
    return this.table.querySelectorAll(`.${s3.row}:nth-child(${t}) .${s3.cell}`)[e - 1];
  }
  /**
   * Get table row by index
   *
   * @param {number} row - row coordinate
   * @returns {HTMLElement}
   */
  getRow(t) {
    return this.table.querySelector(`.${s3.row}:nth-child(${t})`);
  }
  /**
   * The parent of the cell which is the row
   *
   * @param {HTMLElement} cell - cell element
   * @returns {HTMLElement}
   */
  getRowByCell(t) {
    return t.parentElement;
  }
  /**
   * Ger row's first cell
   *
   * @param {Element} row - row to find its first cell
   * @returns {Element}
   */
  getRowFirstCell(t) {
    return t.querySelector(`.${s3.cell}:first-child`);
  }
  /**
   * Set the sell's content by row and column numbers
   *
   * @param {number} row - cell row coordinate
   * @param {number} column - cell column coordinate
   * @param {string} content - cell HTML content
   */
  setCellContent(t, e, o4) {
    const i = this.getCell(t, e);
    i.innerHTML = o4;
  }
  /**
   * Add column in table on index place
   * Add cells in each row
   *
   * @param {number} columnIndex - number in the array of columns, where new column to insert, -1 if insert at the end
   * @param {boolean} [setFocus] - pass true to focus the first cell
   */
  addColumn(t = -1, e = false) {
    var n2;
    let o4 = this.numberOfColumns;
    if (this.config && this.config.maxcols && this.numberOfColumns >= this.config.maxcols)
      return;
    for (let r3 = 1; r3 <= this.numberOfRows; r3++) {
      let h4;
      const l3 = this.createCell();
      if (t > 0 && t <= o4 ? (h4 = this.getCell(r3, t), m2(l3, h4)) : h4 = this.getRow(r3).appendChild(l3), r3 === 1) {
        const u2 = this.getCell(r3, t > 0 ? t : o4 + 1);
        u2 && e && C2(u2);
      }
    }
    const i = this.wrapper.querySelector(`.${s3.addColumn}`);
    (n2 = this.config) != null && n2.maxcols && this.numberOfColumns > this.config.maxcols - 1 && i && i.classList.add(s3.addColumnDisabled), this.addHeadingAttrToFirstRow();
  }
  /**
   * Add row in table on index place
   *
   * @param {number} index - number in the array of rows, where new column to insert, -1 if insert at the end
   * @param {boolean} [setFocus] - pass true to focus the inserted row
   * @returns {HTMLElement} row
   */
  addRow(t = -1, e = false) {
    let o4, i = c("div", s3.row);
    this.tunes.withHeadings && this.removeHeadingAttrFromFirstRow();
    let n2 = this.numberOfColumns;
    if (this.config && this.config.maxrows && this.numberOfRows >= this.config.maxrows && h4)
      return;
    if (t > 0 && t <= this.numberOfRows) {
      let l3 = this.getRow(t);
      o4 = m2(i, l3);
    } else
      o4 = this.table.appendChild(i);
    this.fillRow(o4, n2), this.tunes.withHeadings && this.addHeadingAttrToFirstRow();
    const r3 = this.getRowFirstCell(o4);
    r3 && e && C2(r3);
    const h4 = this.wrapper.querySelector(`.${s3.addRow}`);
    return this.config && this.config.maxrows && this.numberOfRows >= this.config.maxrows && h4 && h4.classList.add(s3.addRowDisabled), o4;
  }
  /**
   * Delete a column by index
   *
   * @param {number} index
   */
  deleteColumn(t) {
    for (let o4 = 1; o4 <= this.numberOfRows; o4++) {
      const i = this.getCell(o4, t);
      if (!i)
        return;
      i.remove();
    }
    const e = this.wrapper.querySelector(`.${s3.addColumn}`);
    e && e.classList.remove(s3.addColumnDisabled);
  }
  /**
   * Delete a row by index
   *
   * @param {number} index
   */
  deleteRow(t) {
    this.getRow(t).remove();
    const e = this.wrapper.querySelector(`.${s3.addRow}`);
    e && e.classList.remove(s3.addRowDisabled), this.addHeadingAttrToFirstRow();
  }
  /**
   * Create a wrapper containing a table, toolboxes
   * and buttons for adding rows and columns
   *
   * @returns {HTMLElement} wrapper - where all buttons for a table and the table itself will be
   */
  createTableWrapper() {
    if (this.wrapper = c("div", s3.wrapper), this.table = c("div", s3.table), this.readOnly && this.wrapper.classList.add(s3.wrapperReadOnly), this.wrapper.appendChild(this.toolboxRow.element), this.wrapper.appendChild(this.toolboxColumn.element), this.wrapper.appendChild(this.table), !this.readOnly) {
      const t = c("div", s3.addColumn, {
        innerHTML: v3
      }), e = c("div", s3.addRow, {
        innerHTML: v3
      });
      this.wrapper.appendChild(t), this.wrapper.appendChild(e);
    }
  }
  /**
   * Returns the size of the table based on initial data or config "size" property
   *
   * @return {{rows: number, cols: number}} - number of cols and rows
   */
  computeInitialSize() {
    const t = this.data && this.data.content, e = Array.isArray(t), o4 = e ? t.length : false, i = e ? t.length : void 0, n2 = o4 ? t[0].length : void 0, r3 = Number.parseInt(this.config && this.config.rows), h4 = Number.parseInt(this.config && this.config.cols), l3 = !isNaN(r3) && r3 > 0 ? r3 : void 0, u2 = !isNaN(h4) && h4 > 0 ? h4 : void 0;
    return {
      rows: i || l3 || 2,
      cols: n2 || u2 || 2
    };
  }
  /**
   * Resize table to match config size or transmitted data size
   *
   * @return {{rows: number, cols: number}} - number of cols and rows
   */
  resize() {
    const { rows: t, cols: e } = this.computeInitialSize();
    for (let o4 = 0; o4 < t; o4++)
      this.addRow();
    for (let o4 = 0; o4 < e; o4++)
      this.addColumn();
  }
  /**
   * Fills the table with data passed to the constructor
   *
   * @returns {void}
   */
  fill() {
    const t = this.data;
    if (t && t.content)
      for (let e = 0; e < t.content.length; e++)
        for (let o4 = 0; o4 < t.content[e].length; o4++)
          this.setCellContent(e + 1, o4 + 1, t.content[e][o4]);
  }
  /**
   * Fills a row with cells
   *
   * @param {HTMLElement} row - row to fill
   * @param {number} numberOfColumns - how many cells should be in a row
   */
  fillRow(t, e) {
    for (let o4 = 1; o4 <= e; o4++) {
      const i = this.createCell();
      t.appendChild(i);
    }
  }
  /**
   * Creating a cell element
   *
   * @return {Element}
   */
  createCell() {
    return c("div", s3.cell, {
      contentEditable: !this.readOnly
    });
  }
  /**
   * Get number of rows in the table
   */
  get numberOfRows() {
    return this.table.childElementCount;
  }
  /**
   * Get number of columns in the table
   */
  get numberOfColumns() {
    return this.numberOfRows ? this.table.querySelectorAll(`.${s3.row}:first-child .${s3.cell}`).length : 0;
  }
  /**
   * Is the column toolbox menu displayed or not
   *
   * @returns {boolean}
   */
  get isColumnMenuShowing() {
    return this.selectedColumn !== 0;
  }
  /**
   * Is the row toolbox menu displayed or not
   *
   * @returns {boolean}
   */
  get isRowMenuShowing() {
    return this.selectedRow !== 0;
  }
  /**
   * Recalculate position of toolbox icons
   *
   * @param {Event} event - mouse move event
   */
  onMouseMoveInTable(t) {
    const { row: e, column: o4 } = this.getHoveredCell(t);
    this.hoveredColumn = o4, this.hoveredRow = e, this.updateToolboxesPosition();
  }
  /**
   * Prevents default Enter behaviors
   * Adds Shift+Enter processing
   *
   * @param {KeyboardEvent} event - keypress event
   */
  onKeyPressListener(t) {
    if (t.key === "Enter") {
      if (t.shiftKey)
        return true;
      this.moveCursorToNextRow();
    }
    return t.key !== "Enter";
  }
  /**
   * Prevents tab keydown event from bubbling
   * so that it only works inside the table
   *
   * @param {KeyboardEvent} event - keydown event
   */
  onKeyDownListener(t) {
    t.key === "Tab" && t.stopPropagation();
  }
  /**
   * Set the coordinates of the cell that the focus has moved to
   *
   * @param {FocusEvent} event - focusin event
   */
  focusInTableListener(t) {
    const e = t.target, o4 = this.getRowByCell(e);
    this.focusedCell = {
      row: Array.from(this.table.querySelectorAll(`.${s3.row}`)).indexOf(o4) + 1,
      column: Array.from(o4.querySelectorAll(`.${s3.cell}`)).indexOf(e) + 1
    };
  }
  /**
   * Unselect row/column
   * Close toolbox menu
   * Hide toolboxes
   *
   * @returns {void}
   */
  hideToolboxes() {
    this.hideRowToolbox(), this.hideColumnToolbox(), this.updateToolboxesPosition();
  }
  /**
   * Unselect row, close toolbox
   *
   * @returns {void}
   */
  hideRowToolbox() {
    this.unselectRow(), this.toolboxRow.hide();
  }
  /**
   * Unselect column, close toolbox
   *
   * @returns {void}
   */
  hideColumnToolbox() {
    this.unselectColumn(), this.toolboxColumn.hide();
  }
  /**
   * Set the cursor focus to the focused cell
   *
   * @returns {void}
   */
  focusCell() {
    this.focusedCellElem.focus();
  }
  /**
   * Get current focused element
   *
   * @returns {HTMLElement} - focused cell
   */
  get focusedCellElem() {
    const { row: t, column: e } = this.focusedCell;
    return this.getCell(t, e);
  }
  /**
   * Update toolboxes position
   *
   * @param {number} row - hovered row
   * @param {number} column - hovered column
   */
  updateToolboxesPosition(t = this.hoveredRow, e = this.hoveredColumn) {
    this.isColumnMenuShowing || e > 0 && e <= this.numberOfColumns && this.toolboxColumn.show(() => ({
      left: `calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${e} - 1) * 2))`
    })), this.isRowMenuShowing || t > 0 && t <= this.numberOfRows && this.toolboxRow.show(() => {
      const o4 = this.getRow(t), { fromTopBorder: i } = g3(this.table, o4), { height: n2 } = o4.getBoundingClientRect();
      return {
        top: `${Math.ceil(i + n2 / 2)}px`
      };
    });
  }
  /**
   * Makes the first row headings
   *
   * @param {boolean} withHeadings - use headings row or not
   */
  setHeadingsSetting(t) {
    this.tunes.withHeadings = t, t ? (this.table.classList.add(s3.withHeadings), this.addHeadingAttrToFirstRow()) : (this.table.classList.remove(s3.withHeadings), this.removeHeadingAttrFromFirstRow());
  }
  /**
   * Adds an attribute for displaying the placeholder in the cell
   */
  addHeadingAttrToFirstRow() {
    for (let t = 1; t <= this.numberOfColumns; t++) {
      let e = this.getCell(1, t);
      e && e.setAttribute("heading", this.api.i18n.t("Heading"));
    }
  }
  /**
   * Removes an attribute for displaying the placeholder in the cell
   */
  removeHeadingAttrFromFirstRow() {
    for (let t = 1; t <= this.numberOfColumns; t++) {
      let e = this.getCell(1, t);
      e && e.removeAttribute("heading");
    }
  }
  /**
   * Add effect of a selected row
   *
   * @param {number} index
   */
  selectRow(t) {
    const e = this.getRow(t);
    e && (this.selectedRow = t, e.classList.add(s3.rowSelected));
  }
  /**
   * Remove effect of a selected row
   */
  unselectRow() {
    if (this.selectedRow <= 0)
      return;
    const t = this.table.querySelector(`.${s3.rowSelected}`);
    t && t.classList.remove(s3.rowSelected), this.selectedRow = 0;
  }
  /**
   * Add effect of a selected column
   *
   * @param {number} index
   */
  selectColumn(t) {
    for (let e = 1; e <= this.numberOfRows; e++) {
      const o4 = this.getCell(e, t);
      o4 && o4.classList.add(s3.cellSelected);
    }
    this.selectedColumn = t;
  }
  /**
   * Remove effect of a selected column
   */
  unselectColumn() {
    if (this.selectedColumn <= 0)
      return;
    let t = this.table.querySelectorAll(`.${s3.cellSelected}`);
    Array.from(t).forEach((e) => {
      e.classList.remove(s3.cellSelected);
    }), this.selectedColumn = 0;
  }
  /**
   * Calculates the row and column that the cursor is currently hovering over
   * The search was optimized from O(n) to O (log n) via bin search to reduce the number of calculations
   *
   * @param {Event} event - mousemove event
   * @returns hovered cell coordinates as an integer row and column
   */
  getHoveredCell(t) {
    let e = this.hoveredRow, o4 = this.hoveredColumn;
    const { width: i, height: n2, x: r3, y: h4 } = k2(this.table, t);
    return r3 >= 0 && (o4 = this.binSearch(
      this.numberOfColumns,
      (l3) => this.getCell(1, l3),
      ({ fromLeftBorder: l3 }) => r3 < l3,
      ({ fromRightBorder: l3 }) => r3 > i - l3
    )), h4 >= 0 && (e = this.binSearch(
      this.numberOfRows,
      (l3) => this.getCell(l3, 1),
      ({ fromTopBorder: l3 }) => h4 < l3,
      ({ fromBottomBorder: l3 }) => h4 > n2 - l3
    )), {
      row: e || this.hoveredRow,
      column: o4 || this.hoveredColumn
    };
  }
  /**
   * Looks for the index of the cell the mouse is hovering over.
   * Cells can be represented as ordered intervals with left and
   * right (upper and lower for rows) borders inside the table, if the mouse enters it, then this is our index
   *
   * @param {number} numberOfCells - upper bound of binary search
   * @param {function} getCell - function to take the currently viewed cell
   * @param {function} beforeTheLeftBorder - determines the cursor position, to the left of the cell or not
   * @param {function} afterTheRightBorder - determines the cursor position, to the right of the cell or not
   * @returns {number}
   */
  binSearch(t, e, o4, i) {
    let n2 = 0, r3 = t + 1, h4 = 0, l3;
    for (; n2 < r3 - 1 && h4 < 10; ) {
      l3 = Math.ceil((n2 + r3) / 2);
      const u2 = e(l3), p2 = g3(this.table, u2);
      if (o4(p2))
        r3 = l3;
      else if (i(p2))
        n2 = l3;
      else
        break;
      h4++;
    }
    return l3;
  }
  /**
   * Collects data from cells into a two-dimensional array
   *
   * @returns {string[][]}
   */
  getData() {
    const t = [];
    for (let e = 1; e <= this.numberOfRows; e++) {
      const o4 = this.table.querySelector(`.${s3.row}:nth-child(${e})`), i = Array.from(o4.querySelectorAll(`.${s3.cell}`));
      i.every((r3) => !r3.textContent.trim()) || t.push(i.map((r3) => r3.innerHTML));
    }
    return t;
  }
  /**
   * Remove listeners on the document
   */
  destroy() {
    document.removeEventListener("click", this.documentClicked);
  }
};
var F4 = class {
  /**
   * Notify core that read-only mode is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Allow to press Enter inside the CodeTool textarea
   *
   * @returns {boolean}
   * @public
   */
  static get enableLineBreaks() {
    return true;
  }
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {TableConstructor} init
   */
  constructor({ data: t, config: e, api: o4, readOnly: i, block: n2 }) {
    this.api = o4, this.readOnly = i, this.config = e, this.data = {
      withHeadings: this.getConfig("withHeadings", false, t),
      stretched: this.getConfig("stretched", false, t),
      content: t && t.content ? t.content : []
    }, this.table = null, this.block = n2;
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @returns {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: A3,
      title: "Table"
    };
  }
  /**
   * Return Tool's view
   *
   * @returns {HTMLDivElement}
   */
  render() {
    return this.table = new E2(this.readOnly, this.api, this.data, this.config), this.container = c("div", this.api.styles.block), this.container.appendChild(this.table.getWrapper()), this.table.setHeadingsSetting(this.data.withHeadings), this.container;
  }
  /**
   * Returns plugin settings
   *
   * @returns {Array}
   */
  renderSettings() {
    return [
      {
        label: this.api.i18n.t("With headings"),
        icon: T2,
        isActive: this.data.withHeadings,
        closeOnActivate: true,
        toggle: true,
        onActivate: () => {
          this.data.withHeadings = true, this.table.setHeadingsSetting(this.data.withHeadings);
        }
      },
      {
        label: this.api.i18n.t("Without headings"),
        icon: H4,
        isActive: !this.data.withHeadings,
        closeOnActivate: true,
        toggle: true,
        onActivate: () => {
          this.data.withHeadings = false, this.table.setHeadingsSetting(this.data.withHeadings);
        }
      },
      {
        label: this.data.stretched ? this.api.i18n.t("Collapse") : this.api.i18n.t("Stretch"),
        icon: this.data.stretched ? R4 : O4,
        closeOnActivate: true,
        toggle: true,
        onActivate: () => {
          this.data.stretched = !this.data.stretched, this.block.stretched = this.data.stretched;
        }
      }
    ];
  }
  /**
   * Extract table data from the view
   *
   * @returns {TableData} - saved data
   */
  save() {
    const t = this.table.getData();
    return {
      withHeadings: this.data.withHeadings,
      stretched: this.data.stretched,
      content: t
    };
  }
  /**
   * Plugin destroyer
   *
   * @returns {void}
   */
  destroy() {
    this.table.destroy();
  }
  /**
   * A helper to get config value.
   *
   * @param {string} configName - the key to get from the config.
   * @param {any} defaultValue - default value if config doesn't have passed key
   * @param {object} savedData - previously saved data. If passed, the key will be got from there, otherwise from the config
   * @returns {any} - config value.
   */
  getConfig(t, e = void 0, o4 = void 0) {
    const i = this.data || o4;
    return i ? i[t] ? i[t] : e : this.config && this.config[t] ? this.config[t] : e;
  }
  /**
   * Table onPaste configuration
   *
   * @public
   */
  static get pasteConfig() {
    return { tags: ["TABLE", "TR", "TH", "TD"] };
  }
  /**
   * On paste callback that is fired from Editor
   *
   * @param {PasteEvent} event - event with pasted data
   */
  onPaste(t) {
    const e = t.detail.data, o4 = e.querySelector(":scope > thead, tr:first-of-type th"), n2 = Array.from(e.querySelectorAll("tr")).map((r3) => Array.from(r3.querySelectorAll("th, td")).map((l3) => l3.innerHTML));
    this.data = {
      withHeadings: o4 !== null,
      content: n2
    }, this.table.wrapper && this.table.wrapper.replaceWith(this.render());
  }
};

// node_modules/@editorjs/raw/dist/raw.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode(".ce-rawtool__textarea{min-height:200px;resize:vertical;border-radius:8px;border:0;background-color:#1e2128;font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;line-height:1.6;letter-spacing:-.2px;color:#a1a7b6;overscroll-behavior:contain}")), document.head.appendChild(e);
    }
  } catch (o4) {
    console.error("vite-plugin-css-injected-by-js", o4);
  }
})();
var a5 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.6954 5C17.912 5 18.8468 6.07716 18.6755 7.28165L17.426 16.0659C17.3183 16.8229 16.7885 17.4522 16.061 17.6873L12.6151 18.8012C12.2152 18.9304 11.7848 18.9304 11.3849 18.8012L7.93898 17.6873C7.21148 17.4522 6.6817 16.8229 6.57403 16.0659L5.32454 7.28165C5.15322 6.07716 6.088 5 7.30461 5H16.6954Z"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 8.4H9L9.42857 11.7939H14.5714L14.3571 13.2788L14.1429 14.7636L12 15.4L9.85714 14.7636L9.77143 14.3394"/></svg>';
var r = class _r {
  /**
   * Notify core that read-only mode is supported
   *
   * @returns {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Should this tool be displayed at the Editor's Toolbox
   *
   * @returns {boolean}
   * @public
   */
  static get displayInToolbox() {
    return true;
  }
  /**
   * Allow to press Enter inside the RawTool textarea
   *
   * @returns {boolean}
   * @public
   */
  static get enableLineBreaks() {
    return true;
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @returns {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: a5,
      title: "Raw HTML"
    };
  }
  /**
   * @typedef {object} RawData — plugin saved data
   * @param {string} html - previously saved HTML code
   * @property
   */
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {RawData} data — previously saved HTML data
   * @param {object} config - user config for Tool
   * @param {object} api - CodeX Editor API
   * @param {boolean} readOnly - read-only mode flag
   */
  constructor({ data: t, config: e, api: s4, readOnly: i }) {
    this.api = s4, this.readOnly = i, this.placeholder = e.placeholder || _r.DEFAULT_PLACEHOLDER, this.CSS = {
      baseClass: this.api.styles.block,
      input: this.api.styles.input,
      wrapper: "ce-rawtool",
      textarea: "ce-rawtool__textarea"
    }, this.data = {
      html: t.html || ""
    }, this.textarea = null, this.resizeDebounce = null;
  }
  /**
   * Return Tool's view
   *
   * @returns {HTMLDivElement} this.element - RawTool's wrapper
   * @public
   */
  render() {
    const t = document.createElement("div"), e = 100;
    return this.textarea = document.createElement("textarea"), t.classList.add(this.CSS.baseClass, this.CSS.wrapper), this.textarea.classList.add(this.CSS.textarea, this.CSS.input), this.textarea.textContent = this.data.html, this.textarea.placeholder = this.placeholder, this.readOnly ? this.textarea.disabled = true : this.textarea.addEventListener("input", () => {
      this.onInput();
    }), t.appendChild(this.textarea), setTimeout(() => {
      this.resize();
    }, e), t;
  }
  /**
   * Extract Tool's data from the view
   *
   * @param {HTMLDivElement} rawToolsWrapper - RawTool's wrapper, containing textarea with raw HTML code
   * @returns {RawData} - raw HTML code
   * @public
   */
  save(t) {
    return {
      html: t.querySelector("textarea").value
    };
  }
  /**
   * Default placeholder for RawTool's textarea
   *
   * @public
   * @returns {string}
   */
  static get DEFAULT_PLACEHOLDER() {
    return "Enter HTML code";
  }
  /**
   * Automatic sanitize config
   */
  static get sanitize() {
    return {
      html: true
      // Allow HTML tags
    };
  }
  /**
   * Textarea change event
   *
   * @returns {void}
   */
  onInput() {
    this.resizeDebounce && clearTimeout(this.resizeDebounce), this.resizeDebounce = setTimeout(() => {
      this.resize();
    }, 200);
  }
  /**
   * Resize textarea to fit whole height
   *
   * @returns {void}
   */
  resize() {
    this.textarea.style.height = "auto", this.textarea.style.height = this.textarea.scrollHeight + "px";
  }
};

// node_modules/@editorjs/delimiter/dist/delimiter.mjs
(function() {
  "use strict";
  try {
    if (typeof document < "u") {
      var e = document.createElement("style");
      e.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')), document.head.appendChild(e);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
var r2 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';
var n = class {
  /**
   * Notify core that read-only mode is supported
   * @return {boolean}
   */
  static get isReadOnlySupported() {
    return true;
  }
  /**
   * Allow Tool to have no content
   * @return {boolean}
   */
  static get contentless() {
    return true;
  }
  /**
   * Render plugin`s main Element and fill it with saved data
   *
   * @param {{data: DelimiterData, config: object, api: object}}
   *   data — previously saved data
   *   config - user config for Tool
   *   api - Editor.js API
   */
  constructor({ data: t, config: s4, api: e }) {
    this.api = e, this._CSS = {
      block: this.api.styles.block,
      wrapper: "ce-delimiter"
    }, this._element = this.drawView(), this.data = t;
  }
  /**
   * Create Tool's view
   * @return {HTMLDivElement}
   * @private
   */
  drawView() {
    let t = document.createElement("div");
    return t.classList.add(this._CSS.wrapper, this._CSS.block), t;
  }
  /**
   * Return Tool's view
   * @returns {HTMLDivElement}
   * @public
   */
  render() {
    return this._element;
  }
  /**
   * Extract Tool's data from the view
   * @param {HTMLDivElement} toolsContent - Paragraph tools rendered view
   * @returns {DelimiterData} - saved data
   * @public
   */
  save(t) {
    return {};
  }
  /**
   * Get Tool toolbox settings
   * icon - Tool icon's SVG
   * title - title to show in toolbox
   *
   * @return {{icon: string, title: string}}
   */
  static get toolbox() {
    return {
      icon: r2,
      title: "Delimiter"
    };
  }
  /**
   * Delimiter onPaste configuration
   *
   * @public
   */
  static get pasteConfig() {
    return { tags: ["HR"] };
  }
  /**
   * On paste callback that is fired from Editor
   *
   * @param {PasteEvent} event - event with pasted data
   */
  onPaste(t) {
    this.data = {};
  }
};

// resources/js/editor.js
var import_editorjs_style = __toESM(require_dist(), 1);
var import_editorjs_drag_drop = __toESM(require_bundle2(), 1);
document.addEventListener("alpine:init", () => {
  Alpine.data(
    "editorjs",
    ({ state, statePath, placeholder, readOnly, tools, minHeight, uploadByFileUsing }) => ({
      instance: null,
      state,
      tools,
      init() {
        let enabledTools = {};
        if (this.tools.includes("header")) {
          enabledTools.header = {
            class: v,
            inlineToolbar: true
          };
        }
        if (this.tools.includes("image")) {
          enabledTools.image = {
            class: P,
            config: {
              uploader: {
                async uploadByFile(file) {
                  try {
                    const result = await uploadByFileUsing(file);
                    if (result.success) {
                      return {
                        success: 1,
                        file: {
                          url: result.file.url,
                          ...result.file.name && { name: result.file.name },
                          ...result.file.size && { size: result.file.size }
                        }
                      };
                    } else {
                      return {
                        success: 0
                      };
                    }
                  } catch (error) {
                    console.error("Image upload failed:", error);
                    return {
                      success: 0
                    };
                  }
                }
              }
            }
          };
        }
        if (this.tools.includes("delimiter")) {
          enabledTools.delimiter = {
            class: n,
            inlineToolbar: false
          };
        }
        if (this.tools.includes("list")) {
          enabledTools.list = {
            class: d2,
            inlineToolbar: true
          };
        }
        if (this.tools.includes("underline")) {
          enabledTools.underline = {
            class: import_underline.default,
            shortcut: "CMD+U"
          };
        }
        if (this.tools.includes("quote")) {
          enabledTools.quote = {
            class: m,
            inlineToolbar: true,
            shortcut: "CMD+SHIFT+O"
          };
        }
        if (this.tools.includes("table")) {
          enabledTools.table = {
            class: F4,
            inlineToolbar: true
          };
        }
        if (this.tools.includes("raw")) {
          enabledTools.raw = {
            class: r,
            config: {
              placeholder: "Enter raw HTML here..."
            }
          };
        }
        if (this.tools.includes("code")) {
          enabledTools.code = {
            class: d4,
            shortcut: "CMD+SHIFT+C"
          };
        }
        if (this.tools.includes("inline-code")) {
          enabledTools.inlineCode = {
            class: s,
            shortcut: "CMD+SHIFT+I"
          };
        }
        if (this.tools.includes("style")) {
          enabledTools.style = {
            class: import_editorjs_style.StyleInlineTool,
            config: {
              defaultColor: "#000000",
              defaultBackground: "#FFFFFF"
            }
          };
        }
        if (this.instance) {
          this.instance.destroy();
        }
        this.instance = new Ts({
          holder: this.$el.id || this.$el,
          minHeight,
          data: this.state,
          placeholder,
          readOnly,
          tools: enabledTools,
          onChange: () => {
            this.instance.save().then((outputData) => {
              this.state = outputData;
            }).catch((error) => {
              console.error("Editor.js save error:", error);
            });
          },
          onReady: () => {
            try {
              new import_editorjs_drag_drop.default(this.instance);
            } catch (error) {
              console.warn("DragDrop initialization failed:", error);
            }
          }
        });
      },
      destroy() {
        if (this.instance) {
          this.instance.destroy();
          this.instance = null;
        }
      }
    })
  );
});
/*! Bundled license information:

@editorjs/editorjs/dist/editorjs.mjs:
  (*!
   * CodeX.Tooltips
   * 
   * @version 1.0.5
   * 
   * @licence MIT
   * @author CodeX <https://codex.so>
   * 
   * 
   *)
  (*!
   * Library for handling keyboard shortcuts
   * @copyright CodeX (https://codex.so)
   * @license MIT
   * @author CodeX (https://codex.so)
   * @version 1.2.0
   *)
  (**
   * Base Paragraph Block for the Editor.js.
   * Represents a regular text block
   *
   * @author CodeX (team@codex.so)
   * @copyright CodeX 2018
   * @license The MIT License (MIT)
   *)
  (**
   * Editor.js
   *
   * @license Apache-2.0
   * @see Editor.js <https://editorjs.io>
   * @author CodeX Team <https://codex.so>
   *)

@editorjs/image/dist/image.mjs:
  (**
   * Image Tool for the Editor.js
   * @author CodeX <team@codex.so>
   * @license MIT
   * @see {@link https://github.com/editor-js/image}
   *
   * To developers.
   * To simplify Tool structure, we split it to 4 parts:
   *  1) index.ts — main Tool's interface, public API and methods for working with data
   *  2) uploader.ts — module that has methods for sending files via AJAX: from device, by URL or File pasting
   *  3) ui.ts — module for UI manipulations: render, showing preloader, etc
   *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
   *
   * For debug purposes there is a testing server
   * that can save uploaded files and return a Response {@link UploadResponseFormat}
   *
   *       $ node dev/server.js
   *
   * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
   *
   * image: {
   *   class: ImageTool,
   *   config: {
   *     endpoints: {
   *       byFile: 'http://localhost:8008/uploadFile',
   *       byUrl: 'http://localhost:8008/fetchUrl',
   *     }
   *   },
   * },
   *)

@editorjs/header/dist/header.mjs:
  (**
   * Header block for the Editor.js.
   *
   * @author CodeX (team@ifmo.su)
   * @copyright CodeX 2018
   * @license MIT
   * @version 2.0.0
   *)

@editorjs/code/dist/code.mjs:
  (**
   * CodeTool for Editor.js
   * @version 2.0.0
   * @license MIT
   *)

@editorjs/raw/dist/raw.mjs:
  (**
   * Raw HTML Tool for CodeX Editor
   *
   * @author CodeX (team@codex.so)
   * @copyright CodeX 2018
   * @license The MIT License (MIT)
   *)

@editorjs/delimiter/dist/delimiter.mjs:
  (**
   * Delimiter Block for the Editor.js.
   *
   * @author CodeX (team@ifmo.su)
   * @copyright CodeX 2018
   * @license The MIT License (MIT)
   * @version 2.0.0
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy91bmRlcmxpbmUvZGlzdC9idW5kbGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2VkaXRvcmpzLXN0eWxlL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2VkaXRvcmpzLWRyYWctZHJvcC9kaXN0L2J1bmRsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2VkaXRvcmpzL2Rpc3QvZWRpdG9yanMubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZWRpdG9yanMvaW1hZ2UvZGlzdC9pbWFnZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9saXN0L2Rpc3QvbGlzdC5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9oZWFkZXIvZGlzdC9oZWFkZXIubWpzIiwgIi4uL2pzL2VkaXRvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2NvZGUvZGlzdC9jb2RlLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL2lubGluZS1jb2RlL2Rpc3QvaW5saW5lLWNvZGUubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AZWRpdG9yanMvcXVvdGUvZGlzdC9xdW90ZS5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy90YWJsZS9kaXN0L3RhYmxlLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGVkaXRvcmpzL3Jhdy9kaXN0L3Jhdy5tanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BlZGl0b3Jqcy9kZWxpbWl0ZXIvZGlzdC9kZWxpbWl0ZXIubWpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLlVuZGVybGluZT10KCk6ZS5VbmRlcmxpbmU9dCgpfSh3aW5kb3csKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIG4ocil7aWYodFtyXSlyZXR1cm4gdFtyXS5leHBvcnRzO3ZhciBvPXRbcl09e2k6cixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3JdLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT1lLG4uYz10LG4uZD1mdW5jdGlvbihlLHQscil7bi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0OnJ9KX0sbi5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9bihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgcj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkocixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIG8gaW4gZSluLmQocixvLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbykpO3JldHVybiByfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LFwiYVwiLHQpLHR9LG4ubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sbi5wPVwiL1wiLG4obi5zPTQpfShbZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMSksbz1uKDIpO1wic3RyaW5nXCI9PXR5cGVvZihvPW8uX19lc01vZHVsZT9vLmRlZmF1bHQ6bykmJihvPVtbZS5pLG8sXCJcIl1dKTt2YXIgaT17aW5zZXJ0OlwiaGVhZFwiLHNpbmdsZXRvbjohMX07cihvLGkpO2UuZXhwb3J0cz1vLmxvY2Fsc3x8e319LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcixvPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXImJihyPUJvb2xlYW4od2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2IpKSxyfSxpPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PWVbdF0pe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZuIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtuPW4uY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2goZSl7bj1udWxsfWVbdF09bn1yZXR1cm4gZVt0XX19KCksYT1bXTtmdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD0tMSxuPTA7bjxhLmxlbmd0aDtuKyspaWYoYVtuXS5pZGVudGlmaWVyPT09ZSl7dD1uO2JyZWFrfXJldHVybiB0fWZ1bmN0aW9uIGMoZSx0KXtmb3IodmFyIG49e30scj1bXSxvPTA7bzxlLmxlbmd0aDtvKyspe3ZhciBpPWVbb10sYz10LmJhc2U/aVswXSt0LmJhc2U6aVswXSxzPW5bY118fDAsbD1cIlwiLmNvbmNhdChjLFwiIFwiKS5jb25jYXQocyk7bltjXT1zKzE7dmFyIGY9dShsKSxkPXtjc3M6aVsxXSxtZWRpYTppWzJdLHNvdXJjZU1hcDppWzNdfTstMSE9PWY/KGFbZl0ucmVmZXJlbmNlcysrLGFbZl0udXBkYXRlcihkKSk6YS5wdXNoKHtpZGVudGlmaWVyOmwsdXBkYXRlcjpiKGQsdCkscmVmZXJlbmNlczoxfSksci5wdXNoKGwpfXJldHVybiByfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLHI9ZS5hdHRyaWJ1dGVzfHx7fTtpZih2b2lkIDA9PT1yLm5vbmNlKXt2YXIgbz1uLm5jO28mJihyLm5vbmNlPW8pfWlmKE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3Quc2V0QXR0cmlidXRlKGUscltlXSl9KSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5pbnNlcnQpZS5pbnNlcnQodCk7ZWxzZXt2YXIgYT1pKGUuaW5zZXJ0fHxcImhlYWRcIik7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTthLmFwcGVuZENoaWxkKHQpfXJldHVybiB0fXZhciBsLGY9KGw9W10sZnVuY3Rpb24oZSx0KXtyZXR1cm4gbFtlXT10LGwuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcXG5cIil9KTtmdW5jdGlvbiBkKGUsdCxuLHIpe3ZhciBvPW4/XCJcIjpyLm1lZGlhP1wiQG1lZGlhIFwiLmNvbmNhdChyLm1lZGlhLFwiIHtcIikuY29uY2F0KHIuY3NzLFwifVwiKTpyLmNzcztpZihlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9Zih0LG8pO2Vsc2V7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobyksYT1lLmNoaWxkTm9kZXM7YVt0XSYmZS5yZW1vdmVDaGlsZChhW3RdKSxhLmxlbmd0aD9lLmluc2VydEJlZm9yZShpLGFbdF0pOmUuYXBwZW5kQ2hpbGQoaSl9fWZ1bmN0aW9uIHAoZSx0LG4pe3ZhciByPW4uY3NzLG89bi5tZWRpYSxpPW4uc291cmNlTWFwO2lmKG8/ZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLG8pOmUucmVtb3ZlQXR0cmlidXRlKFwibWVkaWFcIiksaSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGJ0b2EmJihyKz1cIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSkpLFwiICovXCIpKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9cjtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyKSl9fXZhciB2PW51bGwsaD0wO2Z1bmN0aW9uIGIoZSx0KXt2YXIgbixyLG87aWYodC5zaW5nbGV0b24pe3ZhciBpPWgrKztuPXZ8fCh2PXModCkpLHI9ZC5iaW5kKG51bGwsbixpLCExKSxvPWQuYmluZChudWxsLG4saSwhMCl9ZWxzZSBuPXModCkscj1wLmJpbmQobnVsbCxuLHQpLG89ZnVuY3Rpb24oKXshZnVuY3Rpb24oZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KG4pfTtyZXR1cm4gcihlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47cihlPXQpfWVsc2UgbygpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXsodD10fHx7fSkuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249bygpKTt2YXIgbj1jKGU9ZXx8W10sdCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGU9ZXx8W10sXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89dShuW3JdKTthW29dLnJlZmVyZW5jZXMtLX1mb3IodmFyIGk9YyhlLHQpLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGw9dShuW3NdKTswPT09YVtsXS5yZWZlcmVuY2VzJiYoYVtsXS51cGRhdGVyKCksYS5zcGxpY2UobCwxKSl9bj1pfX19fSxmdW5jdGlvbihlLHQsbil7KHQ9bigzKSghMSkpLnB1c2goW2UuaSxcIi5jZHgtdW5kZXJsaW5lIHtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxufVxcblwiLFwiXCJdKSxlLmV4cG9ydHM9dH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lWzFdfHxcIlwiLHI9ZVszXTtpZighcilyZXR1cm4gbjtpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgbz0oYT1yLHU9YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYSkpKSksYz1cInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdCh1KSxcIi8qIyBcIi5jb25jYXQoYyxcIiAqL1wiKSksaT1yLnNvdXJjZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KHIuc291cmNlUm9vdHx8XCJcIikuY29uY2F0KGUsXCIgKi9cIil9KSk7cmV0dXJuW25dLmNvbmNhdChpKS5jb25jYXQoW29dKS5qb2luKFwiXFxuXCIpfXZhciBhLHUsYztyZXR1cm5bbl0uam9pbihcIlxcblwiKX0odCxlKTtyZXR1cm4gdFsyXT9cIkBtZWRpYSBcIi5jb25jYXQodFsyXSxcIiB7XCIpLmNvbmNhdChuLFwifVwiKTpufSkpLmpvaW4oXCJcIil9LHQuaT1mdW5jdGlvbihlLG4scil7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVtbbnVsbCxlLFwiXCJdXSk7dmFyIG89e307aWYocilmb3IodmFyIGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIGE9dGhpc1tpXVswXTtudWxsIT1hJiYob1thXT0hMCl9Zm9yKHZhciB1PTA7dTxlLmxlbmd0aDt1Kyspe3ZhciBjPVtdLmNvbmNhdChlW3VdKTtyJiZvW2NbMF1dfHwobiYmKGNbMl0/Y1syXT1cIlwiLmNvbmNhdChuLFwiIGFuZCBcIikuY29uY2F0KGNbMl0pOmNbMl09biksdC5wdXNoKGMpKX19LHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpLG4uZCh0LFwiZGVmYXVsdFwiLChmdW5jdGlvbigpe3JldHVybiBpfSkpO24oMCk7ZnVuY3Rpb24gcihlKXtyZXR1cm4ocj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gbyhlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwoaT1vLmtleSxhPXZvaWQgMCxhPWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9PXIoZSl8fG51bGw9PT1lKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgbz1uLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9PXIobykpcmV0dXJuIG87dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oaSxcInN0cmluZ1wiKSxcInN5bWJvbFwiPT09cihhKT9hOlN0cmluZyhhKSksbyl9dmFyIGksYX12YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dC5hcGk7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmFwaT1uLHRoaXMuYnV0dG9uPW51bGwsdGhpcy50YWc9XCJVXCIsdGhpcy5pY29uQ2xhc3Nlcz17YmFzZTp0aGlzLmFwaS5zdHlsZXMuaW5saW5lVG9vbEJ1dHRvbixhY3RpdmU6dGhpcy5hcGkuc3R5bGVzLmlubGluZVRvb2xCdXR0b25BY3RpdmV9fXZhciB0LG4scjtyZXR1cm4gdD1lLHI9W3trZXk6XCJDU1NcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImNkeC11bmRlcmxpbmVcIn19LHtrZXk6XCJpc0lubGluZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleTpcInNhbml0aXplXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3U6e2NsYXNzOmUuQ1NTfX19fV0sKG49W3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHRoaXMuYnV0dG9uLnR5cGU9XCJidXR0b25cIix0aGlzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuaWNvbkNsYXNzZXMuYmFzZSksdGhpcy5idXR0b24uaW5uZXJIVE1MPXRoaXMudG9vbGJveEljb24sdGhpcy5idXR0b259fSx7a2V5Olwic3Vycm91bmRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0KXt2YXIgbj10aGlzLmFwaS5zZWxlY3Rpb24uZmluZFBhcmVudFRhZyh0aGlzLnRhZyxlLkNTUyk7bj90aGlzLnVud3JhcChuKTp0aGlzLndyYXAodCl9fX0se2tleTpcIndyYXBcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnKTtuLmNsYXNzTGlzdC5hZGQoZS5DU1MpLG4uYXBwZW5kQ2hpbGQodC5leHRyYWN0Q29udGVudHMoKSksdC5pbnNlcnROb2RlKG4pLHRoaXMuYXBpLnNlbGVjdGlvbi5leHBhbmRUb1RhZyhuKX19LHtrZXk6XCJ1bndyYXBcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLmFwaS5zZWxlY3Rpb24uZXhwYW5kVG9UYWcoZSk7dmFyIHQ9d2luZG93LmdldFNlbGVjdGlvbigpLG49dC5nZXRSYW5nZUF0KDApLHI9bi5leHRyYWN0Q29udGVudHMoKTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksbi5pbnNlcnROb2RlKHIpLHQucmVtb3ZlQWxsUmFuZ2VzKCksdC5hZGRSYW5nZShuKX19LHtrZXk6XCJjaGVja1N0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFwaS5zZWxlY3Rpb24uZmluZFBhcmVudFRhZyh0aGlzLnRhZyxlLkNTUyk7dGhpcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLmljb25DbGFzc2VzLmFjdGl2ZSwhIXQpfX0se2tleTpcInRvb2xib3hJY29uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgNy41VjExLjVDOSAxMi4yOTU2IDkuMzE2MDcgMTMuMDU4NyA5Ljg3ODY4IDEzLjYyMTNDMTAuNDQxMyAxNC4xODM5IDExLjIwNDQgMTQuNSAxMiAxNC41QzEyLjc5NTYgMTQuNSAxMy41NTg3IDE0LjE4MzkgMTQuMTIxMyAxMy42MjEzQzE0LjY4MzkgMTMuMDU4NyAxNSAxMi4yOTU2IDE1IDExLjVWNy41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcuNzE0MjkgMThIMTYuMjg1N1wiLz48L3N2Zz4nfX1dKSYmbyh0LnByb3RvdHlwZSxuKSxyJiZvKHQsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlfSgpfV0pLmRlZmF1bHR9KSk7IiwgIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRWRpdG9ySlNTdHlsZT10KCk6ZS5FZGl0b3JKU1N0eWxlPXQoKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgaT10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKGkuZXhwb3J0cyxpLGkuZXhwb3J0cyxuKSxpLmw9ITAsaS5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBpIGluIGUpbi5kKHIsaSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGkpKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTApfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxuLmQodCxcIlN0eWxlSW5saW5lVG9vbFwiLChmdW5jdGlvbigpe3JldHVybiBjfSkpO2NsYXNzIHIgZXh0ZW5kcyBIVE1MRWxlbWVudHt9Y2xhc3MgaSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKC4uLmUpe3N1cGVyKC4uLmUpLHRoaXMubmFtZT1cIkVkaXRvckpTU3R5bGVFcnJvclwifX12YXIgcyxvLGw9ZnVuY3Rpb24oZSx0LG4scixpKXtpZihcIm1cIj09PXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtpZihcImFcIj09PXImJiFpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdD9lIT09dHx8IWk6IXQuaGFzKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cImFcIj09PXI/aS5jYWxsKGUsbik6aT9pLnZhbHVlPW46dC5zZXQoZSxuKSxufSxhPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKFwiYVwiPT09biYmIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2UhPT10fHwhcjohdC5oYXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cIm1cIj09PW4/cjpcImFcIj09PW4/ci5jYWxsKGUpOnI/ci52YWx1ZTp0LmdldChlKX07Y2xhc3MgY3tjb25zdHJ1Y3Rvcih7YXBpOmV9KXtzLnNldCh0aGlzLHZvaWQgMCksby5zZXQodGhpcyx2b2lkIDApLGwodGhpcyxzLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXCJmXCIpLGwodGhpcyxvLGUsXCJmXCIpfXN0YXRpYyBnZXQgaXNJbmxpbmUoKXtyZXR1cm4hMH1zdGF0aWMgZ2V0IHNhbml0aXplKCl7cmV0dXJue1wiZWRpdG9yanMtc3R5bGVcIjp7Y2xhc3M6ITAsaWQ6ITAsc3R5bGU6ITB9fX1zdGF0aWMgZ2V0IHRpdGxlKCl7cmV0dXJuXCJTdHlsZVwifXN0YXRpYyBwcmVwYXJlKCl7Y3VzdG9tRWxlbWVudHMuZ2V0KFwiZWRpdG9yanMtc3R5bGVcIil8fGN1c3RvbUVsZW1lbnRzLmRlZmluZShcImVkaXRvcmpzLXN0eWxlXCIscil9Z2V0IHNob3J0Y3V0KCl7cmV0dXJuXCJDTUQrU1wifWNoZWNrU3RhdGUoKXt2YXIgZTthKHRoaXMscyxcImZcIikuaW5uZXJIVE1MPVwiXCI7Y29uc3QgdD1hKHRoaXMsbyxcImZcIikuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJFRElUT1JKUy1TVFlMRVwiKTtpZighdClyZXR1cm4hMTthKHRoaXMscyxcImZcIikuaW5uZXJIVE1MPWBcXG4gICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMTZweDsgbWFyZ2luLWxlZnQ6IDE2cHg7IG1hcmdpbi1yaWdodDogMTZweDsgXCI+XFxuICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBcIj5cXG4gICAgICAgICAgPGRpdj5TdHlsZSBzZXR0aW5nczwvZGl2PlxcblxcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGVsZXRlLWJ1dHRvbiAke2EodGhpcyxvLFwiZlwiKS5zdHlsZXMuc2V0dGluZ3NCdXR0b259XCIgdHlwZT1cImJ1dHRvblwiPlxcbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgd2lkdGg9XCIyNFwiPlxcbiAgICAgICAgICAgICAgPHBhdGggZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz5cXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNiAxOWMwIDEuMS45IDIgMiAyaDhjMS4xIDAgMi0uOSAyLTJWN0g2djEyek0xOSA0aC0zLjVsLTEtMWgtNWwtMSAxSDV2MmgxNFY0elwiLz5cXG4gICAgICAgICAgICA8L3N2Zz5cXG4gICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxsYWJlbCBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgXCI+XFxuICAgICAgICAgIDxzcGFuPklEPC9zcGFuPlxcblxcbiAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJpZC1pbnB1dCAke2EodGhpcyxvLFwiZlwiKS5zdHlsZXMuaW5wdXR9XCIgc3R5bGU9XCJ3aWR0aDogODAlOyBcIj5cXG4gICAgICAgIDwvbGFiZWw+XFxuXFxuICAgICAgICA8bGFiZWwgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IFwiPlxcbiAgICAgICAgICA8c3Bhbj5DbGFzczwvc3Bhbj5cXG5cXG4gICAgICAgICAgPGlucHV0IGNsYXNzPVwiY2xhc3MtaW5wdXQgJHthKHRoaXMsbyxcImZcIikuc3R5bGVzLmlucHV0fVwiIHN0eWxlPVwid2lkdGg6IDgwJTsgXCI+XFxuICAgICAgICA8L2xhYmVsPlxcblxcbiAgICAgICAgPGxhYmVsIHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBcIj5cXG4gICAgICAgICAgPHNwYW4+U3R5bGU8L3NwYW4+XFxuXFxuICAgICAgICAgIDx0ZXh0YXJlYVxcbiAgICAgICAgICAgIGNsYXNzPVwic3R5bGUtdGV4dGFyZWEgJHthKHRoaXMsbyxcImZcIikuc3R5bGVzLmlucHV0fVwiXFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJiYWNrZ3JvdW5kOiAjZmZlN2U4O1wiXFxuICAgICAgICAgICAgc3R5bGU9XCJyZXNpemU6IG5vbmU7IHdpZHRoOiA4MCU7IFwiPlxcbiAgICAgICAgICA8L3RleHRhcmVhPlxcbiAgICAgICAgPC9sYWJlbD5cXG4gICAgICA8L2Rpdj5cXG4gICAgYDtjb25zdCBuPWEodGhpcyxzLFwiZlwiKS5xdWVyeVNlbGVjdG9yKFwiLmRlbGV0ZS1idXR0b25cIikscj1hKHRoaXMscyxcImZcIikucXVlcnlTZWxlY3RvcihcIi5jbGFzcy1pbnB1dFwiKSxsPWEodGhpcyxzLFwiZlwiKS5xdWVyeVNlbGVjdG9yKFwiLmlkLWlucHV0XCIpLGM9YSh0aGlzLHMsXCJmXCIpLnF1ZXJ5U2VsZWN0b3IoXCIuc3R5bGUtdGV4dGFyZWFcIik7aWYoIShuJiZyJiZsJiZjKSl0aHJvdyBuZXcgaTtyZXR1cm4gbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoKT0+e2NvbnN0IGU9QXJyYXkuZnJvbSh0LmNoaWxkTm9kZXMpLm1hcChlPT5lLmNsb25lTm9kZSghMCkpO2lmKGUuZm9yRWFjaChlPT57dmFyIG47cmV0dXJuIG51bGw9PT0obj10LnBhcmVudE5vZGUpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmluc2VydEJlZm9yZShlLHQpfSksdC5yZW1vdmUoKSwwPT09ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IG49d2luZG93LmdldFNlbGVjdGlvbigpO2lmKCFuKXRocm93IG5ldyBpO24ucmVtb3ZlQWxsUmFuZ2VzKCk7Y29uc3Qgcj1uZXcgUmFuZ2U7ci5zZXRTdGFydEJlZm9yZShlWzBdKSxyLnNldEVuZEFmdGVyKGVbZS5sZW5ndGgtMV0pLG4uYWRkUmFuZ2UociksYSh0aGlzLHMsXCJmXCIpLmlubmVySFRNTD1cIlwiLGEodGhpcyxvLFwiZlwiKS50b29sdGlwLmhpZGUoKX0pLGEodGhpcyxvLFwiZlwiKS50b29sdGlwLm9uSG92ZXIobixcIkRlbGV0ZSBzdHlsZVwiLHtwbGFjZW1lbnQ6XCJ0b3BcIn0pLHIudmFsdWU9dC5jbGFzc05hbWUsci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwoKT0+dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHIudmFsdWUpKSxsLnZhbHVlPXQuaWQsbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwoKT0+dC5pZD1sLnZhbHVlKSxjLnZhbHVlPW51bGwhPT0oZT10LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpKSYmdm9pZCAwIT09ZT9lOlwiXCIsYy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGU9PmUuc3RvcFByb3BhZ2F0aW9uKCkpLGMuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsKCk9PnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixjLnZhbHVlKSksITB9Y2xlYXIoKXthKHRoaXMscyxcImZcIikuaW5uZXJIVE1MPVwiXCJ9cmVuZGVyKCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO3JldHVybiBlLmNsYXNzTGlzdC5hZGQoYSh0aGlzLG8sXCJmXCIpLnN0eWxlcy5pbmxpbmVUb29sQnV0dG9uKSxlLnR5cGU9XCJidXR0b25cIixlLmlubmVySFRNTD0nXFxuICAgICAgPHN2ZyBjbGFzcz1cImljb25cIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB3aWR0aD1cIjI0XCI+XFxuICAgICAgICA8cGF0aCBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPlxcbiAgICAgICAgPHBhdGggZD1cIk0yLjUzIDE5LjY1bDEuMzQuNTZ2LTkuMDNsLTIuNDMgNS44NmMtLjQxIDEuMDIuMDggMi4xOSAxLjA5IDIuNjF6bTE5LjUtMy43TDE3LjA3IDMuOThjLS4zMS0uNzUtMS4wNC0xLjIxLTEuODEtMS4yMy0uMjYgMC0uNTMuMDQtLjc5LjE1TDcuMSA1Ljk1Yy0uNzUuMzEtMS4yMSAxLjAzLTEuMjMgMS44LS4wMS4yNy4wNC41NC4xNS44bDQuOTYgMTEuOTdjLjMxLjc2IDEuMDUgMS4yMiAxLjgzIDEuMjMuMjYgMCAuNTItLjA1Ljc3LS4xNWw3LjM2LTMuMDVjMS4wMi0uNDIgMS41MS0xLjU5IDEuMDktMi42ek03Ljg4IDguNzVjLS41NSAwLTEtLjQ1LTEtMXMuNDUtMSAxLTEgMSAuNDUgMSAxLS40NSAxLTEgMXptLTIgMTFjMCAxLjEuOSAyIDIgMmgxLjQ1bC0zLjQ1LTguMzR2Ni4zNHpcIi8+XFxuICAgICAgPC9zdmc+XFxuICAgICcsZX1yZW5kZXJBY3Rpb25zKCl7cmV0dXJuIGEodGhpcyxzLFwiZlwiKX1zdXJyb3VuZChlKXtjb25zdCB0PW5ldyByO2Uuc3Vycm91bmRDb250ZW50cyh0KSxhKHRoaXMsbyxcImZcIikuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHQpfX1zPW5ldyBXZWFrTWFwLG89bmV3IFdlYWtNYXB9XSl9KSk7IiwgIiFmdW5jdGlvbihlLHQpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRHJhZ0Ryb3A9dCgpOmUuRHJhZ0Ryb3A9dCgpfShzZWxmLCgoKT0+KCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9ezUyMzooZSx0LHIpPT57ci5kKHQse0E6KCk9PmN9KTt2YXIgbj1yKDYwMSksbz1yLm4obiksaT1yKDMxNCksYT1yLm4oaSkoKShvKCkpO2EucHVzaChbZS5pZCwnLmNlLWJsb2NrLS1kcm9wLXRhcmdldCAuY2UtYmxvY2tfX2NvbnRlbnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFwiXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IC0yMHB4O1xcbiAgbWFyZ2luLXRvcDogLTFweDtcXG4gIGhlaWdodDogOHB4O1xcbiAgd2lkdGg6IDhweDtcXG4gIGJvcmRlcjogc29saWQgI2EwYTBhMDtcXG4gIGJvcmRlci13aWR0aDogMXB4IDFweCAwIDA7XFxuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0O1xcbiAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQ7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcXG4gIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcXG59XFxuXFxuLmNlLWJsb2NrLS1kcm9wLXRhcmdldCAuY2UtYmxvY2tfX2NvbnRlbnQ6YWZ0ZXIge1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG59XFxuJyxcIlwiXSk7Y29uc3QgYz1hfSwzMTQ6ZT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIHI9XCJcIixuPXZvaWQgMCE9PXRbNV07cmV0dXJuIHRbNF0mJihyKz1cIkBzdXBwb3J0cyAoXCIuY29uY2F0KHRbNF0sXCIpIHtcIikpLHRbMl0mJihyKz1cIkBtZWRpYSBcIi5jb25jYXQodFsyXSxcIiB7XCIpKSxuJiYocis9XCJAbGF5ZXJcIi5jb25jYXQodFs1XS5sZW5ndGg+MD9cIiBcIi5jb25jYXQodFs1XSk6XCJcIixcIiB7XCIpKSxyKz1lKHQpLG4mJihyKz1cIn1cIiksdFsyXSYmKHIrPVwifVwiKSx0WzRdJiYocis9XCJ9XCIpLHJ9KSkuam9pbihcIlwiKX0sdC5pPWZ1bmN0aW9uKGUscixuLG8saSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVtbbnVsbCxlLHZvaWQgMF1dKTt2YXIgYT17fTtpZihuKWZvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXt2YXIgcz10aGlzW2NdWzBdO251bGwhPXMmJihhW3NdPSEwKX1mb3IodmFyIGw9MDtsPGUubGVuZ3RoO2wrKyl7dmFyIHU9W10uY29uY2F0KGVbbF0pO24mJmFbdVswXV18fCh2b2lkIDAhPT1pJiYodm9pZCAwPT09dVs1XXx8KHVbMV09XCJAbGF5ZXJcIi5jb25jYXQodVs1XS5sZW5ndGg+MD9cIiBcIi5jb25jYXQodVs1XSk6XCJcIixcIiB7XCIpLmNvbmNhdCh1WzFdLFwifVwiKSksdVs1XT1pKSxyJiYodVsyXT8odVsxXT1cIkBtZWRpYSBcIi5jb25jYXQodVsyXSxcIiB7XCIpLmNvbmNhdCh1WzFdLFwifVwiKSx1WzJdPXIpOnVbMl09ciksbyYmKHVbNF0/KHVbMV09XCJAc3VwcG9ydHMgKFwiLmNvbmNhdCh1WzRdLFwiKSB7XCIpLmNvbmNhdCh1WzFdLFwifVwiKSx1WzRdPW8pOnVbNF09XCJcIi5jb25jYXQobykpLHQucHVzaCh1KSl9fSx0fX0sNjAxOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV19fSw3MjplPT57dmFyIHQ9W107ZnVuY3Rpb24gcihlKXtmb3IodmFyIHI9LTEsbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0uaWRlbnRpZmllcj09PWUpe3I9bjticmVha31yZXR1cm4gcn1mdW5jdGlvbiBuKGUsbil7Zm9yKHZhciBpPXt9LGE9W10sYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgcz1lW2NdLGw9bi5iYXNlP3NbMF0rbi5iYXNlOnNbMF0sdT1pW2xdfHwwLGQ9XCJcIi5jb25jYXQobCxcIiBcIikuY29uY2F0KHUpO2lbbF09dSsxO3ZhciBmPXIoZCkscD17Y3NzOnNbMV0sbWVkaWE6c1syXSxzb3VyY2VNYXA6c1szXSxzdXBwb3J0czpzWzRdLGxheWVyOnNbNV19O2lmKC0xIT09Zil0W2ZdLnJlZmVyZW5jZXMrKyx0W2ZdLnVwZGF0ZXIocCk7ZWxzZXt2YXIgdj1vKHAsbik7bi5ieUluZGV4PWMsdC5zcGxpY2UoYywwLHtpZGVudGlmaWVyOmQsdXBkYXRlcjp2LHJlZmVyZW5jZXM6MX0pfWEucHVzaChkKX1yZXR1cm4gYX1mdW5jdGlvbiBvKGUsdCl7dmFyIHI9dC5kb21BUEkodCk7cmV0dXJuIHIudXBkYXRlKGUpLGZ1bmN0aW9uKHQpe2lmKHQpe2lmKHQuY3NzPT09ZS5jc3MmJnQubWVkaWE9PT1lLm1lZGlhJiZ0LnNvdXJjZU1hcD09PWUuc291cmNlTWFwJiZ0LnN1cHBvcnRzPT09ZS5zdXBwb3J0cyYmdC5sYXllcj09PWUubGF5ZXIpcmV0dXJuO3IudXBkYXRlKGU9dCl9ZWxzZSByLnJlbW92ZSgpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSxvKXt2YXIgaT1uKGU9ZXx8W10sbz1vfHx7fSk7cmV0dXJuIGZ1bmN0aW9uKGUpe2U9ZXx8W107Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspe3ZhciBjPXIoaVthXSk7dFtjXS5yZWZlcmVuY2VzLS19Zm9yKHZhciBzPW4oZSxvKSxsPTA7bDxpLmxlbmd0aDtsKyspe3ZhciB1PXIoaVtsXSk7MD09PXRbdV0ucmVmZXJlbmNlcyYmKHRbdV0udXBkYXRlcigpLHQuc3BsaWNlKHUsMSkpfWk9c319fSw2NTk6ZT0+e3ZhciB0PXt9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHIpe3ZhciBuPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PXRbZV0pe3ZhciByPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk7aWYod2luZG93LkhUTUxJRnJhbWVFbGVtZW50JiZyIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KXRyeXtyPXIuY29udGVudERvY3VtZW50LmhlYWR9Y2F0Y2goZSl7cj1udWxsfXRbZV09cn1yZXR1cm4gdFtlXX0oZSk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtuLmFwcGVuZENoaWxkKHIpfX0sNTQwOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBlLnNldEF0dHJpYnV0ZXModCxlLmF0dHJpYnV0ZXMpLGUuaW5zZXJ0KHQsZS5vcHRpb25zKSx0fX0sNTY6KGUsdCxyKT0+e2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1yLm5jO3QmJmUuc2V0QXR0cmlidXRlKFwibm9uY2VcIix0KX19LDgyNTplPT57ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudClyZXR1cm57dXBkYXRlOmZ1bmN0aW9uKCl7fSxyZW1vdmU6ZnVuY3Rpb24oKXt9fTt2YXIgdD1lLmluc2VydFN0eWxlRWxlbWVudChlKTtyZXR1cm57dXBkYXRlOmZ1bmN0aW9uKHIpeyFmdW5jdGlvbihlLHQscil7dmFyIG49XCJcIjtyLnN1cHBvcnRzJiYobis9XCJAc3VwcG9ydHMgKFwiLmNvbmNhdChyLnN1cHBvcnRzLFwiKSB7XCIpKSxyLm1lZGlhJiYobis9XCJAbWVkaWEgXCIuY29uY2F0KHIubWVkaWEsXCIge1wiKSk7dmFyIG89dm9pZCAwIT09ci5sYXllcjtvJiYobis9XCJAbGF5ZXJcIi5jb25jYXQoci5sYXllci5sZW5ndGg+MD9cIiBcIi5jb25jYXQoci5sYXllcik6XCJcIixcIiB7XCIpKSxuKz1yLmNzcyxvJiYobis9XCJ9XCIpLHIubWVkaWEmJihuKz1cIn1cIiksci5zdXBwb3J0cyYmKG4rPVwifVwiKTt2YXIgaT1yLnNvdXJjZU1hcDtpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYnRvYSYmKG4rPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpKSksXCIgKi9cIikpLHQuc3R5bGVUYWdUcmFuc2Zvcm0obixlLHQub3B0aW9ucyl9KHQsZSxyKX0scmVtb3ZlOmZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lLnBhcmVudE5vZGUpcmV0dXJuITE7ZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSh0KX19fX0sMTEzOmU9PntlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZih0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9ZTtlbHNle2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKSl9fX19LHQ9e307ZnVuY3Rpb24gcihuKXt2YXIgbz10W25dO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT10W25dPXtpZDpuLGV4cG9ydHM6e319O3JldHVybiBlW25dKGksaS5leHBvcnRzLHIpLGkuZXhwb3J0c31yLm49ZT0+e3ZhciB0PWUmJmUuX19lc01vZHVsZT8oKT0+ZS5kZWZhdWx0OigpPT5lO3JldHVybiByLmQodCx7YTp0fSksdH0sci5kPShlLHQpPT57Zm9yKHZhciBuIGluIHQpci5vKHQsbikmJiFyLm8oZSxuKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7ZW51bWVyYWJsZTohMCxnZXQ6dFtuXX0pfSxyLm89KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLHIubmM9dm9pZCAwO3ZhciBuPXt9O3JldHVybigoKT0+e3IuZChuLHtkZWZhdWx0OigpPT5nfSk7dmFyIGU9cig3MiksdD1yLm4oZSksbz1yKDgyNSksaT1yLm4obyksYT1yKDY1OSksYz1yLm4oYSkscz1yKDU2KSxsPXIubihzKSx1PXIoNTQwKSxkPXIubih1KSxmPXIoMTEzKSxwPXIubihmKSx2PXIoNTIzKSx5PXt9O2Z1bmN0aW9uIGgoZSl7cmV0dXJuIGg9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0saChlKX1mdW5jdGlvbiBiKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG0obi5rZXkpLG4pfX1mdW5jdGlvbiBtKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9aChlKXx8IWUpcmV0dXJuIGU7dmFyIHI9ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PXIpe3ZhciBuPXIuY2FsbChlLFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPWgobikpcmV0dXJuIG47dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcoZSl9KGUpO3JldHVyblwic3ltYm9sXCI9PWgodCk/dDp0K1wiXCJ9eS5zdHlsZVRhZ1RyYW5zZm9ybT1wKCkseS5zZXRBdHRyaWJ1dGVzPWwoKSx5Lmluc2VydD1jKCkuYmluZChudWxsLFwiaGVhZFwiKSx5LmRvbUFQST1pKCkseS5pbnNlcnRTdHlsZUVsZW1lbnQ9ZCgpLHQoKSh2LkEseSksdi5BJiZ2LkEubG9jYWxzJiZ2LkEubG9jYWxzO3ZhciBnPWZ1bmN0aW9uKCl7cmV0dXJuIGU9ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPXQuY29uZmlndXJhdGlvbixvPXQuYmxvY2tzLGk9dC50b29sYmFyLGE9dC5zYXZlOyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50b29sYmFyPWksdGhpcy5ib3JkZXJTdHlsZT1yfHxcIjFweCBkYXNoZWQgI2FhYVwiLHRoaXMuYXBpPW8sdGhpcy5ob2xkZXI9XCJzdHJpbmdcIj09dHlwZW9mIG4uaG9sZGVyP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4uaG9sZGVyKTpuLmhvbGRlcix0aGlzLnJlYWRPbmx5PW4ucmVhZE9ubHksdGhpcy5zdGFydEJsb2NrPW51bGwsdGhpcy5lbmRCbG9jaz1udWxsLHRoaXMuc2F2ZT1hLHRoaXMuc2V0RHJhZ0xpc3RlbmVyKCksdGhpcy5zZXREcm9wTGlzdGVuZXIoKX0scj1be2tleTpcImlzUmVhZE9ubHlTdXBwb3J0ZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH19XSwodD1be2tleTpcInNldEVsZW1lbnRDdXJzb3JcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLHI9d2luZG93LmdldFNlbGVjdGlvbigpO3Quc2V0U3RhcnQoZS5jaGlsZE5vZGVzWzBdLDApLHQuY29sbGFwc2UoITApLHIucmVtb3ZlQWxsUmFuZ2VzKCksci5hZGRSYW5nZSh0KSxlLmZvY3VzKCl9fX0se2tleTpcInNldERyYWdMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5yZWFkT25seSl7dmFyIHQ9dGhpcy5ob2xkZXIucXVlcnlTZWxlY3RvcihcIi5jZS10b29sYmFyX19zZXR0aW5ncy1idG5cIik7aWYodCl0aGlzLmluaXRpYWxpemVEcmFnTGlzdGVuZXIodCk7ZWxzZXt2YXIgcj1uZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24odCxyKXt2YXIgbj1lLmhvbGRlci5xdWVyeVNlbGVjdG9yKFwiLmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0blwiKTtuJiYoZS5pbml0aWFsaXplRHJhZ0xpc3RlbmVyKG4pLHIuZGlzY29ubmVjdCgpKX0pKTtyLm9ic2VydmUodGhpcy5ob2xkZXIse2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSl9fX19LHtrZXk6XCJpbml0aWFsaXplRHJhZ0xpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLFwidHJ1ZVwiKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwoZnVuY3Rpb24oKXt0LnN0YXJ0QmxvY2s9dC5hcGkuZ2V0Q3VycmVudEJsb2NrSW5kZXgoKX0pKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnXCIsKGZ1bmN0aW9uKCl7aWYodC50b29sYmFyLmNsb3NlKCksIXQuaXNUaGVPbmx5QmxvY2soKSl7dmFyIGU9dC5ob2xkZXIucXVlcnlTZWxlY3RvckFsbChcIi5jZS1ibG9ja1wiKSxyPXQuaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuY2UtYmxvY2stLWRyb3AtdGFyZ2V0XCIpO3Quc2V0RWxlbWVudEN1cnNvcihyKSx0LnNldEJvcmRlckJsb2NrcyhlLHIpfX0pKX19LHtrZXk6XCJzZXRCb3JkZXJCbG9ja3NcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7T2JqZWN0LnZhbHVlcyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgbz1uLnF1ZXJ5U2VsZWN0b3IoXCIuY2UtYmxvY2tfX2NvbnRlbnRcIik7biE9PXQ/KG8uc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItdG9wXCIpLG8uc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJib3JkZXItYm90dG9tXCIpKTpPYmplY3Qua2V5cyhlKS5maW5kKChmdW5jdGlvbihyKXtyZXR1cm4gZVtyXT09PXR9KSk+ci5zdGFydEJsb2NrP28uc3R5bGUuYm9yZGVyQm90dG9tPXIuYm9yZGVyU3R5bGU6by5zdHlsZS5ib3JkZXJUb3A9ci5ib3JkZXJTdHlsZX0pKX19LHtrZXk6XCJzZXREcm9wTGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwoZnVuY3Rpb24odCl7dmFyIHI9dC50YXJnZXQ7aWYoZS5ob2xkZXIuY29udGFpbnMocikmJm51bGwhPT1lLnN0YXJ0QmxvY2spe3ZhciBuPWUuZ2V0RHJvcFRhcmdldChyKTtpZihuKXt2YXIgbz1uLnF1ZXJ5U2VsZWN0b3IoXCIuY2UtYmxvY2tfX2NvbnRlbnRcIik7by5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImJvcmRlci10b3BcIiksby5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImJvcmRlci1ib3R0b21cIiksZS5lbmRCbG9jaz1lLmdldFRhcmdldFBvc2l0aW9uKG4pLGUubW92ZUJsb2NrcygpfX1lLnN0YXJ0QmxvY2s9bnVsbH0pKX19LHtrZXk6XCJnZXREcm9wVGFyZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2UtYmxvY2tcIik/ZTplLmNsb3Nlc3QoXCIuY2UtYmxvY2tcIil9fSx7a2V5OlwiZ2V0VGFyZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuZnJvbShlLnBhcmVudE5vZGUuY2hpbGRyZW4pLmluZGV4T2YoZSl9fSx7a2V5OlwiaXNUaGVPbmx5QmxvY2tcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5hcGkuZ2V0QmxvY2tzQ291bnQoKX19LHtrZXk6XCJtb3ZlQmxvY2tzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzVGhlT25seUJsb2NrKCl8fHRoaXMuYXBpLm1vdmUodGhpcy5lbmRCbG9jayx0aGlzLnN0YXJ0QmxvY2spfX1dKSYmYihlLnByb3RvdHlwZSx0KSxyJiZiKGUsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSxlO3ZhciBlLHQscn0oKX0pKCksbi5kZWZhdWx0fSkoKSkpOyIsICIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZS1oaW50LS1hbGlnbi1zdGFydHt0ZXh0LWFsaWduOmxlZnR9LmNlLWhpbnQtLWFsaWduLWNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn0uY2UtaGludF9fZGVzY3JpcHRpb257b3BhY2l0eTouNjttYXJnaW4tdG9wOjNweH1cIikpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSl9fWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIix0KX19KSgpO1xudmFyIGtvID0gdHlwZW9mIGdsb2JhbFRoaXMgPCBcInVcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsIDwgXCJ1XCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiA8IFwidVwiID8gc2VsZiA6IHt9O1xuZnVuY3Rpb24gRmUobikge1xuICByZXR1cm4gbiAmJiBuLl9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIFwiZGVmYXVsdFwiKSA/IG4uZGVmYXVsdCA6IG47XG59XG5mdW5jdGlvbiB6ZSgpIHtcbn1cbk9iamVjdC5hc3NpZ24oemUsIHtcbiAgZGVmYXVsdDogemUsXG4gIHJlZ2lzdGVyOiB6ZSxcbiAgcmV2ZXJ0OiBmdW5jdGlvbigpIHtcbiAgfSxcbiAgX19lc01vZHVsZTogITBcbn0pO1xuRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyB8fCAoRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24obikge1xuICBjb25zdCBlID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKG4pO1xuICBsZXQgdCA9IGUubGVuZ3RoO1xuICBmb3IgKDsgLS10ID49IDAgJiYgZS5pdGVtKHQpICE9PSB0aGlzOyApXG4gICAgO1xuICByZXR1cm4gdCA+IC0xO1xufSk7XG5FbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0IHx8IChFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ID0gZnVuY3Rpb24obikge1xuICBsZXQgZSA9IHRoaXM7XG4gIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGUpKVxuICAgIHJldHVybiBudWxsO1xuICBkbyB7XG4gICAgaWYgKGUubWF0Y2hlcyhuKSlcbiAgICAgIHJldHVybiBlO1xuICAgIGUgPSBlLnBhcmVudEVsZW1lbnQgfHwgZS5wYXJlbnROb2RlO1xuICB9IHdoaWxlIChlICE9PSBudWxsKTtcbiAgcmV0dXJuIG51bGw7XG59KTtcbkVsZW1lbnQucHJvdG90eXBlLnByZXBlbmQgfHwgKEVsZW1lbnQucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbihlKSB7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIEFycmF5LmlzQXJyYXkoZSkgfHwgKGUgPSBbZV0pLCBlLmZvckVhY2goKG8pID0+IHtcbiAgICBjb25zdCBpID0gbyBpbnN0YW5jZW9mIE5vZGU7XG4gICAgdC5hcHBlbmRDaGlsZChpID8gbyA6IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG8pKTtcbiAgfSksIHRoaXMuaW5zZXJ0QmVmb3JlKHQsIHRoaXMuZmlyc3RDaGlsZCk7XG59KTtcbkVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3SWZOZWVkZWQgfHwgKEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3SWZOZWVkZWQgPSBmdW5jdGlvbihuKSB7XG4gIG4gPSBhcmd1bWVudHMubGVuZ3RoID09PSAwID8gITAgOiAhIW47XG4gIGNvbnN0IGUgPSB0aGlzLnBhcmVudE5vZGUsIHQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLCBudWxsKSwgbyA9IHBhcnNlSW50KHQuZ2V0UHJvcGVydHlWYWx1ZShcImJvcmRlci10b3Atd2lkdGhcIikpLCBpID0gcGFyc2VJbnQodC5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLWxlZnQtd2lkdGhcIikpLCBzID0gdGhpcy5vZmZzZXRUb3AgLSBlLm9mZnNldFRvcCA8IGUuc2Nyb2xsVG9wLCByID0gdGhpcy5vZmZzZXRUb3AgLSBlLm9mZnNldFRvcCArIHRoaXMuY2xpZW50SGVpZ2h0IC0gbyA+IGUuc2Nyb2xsVG9wICsgZS5jbGllbnRIZWlnaHQsIGwgPSB0aGlzLm9mZnNldExlZnQgLSBlLm9mZnNldExlZnQgPCBlLnNjcm9sbExlZnQsIGEgPSB0aGlzLm9mZnNldExlZnQgLSBlLm9mZnNldExlZnQgKyB0aGlzLmNsaWVudFdpZHRoIC0gaSA+IGUuc2Nyb2xsTGVmdCArIGUuY2xpZW50V2lkdGgsIGMgPSBzICYmICFyO1xuICAocyB8fCByKSAmJiBuICYmIChlLnNjcm9sbFRvcCA9IHRoaXMub2Zmc2V0VG9wIC0gZS5vZmZzZXRUb3AgLSBlLmNsaWVudEhlaWdodCAvIDIgLSBvICsgdGhpcy5jbGllbnRIZWlnaHQgLyAyKSwgKGwgfHwgYSkgJiYgbiAmJiAoZS5zY3JvbGxMZWZ0ID0gdGhpcy5vZmZzZXRMZWZ0IC0gZS5vZmZzZXRMZWZ0IC0gZS5jbGllbnRXaWR0aCAvIDIgLSBpICsgdGhpcy5jbGllbnRXaWR0aCAvIDIpLCAocyB8fCByIHx8IGwgfHwgYSkgJiYgIW4gJiYgdGhpcy5zY3JvbGxJbnRvVmlldyhjKTtcbn0pO1xud2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sgPSB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjayB8fCBmdW5jdGlvbihuKSB7XG4gIGNvbnN0IGUgPSBEYXRlLm5vdygpO1xuICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBuKHtcbiAgICAgIGRpZFRpbWVvdXQ6ICExLFxuICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCA1MCAtIChEYXRlLm5vdygpIC0gZSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCAxKTtcbn07XG53aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrID0gd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayB8fCBmdW5jdGlvbihuKSB7XG4gIGNsZWFyVGltZW91dChuKTtcbn07XG5sZXQgdm8gPSAobiA9IDIxKSA9PiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KG4pKS5yZWR1Y2UoKGUsIHQpID0+ICh0ICY9IDYzLCB0IDwgMzYgPyBlICs9IHQudG9TdHJpbmcoMzYpIDogdCA8IDYyID8gZSArPSAodCAtIDI2KS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKSA6IHQgPiA2MiA/IGUgKz0gXCItXCIgOiBlICs9IFwiX1wiLCBlKSwgXCJcIik7XG52YXIgSXQgPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5WRVJCT1NFID0gXCJWRVJCT1NFXCIsIG4uSU5GTyA9IFwiSU5GT1wiLCBuLldBUk4gPSBcIldBUk5cIiwgbi5FUlJPUiA9IFwiRVJST1JcIiwgbikpKEl0IHx8IHt9KTtcbmNvbnN0IHcgPSB7XG4gIEJBQ0tTUEFDRTogOCxcbiAgVEFCOiA5LFxuICBFTlRFUjogMTMsXG4gIFNISUZUOiAxNixcbiAgQ1RSTDogMTcsXG4gIEFMVDogMTgsXG4gIEVTQzogMjcsXG4gIFNQQUNFOiAzMixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgRE9XTjogNDAsXG4gIFJJR0hUOiAzOSxcbiAgREVMRVRFOiA0NixcbiAgTUVUQTogOTEsXG4gIFNMQVNIOiAxOTFcbn0sIHdvID0ge1xuICBMRUZUOiAwLFxuICBXSEVFTDogMSxcbiAgUklHSFQ6IDIsXG4gIEJBQ0tXQVJEOiAzLFxuICBGT1JXQVJEOiA0XG59O1xuZnVuY3Rpb24gQmUobiwgZSwgdCA9IFwibG9nXCIsIG8sIGkgPSBcImNvbG9yOiBpbmhlcml0XCIpIHtcbiAgaWYgKCEoXCJjb25zb2xlXCIgaW4gd2luZG93KSB8fCAhd2luZG93LmNvbnNvbGVbdF0pXG4gICAgcmV0dXJuO1xuICBjb25zdCBzID0gW1wiaW5mb1wiLCBcImxvZ1wiLCBcIndhcm5cIiwgXCJlcnJvclwiXS5pbmNsdWRlcyh0KSwgciA9IFtdO1xuICBzd2l0Y2ggKEJlLmxvZ0xldmVsKSB7XG4gICAgY2FzZSBcIkVSUk9SXCI6XG4gICAgICBpZiAodCAhPT0gXCJlcnJvclwiKVxuICAgICAgICByZXR1cm47XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiV0FSTlwiOlxuICAgICAgaWYgKCFbXCJlcnJvclwiLCBcIndhcm5cIl0uaW5jbHVkZXModCkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJJTkZPXCI6XG4gICAgICBpZiAoIXMgfHwgbilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgbyAmJiByLnB1c2gobyk7XG4gIGNvbnN0IGwgPSBcIkVkaXRvci5qcyAyLjMwLjZcIiwgYSA9IGBsaW5lLWhlaWdodDogMWVtO1xuICAgICAgICAgICAgY29sb3I6ICMwMDZGRUE7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMWVtO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIHBhZGRpbmc6IDRweCA5cHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg1NiwgMTM4LCAyMjksIDAuMTYpO1xuICAgICAgICAgICAgbWFyZ2luOiA0cHggNXB4IDRweCAwO2A7XG4gIG4gJiYgKHMgPyAoci51bnNoaWZ0KGEsIGkpLCBlID0gYCVjJHtsfSVjICR7ZX1gKSA6IGUgPSBgKCAke2x9ICkke2V9YCk7XG4gIHRyeSB7XG4gICAgcyA/IG8gPyBjb25zb2xlW3RdKGAke2V9ICVvYCwgLi4ucikgOiBjb25zb2xlW3RdKGUsIC4uLnIpIDogY29uc29sZVt0XShlKTtcbiAgfSBjYXRjaCB7XG4gIH1cbn1cbkJlLmxvZ0xldmVsID0gXCJWRVJCT1NFXCI7XG5mdW5jdGlvbiB4byhuKSB7XG4gIEJlLmxvZ0xldmVsID0gbjtcbn1cbmNvbnN0IEkgPSBCZS5iaW5kKHdpbmRvdywgITEpLCBYID0gQmUuYmluZCh3aW5kb3csICEwKTtcbmZ1bmN0aW9uIHJlKG4pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gTyhuKSB7XG4gIHJldHVybiByZShuKSA9PT0gXCJmdW5jdGlvblwiIHx8IHJlKG4pID09PSBcImFzeW5jZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIFIobikge1xuICByZXR1cm4gcmUobikgPT09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBRKG4pIHtcbiAgcmV0dXJuIHJlKG4pID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24geW8obikge1xuICByZXR1cm4gcmUobikgPT09IFwiYm9vbGVhblwiO1xufVxuZnVuY3Rpb24gYnQobikge1xuICByZXR1cm4gcmUobikgPT09IFwibnVtYmVyXCI7XG59XG5mdW5jdGlvbiBrdChuKSB7XG4gIHJldHVybiByZShuKSA9PT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIFYobikge1xuICByZXR1cm4gbiA/IE9iamVjdC5rZXlzKG4pLmxlbmd0aCA9PT0gMCAmJiBuLmNvbnN0cnVjdG9yID09PSBPYmplY3QgOiAhMDtcbn1cbmZ1bmN0aW9uIE10KG4pIHtcbiAgcmV0dXJuIG4gPiA0NyAmJiBuIDwgNTggfHwgLy8gbnVtYmVyIGtleXNcbiAgbiA9PT0gMzIgfHwgbiA9PT0gMTMgfHwgLy8gU3BhY2UgYmFyICYgcmV0dXJuIGtleShzKVxuICBuID09PSAyMjkgfHwgLy8gcHJvY2Vzc2luZyBrZXkgaW5wdXQgZm9yIGNlcnRhaW4gbGFuZ3VhZ2VzIFx1MjAxNCBDaGluZXNlLCBKYXBhbmVzZSwgZXRjLlxuICBuID4gNjQgJiYgbiA8IDkxIHx8IC8vIGxldHRlciBrZXlzXG4gIG4gPiA5NSAmJiBuIDwgMTEyIHx8IC8vIE51bXBhZCBrZXlzXG4gIG4gPiAxODUgJiYgbiA8IDE5MyB8fCAvLyA7PSwtLi9gIChpbiBvcmRlcilcbiAgbiA+IDIxOCAmJiBuIDwgMjIzO1xufVxuYXN5bmMgZnVuY3Rpb24gRW8obiwgZSA9ICgpID0+IHtcbn0sIHQgPSAoKSA9PiB7XG59KSB7XG4gIGFzeW5jIGZ1bmN0aW9uIG8oaSwgcywgcikge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBpLmZ1bmN0aW9uKGkuZGF0YSksIGF3YWl0IHMoa3QoaS5kYXRhKSA/IHt9IDogaS5kYXRhKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHIoa3QoaS5kYXRhKSA/IHt9IDogaS5kYXRhKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG4ucmVkdWNlKGFzeW5jIChpLCBzKSA9PiAoYXdhaXQgaSwgbyhzLCBlLCB0KSksIFByb21pc2UucmVzb2x2ZSgpKTtcbn1cbmZ1bmN0aW9uIEF0KG4pIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pO1xufVxuZnVuY3Rpb24gT2UobiwgZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IHRoaXMsIG8gPSBhcmd1bWVudHM7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4gbi5hcHBseSh0LCBvKSwgZSk7XG4gIH07XG59XG5mdW5jdGlvbiBCbyhuKSB7XG4gIHJldHVybiBuLm5hbWUuc3BsaXQoXCIuXCIpLnBvcCgpO1xufVxuZnVuY3Rpb24gVG8obikge1xuICByZXR1cm4gL15bLVxcd10rXFwvKFstK1xcd10rfFxcKikkLy50ZXN0KG4pO1xufVxuZnVuY3Rpb24gdnQobiwgZSwgdCkge1xuICBsZXQgbztcbiAgcmV0dXJuICguLi5pKSA9PiB7XG4gICAgY29uc3QgcyA9IHRoaXMsIHIgPSAoKSA9PiB7XG4gICAgICBvID0gbnVsbCwgdCB8fCBuLmFwcGx5KHMsIGkpO1xuICAgIH0sIGwgPSB0ICYmICFvO1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQobyksIG8gPSB3aW5kb3cuc2V0VGltZW91dChyLCBlKSwgbCAmJiBuLmFwcGx5KHMsIGkpO1xuICB9O1xufVxuZnVuY3Rpb24gVmUobiwgZSwgdCA9IHZvaWQgMCkge1xuICBsZXQgbywgaSwgcywgciA9IG51bGwsIGwgPSAwO1xuICB0IHx8ICh0ID0ge30pO1xuICBjb25zdCBhID0gZnVuY3Rpb24oKSB7XG4gICAgbCA9IHQubGVhZGluZyA9PT0gITEgPyAwIDogRGF0ZS5ub3coKSwgciA9IG51bGwsIHMgPSBuLmFwcGx5KG8sIGkpLCByIHx8IChvID0gaSA9IG51bGwpO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYyA9IERhdGUubm93KCk7XG4gICAgIWwgJiYgdC5sZWFkaW5nID09PSAhMSAmJiAobCA9IGMpO1xuICAgIGNvbnN0IHUgPSBlIC0gKGMgLSBsKTtcbiAgICByZXR1cm4gbyA9IHRoaXMsIGkgPSBhcmd1bWVudHMsIHUgPD0gMCB8fCB1ID4gZSA/IChyICYmIChjbGVhclRpbWVvdXQociksIHIgPSBudWxsKSwgbCA9IGMsIHMgPSBuLmFwcGx5KG8sIGkpLCByIHx8IChvID0gaSA9IG51bGwpKSA6ICFyICYmIHQudHJhaWxpbmcgIT09ICExICYmIChyID0gc2V0VGltZW91dChhLCB1KSksIHM7XG4gIH07XG59XG5mdW5jdGlvbiBDbygpIHtcbiAgY29uc3QgbiA9IHtcbiAgICB3aW46ICExLFxuICAgIG1hYzogITEsXG4gICAgeDExOiAhMSxcbiAgICBsaW51eDogITFcbiAgfSwgZSA9IE9iamVjdC5rZXlzKG4pLmZpbmQoKHQpID0+IHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YodCkgIT09IC0xKTtcbiAgcmV0dXJuIGUgJiYgKG5bZV0gPSAhMCksIG47XG59XG5mdW5jdGlvbiBMZShuKSB7XG4gIHJldHVybiBuWzBdLnRvVXBwZXJDYXNlKCkgKyBuLnNsaWNlKDEpO1xufVxuZnVuY3Rpb24gcWUobiwgLi4uZSkge1xuICBpZiAoIWUubGVuZ3RoKVxuICAgIHJldHVybiBuO1xuICBjb25zdCB0ID0gZS5zaGlmdCgpO1xuICBpZiAoUihuKSAmJiBSKHQpKVxuICAgIGZvciAoY29uc3QgbyBpbiB0KVxuICAgICAgUih0W29dKSA/IChuW29dIHx8IE9iamVjdC5hc3NpZ24obiwgeyBbb106IHt9IH0pLCBxZShuW29dLCB0W29dKSkgOiBPYmplY3QuYXNzaWduKG4sIHsgW29dOiB0W29dIH0pO1xuICByZXR1cm4gcWUobiwgLi4uZSk7XG59XG5mdW5jdGlvbiB0dChuKSB7XG4gIGNvbnN0IGUgPSBDbygpO1xuICByZXR1cm4gbiA9IG4ucmVwbGFjZSgvc2hpZnQvZ2ksIFwiXHUyMUU3XCIpLnJlcGxhY2UoL2JhY2tzcGFjZS9naSwgXCJcdTIzMkJcIikucmVwbGFjZSgvZW50ZXIvZ2ksIFwiXHUyM0NFXCIpLnJlcGxhY2UoL3VwL2dpLCBcIlx1MjE5MVwiKS5yZXBsYWNlKC9sZWZ0L2dpLCBcIlx1MjE5MlwiKS5yZXBsYWNlKC9kb3duL2dpLCBcIlx1MjE5M1wiKS5yZXBsYWNlKC9yaWdodC9naSwgXCJcdTIxOTBcIikucmVwbGFjZSgvZXNjYXBlL2dpLCBcIlx1MjM4QlwiKS5yZXBsYWNlKC9pbnNlcnQvZ2ksIFwiSW5zXCIpLnJlcGxhY2UoL2RlbGV0ZS9naSwgXCJcdTI0MjFcIikucmVwbGFjZSgvXFwrL2dpLCBcIiArIFwiKSwgZS5tYWMgPyBuID0gbi5yZXBsYWNlKC9jdHJsfGNtZC9naSwgXCJcdTIzMThcIikucmVwbGFjZSgvYWx0L2dpLCBcIlx1MjMyNVwiKSA6IG4gPSBuLnJlcGxhY2UoL2NtZC9naSwgXCJDdHJsXCIpLnJlcGxhY2UoL3dpbmRvd3MvZ2ksIFwiV0lOXCIpLCBuO1xufVxuZnVuY3Rpb24gU28obikge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVVJMKG4pLmhyZWY7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBuLnN1YnN0cmluZygwLCAyKSA9PT0gXCIvL1wiID8gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgbiA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyBuO1xufVxuZnVuY3Rpb24gSW8oKSB7XG4gIHJldHVybiB2bygxMCk7XG59XG5mdW5jdGlvbiBNbyhuKSB7XG4gIHdpbmRvdy5vcGVuKG4sIFwiX2JsYW5rXCIpO1xufVxuZnVuY3Rpb24gQW8obiA9IFwiXCIpIHtcbiAgcmV0dXJuIGAke259JHtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTgpLnRvU3RyaW5nKDE2KX1gO1xufVxuZnVuY3Rpb24gWmUobiwgZSwgdCkge1xuICBjb25zdCBvID0gYFx1MDBBQiR7ZX1cdTAwQkIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFBsZWFzZSB1c2UgdGhlIFx1MDBBQiR7dH1cdTAwQkIgaW5zdGVhZC5gO1xuICBuICYmIFgobywgXCJ3YXJuXCIpO1xufVxuZnVuY3Rpb24gdWUobiwgZSwgdCkge1xuICBjb25zdCBvID0gdC52YWx1ZSA/IFwidmFsdWVcIiA6IFwiZ2V0XCIsIGkgPSB0W29dLCBzID0gYCMke2V9Q2FjaGVgO1xuICBpZiAodFtvXSA9IGZ1bmN0aW9uKC4uLnIpIHtcbiAgICByZXR1cm4gdGhpc1tzXSA9PT0gdm9pZCAwICYmICh0aGlzW3NdID0gaS5hcHBseSh0aGlzLCAuLi5yKSksIHRoaXNbc107XG4gIH0sIG8gPT09IFwiZ2V0XCIgJiYgdC5zZXQpIHtcbiAgICBjb25zdCByID0gdC5zZXQ7XG4gICAgdC5zZXQgPSBmdW5jdGlvbihsKSB7XG4gICAgICBkZWxldGUgbltzXSwgci5hcHBseSh0aGlzLCBsKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiB0O1xufVxuY29uc3QgT3QgPSA2NTA7XG5mdW5jdGlvbiBwZSgpIHtcbiAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKGAobWF4LXdpZHRoOiAke090fXB4KWApLm1hdGNoZXM7XG59XG5jb25zdCBHZSA9IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cubmF2aWdhdG9yICYmIHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0gJiYgKC9pUChhZHxob25lfG9kKS8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSB8fCB3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtID09PSBcIk1hY0ludGVsXCIgJiYgd2luZG93Lm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEpO1xuZnVuY3Rpb24gT28obiwgZSkge1xuICBjb25zdCB0ID0gQXJyYXkuaXNBcnJheShuKSB8fCBSKG4pLCBvID0gQXJyYXkuaXNBcnJheShlKSB8fCBSKGUpO1xuICByZXR1cm4gdCB8fCBvID8gSlNPTi5zdHJpbmdpZnkobikgPT09IEpTT04uc3RyaW5naWZ5KGUpIDogbiA9PT0gZTtcbn1cbmNsYXNzIGQge1xuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIHRhZyBoYXMgbm8gY2xvc2VkIHRhZ1xuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWcgLSBlbGVtZW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzU2luZ2xlVGFnKGUpIHtcbiAgICByZXR1cm4gZS50YWdOYW1lICYmIFtcbiAgICAgIFwiQVJFQVwiLFxuICAgICAgXCJCQVNFXCIsXG4gICAgICBcIkJSXCIsXG4gICAgICBcIkNPTFwiLFxuICAgICAgXCJDT01NQU5EXCIsXG4gICAgICBcIkVNQkVEXCIsXG4gICAgICBcIkhSXCIsXG4gICAgICBcIklNR1wiLFxuICAgICAgXCJJTlBVVFwiLFxuICAgICAgXCJLRVlHRU5cIixcbiAgICAgIFwiTElOS1wiLFxuICAgICAgXCJNRVRBXCIsXG4gICAgICBcIlBBUkFNXCIsXG4gICAgICBcIlNPVVJDRVwiLFxuICAgICAgXCJUUkFDS1wiLFxuICAgICAgXCJXQlJcIlxuICAgIF0uaW5jbHVkZXMoZS50YWdOYW1lKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgZWxlbWVudCBpcyBCUiBvciBXQlJcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNMaW5lQnJlYWtUYWcoZSkge1xuICAgIHJldHVybiBlICYmIGUudGFnTmFtZSAmJiBbXG4gICAgICBcIkJSXCIsXG4gICAgICBcIldCUlwiXG4gICAgXS5pbmNsdWRlcyhlLnRhZ05hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZm9yIG1ha2luZyBFbGVtZW50cyB3aXRoIGNsYXNzIG5hbWUgYW5kIGF0dHJpYnV0ZXNcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YWdOYW1lIC0gbmV3IEVsZW1lbnQgdGFnIG5hbWVcbiAgICogQHBhcmFtICB7c3RyaW5nW118c3RyaW5nfSBbY2xhc3NOYW1lc10gLSBsaXN0IG9yIG5hbWUgb2YgQ1NTIGNsYXNzIG5hbWUocylcbiAgICogQHBhcmFtICB7b2JqZWN0fSBbYXR0cmlidXRlc10gLSBhbnkgYXR0cmlidXRlc1xuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgbWFrZShlLCB0ID0gbnVsbCwgbyA9IHt9KSB7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICAgIGNvbnN0IHMgPSB0LmZpbHRlcigocikgPT4gciAhPT0gdm9pZCAwKTtcbiAgICAgIGkuY2xhc3NMaXN0LmFkZCguLi5zKTtcbiAgICB9IGVsc2VcbiAgICAgIHQgJiYgaS5jbGFzc0xpc3QuYWRkKHQpO1xuICAgIGZvciAoY29uc3QgcyBpbiBvKVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHMpICYmIChpW3NdID0gb1tzXSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgVGV4dCBOb2RlIHdpdGggdGhlIHBhc3NlZCBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gdGV4dCBjb250ZW50XG4gICAqIEByZXR1cm5zIHtUZXh0fVxuICAgKi9cbiAgc3RhdGljIHRleHQoZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlKTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kIG9uZSBvciBzZXZlcmFsIGVsZW1lbnRzIHRvIHRoZSBwYXJlbnRcbiAgICpcbiAgICogQHBhcmFtICB7RWxlbWVudHxEb2N1bWVudEZyYWdtZW50fSBwYXJlbnQgLSB3aGVyZSB0byBhcHBlbmRcbiAgICogQHBhcmFtICB7RWxlbWVudHxFbGVtZW50W118RG9jdW1lbnRGcmFnbWVudHxUZXh0fFRleHRbXX0gZWxlbWVudHMgLSBlbGVtZW50IG9yIGVsZW1lbnRzIGxpc3RcbiAgICovXG4gIHN0YXRpYyBhcHBlbmQoZSwgdCkge1xuICAgIEFycmF5LmlzQXJyYXkodCkgPyB0LmZvckVhY2goKG8pID0+IGUuYXBwZW5kQ2hpbGQobykpIDogZS5hcHBlbmRDaGlsZCh0KTtcbiAgfVxuICAvKipcbiAgICogQXBwZW5kIGVsZW1lbnQgb3IgYSBjb3VwbGUgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgcGFyZW50IGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gcGFyZW50IC0gd2hlcmUgdG8gYXBwZW5kXG4gICAqIEBwYXJhbSB7RWxlbWVudHxFbGVtZW50W119IGVsZW1lbnRzIC0gZWxlbWVudCBvciBlbGVtZW50cyBsaXN0XG4gICAqL1xuICBzdGF0aWMgcHJlcGVuZChlLCB0KSB7XG4gICAgQXJyYXkuaXNBcnJheSh0KSA/ICh0ID0gdC5yZXZlcnNlKCksIHQuZm9yRWFjaCgobykgPT4gZS5wcmVwZW5kKG8pKSkgOiBlLnByZXBlbmQodCk7XG4gIH1cbiAgLyoqXG4gICAqIFN3YXAgdHdvIGVsZW1lbnRzIGluIHBhcmVudFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbDEgLSBmcm9tXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsMiAtIHRvXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBzdGF0aWMgc3dhcChlLCB0KSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGkgPSBlLnBhcmVudE5vZGU7XG4gICAgaS5pbnNlcnRCZWZvcmUobywgZSksIGkuaW5zZXJ0QmVmb3JlKGUsIHQpLCBpLmluc2VydEJlZm9yZSh0LCBvKSwgaS5yZW1vdmVDaGlsZChvKTtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0b3IgRGVjb3JhdG9yXG4gICAqXG4gICAqIFJldHVybnMgZmlyc3QgbWF0Y2hcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbCAtIGVsZW1lbnQgd2Ugc2VhcmNoaW5nIGluc2lkZS4gRGVmYXVsdCAtIERPTSBEb2N1bWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBzZWFyY2hpbmcgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgc3RhdGljIGZpbmQoZSA9IGRvY3VtZW50LCB0KSB7XG4gICAgcmV0dXJuIGUucXVlcnlTZWxlY3Rvcih0KTtcbiAgfVxuICAvKipcbiAgICogR2V0IEVsZW1lbnQgYnkgSWRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gaWQgdG8gZmluZFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnQgfCBudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldChlKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3RvciBEZWNvcmF0b3IuXG4gICAqXG4gICAqIFJldHVybnMgYWxsIG1hdGNoZXNcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50fSBlbCAtIGVsZW1lbnQgd2Ugc2VhcmNoaW5nIGluc2lkZS4gRGVmYXVsdCAtIERPTSBEb2N1bWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBzZWFyY2hpbmcgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtOb2RlTGlzdH1cbiAgICovXG4gIHN0YXRpYyBmaW5kQWxsKGUgPSBkb2N1bWVudCwgdCkge1xuICAgIHJldHVybiBlLnF1ZXJ5U2VsZWN0b3JBbGwodCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgQ1NTIHNlbGVjdG9yIGZvciBhbGwgdGV4dCBpbnB1dHNcbiAgICovXG4gIHN0YXRpYyBnZXQgYWxsSW5wdXRzU2VsZWN0b3IoKSB7XG4gICAgcmV0dXJuIFwiW2NvbnRlbnRlZGl0YWJsZT10cnVlXSwgdGV4dGFyZWEsIGlucHV0Om5vdChbdHlwZV0pLCBcIiArIFtcInRleHRcIiwgXCJwYXNzd29yZFwiLCBcImVtYWlsXCIsIFwibnVtYmVyXCIsIFwic2VhcmNoXCIsIFwidGVsXCIsIFwidXJsXCJdLm1hcCgodCkgPT4gYGlucHV0W3R5cGU9XCIke3R9XCJdYCkuam9pbihcIiwgXCIpO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIGFsbCBjb250ZW50ZWRpdGFibGUsIHRleHRhcmVhIGFuZCBlZGl0YWJsZSBpbnB1dCBlbGVtZW50cyBwYXNzZWQgaG9sZGVyIGNvbnRhaW5zXG4gICAqXG4gICAqIEBwYXJhbSBob2xkZXIgLSBlbGVtZW50IHdoZXJlIHRvIGZpbmQgaW5wdXRzXG4gICAqL1xuICBzdGF0aWMgZmluZEFsbElucHV0cyhlKSB7XG4gICAgcmV0dXJuIEF0KGUucXVlcnlTZWxlY3RvckFsbChkLmFsbElucHV0c1NlbGVjdG9yKSkucmVkdWNlKCh0LCBvKSA9PiBkLmlzTmF0aXZlSW5wdXQobykgfHwgZC5jb250YWluc09ubHlJbmxpbmVFbGVtZW50cyhvKSA/IFsuLi50LCBvXSA6IFsuLi50LCAuLi5kLmdldERlZXBlc3RCbG9ja0VsZW1lbnRzKG8pXSwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggZm9yIGRlZXBlc3Qgbm9kZSB3aGljaCBpcyBMZWFmLlxuICAgKiBMZWFmIGlzIHRoZSB2ZXJ0ZXggdGhhdCBkb2Vzbid0IGhhdmUgYW55IGNoaWxkIG5vZGVzXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvbiBNZXRob2QgcmVjdXJzaXZlbHkgZ29lcyB0aHJvdyB0aGUgYWxsIE5vZGUgdW50aWwgaXQgZmluZHMgdGhlIExlYWZcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIC0gcm9vdCBOb2RlLiBGcm9tIHRoaXMgdmVydGV4IHdlIHN0YXJ0IERlZXAtZmlyc3Qgc2VhcmNoXG4gICAqICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EZXB0aC1maXJzdF9zZWFyY2h9XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2F0TGFzdF0gLSBmaW5kIGxhc3QgdGV4dCBub2RlXG4gICAqIEByZXR1cm5zIC0gaXQgY2FuIGJlIHRleHQgTm9kZSBvciBFbGVtZW50IE5vZGUsIHNvIHRoYXQgY2FyZXQgd2lsbCBhYmxlIHRvIHdvcmsgd2l0aCBpdFxuICAgKiAgICAgICAgICAgIENhbiByZXR1cm4gbnVsbCBpZiBub2RlIGlzIERvY3VtZW50IG9yIERvY3VtZW50RnJhZ21lbnQsIG9yIG5vZGUgaXMgbm90IGF0dGFjaGVkIHRvIHRoZSBET01cbiAgICovXG4gIHN0YXRpYyBnZXREZWVwZXN0Tm9kZShlLCB0ID0gITEpIHtcbiAgICBjb25zdCBvID0gdCA/IFwibGFzdENoaWxkXCIgOiBcImZpcnN0Q2hpbGRcIiwgaSA9IHQgPyBcInByZXZpb3VzU2libGluZ1wiIDogXCJuZXh0U2libGluZ1wiO1xuICAgIGlmIChlICYmIGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGVbb10pIHtcbiAgICAgIGxldCBzID0gZVtvXTtcbiAgICAgIGlmIChkLmlzU2luZ2xlVGFnKHMpICYmICFkLmlzTmF0aXZlSW5wdXQocykgJiYgIWQuaXNMaW5lQnJlYWtUYWcocykpXG4gICAgICAgIGlmIChzW2ldKVxuICAgICAgICAgIHMgPSBzW2ldO1xuICAgICAgICBlbHNlIGlmIChzLnBhcmVudE5vZGVbaV0pXG4gICAgICAgICAgcyA9IHMucGFyZW50Tm9kZVtpXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBzLnBhcmVudE5vZGU7XG4gICAgICByZXR1cm4gdGhpcy5nZXREZWVwZXN0Tm9kZShzLCB0KTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIG9iamVjdCBpcyBET00gbm9kZVxuICAgKlxuICAgKiBAcGFyYW0geyp9IG5vZGUgLSBvYmplY3QgdG8gY2hlY2tcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBzdGF0aWMgaXNFbGVtZW50KGUpIHtcbiAgICByZXR1cm4gYnQoZSkgPyAhMSA6IGUgJiYgZS5ub2RlVHlwZSAmJiBlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgb2JqZWN0IGlzIERvY3VtZW50RnJhZ21lbnQgbm9kZVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbm9kZSAtIG9iamVjdCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHN0YXRpYyBpc0ZyYWdtZW50KGUpIHtcbiAgICByZXR1cm4gYnQoZSkgPyAhMSA6IGUgJiYgZS5ub2RlVHlwZSAmJiBlLm5vZGVUeXBlID09PSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCBlbGVtZW50IGlzIGNvbnRlbnRlZGl0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gaHRtbCBlbGVtZW50IHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzQ29udGVudEVkaXRhYmxlKGUpIHtcbiAgICByZXR1cm4gZS5jb250ZW50RWRpdGFibGUgPT09IFwidHJ1ZVwiO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgdGFyZ2V0IGlmIGl0IGlzIG5hdGl2ZSBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCAtIEhUTUwgZWxlbWVudCBvciBzdHJpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBzdGF0aWMgaXNOYXRpdmVJbnB1dChlKSB7XG4gICAgY29uc3QgdCA9IFtcbiAgICAgIFwiSU5QVVRcIixcbiAgICAgIFwiVEVYVEFSRUFcIlxuICAgIF07XG4gICAgcmV0dXJuIGUgJiYgZS50YWdOYW1lID8gdC5pbmNsdWRlcyhlLnRhZ05hbWUpIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB3ZSBjYW4gc2V0IGNhcmV0XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhcmdldCAtIHRhcmdldCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBjYW5TZXRDYXJldChlKSB7XG4gICAgbGV0IHQgPSAhMDtcbiAgICBpZiAoZC5pc05hdGl2ZUlucHV0KGUpKVxuICAgICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOlxuICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgIGNhc2UgXCJzdWJtaXRcIjpcbiAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgY2FzZSBcInJlc2V0XCI6XG4gICAgICAgICAgdCA9ICExO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgIHQgPSBkLmlzQ29udGVudEVkaXRhYmxlKGUpO1xuICAgIHJldHVybiB0O1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3Mgbm9kZSBpZiBpdCBpcyBlbXB0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIGNoZWNrcyBzaW1wbGUgTm9kZSB3aXRob3V0IGFueSBjaGlsZHMgZm9yIGVtcHRpbmVzc1xuICAgKiBJZiB5b3UgaGF2ZSBOb2RlIHdpdGggMiBvciBtb3JlIGNoaWxkcmVuIGlkIGRlcHRoLCB5b3UgYmV0dGVyIHVzZSB7QGxpbmsgRG9tI2lzRW1wdHl9IG1ldGhvZFxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHRvIGNoZWNrXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbaWdub3JlQ2hhcnNdIC0gY2hhciBvciBzdWJzdHJpbmcgdG8gdHJlYXQgYXMgZW1wdHlcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgaXQgaXMgZW1wdHlcbiAgICovXG4gIHN0YXRpYyBpc05vZGVFbXB0eShlLCB0KSB7XG4gICAgbGV0IG87XG4gICAgcmV0dXJuIHRoaXMuaXNTaW5nbGVUYWcoZSkgJiYgIXRoaXMuaXNMaW5lQnJlYWtUYWcoZSkgPyAhMSA6ICh0aGlzLmlzRWxlbWVudChlKSAmJiB0aGlzLmlzTmF0aXZlSW5wdXQoZSkgPyBvID0gZS52YWx1ZSA6IG8gPSBlLnRleHRDb250ZW50LnJlcGxhY2UoXCJcdTIwMEJcIiwgXCJcIiksIHQgJiYgKG8gPSBvLnJlcGxhY2UobmV3IFJlZ0V4cCh0LCBcImdcIiksIFwiXCIpKSwgby50cmltKCkubGVuZ3RoID09PSAwKTtcbiAgfVxuICAvKipcbiAgICogY2hlY2tzIG5vZGUgaWYgaXQgaXMgZG9lc24ndCBoYXZlIGFueSBjaGlsZCBub2Rlc1xuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzTGVhZihlKSB7XG4gICAgcmV0dXJuIGUgPyBlLmNoaWxkTm9kZXMubGVuZ3RoID09PSAwIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIGJyZWFkdGgtZmlyc3Qgc2VhcmNoIChCRlMpXG4gICAqIHtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CcmVhZHRoLWZpcnN0X3NlYXJjaH1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uIFB1c2hlcyB0byBzdGFjayBhbGwgRE9NIGxlYWZzIGFuZCBjaGVja3MgZm9yIGVtcHRpbmVzc1xuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHRvIGNoZWNrXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbaWdub3JlQ2hhcnNdIC0gY2hhciBvciBzdWJzdHJpbmcgdG8gdHJlYXQgYXMgZW1wdHlcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNFbXB0eShlLCB0KSB7XG4gICAgZS5ub3JtYWxpemUoKTtcbiAgICBjb25zdCBvID0gW2VdO1xuICAgIGZvciAoOyBvLmxlbmd0aCA+IDA7IClcbiAgICAgIGlmIChlID0gby5zaGlmdCgpLCAhIWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNMZWFmKGUpICYmICF0aGlzLmlzTm9kZUVtcHR5KGUsIHQpKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgZS5jaGlsZE5vZGVzICYmIG8ucHVzaCguLi5BcnJheS5mcm9tKGUuY2hpbGROb2RlcykpO1xuICAgICAgfVxuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgc3RyaW5nIGNvbnRhaW5zIGh0bWwgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIHN0cmluZyB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0hUTUxTdHJpbmcoZSkge1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgcmV0dXJuIHQuaW5uZXJIVE1MID0gZSwgdC5jaGlsZEVsZW1lbnRDb3VudCA+IDA7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBsZW5ndGggb2Ygbm9kZWBzIHRleHQgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgLSBub2RlIHdpdGggY29udGVudFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgc3RhdGljIGdldENvbnRlbnRMZW5ndGgoZSkge1xuICAgIHJldHVybiBkLmlzTmF0aXZlSW5wdXQoZSkgPyBlLnZhbHVlLmxlbmd0aCA6IGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFID8gZS5sZW5ndGggOiBlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFycmF5IG9mIG5hbWVzIG9mIGJsb2NrIGh0bWwgZWxlbWVudHNcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ1tdfVxuICAgKi9cbiAgc3RhdGljIGdldCBibG9ja0VsZW1lbnRzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBcImFkZHJlc3NcIixcbiAgICAgIFwiYXJ0aWNsZVwiLFxuICAgICAgXCJhc2lkZVwiLFxuICAgICAgXCJibG9ja3F1b3RlXCIsXG4gICAgICBcImNhbnZhc1wiLFxuICAgICAgXCJkaXZcIixcbiAgICAgIFwiZGxcIixcbiAgICAgIFwiZHRcIixcbiAgICAgIFwiZmllbGRzZXRcIixcbiAgICAgIFwiZmlnY2FwdGlvblwiLFxuICAgICAgXCJmaWd1cmVcIixcbiAgICAgIFwiZm9vdGVyXCIsXG4gICAgICBcImZvcm1cIixcbiAgICAgIFwiaDFcIixcbiAgICAgIFwiaDJcIixcbiAgICAgIFwiaDNcIixcbiAgICAgIFwiaDRcIixcbiAgICAgIFwiaDVcIixcbiAgICAgIFwiaDZcIixcbiAgICAgIFwiaGVhZGVyXCIsXG4gICAgICBcImhncm91cFwiLFxuICAgICAgXCJoclwiLFxuICAgICAgXCJsaVwiLFxuICAgICAgXCJtYWluXCIsXG4gICAgICBcIm5hdlwiLFxuICAgICAgXCJub3NjcmlwdFwiLFxuICAgICAgXCJvbFwiLFxuICAgICAgXCJvdXRwdXRcIixcbiAgICAgIFwicFwiLFxuICAgICAgXCJwcmVcIixcbiAgICAgIFwicnVieVwiLFxuICAgICAgXCJzZWN0aW9uXCIsXG4gICAgICBcInRhYmxlXCIsXG4gICAgICBcInRib2R5XCIsXG4gICAgICBcInRoZWFkXCIsXG4gICAgICBcInRyXCIsXG4gICAgICBcInRmb290XCIsXG4gICAgICBcInVsXCIsXG4gICAgICBcInZpZGVvXCJcbiAgICBdO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgY29udGVudCBpbmNsdWRlcyBvbmx5IGlubGluZSBlbGVtZW50c1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MRWxlbWVudH0gZGF0YSAtIGVsZW1lbnQgb3IgaHRtbCBzdHJpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMoZSkge1xuICAgIGxldCB0O1xuICAgIFEoZSkgPyAodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHQuaW5uZXJIVE1MID0gZSkgOiB0ID0gZTtcbiAgICBjb25zdCBvID0gKGkpID0+ICFkLmJsb2NrRWxlbWVudHMuaW5jbHVkZXMoaS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmIEFycmF5LmZyb20oaS5jaGlsZHJlbikuZXZlcnkobyk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odC5jaGlsZHJlbikuZXZlcnkobyk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYW5kIHJldHVybiBhbGwgYmxvY2sgZWxlbWVudHMgaW4gdGhlIHBhc3NlZCBwYXJlbnQgKGluY2x1ZGluZyBzdWJ0cmVlKVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnQgLSByb290IGVsZW1lbnRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119XG4gICAqL1xuICBzdGF0aWMgZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMoZSkge1xuICAgIHJldHVybiBkLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKGUpID8gW2VdIDogQXJyYXkuZnJvbShlLmNoaWxkcmVuKS5yZWR1Y2UoKHQsIG8pID0+IFsuLi50LCAuLi5kLmdldERlZXBlc3RCbG9ja0VsZW1lbnRzKG8pXSwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZm9yIGdldCBob2xkZXIgZnJvbSB7c3RyaW5nfSBvciByZXR1cm4gSFRNTEVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBIVE1MRWxlbWVudH0gZWxlbWVudCAtIGhvbGRlcidzIGlkIG9yIGhvbGRlcidzIEhUTUwgRWxlbWVudFxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgZ2V0SG9sZGVyKGUpIHtcbiAgICByZXR1cm4gUShlKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpIDogZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGVsZW1lbnQgaXMgYW5jaG9yIChpcyBBIHRhZylcbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0FuY2hvcihlKSB7XG4gICAgcmV0dXJuIGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImFcIjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGVsZW1lbnQncyBvZmZzZXQgcmVsYXRlZCB0byB0aGUgZG9jdW1lbnRcbiAgICpcbiAgICogQHRvZG8gaGFuZGxlIGNhc2Ugd2hlbiBlZGl0b3IgaW5pdGlhbGl6ZWQgaW4gc2Nyb2xsYWJsZSBwb3B1cFxuICAgKiBAcGFyYW0gZWwgLSBlbGVtZW50IHRvIGNvbXB1dGUgb2Zmc2V0XG4gICAqL1xuICBzdGF0aWMgb2Zmc2V0KGUpIHtcbiAgICBjb25zdCB0ID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbyA9IHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCwgaSA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBzID0gdC50b3AgKyBpLCByID0gdC5sZWZ0ICsgbztcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiBzLFxuICAgICAgbGVmdDogcixcbiAgICAgIGJvdHRvbTogcyArIHQuaGVpZ2h0LFxuICAgICAgcmlnaHQ6IHIgKyB0LndpZHRoXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gTG8obikge1xuICByZXR1cm4gIS9bXlxcdFxcblxcciBdLy50ZXN0KG4pO1xufVxuZnVuY3Rpb24gX28obikge1xuICBjb25zdCBlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobiksIHQgPSBwYXJzZUZsb2F0KGUuZm9udFNpemUpLCBvID0gcGFyc2VGbG9hdChlLmxpbmVIZWlnaHQpIHx8IHQgKiAxLjIsIGkgPSBwYXJzZUZsb2F0KGUucGFkZGluZ1RvcCksIHMgPSBwYXJzZUZsb2F0KGUuYm9yZGVyVG9wV2lkdGgpLCByID0gcGFyc2VGbG9hdChlLm1hcmdpblRvcCksIGwgPSB0ICogMC44LCBhID0gKG8gLSB0KSAvIDI7XG4gIHJldHVybiByICsgcyArIGkgKyBhICsgbDtcbn1cbmZ1bmN0aW9uIEx0KG4pIHtcbiAgbi5kYXRhc2V0LmVtcHR5ID0gZC5pc0VtcHR5KG4pID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG59XG5jb25zdCBObyA9IHtcbiAgYmxvY2tUdW5lczoge1xuICAgIHRvZ2dsZXI6IHtcbiAgICAgIFwiQ2xpY2sgdG8gdHVuZVwiOiBcIlwiLFxuICAgICAgXCJvciBkcmFnIHRvIG1vdmVcIjogXCJcIlxuICAgIH1cbiAgfSxcbiAgaW5saW5lVG9vbGJhcjoge1xuICAgIGNvbnZlcnRlcjoge1xuICAgICAgXCJDb252ZXJ0IHRvXCI6IFwiXCJcbiAgICB9XG4gIH0sXG4gIHRvb2xiYXI6IHtcbiAgICB0b29sYm94OiB7XG4gICAgICBBZGQ6IFwiXCJcbiAgICB9XG4gIH0sXG4gIHBvcG92ZXI6IHtcbiAgICBGaWx0ZXI6IFwiXCIsXG4gICAgXCJOb3RoaW5nIGZvdW5kXCI6IFwiXCIsXG4gICAgXCJDb252ZXJ0IHRvXCI6IFwiXCJcbiAgfVxufSwgUG8gPSB7XG4gIFRleHQ6IFwiXCIsXG4gIExpbms6IFwiXCIsXG4gIEJvbGQ6IFwiXCIsXG4gIEl0YWxpYzogXCJcIlxufSwgRG8gPSB7XG4gIGxpbms6IHtcbiAgICBcIkFkZCBhIGxpbmtcIjogXCJcIlxuICB9LFxuICBzdHViOiB7XG4gICAgXCJUaGUgYmxvY2sgY2FuIG5vdCBiZSBkaXNwbGF5ZWQgY29ycmVjdGx5LlwiOiBcIlwiXG4gIH1cbn0sIFJvID0ge1xuICBkZWxldGU6IHtcbiAgICBEZWxldGU6IFwiXCIsXG4gICAgXCJDbGljayB0byBkZWxldGVcIjogXCJcIlxuICB9LFxuICBtb3ZlVXA6IHtcbiAgICBcIk1vdmUgdXBcIjogXCJcIlxuICB9LFxuICBtb3ZlRG93bjoge1xuICAgIFwiTW92ZSBkb3duXCI6IFwiXCJcbiAgfVxufSwgX3QgPSB7XG4gIHVpOiBObyxcbiAgdG9vbE5hbWVzOiBQbyxcbiAgdG9vbHM6IERvLFxuICBibG9ja1R1bmVzOiBSb1xufSwgTnQgPSBjbGFzcyBhZSB7XG4gIC8qKlxuICAgKiBUeXBlLXNhZmUgdHJhbnNsYXRpb24gZm9yIGludGVybmFsIFVJIHRleHRzOlxuICAgKiBQZXJmb3JtIHRyYW5zbGF0aW9uIG9mIHRoZSBzdHJpbmcgYnkgbmFtZXNwYWNlIGFuZCBhIGtleVxuICAgKlxuICAgKiBAZXhhbXBsZSBJMThuLnVpKEkxOG5JbnRlcm5hbE5TLnVpLmJsb2NrVHVuZXMudG9nZ2xlciwgJ0NsaWNrIHRvIHR1bmUnKVxuICAgKiBAcGFyYW0gaW50ZXJuYWxOYW1lc3BhY2UgLSBwYXRoIHRvIHRyYW5zbGF0ZWQgc3RyaW5nIGluIGRpY3Rpb25hcnlcbiAgICogQHBhcmFtIGRpY3RLZXkgLSBkaWN0aW9uYXJ5IGtleS4gQmV0dGVyIHRvIHVzZSBkZWZhdWx0IGxvY2FsZSBvcmlnaW5hbCB0ZXh0XG4gICAqL1xuICBzdGF0aWMgdWkoZSwgdCkge1xuICAgIHJldHVybiBhZS5fdChlLCB0KTtcbiAgfVxuICAvKipcbiAgICogVHJhbnNsYXRlIGZvciBleHRlcm5hbCBzdHJpbmdzIHRoYXQgaXMgbm90IHByZXNlbnRlZCBpbiBkZWZhdWx0IGRpY3Rpb25hcnkuXG4gICAqIEZvciBleGFtcGxlLCBmb3IgdXNlci1zcGVjaWZpZWQgdG9vbCBuYW1lc1xuICAgKlxuICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gcGF0aCB0byB0cmFuc2xhdGVkIHN0cmluZyBpbiBkaWN0aW9uYXJ5XG4gICAqIEBwYXJhbSBkaWN0S2V5IC0gZGljdGlvbmFyeSBrZXkuIEJldHRlciB0byB1c2UgZGVmYXVsdCBsb2NhbGUgb3JpZ2luYWwgdGV4dFxuICAgKi9cbiAgc3RhdGljIHQoZSwgdCkge1xuICAgIHJldHVybiBhZS5fdChlLCB0KTtcbiAgfVxuICAvKipcbiAgICogQWRqdXN0IG1vZHVsZSBmb3IgdXNpbmcgZXh0ZXJuYWwgZGljdGlvbmFyeVxuICAgKlxuICAgKiBAcGFyYW0gZGljdGlvbmFyeSAtIG5ldyBtZXNzYWdlcyBsaXN0IHRvIG92ZXJyaWRlIGRlZmF1bHRcbiAgICovXG4gIHN0YXRpYyBzZXREaWN0aW9uYXJ5KGUpIHtcbiAgICBhZS5jdXJyZW50RGljdGlvbmFyeSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gdHJhbnNsYXRpb24gYm90aCBmb3IgaW50ZXJuYWwgYW5kIGV4dGVybmFsIG5hbWVzcGFjZXNcbiAgICogSWYgdGhlcmUgaXMgbm8gdHJhbnNsYXRpb24gZm91bmQsIHJldHVybnMgcGFzc2VkIGtleSBhcyBhIHRyYW5zbGF0ZWQgbWVzc2FnZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZXNwYWNlIC0gcGF0aCB0byB0cmFuc2xhdGVkIHN0cmluZyBpbiBkaWN0aW9uYXJ5XG4gICAqIEBwYXJhbSBkaWN0S2V5IC0gZGljdGlvbmFyeSBrZXkuIEJldHRlciB0byB1c2UgZGVmYXVsdCBsb2NhbGUgb3JpZ2luYWwgdGV4dFxuICAgKi9cbiAgc3RhdGljIF90KGUsIHQpIHtcbiAgICBjb25zdCBvID0gYWUuZ2V0TmFtZXNwYWNlKGUpO1xuICAgIHJldHVybiAhbyB8fCAhb1t0XSA/IHQgOiBvW3RdO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIG1lc3NhZ2VzIHNlY3Rpb24gYnkgbmFtZXNwYWNlIHBhdGhcbiAgICpcbiAgICogQHBhcmFtIG5hbWVzcGFjZSAtIHBhdGggdG8gc2VjdGlvblxuICAgKi9cbiAgc3RhdGljIGdldE5hbWVzcGFjZShlKSB7XG4gICAgcmV0dXJuIGUuc3BsaXQoXCIuXCIpLnJlZHVjZSgobywgaSkgPT4gIW8gfHwgIU9iamVjdC5rZXlzKG8pLmxlbmd0aCA/IHt9IDogb1tpXSwgYWUuY3VycmVudERpY3Rpb25hcnkpO1xuICB9XG59O1xuTnQuY3VycmVudERpY3Rpb25hcnkgPSBfdDtcbmxldCB6ID0gTnQ7XG5jbGFzcyBQdCBleHRlbmRzIEVycm9yIHtcbn1cbmNsYXNzIFRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdWJzY3JpYmVycyA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgYW55IGV2ZW50IG9uIGNhbGxiYWNrXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHN1YnNjcmliZXJcbiAgICovXG4gIG9uKGUsIHQpIHtcbiAgICBlIGluIHRoaXMuc3Vic2NyaWJlcnMgfHwgKHRoaXMuc3Vic2NyaWJlcnNbZV0gPSBbXSksIHRoaXMuc3Vic2NyaWJlcnNbZV0ucHVzaCh0KTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIGFueSBldmVudCBvbiBjYWxsYmFjay4gQ2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgb25jZSBhbmQgYmUgcmVtb3ZlZCBmcm9tIHN1YnNjcmliZXJzIGFycmF5IGFmdGVyIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIHN1YnNjcmliZXJcbiAgICovXG4gIG9uY2UoZSwgdCkge1xuICAgIGUgaW4gdGhpcy5zdWJzY3JpYmVycyB8fCAodGhpcy5zdWJzY3JpYmVyc1tlXSA9IFtdKTtcbiAgICBjb25zdCBvID0gKGkpID0+IHtcbiAgICAgIGNvbnN0IHMgPSB0KGkpLCByID0gdGhpcy5zdWJzY3JpYmVyc1tlXS5pbmRleE9mKG8pO1xuICAgICAgcmV0dXJuIHIgIT09IC0xICYmIHRoaXMuc3Vic2NyaWJlcnNbZV0uc3BsaWNlKHIsIDEpLCBzO1xuICAgIH07XG4gICAgdGhpcy5zdWJzY3JpYmVyc1tlXS5wdXNoKG8pO1xuICB9XG4gIC8qKlxuICAgKiBFbWl0IGNhbGxiYWNrcyB3aXRoIHBhc3NlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgLSBldmVudCBuYW1lXG4gICAqIEBwYXJhbSBkYXRhIC0gc3Vic2NyaWJlcnMgZ2V0IHRoaXMgZGF0YSB3aGVuIHRoZXkgd2VyZSBmaXJlZFxuICAgKi9cbiAgZW1pdChlLCB0KSB7XG4gICAgVih0aGlzLnN1YnNjcmliZXJzKSB8fCAhdGhpcy5zdWJzY3JpYmVyc1tlXSB8fCB0aGlzLnN1YnNjcmliZXJzW2VdLnJlZHVjZSgobywgaSkgPT4ge1xuICAgICAgY29uc3QgcyA9IGkobyk7XG4gICAgICByZXR1cm4gcyAhPT0gdm9pZCAwID8gcyA6IG87XG4gICAgfSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGNhbGxiYWNrIGZyb20gZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSAtIGV2ZW50IG5hbWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgb2ZmKGUsIHQpIHtcbiAgICBpZiAodGhpcy5zdWJzY3JpYmVyc1tlXSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEV2ZW50RGlzcGF0Y2hlciAub2ZmKCk6IHRoZXJlIGlzIG5vIHN1YnNjcmliZXJzIGZvciBldmVudCBcIiR7ZS50b1N0cmluZygpfVwiLiBQcm9iYWJseSwgLm9mZigpIGNhbGxlZCBiZWZvcmUgLm9uKClgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgbyA9IDA7IG8gPCB0aGlzLnN1YnNjcmliZXJzW2VdLmxlbmd0aDsgbysrKVxuICAgICAgaWYgKHRoaXMuc3Vic2NyaWJlcnNbZV1bb10gPT09IHQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3Vic2NyaWJlcnNbZV1bb107XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95ZXJcbiAgICogY2xlYXJzIHN1YnNjcmliZXJzIGxpc3RcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zdWJzY3JpYmVycyA9IHt9O1xuICB9XG59XG5mdW5jdGlvbiBHKG4pIHtcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIHtcbiAgICAvKipcbiAgICAgKiBCbG9jayBpZFxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgaWQoKSB7XG4gICAgICByZXR1cm4gbi5pZDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFRvb2wgbmFtZVxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgIHJldHVybiBuLm5hbWU7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUb29sIGNvbmZpZyBwYXNzZWQgb24gRWRpdG9yJ3MgaW5pdGlhbGl6YXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtUb29sQ29uZmlnfVxuICAgICAqL1xuICAgIGdldCBjb25maWcoKSB7XG4gICAgICByZXR1cm4gbi5jb25maWc7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiAuY2UtYmxvY2sgZWxlbWVudCwgdGhhdCB3cmFwcyBwbHVnaW4gY29udGVudHNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH1cbiAgICAgKi9cbiAgICBnZXQgaG9sZGVyKCkge1xuICAgICAgcmV0dXJuIG4uaG9sZGVyO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBCbG9jayBjb250ZW50IGlzIGVtcHR5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgIHJldHVybiBuLmlzRW1wdHk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGlzIHNlbGVjdGVkIHdpdGggQ3Jvc3MtQmxvY2sgc2VsZWN0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgc2VsZWN0ZWQoKSB7XG4gICAgICByZXR1cm4gbi5zZWxlY3RlZDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNldCBCbG9jaydzIHN0cmV0Y2ggc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgXHUyMDE0IHN0YXRlIHRvIHNldFxuICAgICAqL1xuICAgIHNldCBzdHJldGNoZWQodCkge1xuICAgICAgbi5zdHJldGNoZWQgPSB0O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBCbG9jayBpcyBzdHJldGNoZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBzdHJldGNoZWQoKSB7XG4gICAgICByZXR1cm4gbi5zdHJldGNoZWQ7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIEJsb2NrIGhhcyBpbnB1dHMgdG8gYmUgZm9jdXNlZFxuICAgICAqL1xuICAgIGdldCBmb2N1c2FibGUoKSB7XG4gICAgICByZXR1cm4gbi5mb2N1c2FibGU7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDYWxsIFRvb2wgbWV0aG9kIHdpdGggZXJyb3JzIGhhbmRsZXIgdW5kZXItdGhlLWhvb2RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIC0gbWV0aG9kIHRvIGNhbGxcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW0gLSBvYmplY3Qgd2l0aCBwYXJhbWV0ZXJzXG4gICAgICogQHJldHVybnMge3Vua25vd259XG4gICAgICovXG4gICAgY2FsbCh0LCBvKSB7XG4gICAgICByZXR1cm4gbi5jYWxsKHQsIG8pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogU2F2ZSBCbG9jayBjb250ZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkfFNhdmVkRGF0YT59XG4gICAgICovXG4gICAgc2F2ZSgpIHtcbiAgICAgIHJldHVybiBuLnNhdmUoKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIEJsb2NrIGRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QmxvY2tUb29sRGF0YX0gZGF0YSAtIGRhdGEgdG8gdmFsaWRhdGVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICAgKi9cbiAgICB2YWxpZGF0ZSh0KSB7XG4gICAgICByZXR1cm4gbi52YWxpZGF0ZSh0KTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEFsbG93cyB0byBzYXkgRWRpdG9yIHRoYXQgQmxvY2sgd2FzIGNoYW5nZWQuIFVzZWQgdG8gbWFudWFsbHkgdHJpZ2dlciBFZGl0b3IncyAnb25DaGFuZ2UnIGNhbGxiYWNrXG4gICAgICogQ2FuIGJlIHVzZWZ1bCBmb3IgYmxvY2sgY2hhbmdlcyBpbnZpc2libGUgZm9yIGVkaXRvciBjb3JlLlxuICAgICAqL1xuICAgIGRpc3BhdGNoQ2hhbmdlKCkge1xuICAgICAgbi5kaXNwYXRjaENoYW5nZSgpO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogVG9vbCBjb3VsZCBzcGVjaWZ5IHNldmVyYWwgZW50cmllcyB0byBiZSBkaXNwbGF5ZWQgYXQgdGhlIFRvb2xib3ggKGZvciBleGFtcGxlLCBcIkhlYWRpbmcgMVwiLCBcIkhlYWRpbmcgMlwiLCBcIkhlYWRpbmcgM1wiKVxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVudHJ5IHRoYXQgaXMgcmVsYXRlZCB0byB0aGUgQmxvY2sgKGRlcGVuZGVkIG9uIHRoZSBCbG9jayBkYXRhKVxuICAgICAqL1xuICAgIGdldEFjdGl2ZVRvb2xib3hFbnRyeSgpIHtcbiAgICAgIHJldHVybiBuLmdldEFjdGl2ZVRvb2xib3hFbnRyeSgpO1xuICAgIH1cbiAgfSk7XG59XG5jbGFzcyBDZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYWxsTGlzdGVuZXJzID0gW107XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbnMgZXZlbnQgbGlzdGVuZXIgb24gZWxlbWVudCBhbmQgcmV0dXJucyB1bmlxdWUgaWRlbnRpZmllclxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50IC0gRE9NIGVsZW1lbnQgdGhhdCBuZWVkcyB0byBiZSBsaXN0ZW5lZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gbWV0aG9kIHRoYXQgd2lsbCBiZSBmaXJlZCBvbiBldmVudFxuICAgKiBAcGFyYW0ge2Jvb2xlYW58QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IG9wdGlvbnMgLSB1c2VDYXB0dXJlIG9yIHtjYXB0dXJlLCBwYXNzaXZlLCBvbmNlfVxuICAgKi9cbiAgb24oZSwgdCwgbywgaSA9ICExKSB7XG4gICAgY29uc3QgcyA9IEFvKFwibFwiKSwgciA9IHtcbiAgICAgIGlkOiBzLFxuICAgICAgZWxlbWVudDogZSxcbiAgICAgIGV2ZW50VHlwZTogdCxcbiAgICAgIGhhbmRsZXI6IG8sXG4gICAgICBvcHRpb25zOiBpXG4gICAgfTtcbiAgICBpZiAoIXRoaXMuZmluZE9uZShlLCB0LCBvKSlcbiAgICAgIHJldHVybiB0aGlzLmFsbExpc3RlbmVycy5wdXNoKHIpLCBlLmFkZEV2ZW50TGlzdGVuZXIodCwgbywgaSksIHM7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXIgZnJvbSBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBET00gZWxlbWVudCB0aGF0IHdlIHJlbW92aW5nIGxpc3RlbmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSByZW1vdmUgaGFuZGxlciwgaWYgZWxlbWVudCBsaXN0ZW5zIHNldmVyYWwgaGFuZGxlcnMgb24gdGhlIHNhbWUgZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW58QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnN9IG9wdGlvbnMgLSB1c2VDYXB0dXJlIG9yIHtjYXB0dXJlLCBwYXNzaXZlLCBvbmNlfVxuICAgKi9cbiAgb2ZmKGUsIHQsIG8sIGkpIHtcbiAgICBjb25zdCBzID0gdGhpcy5maW5kQWxsKGUsIHQsIG8pO1xuICAgIHMuZm9yRWFjaCgociwgbCkgPT4ge1xuICAgICAgY29uc3QgYSA9IHRoaXMuYWxsTGlzdGVuZXJzLmluZGV4T2Yoc1tsXSk7XG4gICAgICBhID4gLTEgJiYgKHRoaXMuYWxsTGlzdGVuZXJzLnNwbGljZShhLCAxKSwgci5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoci5ldmVudFR5cGUsIHIuaGFuZGxlciwgci5vcHRpb25zKSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgbGlzdGVuZXIgYnkgaWRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gbGlzdGVuZXIgaWRlbnRpZmllclxuICAgKi9cbiAgb2ZmQnlJZChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZmluZEJ5SWQoZSk7XG4gICAgdCAmJiB0LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LmV2ZW50VHlwZSwgdC5oYW5kbGVyLCB0Lm9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBGaW5kcyBhbmQgcmV0dXJucyBmaXJzdCBsaXN0ZW5lciBieSBwYXNzZWQgcGFyYW1zXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBldmVudCB0YXJnZXRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtldmVudFR5cGVdIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaGFuZGxlcl0gLSBldmVudCBoYW5kbGVyXG4gICAqIEByZXR1cm5zIHtMaXN0ZW5lckRhdGF8bnVsbH1cbiAgICovXG4gIGZpbmRPbmUoZSwgdCwgbykge1xuICAgIGNvbnN0IGkgPSB0aGlzLmZpbmRBbGwoZSwgdCwgbyk7XG4gICAgcmV0dXJuIGkubGVuZ3RoID4gMCA/IGlbMF0gOiBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYWxsIHN0b3JlZCBsaXN0ZW5lcnMgYnkgcGFzc2VkIHBhcmFtc1xuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50IC0gZXZlbnQgdGFyZ2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBldmVudCBoYW5kbGVyXG4gICAqIEByZXR1cm5zIHtMaXN0ZW5lckRhdGFbXX1cbiAgICovXG4gIGZpbmRBbGwoZSwgdCwgbykge1xuICAgIGxldCBpO1xuICAgIGNvbnN0IHMgPSBlID8gdGhpcy5maW5kQnlFdmVudFRhcmdldChlKSA6IFtdO1xuICAgIHJldHVybiBlICYmIHQgJiYgbyA/IGkgPSBzLmZpbHRlcigocikgPT4gci5ldmVudFR5cGUgPT09IHQgJiYgci5oYW5kbGVyID09PSBvKSA6IGUgJiYgdCA/IGkgPSBzLmZpbHRlcigocikgPT4gci5ldmVudFR5cGUgPT09IHQpIDogaSA9IHMsIGk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVyc1xuICAgKi9cbiAgcmVtb3ZlQWxsKCkge1xuICAgIHRoaXMuYWxsTGlzdGVuZXJzLm1hcCgoZSkgPT4ge1xuICAgICAgZS5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS5ldmVudFR5cGUsIGUuaGFuZGxlciwgZS5vcHRpb25zKTtcbiAgICB9KSwgdGhpcy5hbGxMaXN0ZW5lcnMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIGNsZWFudXAgb24gZGVzdHJ1Y3Rpb25cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW1vdmVBbGwoKTtcbiAgfVxuICAvKipcbiAgICogU2VhcmNoIG1ldGhvZDogbG9va3MgZm9yIGxpc3RlbmVyIGJ5IHBhc3NlZCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBzZWFyY2hpbmcgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7QXJyYXl9IGxpc3RlbmVycyB0aGF0IGZvdW5kIG9uIGVsZW1lbnRcbiAgICovXG4gIGZpbmRCeUV2ZW50VGFyZ2V0KGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbGxMaXN0ZW5lcnMuZmlsdGVyKCh0KSA9PiB7XG4gICAgICBpZiAodC5lbGVtZW50ID09PSBlKVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2VhcmNoIG1ldGhvZDogbG9va3MgZm9yIGxpc3RlbmVyIGJ5IHBhc3NlZCBldmVudCB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBldmVudCB0eXBlXG4gICAqIEByZXR1cm5zIHtMaXN0ZW5lckRhdGFbXX0gbGlzdGVuZXJzIHRoYXQgZm91bmQgb24gZWxlbWVudFxuICAgKi9cbiAgZmluZEJ5VHlwZShlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsTGlzdGVuZXJzLmZpbHRlcigodCkgPT4ge1xuICAgICAgaWYgKHQuZXZlbnRUeXBlID09PSBlKVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2VhcmNoIG1ldGhvZDogbG9va3MgZm9yIGxpc3RlbmVyIGJ5IHBhc3NlZCBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgLSBldmVudCBoYW5kbGVyXG4gICAqIEByZXR1cm5zIHtMaXN0ZW5lckRhdGFbXX0gbGlzdGVuZXJzIHRoYXQgZm91bmQgb24gZWxlbWVudFxuICAgKi9cbiAgZmluZEJ5SGFuZGxlcihlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsTGlzdGVuZXJzLmZpbHRlcigodCkgPT4ge1xuICAgICAgaWYgKHQuaGFuZGxlciA9PT0gZSlcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdGVuZXIgZGF0YSBmb3VuZCBieSBpZFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBsaXN0ZW5lciBpZGVudGlmaWVyXG4gICAqIEByZXR1cm5zIHtMaXN0ZW5lckRhdGF9XG4gICAqL1xuICBmaW5kQnlJZChlKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsTGlzdGVuZXJzLmZpbmQoKHQpID0+IHQuaWQgPT09IGUpO1xuICB9XG59XG5jbGFzcyB5IHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE1vZHVsZSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmNvbmZpZyAtIE1vZHVsZSBjb25maWdcbiAgICogQHBhcmFtIG9wdGlvbnMuZXZlbnRzRGlzcGF0Y2hlciAtIENvbW1vbiBldmVudCBidXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBlLCBldmVudHNEaXNwYXRjaGVyOiB0IH0pIHtcbiAgICBpZiAodGhpcy5ub2RlcyA9IHt9LCB0aGlzLmxpc3RlbmVycyA9IG5ldyBDZSgpLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycyA9IHtcbiAgICAgIC8qKlxuICAgICAgICogQXNzaWducyBldmVudCBsaXN0ZW5lciBvbiBET00gZWxlbWVudCBhbmQgcHVzaGVzIGludG8gc3BlY2lhbCBhcnJheSB0aGF0IG1pZ2h0IGJlIHJlbW92ZWRcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSBlbGVtZW50IC0gRE9NIEVsZW1lbnRcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBFdmVudCBuYW1lXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIC0gRXZlbnQgaGFuZGxlclxuICAgICAgICogQHBhcmFtIHtib29sZWFufEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zfSBvcHRpb25zIC0gTGlzdGVuaW5nIG9wdGlvbnNcbiAgICAgICAqL1xuICAgICAgb246IChvLCBpLCBzLCByID0gITEpID0+IHtcbiAgICAgICAgdGhpcy5tdXRhYmxlTGlzdGVuZXJJZHMucHVzaChcbiAgICAgICAgICB0aGlzLmxpc3RlbmVycy5vbihvLCBpLCBzLCByKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogQ2xlYXJzIGFsbCBtdXRhYmxlIGxpc3RlbmVyc1xuICAgICAgICovXG4gICAgICBjbGVhckFsbDogKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IG8gb2YgdGhpcy5tdXRhYmxlTGlzdGVuZXJJZHMpXG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMub2ZmQnlJZChvKTtcbiAgICAgICAgdGhpcy5tdXRhYmxlTGlzdGVuZXJJZHMgPSBbXTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLm11dGFibGVMaXN0ZW5lcklkcyA9IFtdLCBuZXcudGFyZ2V0ID09PSB5KVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNvbnN0cnVjdG9ycyBmb3IgYWJzdHJhY3QgY2xhc3MgTW9kdWxlIGFyZSBub3QgYWxsb3dlZC5cIik7XG4gICAgdGhpcy5jb25maWcgPSBlLCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIgPSB0O1xuICB9XG4gIC8qKlxuICAgKiBFZGl0b3IgbW9kdWxlcyBzZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtFZGl0b3JNb2R1bGVzfSBFZGl0b3IgLSBFZGl0b3IncyBNb2R1bGVzXG4gICAqL1xuICBzZXQgc3RhdGUoZSkge1xuICAgIHRoaXMuRWRpdG9yID0gZTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIG1lbW9yaXplZCBub2Rlc1xuICAgKi9cbiAgcmVtb3ZlQWxsTm9kZXMoKSB7XG4gICAgZm9yIChjb25zdCBlIGluIHRoaXMubm9kZXMpIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLm5vZGVzW2VdO1xuICAgICAgdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIHQucmVtb3ZlKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgY3VycmVudCBkaXJlY3Rpb24gaXMgUlRMIChSaWdodC1Uby1MZWZ0KVxuICAgKi9cbiAgZ2V0IGlzUnRsKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZy5pMThuLmRpcmVjdGlvbiA9PT0gXCJydGxcIjtcbiAgfVxufVxuY2xhc3MgYiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsLCB0aGlzLnNlbGVjdGlvbiA9IG51bGwsIHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSA9IG51bGwsIHRoaXMuaXNGYWtlQmFja2dyb3VuZEVuYWJsZWQgPSAhMSwgdGhpcy5jb21tYW5kQmFja2dyb3VuZCA9IFwiYmFja0NvbG9yXCIsIHRoaXMuY29tbWFuZFJlbW92ZUZvcm1hdCA9IFwicmVtb3ZlRm9ybWF0XCI7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXRvciBzdHlsZXNcbiAgICpcbiAgICogQHJldHVybnMge3tlZGl0b3JXcmFwcGVyOiBzdHJpbmcsIGVkaXRvclpvbmU6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZWRpdG9yV3JhcHBlcjogXCJjb2RleC1lZGl0b3JcIixcbiAgICAgIGVkaXRvclpvbmU6IFwiY29kZXgtZWRpdG9yX19yZWRhY3RvclwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWxlY3RlZCBhbmNob3JcbiAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3J1L2RvY3MvV2ViL0FQSS9TZWxlY3Rpb24vYW5jaG9yTm9kZX1cbiAgICpcbiAgICogQHJldHVybnMge05vZGV8bnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQgYW5jaG9yTm9kZSgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiBlID8gZS5hbmNob3JOb2RlIDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWxlY3RlZCBhbmNob3IgZWxlbWVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudHxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCBhbmNob3JFbGVtZW50KCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFlKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgdCA9IGUuYW5jaG9yTm9kZTtcbiAgICByZXR1cm4gdCA/IGQuaXNFbGVtZW50KHQpID8gdCA6IHQucGFyZW50RWxlbWVudCA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2VsZWN0aW9uIG9mZnNldCBhY2NvcmRpbmcgdG8gdGhlIGFuY2hvciBub2RlXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9BUEkvU2VsZWN0aW9uL2FuY2hvck9mZnNldH1cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcnxudWxsfVxuICAgKi9cbiAgc3RhdGljIGdldCBhbmNob3JPZmZzZXQoKSB7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gZSA/IGUuYW5jaG9yT2Zmc2V0IDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogSXMgY3VycmVudCBzZWxlY3Rpb24gcmFuZ2UgY29sbGFwc2VkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufG51bGx9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzQ29sbGFwc2VkKCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGUgPyBlLmlzQ29sbGFwc2VkIDogbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgY3VycmVudCBzZWxlY3Rpb24gaWYgaXQgaXMgYXQgRWRpdG9yJ3Mgem9uZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBnZXQgaXNBdEVkaXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NlbGVjdGlvbkF0RWRpdG9yKGIuZ2V0KCkpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgc2VsZWN0aW9uIGlzIGF0IEVkaXRvcidzIHpvbmVcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdGlvbiAtIFNlbGVjdGlvbiBvYmplY3QgdG8gY2hlY2tcbiAgICovXG4gIHN0YXRpYyBpc1NlbGVjdGlvbkF0RWRpdG9yKGUpIHtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gITE7XG4gICAgbGV0IHQgPSBlLmFuY2hvck5vZGUgfHwgZS5mb2N1c05vZGU7XG4gICAgdCAmJiB0Lm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSAmJiAodCA9IHQucGFyZW50Tm9kZSk7XG4gICAgbGV0IG8gPSBudWxsO1xuICAgIHJldHVybiB0ICYmIHQgaW5zdGFuY2VvZiBFbGVtZW50ICYmIChvID0gdC5jbG9zZXN0KGAuJHtiLkNTUy5lZGl0b3Jab25lfWApKSwgbyA/IG8ubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHBhc3NlZCByYW5nZSBhdCBFZGl0b3Igem9uZVxuICAgKlxuICAgKiBAcGFyYW0gcmFuZ2UgLSByYW5nZSB0byBjaGVja1xuICAgKi9cbiAgc3RhdGljIGlzUmFuZ2VBdEVkaXRvcihlKSB7XG4gICAgaWYgKCFlKVxuICAgICAgcmV0dXJuO1xuICAgIGxldCB0ID0gZS5zdGFydENvbnRhaW5lcjtcbiAgICB0ICYmIHQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFICYmICh0ID0gdC5wYXJlbnROb2RlKTtcbiAgICBsZXQgbyA9IG51bGw7XG4gICAgcmV0dXJuIHQgJiYgdCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgKG8gPSB0LmNsb3Nlc3QoYC4ke2IuQ1NTLmVkaXRvclpvbmV9YCkpLCBvID8gby5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUgOiAhMTtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kcyByZXR1cm4gYm9vbGVhbiB0aGF0IHRydWUgaWYgc2VsZWN0aW9uIGV4aXN0cyBvbiB0aGUgcGFnZVxuICAgKi9cbiAgc3RhdGljIGdldCBpc1NlbGVjdGlvbkV4aXN0cygpIHtcbiAgICByZXR1cm4gISFiLmdldCgpLmFuY2hvck5vZGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCByYW5nZVxuICAgKlxuICAgKiBAcmV0dXJucyB7UmFuZ2V8bnVsbH1cbiAgICovXG4gIHN0YXRpYyBnZXQgcmFuZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UmFuZ2VGcm9tU2VsZWN0aW9uKHRoaXMuZ2V0KCkpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHJhbmdlIGZyb20gcGFzc2VkIFNlbGVjdGlvbiBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdGlvbiAtIFNlbGVjdGlvbiBvYmplY3QgdG8gZ2V0IFJhbmdlIGZyb21cbiAgICovXG4gIHN0YXRpYyBnZXRSYW5nZUZyb21TZWxlY3Rpb24oZSkge1xuICAgIHJldHVybiBlICYmIGUucmFuZ2VDb3VudCA/IGUuZ2V0UmFuZ2VBdCgwKSA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgcG9zaXRpb24gYW5kIHNpemUgb2Ygc2VsZWN0ZWQgdGV4dFxuICAgKlxuICAgKiBAcmV0dXJucyB7RE9NUmVjdCB8IENsaWVudFJlY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHJlY3QoKSB7XG4gICAgbGV0IGUgPSBkb2N1bWVudC5zZWxlY3Rpb24sIHQsIG8gPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwXG4gICAgfTtcbiAgICBpZiAoZSAmJiBlLnR5cGUgIT09IFwiQ29udHJvbFwiKVxuICAgICAgcmV0dXJuIGUgPSBlLCB0ID0gZS5jcmVhdGVSYW5nZSgpLCBvLnggPSB0LmJvdW5kaW5nTGVmdCwgby55ID0gdC5ib3VuZGluZ1RvcCwgby53aWR0aCA9IHQuYm91bmRpbmdXaWR0aCwgby5oZWlnaHQgPSB0LmJvdW5kaW5nSGVpZ2h0LCBvO1xuICAgIGlmICghd2luZG93LmdldFNlbGVjdGlvbilcbiAgICAgIHJldHVybiBJKFwiTWV0aG9kIHdpbmRvdy5nZXRTZWxlY3Rpb24gaXMgbm90IHN1cHBvcnRlZFwiLCBcIndhcm5cIiksIG87XG4gICAgaWYgKGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIGUucmFuZ2VDb3VudCA9PT0gbnVsbCB8fCBpc05hTihlLnJhbmdlQ291bnQpKVxuICAgICAgcmV0dXJuIEkoXCJNZXRob2QgU2VsZWN0aW9uVXRpbHMucmFuZ2VDb3VudCBpcyBub3Qgc3VwcG9ydGVkXCIsIFwid2FyblwiKSwgbztcbiAgICBpZiAoZS5yYW5nZUNvdW50ID09PSAwKVxuICAgICAgcmV0dXJuIG87XG4gICAgaWYgKHQgPSBlLmdldFJhbmdlQXQoMCkuY2xvbmVSYW5nZSgpLCB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiAobyA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLCBvLnggPT09IDAgJiYgby55ID09PSAwKSB7XG4gICAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICBpZiAoaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICAgICAgaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlx1MjAwQlwiKSksIHQuaW5zZXJ0Tm9kZShpKSwgbyA9IGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHMgPSBpLnBhcmVudE5vZGU7XG4gICAgICAgIHMucmVtb3ZlQ2hpbGQoaSksIHMubm9ybWFsaXplKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHNlbGVjdGVkIHRleHQgYXMgU3RyaW5nXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24gPyB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKSA6IFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgd2luZG93IFNlbGVjdGlvblV0aWxzXG4gICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9ydS9kb2NzL1dlYi9BUEkvV2luZG93L2dldFNlbGVjdGlvbn1cbiAgICpcbiAgICogQHJldHVybnMge1NlbGVjdGlvbn1cbiAgICovXG4gIHN0YXRpYyBnZXQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgfVxuICAvKipcbiAgICogU2V0IGZvY3VzIHRvIGNvbnRlbnRlZGl0YWJsZSBvciBuYXRpdmUgaW5wdXQgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCAtIGVsZW1lbnQgd2hlcmUgdG8gc2V0IGZvY3VzXG4gICAqIEBwYXJhbSBvZmZzZXQgLSBvZmZzZXQgb2YgY3Vyc29yXG4gICAqL1xuICBzdGF0aWMgc2V0Q3Vyc29yKGUsIHQgPSAwKSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCksIGkgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGQuaXNOYXRpdmVJbnB1dChlKSA/IGQuY2FuU2V0Q2FyZXQoZSkgPyAoZS5mb2N1cygpLCBlLnNlbGVjdGlvblN0YXJ0ID0gZS5zZWxlY3Rpb25FbmQgPSB0LCBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSA6IHZvaWQgMCA6IChvLnNldFN0YXJ0KGUsIHQpLCBvLnNldEVuZChlLCB0KSwgaS5yZW1vdmVBbGxSYW5nZXMoKSwgaS5hZGRSYW5nZShvKSwgby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGN1cnJlbnQgcmFuZ2UgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIGNvbnRhaW5lclxuICAgKlxuICAgKiBAcGFyYW0gY29udGFpbmVyIC0gd2hlcmUgcmFuZ2Ugc2hvdWxkIGJlXG4gICAqL1xuICBzdGF0aWMgaXNSYW5nZUluc2lkZUNvbnRhaW5lcihlKSB7XG4gICAgY29uc3QgdCA9IGIucmFuZ2U7XG4gICAgcmV0dXJuIHQgPT09IG51bGwgPyAhMSA6IGUuY29udGFpbnModC5zdGFydENvbnRhaW5lcik7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgZmFrZSBjdXJzb3IgdG8gdGhlIGN1cnJlbnQgcmFuZ2VcbiAgICovXG4gIHN0YXRpYyBhZGRGYWtlQ3Vyc29yKCkge1xuICAgIGNvbnN0IGUgPSBiLnJhbmdlO1xuICAgIGlmIChlID09PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJzcGFuXCIsIFwiY29kZXgtZWRpdG9yX19mYWtlLWN1cnNvclwiKTtcbiAgICB0LmRhdGFzZXQubXV0YXRpb25GcmVlID0gXCJ0cnVlXCIsIGUuY29sbGFwc2UoKSwgZS5pbnNlcnROb2RlKHQpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiBwYXNzZWQgZWxlbWVudCBjb250YWlucyBhIGZha2UgY3Vyc29yXG4gICAqXG4gICAqIEBwYXJhbSBlbCAtIHdoZXJlIHRvIGNoZWNrXG4gICAqL1xuICBzdGF0aWMgaXNGYWtlQ3Vyc29ySW5zaWRlQ29udGFpbmVyKGUpIHtcbiAgICByZXR1cm4gZC5maW5kKGUsIFwiLmNvZGV4LWVkaXRvcl9fZmFrZS1jdXJzb3JcIikgIT09IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgZmFrZSBjdXJzb3IgZnJvbSBhIGNvbnRhaW5lclxuICAgKlxuICAgKiBAcGFyYW0gY29udGFpbmVyIC0gY29udGFpbmVyIHRvIGxvb2sgZm9yXG4gICAqL1xuICBzdGF0aWMgcmVtb3ZlRmFrZUN1cnNvcihlID0gZG9jdW1lbnQuYm9keSkge1xuICAgIGNvbnN0IHQgPSBkLmZpbmQoZSwgXCIuY29kZXgtZWRpdG9yX19mYWtlLWN1cnNvclwiKTtcbiAgICB0ICYmIHQucmVtb3ZlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgZmFrZSBiYWNrZ3JvdW5kXG4gICAqL1xuICByZW1vdmVGYWtlQmFja2dyb3VuZCgpIHtcbiAgICB0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkICYmICh0aGlzLmlzRmFrZUJhY2tncm91bmRFbmFibGVkID0gITEsIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZFJlbW92ZUZvcm1hdCkpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGZha2UgYmFja2dyb3VuZFxuICAgKi9cbiAgc2V0RmFrZUJhY2tncm91bmQoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kQmFja2dyb3VuZCwgITEsIFwiI2E4ZDZmZlwiKSwgdGhpcy5pc0Zha2VCYWNrZ3JvdW5kRW5hYmxlZCA9ICEwO1xuICB9XG4gIC8qKlxuICAgKiBTYXZlIFNlbGVjdGlvblV0aWxzJ3MgcmFuZ2VcbiAgICovXG4gIHNhdmUoKSB7XG4gICAgdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlID0gYi5yYW5nZTtcbiAgfVxuICAvKipcbiAgICogUmVzdG9yZSBzYXZlZCBTZWxlY3Rpb25VdGlscydzIHJhbmdlXG4gICAqL1xuICByZXN0b3JlKCkge1xuICAgIGlmICghdGhpcy5zYXZlZFNlbGVjdGlvblJhbmdlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgZS5yZW1vdmVBbGxSYW5nZXMoKSwgZS5hZGRSYW5nZSh0aGlzLnNhdmVkU2VsZWN0aW9uUmFuZ2UpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgc2F2ZWQgc2VsZWN0aW9uXG4gICAqL1xuICBjbGVhclNhdmVkKCkge1xuICAgIHRoaXMuc2F2ZWRTZWxlY3Rpb25SYW5nZSA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENvbGxhcHNlIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAqL1xuICBjb2xsYXBzZVRvRW5kKCkge1xuICAgIGNvbnN0IGUgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIHQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIHQuc2VsZWN0Tm9kZUNvbnRlbnRzKGUuZm9jdXNOb2RlKSwgdC5jb2xsYXBzZSghMSksIGUucmVtb3ZlQWxsUmFuZ2VzKCksIGUuYWRkUmFuZ2UodCk7XG4gIH1cbiAgLyoqXG4gICAqIExvb2tzIGFoZWFkIHRvIGZpbmQgcGFzc2VkIHRhZyBmcm9tIGN1cnJlbnQgc2VsZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSAge3N0cmluZ30gdGFnTmFtZSAgICAgICAtIHRhZyB0byBmb3VuZFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IFtjbGFzc05hbWVdICAgLSB0YWcncyBjbGFzcyBuYW1lXG4gICAqIEBwYXJhbSAge251bWJlcn0gW3NlYXJjaERlcHRoXSAtIGNvdW50IG9mIHRhZ3MgdGhhdCBjYW4gYmUgaW5jbHVkZWQuIEZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudHxudWxsfVxuICAgKi9cbiAgZmluZFBhcmVudFRhZyhlLCB0LCBvID0gMTApIHtcbiAgICBjb25zdCBpID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIGxldCBzID0gbnVsbDtcbiAgICByZXR1cm4gIWkgfHwgIWkuYW5jaG9yTm9kZSB8fCAhaS5mb2N1c05vZGUgPyBudWxsIDogKFtcbiAgICAgIC8qKiB0aGUgTm9kZSBpbiB3aGljaCB0aGUgc2VsZWN0aW9uIGJlZ2lucyAqL1xuICAgICAgaS5hbmNob3JOb2RlLFxuICAgICAgLyoqIHRoZSBOb2RlIGluIHdoaWNoIHRoZSBzZWxlY3Rpb24gZW5kcyAqL1xuICAgICAgaS5mb2N1c05vZGVcbiAgICBdLmZvckVhY2goKGwpID0+IHtcbiAgICAgIGxldCBhID0gbztcbiAgICAgIGZvciAoOyBhID4gMCAmJiBsLnBhcmVudE5vZGUgJiYgIShsLnRhZ05hbWUgPT09IGUgJiYgKHMgPSBsLCB0ICYmIGwuY2xhc3NMaXN0ICYmICFsLmNsYXNzTGlzdC5jb250YWlucyh0KSAmJiAocyA9IG51bGwpLCBzKSk7IClcbiAgICAgICAgbCA9IGwucGFyZW50Tm9kZSwgYS0tO1xuICAgIH0pLCBzKTtcbiAgfVxuICAvKipcbiAgICogRXhwYW5kcyBzZWxlY3Rpb24gcmFuZ2UgdG8gdGhlIHBhc3NlZCBwYXJlbnQgbm9kZVxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gZWxlbWVudCB3aGljaCBjb250ZW50cyBzaG91bGQgYmUgc2VsZWN0ZWRcbiAgICovXG4gIGV4cGFuZFRvVGFnKGUpIHtcbiAgICBjb25zdCB0ID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHQucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgby5zZWxlY3ROb2RlQ29udGVudHMoZSksIHQuYWRkUmFuZ2Uobyk7XG4gIH1cbn1cbmZ1bmN0aW9uIEZvKG4sIGUpIHtcbiAgY29uc3QgeyB0eXBlOiB0LCB0YXJnZXQ6IG8sIGFkZGVkTm9kZXM6IGksIHJlbW92ZWROb2RlczogcyB9ID0gbjtcbiAgcmV0dXJuIG4udHlwZSA9PT0gXCJhdHRyaWJ1dGVzXCIgJiYgbi5hdHRyaWJ1dGVOYW1lID09PSBcImRhdGEtZW1wdHlcIiA/ICExIDogISEoZS5jb250YWlucyhvKSB8fCB0ID09PSBcImNoaWxkTGlzdFwiICYmIChBcnJheS5mcm9tKGkpLnNvbWUoKGEpID0+IGEgPT09IGUpIHx8IEFycmF5LmZyb20ocykuc29tZSgoYSkgPT4gYSA9PT0gZSkpKTtcbn1cbmNvbnN0IEplID0gXCJyZWRhY3RvciBkb20gY2hhbmdlZFwiLCBEdCA9IFwiYmxvY2sgY2hhbmdlZFwiLCBSdCA9IFwiZmFrZSBjdXJzb3IgaXMgYWJvdXQgdG8gYmUgdG9nZ2xlZFwiLCBGdCA9IFwiZmFrZSBjdXJzb3IgaGF2ZSBiZWVuIHNldFwiLCB5ZSA9IFwiZWRpdG9yIG1vYmlsZSBsYXlvdXQgdG9nZ2xlZFwiO1xuZnVuY3Rpb24gUWUobiwgZSkge1xuICBpZiAoIW4uY29udmVyc2lvbkNvbmZpZylcbiAgICByZXR1cm4gITE7XG4gIGNvbnN0IHQgPSBuLmNvbnZlcnNpb25Db25maWdbZV07XG4gIHJldHVybiBPKHQpIHx8IFEodCk7XG59XG5mdW5jdGlvbiBfZShuLCBlKSB7XG4gIHJldHVybiBRZShuLnRvb2wsIGUpO1xufVxuZnVuY3Rpb24gSHQobiwgZSkge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMobikuc29tZSgoW3QsIG9dKSA9PiBlW3RdICYmIE9vKGVbdF0sIG8pKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHp0KG4sIGUpIHtcbiAgY29uc3QgbyA9IChhd2FpdCBuLnNhdmUoKSkuZGF0YSwgaSA9IGUuZmluZCgocykgPT4gcy5uYW1lID09PSBuLm5hbWUpO1xuICByZXR1cm4gaSAhPT0gdm9pZCAwICYmICFRZShpLCBcImV4cG9ydFwiKSA/IFtdIDogZS5yZWR1Y2UoKHMsIHIpID0+IHtcbiAgICBpZiAoIVFlKHIsIFwiaW1wb3J0XCIpIHx8IHIudG9vbGJveCA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIHM7XG4gICAgY29uc3QgbCA9IHIudG9vbGJveC5maWx0ZXIoKGEpID0+IHtcbiAgICAgIGlmIChWKGEpIHx8IGEuaWNvbiA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBpZiAoYS5kYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKEh0KGEuZGF0YSwgbykpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfSBlbHNlIGlmIChyLm5hbWUgPT09IG4ubmFtZSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgcmV0dXJuICEwO1xuICAgIH0pO1xuICAgIHJldHVybiBzLnB1c2goe1xuICAgICAgLi4ucixcbiAgICAgIHRvb2xib3g6IGxcbiAgICB9KSwgcztcbiAgfSwgW10pO1xufVxuZnVuY3Rpb24gd3QobiwgZSkge1xuICByZXR1cm4gbi5tZXJnZWFibGUgPyBuLm5hbWUgPT09IGUubmFtZSA/ICEwIDogX2UoZSwgXCJleHBvcnRcIikgJiYgX2UobiwgXCJpbXBvcnRcIikgOiAhMTtcbn1cbmZ1bmN0aW9uIEhvKG4sIGUpIHtcbiAgY29uc3QgdCA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuZXhwb3J0O1xuICByZXR1cm4gTyh0KSA/IHQobikgOiBRKHQpID8gblt0XSA6ICh0ICE9PSB2b2lkIDAgJiYgSShcIkNvbnZlcnNpb24gXHUwMEFCZXhwb3J0XHUwMEJCIHByb3BlcnR5IG11c3QgYmUgYSBzdHJpbmcgb3IgZnVuY3Rpb24uIFN0cmluZyBtZWFucyBrZXkgb2Ygc2F2ZWQgZGF0YSBvYmplY3QgdG8gZXhwb3J0LiBGdW5jdGlvbiBzaG91bGQgZXhwb3J0IHByb2Nlc3NlZCBzdHJpbmcgdG8gZXhwb3J0LlwiKSwgXCJcIik7XG59XG5mdW5jdGlvbiB4dChuLCBlKSB7XG4gIGNvbnN0IHQgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLmltcG9ydDtcbiAgcmV0dXJuIE8odCkgPyB0KG4pIDogUSh0KSA/IHtcbiAgICBbdF06IG5cbiAgfSA6ICh0ICE9PSB2b2lkIDAgJiYgSShcIkNvbnZlcnNpb24gXHUwMEFCaW1wb3J0XHUwMEJCIHByb3BlcnR5IG11c3QgYmUgYSBzdHJpbmcgb3IgZnVuY3Rpb24uIFN0cmluZyBtZWFucyBrZXkgb2YgdG9vbCBkYXRhIHRvIGltcG9ydC4gRnVuY3Rpb24gYWNjZXB0cyBhIGltcG9ydGVkIHN0cmluZyBhbmQgcmV0dXJuIGNvbXBvc2VkIHRvb2wgZGF0YS5cIiksIHt9KTtcbn1cbnZhciBBID0gLyogQF9fUFVSRV9fICovICgobikgPT4gKG4uRGVmYXVsdCA9IFwiZGVmYXVsdFwiLCBuLlNlcGFyYXRvciA9IFwic2VwYXJhdG9yXCIsIG4uSHRtbCA9IFwiaHRtbFwiLCBuKSkoQSB8fCB7fSksIEogPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5BUFBFTkRfQ0FMTEJBQ0sgPSBcImFwcGVuZENhbGxiYWNrXCIsIG4uUkVOREVSRUQgPSBcInJlbmRlcmVkXCIsIG4uTU9WRUQgPSBcIm1vdmVkXCIsIG4uVVBEQVRFRCA9IFwidXBkYXRlZFwiLCBuLlJFTU9WRUQgPSBcInJlbW92ZWRcIiwgbi5PTl9QQVNURSA9IFwib25QYXN0ZVwiLCBuKSkoSiB8fCB7fSk7XG5jbGFzcyBEIGV4dGVuZHMgVGUge1xuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBibG9jayBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqIEBwYXJhbSBbb3B0aW9ucy5pZF0gLSBibG9jaydzIGlkLiBXaWxsIGJlIGdlbmVyYXRlZCBpZiBvbWl0dGVkLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5kYXRhIC0gVG9vbCdzIGluaXRpYWwgZGF0YVxuICAgKiBAcGFyYW0gb3B0aW9ucy50b29sIFx1MjAxNCBibG9jaydzIHRvb2xcbiAgICogQHBhcmFtIG9wdGlvbnMuYXBpIC0gRWRpdG9yIEFQSSBtb2R1bGUgZm9yIHBhc3MgaXQgdG8gdGhlIEJsb2NrIFR1bmVzXG4gICAqIEBwYXJhbSBvcHRpb25zLnJlYWRPbmx5IC0gUmVhZC1Pbmx5IGZsYWdcbiAgICogQHBhcmFtIFtldmVudEJ1c10gLSBFZGl0b3IgY29tbW9uIGV2ZW50IGJ1cy4gQWxsb3dzIHRvIHN1YnNjcmliZSBvbiBzb21lIEVkaXRvciBldmVudHMuIENvdWxkIGJlIG9taXR0ZWQgd2hlbiBcInZpcnR1YWxcIiBCbG9jayBpcyBjcmVhdGVkLiBTZWUgQmxvY2tzQVBJQGNvbXBvc2VCbG9ja0RhdGEuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaWQ6IGUgPSBJbygpLFxuICAgIGRhdGE6IHQsXG4gICAgdG9vbDogbyxcbiAgICByZWFkT25seTogaSxcbiAgICB0dW5lc0RhdGE6IHNcbiAgfSwgcikge1xuICAgIHN1cGVyKCksIHRoaXMuY2FjaGVkSW5wdXRzID0gW10sIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCA9IG51bGwsIHRoaXMudHVuZXNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLmRlZmF1bHRUdW5lc0luc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMudW5hdmFpbGFibGVUdW5lc0RhdGEgPSB7fSwgdGhpcy5pbnB1dEluZGV4ID0gMCwgdGhpcy5lZGl0b3JFdmVudEJ1cyA9IG51bGwsIHRoaXMuaGFuZGxlRm9jdXMgPSAoKSA9PiB7XG4gICAgICB0aGlzLmRyb3BJbnB1dHNDYWNoZSgpLCB0aGlzLnVwZGF0ZUN1cnJlbnRJbnB1dCgpO1xuICAgIH0sIHRoaXMuZGlkTXV0YXRlZCA9IChsID0gdm9pZCAwKSA9PiB7XG4gICAgICBjb25zdCBhID0gbCA9PT0gdm9pZCAwLCBjID0gbCBpbnN0YW5jZW9mIElucHV0RXZlbnQ7XG4gICAgICAhYSAmJiAhYyAmJiB0aGlzLmRldGVjdFRvb2xSb290Q2hhbmdlKGwpO1xuICAgICAgbGV0IHU7XG4gICAgICBhIHx8IGMgPyB1ID0gITAgOiB1ID0gIShsLmxlbmd0aCA+IDAgJiYgbC5ldmVyeSgocCkgPT4ge1xuICAgICAgICBjb25zdCB7IGFkZGVkTm9kZXM6IGcsIHJlbW92ZWROb2RlczogZiwgdGFyZ2V0OiBrIH0gPSBwO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIC4uLkFycmF5LmZyb20oZyksXG4gICAgICAgICAgLi4uQXJyYXkuZnJvbShmKSxcbiAgICAgICAgICBrXG4gICAgICAgIF0uc29tZSgoUykgPT4gKGQuaXNFbGVtZW50KFMpIHx8IChTID0gUy5wYXJlbnRFbGVtZW50KSwgUyAmJiBTLmNsb3Nlc3QoJ1tkYXRhLW11dGF0aW9uLWZyZWU9XCJ0cnVlXCJdJykgIT09IG51bGwpKTtcbiAgICAgIH0pKSwgdSAmJiAodGhpcy5kcm9wSW5wdXRzQ2FjaGUoKSwgdGhpcy51cGRhdGVDdXJyZW50SW5wdXQoKSwgdGhpcy50b2dnbGVJbnB1dHNFbXB0eU1hcmsoKSwgdGhpcy5jYWxsKFxuICAgICAgICBcInVwZGF0ZWRcIlxuICAgICAgICAvKiBVUERBVEVEICovXG4gICAgICApLCB0aGlzLmVtaXQoXCJkaWRNdXRhdGVkXCIsIHRoaXMpKTtcbiAgICB9LCB0aGlzLm5hbWUgPSBvLm5hbWUsIHRoaXMuaWQgPSBlLCB0aGlzLnNldHRpbmdzID0gby5zZXR0aW5ncywgdGhpcy5jb25maWcgPSBvLnNldHRpbmdzLmNvbmZpZyB8fCB7fSwgdGhpcy5lZGl0b3JFdmVudEJ1cyA9IHIgfHwgbnVsbCwgdGhpcy5ibG9ja0FQSSA9IG5ldyBHKHRoaXMpLCB0aGlzLnRvb2wgPSBvLCB0aGlzLnRvb2xJbnN0YW5jZSA9IG8uY3JlYXRlKHQsIHRoaXMuYmxvY2tBUEksIGkpLCB0aGlzLnR1bmVzID0gby50dW5lcywgdGhpcy5jb21wb3NlVHVuZXMocyksIHRoaXMuaG9sZGVyID0gdGhpcy5jb21wb3NlKCksIHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMud2F0Y2hCbG9ja011dGF0aW9ucygpLCB0aGlzLmFkZElucHV0RXZlbnRzKCksIHRoaXMudG9nZ2xlSW5wdXRzRW1wdHlNYXJrKCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBjbGFzc2VzIGZvciB0aGUgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge3t3cmFwcGVyOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd3JhcHBlcjogXCJjZS1ibG9ja1wiLFxuICAgICAgd3JhcHBlclN0cmV0Y2hlZDogXCJjZS1ibG9jay0tc3RyZXRjaGVkXCIsXG4gICAgICBjb250ZW50OiBcImNlLWJsb2NrX19jb250ZW50XCIsXG4gICAgICBzZWxlY3RlZDogXCJjZS1ibG9jay0tc2VsZWN0ZWRcIixcbiAgICAgIGRyb3BUYXJnZXQ6IFwiY2UtYmxvY2stLWRyb3AtdGFyZ2V0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBGaW5kIGFuZCByZXR1cm4gYWxsIGVkaXRhYmxlIGVsZW1lbnRzIChjb250ZW50ZWRpdGFibGUgYW5kIG5hdGl2ZSBpbnB1dHMpIGluIHRoZSBUb29sIEhUTUxcbiAgICovXG4gIGdldCBpbnB1dHMoKSB7XG4gICAgaWYgKHRoaXMuY2FjaGVkSW5wdXRzLmxlbmd0aCAhPT0gMClcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZElucHV0cztcbiAgICBjb25zdCBlID0gZC5maW5kQWxsSW5wdXRzKHRoaXMuaG9sZGVyKTtcbiAgICByZXR1cm4gdGhpcy5pbnB1dEluZGV4ID4gZS5sZW5ndGggLSAxICYmICh0aGlzLmlucHV0SW5kZXggPSBlLmxlbmd0aCAtIDEpLCB0aGlzLmNhY2hlZElucHV0cyA9IGUsIGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBjdXJyZW50IFRvb2xgcyBpbnB1dFxuICAgKiBJZiBCbG9jayBkb2Vzbid0IGNvbnRhaW4gaW5wdXRzLCByZXR1cm4gdW5kZWZpbmVkXG4gICAqL1xuICBnZXQgY3VycmVudElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c1t0aGlzLmlucHV0SW5kZXhdO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgaW5wdXQgaW5kZXggdG8gdGhlIHBhc3NlZCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gSFRNTCBFbGVtZW50IHRvIHNldCBhcyBjdXJyZW50IGlucHV0XG4gICAqL1xuICBzZXQgY3VycmVudElucHV0KGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5pbnB1dHMuZmluZEluZGV4KChvKSA9PiBvID09PSBlIHx8IG8uY29udGFpbnMoZSkpO1xuICAgIHQgIT09IC0xICYmICh0aGlzLmlucHV0SW5kZXggPSB0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGZpcnN0IFRvb2xgcyBpbnB1dFxuICAgKiBJZiBCbG9jayBkb2Vzbid0IGNvbnRhaW4gaW5wdXRzLCByZXR1cm4gdW5kZWZpbmVkXG4gICAqL1xuICBnZXQgZmlyc3RJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dHNbMF07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBUb29sYHMgaW5wdXRcbiAgICogSWYgQmxvY2sgZG9lc24ndCBjb250YWluIGlucHV0cywgcmV0dXJuIHVuZGVmaW5lZFxuICAgKi9cbiAgZ2V0IGxhc3RJbnB1dCgpIHtcbiAgICBjb25zdCBlID0gdGhpcy5pbnB1dHM7XG4gICAgcmV0dXJuIGVbZS5sZW5ndGggLSAxXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIG5leHQgVG9vbGBzIGlucHV0IG9yIHVuZGVmaW5lZCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAqIElmIEJsb2NrIGRvZXNuJ3QgY29udGFpbiBpbnB1dHMsIHJldHVybiB1bmRlZmluZWRcbiAgICovXG4gIGdldCBuZXh0SW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzW3RoaXMuaW5wdXRJbmRleCArIDFdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gcHJldmlvdXMgVG9vbGBzIGlucHV0IG9yIHVuZGVmaW5lZCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAqIElmIEJsb2NrIGRvZXNuJ3QgY29udGFpbiBpbnB1dHMsIHJldHVybiB1bmRlZmluZWRcbiAgICovXG4gIGdldCBwcmV2aW91c0lucHV0KCkge1xuICAgIHJldHVybiB0aGlzLmlucHV0c1t0aGlzLmlucHV0SW5kZXggLSAxXTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrJ3MgSlNPTiBkYXRhXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5zYXZlKCkudGhlbigoZSkgPT4gZSAmJiAhVihlLmRhdGEpID8gZS5kYXRhIDoge30pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRvb2wncyBzYW5pdGl6ZXIgY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbC5zYW5pdGl6ZUNvbmZpZztcbiAgfVxuICAvKipcbiAgICogaXMgYmxvY2sgbWVyZ2VhYmxlXG4gICAqIFdlIHBsdWdpbiBoYXZlIG1lcmdlIGZ1bmN0aW9uIHRoZW4gd2UgY2FsbCBpdCBtZXJnZWFibGVcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgbWVyZ2VhYmxlKCkge1xuICAgIHJldHVybiBPKHRoaXMudG9vbEluc3RhbmNlLm1lcmdlKTtcbiAgfVxuICAvKipcbiAgICogSWYgQmxvY2sgY29udGFpbnMgaW5wdXRzLCBpdCBpcyBmb2N1c2FibGVcbiAgICovXG4gIGdldCBmb2N1c2FibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzLmxlbmd0aCAhPT0gMDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgYmxvY2sgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIGNvbnN0IGUgPSBkLmlzRW1wdHkodGhpcy5wbHVnaW5zQ29udGVudCwgXCIvXCIpLCB0ID0gIXRoaXMuaGFzTWVkaWE7XG4gICAgcmV0dXJuIGUgJiYgdDtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgYmxvY2sgaGFzIGEgbWVkaWEgY29udGVudCBzdWNoIGFzIGltYWdlcywgaWZyYW1lIGFuZCBvdGhlclxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBoYXNNZWRpYSgpIHtcbiAgICBjb25zdCBlID0gW1xuICAgICAgXCJpbWdcIixcbiAgICAgIFwiaWZyYW1lXCIsXG4gICAgICBcInZpZGVvXCIsXG4gICAgICBcImF1ZGlvXCIsXG4gICAgICBcInNvdXJjZVwiLFxuICAgICAgXCJpbnB1dFwiLFxuICAgICAgXCJ0ZXh0YXJlYVwiLFxuICAgICAgXCJ0d2l0dGVyd2lkZ2V0XCJcbiAgICBdO1xuICAgIHJldHVybiAhIXRoaXMuaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoZS5qb2luKFwiLFwiKSk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBzZWxlY3RlZCBzdGF0ZVxuICAgKiBXZSBkb24ndCBuZWVkIHRvIG1hcmsgQmxvY2sgYXMgU2VsZWN0ZWQgd2hlbiBpdCBpcyBlbXB0eVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gJ3RydWUnIHRvIHNlbGVjdCwgJ2ZhbHNlJyB0byByZW1vdmUgc2VsZWN0aW9uXG4gICAqL1xuICBzZXQgc2VsZWN0ZWQoZSkge1xuICAgIHZhciBpLCBzO1xuICAgIHRoaXMuaG9sZGVyLmNsYXNzTGlzdC50b2dnbGUoRC5DU1Muc2VsZWN0ZWQsIGUpO1xuICAgIGNvbnN0IHQgPSBlID09PSAhMCAmJiBiLmlzUmFuZ2VJbnNpZGVDb250YWluZXIodGhpcy5ob2xkZXIpLCBvID0gZSA9PT0gITEgJiYgYi5pc0Zha2VDdXJzb3JJbnNpZGVDb250YWluZXIodGhpcy5ob2xkZXIpO1xuICAgICh0IHx8IG8pICYmICgoaSA9IHRoaXMuZWRpdG9yRXZlbnRCdXMpID09IG51bGwgfHwgaS5lbWl0KFJ0LCB7IHN0YXRlOiBlIH0pLCB0ID8gYi5hZGRGYWtlQ3Vyc29yKCkgOiBiLnJlbW92ZUZha2VDdXJzb3IodGhpcy5ob2xkZXIpLCAocyA9IHRoaXMuZWRpdG9yRXZlbnRCdXMpID09IG51bGwgfHwgcy5lbWl0KEZ0LCB7IHN0YXRlOiBlIH0pKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUcnVlIGlmIGl0IGlzIFNlbGVjdGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmhvbGRlci5jbGFzc0xpc3QuY29udGFpbnMoRC5DU1Muc2VsZWN0ZWQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc3RyZXRjaGVkIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc3RhdGUgLSAndHJ1ZScgdG8gZW5hYmxlLCAnZmFsc2UnIHRvIGRpc2FibGUgc3RyZXRjaGVkIHN0YXRlXG4gICAqL1xuICBzZXQgc3RyZXRjaGVkKGUpIHtcbiAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QudG9nZ2xlKEQuQ1NTLndyYXBwZXJTdHJldGNoZWQsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gQmxvY2sncyBzdHJldGNoZWQgc3RhdGVcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgc3RyZXRjaGVkKCkge1xuICAgIHJldHVybiB0aGlzLmhvbGRlci5jbGFzc0xpc3QuY29udGFpbnMoRC5DU1Mud3JhcHBlclN0cmV0Y2hlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZSBkcm9wIHRhcmdldCBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gJ3RydWUnIGlmIGJsb2NrIGlzIGRyb3AgdGFyZ2V0LCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIHNldCBkcm9wVGFyZ2V0KGUpIHtcbiAgICB0aGlzLmhvbGRlci5jbGFzc0xpc3QudG9nZ2xlKEQuQ1NTLmRyb3BUYXJnZXQsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFBsdWdpbnMgY29udGVudFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgcGx1Z2luc0NvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIG1ldGhvZFxuICAgKlxuICAgKiBNZXRob2QgY2hlY2tzIHRvb2wgcHJvcGVydHkge01ldGhvZE5hbWV9LiBGaXJlcyBtZXRob2Qgd2l0aCBwYXNzZXMgcGFyYW1zIElmIGl0IGlzIGluc3RhbmNlIG9mIEZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIC0gbWV0aG9kIHRvIGNhbGxcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIG1ldGhvZCBhcmd1bWVudFxuICAgKi9cbiAgY2FsbChlLCB0KSB7XG4gICAgaWYgKE8odGhpcy50b29sSW5zdGFuY2VbZV0pKSB7XG4gICAgICBlID09PSBcImFwcGVuZENhbGxiYWNrXCIgJiYgSShcbiAgICAgICAgXCJgYXBwZW5kQ2FsbGJhY2tgIGhvb2sgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFVzZSBgcmVuZGVyZWRgIGhvb2sgaW5zdGVhZFwiLFxuICAgICAgICBcIndhcm5cIlxuICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMudG9vbEluc3RhbmNlW2VdLmNhbGwodGhpcy50b29sSW5zdGFuY2UsIHQpO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICBJKGBFcnJvciBkdXJpbmcgJyR7ZX0nIGNhbGw6ICR7by5tZXNzYWdlfWAsIFwiZXJyb3JcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsIHBsdWdpbnMgbWVyZ2UgbWV0aG9kXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2tUb29sRGF0YX0gZGF0YSAtIGRhdGEgdG8gbWVyZ2VcbiAgICovXG4gIGFzeW5jIG1lcmdlV2l0aChlKSB7XG4gICAgYXdhaXQgdGhpcy50b29sSW5zdGFuY2UubWVyZ2UoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIGRhdGEgZnJvbSBCbG9ja1xuICAgKiBHcm91cHMgVG9vbCdzIHNhdmUgcHJvY2Vzc2luZyB0aW1lXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBhc3luYyBzYXZlKCkge1xuICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLnRvb2xJbnN0YW5jZS5zYXZlKHRoaXMucGx1Z2luc0NvbnRlbnQpLCB0ID0gdGhpcy51bmF2YWlsYWJsZVR1bmVzRGF0YTtcbiAgICBbXG4gICAgICAuLi50aGlzLnR1bmVzSW5zdGFuY2VzLmVudHJpZXMoKSxcbiAgICAgIC4uLnRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzLmVudHJpZXMoKVxuICAgIF0uZm9yRWFjaCgoW3MsIHJdKSA9PiB7XG4gICAgICBpZiAoTyhyLnNhdmUpKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRbc10gPSByLnNhdmUoKTtcbiAgICAgICAgfSBjYXRjaCAobCkge1xuICAgICAgICAgIEkoYFR1bmUgJHtyLmNvbnN0cnVjdG9yLm5hbWV9IHNhdmUgbWV0aG9kIHRocm93cyBhbiBFcnJvciAlb2AsIFwid2FyblwiLCBsKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG8gPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgbGV0IGk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlKS50aGVuKChzKSA9PiAoaSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSwge1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0b29sOiB0aGlzLm5hbWUsXG4gICAgICBkYXRhOiBzLFxuICAgICAgdHVuZXM6IHQsXG4gICAgICB0aW1lOiBpIC0gb1xuICAgIH0pKS5jYXRjaCgocykgPT4ge1xuICAgICAgSShgU2F2aW5nIHByb2Nlc3MgZm9yICR7dGhpcy5uYW1lfSB0b29sIGZhaWxlZCBkdWUgdG8gdGhlICR7c31gLCBcImxvZ1wiLCBcInJlZFwiKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVXNlcyBUb29sJ3MgdmFsaWRhdGlvbiBtZXRob2QgdG8gY2hlY2sgdGhlIGNvcnJlY3RuZXNzIG9mIG91dHB1dCBkYXRhXG4gICAqIFRvb2wncyB2YWxpZGF0aW9uIG1ldGhvZCBpcyBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb24gTWV0aG9kIHJldHVybnMgdHJ1ZXxmYWxzZSB3aGV0aGVyIGRhdGEgcGFzc2VkIHRoZSB2YWxpZGF0aW9uIG9yIG5vdFxuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IGRhdGEgLSBkYXRhIHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSB2YWxpZFxuICAgKi9cbiAgYXN5bmMgdmFsaWRhdGUoZSkge1xuICAgIGxldCB0ID0gITA7XG4gICAgcmV0dXJuIHRoaXMudG9vbEluc3RhbmNlLnZhbGlkYXRlIGluc3RhbmNlb2YgRnVuY3Rpb24gJiYgKHQgPSBhd2FpdCB0aGlzLnRvb2xJbnN0YW5jZS52YWxpZGF0ZShlKSksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZGF0YSB0byByZW5kZXIgaW4gQmxvY2sgVHVuZXMgbWVudS5cbiAgICogU3BsaXRzIGJsb2NrIHR1bmVzIGludG8gMiBncm91cHM6IGJsb2NrIHNwZWNpZmljIHR1bmVzIGFuZCBjb21tb24gdHVuZXNcbiAgICovXG4gIGdldFR1bmVzKCkge1xuICAgIGNvbnN0IGUgPSBbXSwgdCA9IFtdLCBvID0gdHlwZW9mIHRoaXMudG9vbEluc3RhbmNlLnJlbmRlclNldHRpbmdzID09IFwiZnVuY3Rpb25cIiA/IHRoaXMudG9vbEluc3RhbmNlLnJlbmRlclNldHRpbmdzKCkgOiBbXTtcbiAgICByZXR1cm4gZC5pc0VsZW1lbnQobykgPyBlLnB1c2goe1xuICAgICAgdHlwZTogQS5IdG1sLFxuICAgICAgZWxlbWVudDogb1xuICAgIH0pIDogQXJyYXkuaXNBcnJheShvKSA/IGUucHVzaCguLi5vKSA6IGUucHVzaChvKSwgW1xuICAgICAgLi4udGhpcy50dW5lc0luc3RhbmNlcy52YWx1ZXMoKSxcbiAgICAgIC4uLnRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzLnZhbHVlcygpXG4gICAgXS5tYXAoKHMpID0+IHMucmVuZGVyKCkpLmZvckVhY2goKHMpID0+IHtcbiAgICAgIGQuaXNFbGVtZW50KHMpID8gdC5wdXNoKHtcbiAgICAgICAgdHlwZTogQS5IdG1sLFxuICAgICAgICBlbGVtZW50OiBzXG4gICAgICB9KSA6IEFycmF5LmlzQXJyYXkocykgPyB0LnB1c2goLi4ucykgOiB0LnB1c2gocyk7XG4gICAgfSksIHtcbiAgICAgIHRvb2xUdW5lczogZSxcbiAgICAgIGNvbW1vblR1bmVzOiB0XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIGN1cnJlbnQgaW5wdXQgaW5kZXggd2l0aCBzZWxlY3Rpb24gYW5jaG9yIG5vZGVcbiAgICovXG4gIHVwZGF0ZUN1cnJlbnRJbnB1dCgpIHtcbiAgICB0aGlzLmN1cnJlbnRJbnB1dCA9IGQuaXNOYXRpdmVJbnB1dChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB8fCAhYi5hbmNob3JOb2RlID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IGIuYW5jaG9yTm9kZTtcbiAgfVxuICAvKipcbiAgICogQWxsb3dzIHRvIHNheSBFZGl0b3IgdGhhdCBCbG9jayB3YXMgY2hhbmdlZC4gVXNlZCB0byBtYW51YWxseSB0cmlnZ2VyIEVkaXRvcidzICdvbkNoYW5nZScgY2FsbGJhY2tcbiAgICogQ2FuIGJlIHVzZWZ1bCBmb3IgYmxvY2sgY2hhbmdlcyBpbnZpc2libGUgZm9yIGVkaXRvciBjb3JlLlxuICAgKi9cbiAgZGlzcGF0Y2hDaGFuZ2UoKSB7XG4gICAgdGhpcy5kaWRNdXRhdGVkKCk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgVG9vbCBpbnN0YW5jZSBkZXN0cm95IG1ldGhvZFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVud2F0Y2hCbG9ja011dGF0aW9ucygpLCB0aGlzLnJlbW92ZUlucHV0RXZlbnRzKCksIHN1cGVyLmRlc3Ryb3koKSwgTyh0aGlzLnRvb2xJbnN0YW5jZS5kZXN0cm95KSAmJiB0aGlzLnRvb2xJbnN0YW5jZS5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgY291bGQgc3BlY2lmeSBzZXZlcmFsIGVudHJpZXMgdG8gYmUgZGlzcGxheWVkIGF0IHRoZSBUb29sYm94IChmb3IgZXhhbXBsZSwgXCJIZWFkaW5nIDFcIiwgXCJIZWFkaW5nIDJcIiwgXCJIZWFkaW5nIDNcIilcbiAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZW50cnkgdGhhdCBpcyByZWxhdGVkIHRvIHRoZSBCbG9jayAoZGVwZW5kZWQgb24gdGhlIEJsb2NrIGRhdGEpXG4gICAqL1xuICBhc3luYyBnZXRBY3RpdmVUb29sYm94RW50cnkoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMudG9vbC50b29sYm94O1xuICAgIGlmIChlLmxlbmd0aCA9PT0gMSlcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50b29sLnRvb2xib3hbMF0pO1xuICAgIGNvbnN0IHQgPSBhd2FpdCB0aGlzLmRhdGEsIG8gPSBlO1xuICAgIHJldHVybiBvID09IG51bGwgPyB2b2lkIDAgOiBvLmZpbmQoKGkpID0+IEh0KGkuZGF0YSwgdCkpO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnRzIEJsb2NrIGRhdGEgYXMgc3RyaW5nIHVzaW5nIGNvbnZlcnNpb24gY29uZmlnXG4gICAqL1xuICBhc3luYyBleHBvcnREYXRhQXNTdHJpbmcoKSB7XG4gICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuZGF0YTtcbiAgICByZXR1cm4gSG8oZSwgdGhpcy50b29sLmNvbnZlcnNpb25Db25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBNYWtlIGRlZmF1bHQgQmxvY2sgd3JhcHBlcnMgYW5kIHB1dCBUb29sYHMgY29udGVudCB0aGVyZVxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9XG4gICAqL1xuICBjb21wb3NlKCkge1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIiwgRC5DU1Mud3JhcHBlciksIHQgPSBkLm1ha2UoXCJkaXZcIiwgRC5DU1MuY29udGVudCksIG8gPSB0aGlzLnRvb2xJbnN0YW5jZS5yZW5kZXIoKTtcbiAgICBlLmRhdGFzZXQuaWQgPSB0aGlzLmlkLCB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQgPSBvLCB0LmFwcGVuZENoaWxkKHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCk7XG4gICAgbGV0IGkgPSB0O1xuICAgIHJldHVybiBbLi4udGhpcy50dW5lc0luc3RhbmNlcy52YWx1ZXMoKSwgLi4udGhpcy5kZWZhdWx0VHVuZXNJbnN0YW5jZXMudmFsdWVzKCldLmZvckVhY2goKHMpID0+IHtcbiAgICAgIGlmIChPKHMud3JhcCkpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaSA9IHMud3JhcChpKTtcbiAgICAgICAgfSBjYXRjaCAocikge1xuICAgICAgICAgIEkoYFR1bmUgJHtzLmNvbnN0cnVjdG9yLm5hbWV9IHdyYXAgbWV0aG9kIHRocm93cyBhbiBFcnJvciAlb2AsIFwid2FyblwiLCByKTtcbiAgICAgICAgfVxuICAgIH0pLCBlLmFwcGVuZENoaWxkKGkpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBCbG9jayBUdW5lc1xuICAgKlxuICAgKiBAcGFyYW0gdHVuZXNEYXRhIC0gY3VycmVudCBCbG9jayB0dW5lcyBkYXRhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb21wb3NlVHVuZXMoZSkge1xuICAgIEFycmF5LmZyb20odGhpcy50dW5lcy52YWx1ZXMoKSkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgKHQuaXNJbnRlcm5hbCA/IHRoaXMuZGVmYXVsdFR1bmVzSW5zdGFuY2VzIDogdGhpcy50dW5lc0luc3RhbmNlcykuc2V0KHQubmFtZSwgdC5jcmVhdGUoZVt0Lm5hbWVdLCB0aGlzLmJsb2NrQVBJKSk7XG4gICAgfSksIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFt0LCBvXSkgPT4ge1xuICAgICAgdGhpcy50dW5lc0luc3RhbmNlcy5oYXModCkgfHwgKHRoaXMudW5hdmFpbGFibGVUdW5lc0RhdGFbdF0gPSBvKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBmb2N1cyBldmVudCBsaXN0ZW5lcnMgdG8gYWxsIGlucHV0cyBhbmQgY29udGVudGVkaXRhYmxlXG4gICAqL1xuICBhZGRJbnB1dEV2ZW50cygpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLmhhbmRsZUZvY3VzKSwgZC5pc05hdGl2ZUlucHV0KGUpICYmIGUuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRoaXMuZGlkTXV0YXRlZCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIHJlbW92ZXMgZm9jdXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gYWxsIGlucHV0cyBhbmQgY29udGVudGVkaXRhYmxlXG4gICAqL1xuICByZW1vdmVJbnB1dEV2ZW50cygpIHtcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLmhhbmRsZUZvY3VzKSwgZC5pc05hdGl2ZUlucHV0KGUpICYmIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRoaXMuZGlkTXV0YXRlZCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiBjb21tb24gZWRpdG9yIERvbSBDaGFuZ2VkIGV2ZW50IGFuZCBkZXRlY3QgbXV0YXRpb25zIHJlbGF0ZWQgdG8gdGhlICBCbG9ja1xuICAgKi9cbiAgd2F0Y2hCbG9ja011dGF0aW9ucygpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnJlZGFjdG9yRG9tQ2hhbmdlZENhbGxiYWNrID0gKHQpID0+IHtcbiAgICAgIGNvbnN0IHsgbXV0YXRpb25zOiBvIH0gPSB0O1xuICAgICAgby5zb21lKChzKSA9PiBGbyhzLCB0aGlzLnRvb2xSZW5kZXJlZEVsZW1lbnQpKSAmJiB0aGlzLmRpZE11dGF0ZWQobyk7XG4gICAgfSwgKGUgPSB0aGlzLmVkaXRvckV2ZW50QnVzKSA9PSBudWxsIHx8IGUub24oSmUsIHRoaXMucmVkYWN0b3JEb21DaGFuZ2VkQ2FsbGJhY2spO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgcmVkYWN0b3IgZG9tIGNoYW5nZSBldmVudCBsaXN0ZW5lclxuICAgKi9cbiAgdW53YXRjaEJsb2NrTXV0YXRpb25zKCkge1xuICAgIHZhciBlO1xuICAgIChlID0gdGhpcy5lZGl0b3JFdmVudEJ1cykgPT0gbnVsbCB8fCBlLm9mZihKZSwgdGhpcy5yZWRhY3RvckRvbUNoYW5nZWRDYWxsYmFjayk7XG4gIH1cbiAgLyoqXG4gICAqIFNvbWV0aW1lcyBUb29sIGNhbiByZXBsYWNlIG93biBtYWluIGVsZW1lbnQsIGZvciBleGFtcGxlIEgyIC0+IEg0IG9yIFVMIC0+IE9MXG4gICAqIFdlIG5lZWQgdG8gZGV0ZWN0IHN1Y2ggY2hhbmdlcyBhbmQgdXBkYXRlIGEgbGluayB0byB0b29scyBtYWluIGVsZW1lbnQgd2l0aCB0aGUgbmV3IG9uZVxuICAgKlxuICAgKiBAcGFyYW0gbXV0YXRpb25zIC0gcmVjb3JkcyBvZiBibG9jayBjb250ZW50IG11dGF0aW9uc1xuICAgKi9cbiAgZGV0ZWN0VG9vbFJvb3RDaGFuZ2UoZSkge1xuICAgIGUuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgaWYgKEFycmF5LmZyb20odC5yZW1vdmVkTm9kZXMpLmluY2x1ZGVzKHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCkpIHtcbiAgICAgICAgY29uc3QgaSA9IHQuYWRkZWROb2Rlc1t0LmFkZGVkTm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMudG9vbFJlbmRlcmVkRWxlbWVudCA9IGk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBpbnB1dHMgY2FjaGVkIHZhbHVlXG4gICAqL1xuICBkcm9wSW5wdXRzQ2FjaGUoKSB7XG4gICAgdGhpcy5jYWNoZWRJbnB1dHMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogTWFyayBpbnB1dHMgd2l0aCAnZGF0YS1lbXB0eScgYXR0cmlidXRlIHdpdGggdGhlIGVtcHR5IHN0YXRlXG4gICAqL1xuICB0b2dnbGVJbnB1dHNFbXB0eU1hcmsoKSB7XG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaChMdCk7XG4gIH1cbn1cbmNsYXNzIHpvIGV4dGVuZHMgeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaW5zZXJ0ID0gKGUgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssIHQgPSB7fSwgbyA9IHt9LCBpLCBzLCByLCBsKSA9PiB7XG4gICAgICBjb25zdCBhID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydCh7XG4gICAgICAgIGlkOiBsLFxuICAgICAgICB0b29sOiBlLFxuICAgICAgICBkYXRhOiB0LFxuICAgICAgICBpbmRleDogaSxcbiAgICAgICAgbmVlZFRvRm9jdXM6IHMsXG4gICAgICAgIHJlcGxhY2U6IHJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBHKGEpO1xuICAgIH0sIHRoaXMuY29tcG9zZUJsb2NrRGF0YSA9IGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scy5nZXQoZSk7XG4gICAgICByZXR1cm4gbmV3IEQoe1xuICAgICAgICB0b29sOiB0LFxuICAgICAgICBhcGk6IHRoaXMuRWRpdG9yLkFQSSxcbiAgICAgICAgcmVhZE9ubHk6ICEwLFxuICAgICAgICBkYXRhOiB7fSxcbiAgICAgICAgdHVuZXNEYXRhOiB7fVxuICAgICAgfSkuZGF0YTtcbiAgICB9LCB0aGlzLnVwZGF0ZSA9IGFzeW5jIChlLCB0LCBvKSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogaSB9ID0gdGhpcy5FZGl0b3IsIHMgPSBpLmdldEJsb2NrQnlJZChlKTtcbiAgICAgIGlmIChzID09PSB2b2lkIDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQmxvY2sgd2l0aCBpZCBcIiR7ZX1cIiBub3QgZm91bmRgKTtcbiAgICAgIGNvbnN0IHIgPSBhd2FpdCBpLnVwZGF0ZShzLCB0LCBvKTtcbiAgICAgIHJldHVybiBuZXcgRyhyKTtcbiAgICB9LCB0aGlzLmNvbnZlcnQgPSBhc3luYyAoZSwgdCwgbykgPT4ge1xuICAgICAgdmFyIGgsIHA7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogaSwgVG9vbHM6IHMgfSA9IHRoaXMuRWRpdG9yLCByID0gaS5nZXRCbG9ja0J5SWQoZSk7XG4gICAgICBpZiAoIXIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQmxvY2sgd2l0aCBpZCBcIiR7ZX1cIiBub3QgZm91bmRgKTtcbiAgICAgIGNvbnN0IGwgPSBzLmJsb2NrVG9vbHMuZ2V0KHIubmFtZSksIGEgPSBzLmJsb2NrVG9vbHMuZ2V0KHQpO1xuICAgICAgaWYgKCFhKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJsb2NrIFRvb2wgd2l0aCB0eXBlIFwiJHt0fVwiIG5vdCBmb3VuZGApO1xuICAgICAgY29uc3QgYyA9ICgoaCA9IGwgPT0gbnVsbCA/IHZvaWQgMCA6IGwuY29udmVyc2lvbkNvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IGguZXhwb3J0KSAhPT0gdm9pZCAwLCB1ID0gKChwID0gYS5jb252ZXJzaW9uQ29uZmlnKSA9PSBudWxsID8gdm9pZCAwIDogcC5pbXBvcnQpICE9PSB2b2lkIDA7XG4gICAgICBpZiAoYyAmJiB1KSB7XG4gICAgICAgIGNvbnN0IGcgPSBhd2FpdCBpLmNvbnZlcnQociwgdCwgbyk7XG4gICAgICAgIHJldHVybiBuZXcgRyhnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGcgPSBbXG4gICAgICAgICAgYyA/ICExIDogTGUoci5uYW1lKSxcbiAgICAgICAgICB1ID8gITEgOiBMZSh0KVxuICAgICAgICBdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIGFuZCBcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29udmVyc2lvbiBmcm9tIFwiJHtyLm5hbWV9XCIgdG8gXCIke3R9XCIgaXMgbm90IHBvc3NpYmxlLiAke2d9IHRvb2wocykgc2hvdWxkIHByb3ZpZGUgYSBcImNvbnZlcnNpb25Db25maWdcImApO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaW5zZXJ0TWFueSA9IChlLCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5sZW5ndGggLSAxKSA9PiB7XG4gICAgICB0aGlzLnZhbGlkYXRlSW5kZXgodCk7XG4gICAgICBjb25zdCBvID0gZS5tYXAoKHsgaWQ6IGksIHR5cGU6IHMsIGRhdGE6IHIgfSkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNvbXBvc2VCbG9jayh7XG4gICAgICAgIGlkOiBpLFxuICAgICAgICB0b29sOiBzIHx8IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICAgICAgZGF0YTogclxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnRNYW55KG8sIHQpLCBvLm1hcCgoaSkgPT4gbmV3IEcoaSkpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja3N9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xlYXI6ICgpID0+IHRoaXMuY2xlYXIoKSxcbiAgICAgIHJlbmRlcjogKGUpID0+IHRoaXMucmVuZGVyKGUpLFxuICAgICAgcmVuZGVyRnJvbUhUTUw6IChlKSA9PiB0aGlzLnJlbmRlckZyb21IVE1MKGUpLFxuICAgICAgZGVsZXRlOiAoZSkgPT4gdGhpcy5kZWxldGUoZSksXG4gICAgICBzd2FwOiAoZSwgdCkgPT4gdGhpcy5zd2FwKGUsIHQpLFxuICAgICAgbW92ZTogKGUsIHQpID0+IHRoaXMubW92ZShlLCB0KSxcbiAgICAgIGdldEJsb2NrQnlJbmRleDogKGUpID0+IHRoaXMuZ2V0QmxvY2tCeUluZGV4KGUpLFxuICAgICAgZ2V0QnlJZDogKGUpID0+IHRoaXMuZ2V0QnlJZChlKSxcbiAgICAgIGdldEN1cnJlbnRCbG9ja0luZGV4OiAoKSA9PiB0aGlzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksXG4gICAgICBnZXRCbG9ja0luZGV4OiAoZSkgPT4gdGhpcy5nZXRCbG9ja0luZGV4KGUpLFxuICAgICAgZ2V0QmxvY2tzQ291bnQ6ICgpID0+IHRoaXMuZ2V0QmxvY2tzQ291bnQoKSxcbiAgICAgIGdldEJsb2NrQnlFbGVtZW50OiAoZSkgPT4gdGhpcy5nZXRCbG9ja0J5RWxlbWVudChlKSxcbiAgICAgIHN0cmV0Y2hCbG9jazogKGUsIHQgPSAhMCkgPT4gdGhpcy5zdHJldGNoQmxvY2soZSwgdCksXG4gICAgICBpbnNlcnROZXdCbG9jazogKCkgPT4gdGhpcy5pbnNlcnROZXdCbG9jaygpLFxuICAgICAgaW5zZXJ0OiB0aGlzLmluc2VydCxcbiAgICAgIGluc2VydE1hbnk6IHRoaXMuaW5zZXJ0TWFueSxcbiAgICAgIHVwZGF0ZTogdGhpcy51cGRhdGUsXG4gICAgICBjb21wb3NlQmxvY2tEYXRhOiB0aGlzLmNvbXBvc2VCbG9ja0RhdGEsXG4gICAgICBjb252ZXJ0OiB0aGlzLmNvbnZlcnRcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrcyBjb3VudFxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0QmxvY2tzQ291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgYmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldEN1cnJlbnRCbG9ja0luZGV4KCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGluZGV4IG9mIEJsb2NrIGJ5IGlkO1xuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBibG9jayBpZFxuICAgKi9cbiAgZ2V0QmxvY2tJbmRleChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SWQoZSk7XG4gICAgaWYgKCF0KSB7XG4gICAgICBYKFwiVGhlcmUgaXMgbm8gYmxvY2sgd2l0aCBpZCBgXCIgKyBlICsgXCJgXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0luZGV4KHQpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEJsb2NrQVBJIG9iamVjdCBieSBCbG9jayBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCB0byBnZXRcbiAgICovXG4gIGdldEJsb2NrQnlJbmRleChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgoZSk7XG4gICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgWChcIlRoZXJlIGlzIG5vIGJsb2NrIGF0IGluZGV4IGBcIiArIGUgKyBcImBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEcodCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgQmxvY2tBUEkgb2JqZWN0IGJ5IEJsb2NrIGlkXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIGlkIG9mIGJsb2NrIHRvIGdldFxuICAgKi9cbiAgZ2V0QnlJZChlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SWQoZSk7XG4gICAgcmV0dXJuIHQgPT09IHZvaWQgMCA/IChYKFwiVGhlcmUgaXMgbm8gYmxvY2sgd2l0aCBpZCBgXCIgKyBlICsgXCJgXCIsIFwid2FyblwiKSwgbnVsbCkgOiBuZXcgRyh0KTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrIEFQSSBvYmplY3QgYnkgYW55IGNoaWxkIGh0bWwgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCAtIGh0bWwgZWxlbWVudCB0byBnZXQgQmxvY2sgYnlcbiAgICovXG4gIGdldEJsb2NrQnlFbGVtZW50KGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrKGUpO1xuICAgIGlmICh0ID09PSB2b2lkIDApIHtcbiAgICAgIFgoXCJUaGVyZSBpcyBubyBibG9jayBjb3JyZXNwb25kaW5nIHRvIGVsZW1lbnQgYFwiICsgZSArIFwiYFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBuZXcgRyh0KTtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBCbG9jayBNYW5hZ2VyIG1ldGhvZCB0aGF0IHN3YXAgQmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggLSBwb3NpdGlvbiBvZiBmaXJzdCBCbG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gdG9JbmRleCAtIHBvc2l0aW9uIG9mIHNlY29uZCBCbG9ja1xuICAgKiBAZGVwcmVjYXRlZCBcdTIwMTQgdXNlICdtb3ZlJyBpbnN0ZWFkXG4gICAqL1xuICBzd2FwKGUsIHQpIHtcbiAgICBJKFxuICAgICAgXCJgYmxvY2tzLnN3YXAoKWAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLiBVc2UgYGJsb2NrLm1vdmUoKWAgbWV0aG9kIGluc3RlYWRcIixcbiAgICAgIFwiaW5mb1wiXG4gICAgKSwgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnN3YXAoZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgYmxvY2sgZnJvbSBvbmUgaW5kZXggdG8gYW5vdGhlclxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG9JbmRleCAtIGluZGV4IHRvIG1vdmUgdG9cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCAtIGluZGV4IHRvIG1vdmUgZnJvbVxuICAgKi9cbiAgbW92ZShlLCB0KSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLm1vdmUoZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZXMgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJsb2NrSW5kZXggLSBpbmRleCBvZiBCbG9jayB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShlID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9ja0luZGV4KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUluZGV4KGUpO1xuICAgICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnJlbW92ZUJsb2NrKHQpO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgIFgodCwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0KCksIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLCB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuRU5EKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBFZGl0b3IncyBhcmVhXG4gICAqL1xuICBhc3luYyBjbGVhcigpIHtcbiAgICBhd2FpdCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXIoITApLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbGxzIEVkaXRvciB3aXRoIEJsb2NrcyBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7T3V0cHV0RGF0YX0gZGF0YSBcdTIwMTQgU2F2ZWQgRWRpdG9yIGRhdGFcbiAgICovXG4gIGFzeW5jIHJlbmRlcihlKSB7XG4gICAgaWYgKGUgPT09IHZvaWQgMCB8fCBlLmJsb2NrcyA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5jb3JyZWN0IGRhdGEgcGFzc2VkIHRvIHRoZSByZW5kZXIoKSBtZXRob2RcIik7XG4gICAgdGhpcy5FZGl0b3IuTW9kaWZpY2F0aW9uc09ic2VydmVyLmRpc2FibGUoKSwgYXdhaXQgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyKCksIGF3YWl0IHRoaXMuRWRpdG9yLlJlbmRlcmVyLnJlbmRlcihlLmJsb2NrcyksIHRoaXMuRWRpdG9yLk1vZGlmaWNhdGlvbnNPYnNlcnZlci5lbmFibGUoKTtcbiAgfVxuICAvKipcbiAgICogUmVuZGVyIHBhc3NlZCBIVE1MIHN0cmluZ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAtIEhUTUwgc3RyaW5nIHRvIHJlbmRlclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIHJlbmRlckZyb21IVE1MKGUpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmNsZWFyKCksIHRoaXMuRWRpdG9yLlBhc3RlLnByb2Nlc3NUZXh0KGUsICEwKTtcbiAgfVxuICAvKipcbiAgICogU3RyZXRjaCBCbG9jaydzIGNvbnRlbnRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gc3RyZXRjaFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXR1cyAtIHRydWUgdG8gZW5hYmxlLCBmYWxzZSB0byBkaXNhYmxlXG4gICAqIEBkZXByZWNhdGVkIFVzZSBCbG9ja0FQSSBpbnRlcmZhY2UgdG8gc3RyZXRjaCBCbG9ja3NcbiAgICovXG4gIHN0cmV0Y2hCbG9jayhlLCB0ID0gITApIHtcbiAgICBaZShcbiAgICAgICEwLFxuICAgICAgXCJibG9ja3Muc3RyZXRjaEJsb2NrKClcIixcbiAgICAgIFwiQmxvY2tBUElcIlxuICAgICk7XG4gICAgY29uc3QgbyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgoZSk7XG4gICAgbyAmJiAoby5zdHJldGNoZWQgPSB0KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IG5ldyBCbG9ja1xuICAgKiBBZnRlciBzZXQgY2FyZXQgdG8gdGhpcyBCbG9ja1xuICAgKlxuICAgKiBAdG9kbyByZW1vdmUgaW4gMy4wLjBcbiAgICogQGRlcHJlY2F0ZWQgd2l0aCBpbnNlcnQoKSBtZXRob2RcbiAgICovXG4gIGluc2VydE5ld0Jsb2NrKCkge1xuICAgIEkoXCJNZXRob2QgYmxvY2tzLmluc2VydE5ld0Jsb2NrKCkgaXMgZGVwcmVjYXRlZCBhbmQgaXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFVzZSBibG9ja3MuaW5zZXJ0KCkgaW5zdGVhZC5cIiwgXCJ3YXJuXCIpLCB0aGlzLmluc2VydCgpO1xuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZWQgYmxvY2sgaW5kZXggYW5kIHRocm93cyBhbiBlcnJvciBpZiBpdCdzIGludmFsaWRcbiAgICpcbiAgICogQHBhcmFtIGluZGV4IC0gaW5kZXggdG8gdmFsaWRhdGVcbiAgICovXG4gIHZhbGlkYXRlSW5kZXgoZSkge1xuICAgIGlmICh0eXBlb2YgZSAhPSBcIm51bWJlclwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5kZXggc2hvdWxkIGJlIGEgbnVtYmVyXCIpO1xuICAgIGlmIChlIDwgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IHNob3VsZCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMFwiKTtcbiAgICBpZiAoZSA9PT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkluZGV4IHNob3VsZCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gVW8obiwgZSkge1xuICByZXR1cm4gdHlwZW9mIG4gPT0gXCJudW1iZXJcIiA/IGUuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlJbmRleChuKSA6IHR5cGVvZiBuID09IFwic3RyaW5nXCIgPyBlLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SWQobikgOiBlLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SWQobi5pZCk7XG59XG5jbGFzcyBqbyBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnNldFRvRmlyc3RCbG9jayA9IChlID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIHQgPSAwKSA9PiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZmlyc3RCbG9jayA/ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5maXJzdEJsb2NrLCBlLCB0KSwgITApIDogITEsIHRoaXMuc2V0VG9MYXN0QmxvY2sgPSAoZSA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCB0ID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmxhc3RCbG9jayA/ICh0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2ssIGUsIHQpLCAhMCkgOiAhMSwgdGhpcy5zZXRUb1ByZXZpb3VzQmxvY2sgPSAoZSA9IHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5ERUZBVUxULCB0ID0gMCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnByZXZpb3VzQmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIucHJldmlvdXNCbG9jaywgZSwgdCksICEwKSA6ICExLCB0aGlzLnNldFRvTmV4dEJsb2NrID0gKGUgPSB0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuREVGQVVMVCwgdCA9IDApID0+IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5uZXh0QmxvY2sgPyAodGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubmV4dEJsb2NrLCBlLCB0KSwgITApIDogITEsIHRoaXMuc2V0VG9CbG9jayA9IChlLCB0ID0gdGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSA9PiB7XG4gICAgICBjb25zdCBpID0gVW8oZSwgdGhpcy5FZGl0b3IpO1xuICAgICAgcmV0dXJuIGkgPT09IHZvaWQgMCA/ICExIDogKHRoaXMuRWRpdG9yLkNhcmV0LnNldFRvQmxvY2soaSwgdCwgbyksICEwKTtcbiAgICB9LCB0aGlzLmZvY3VzID0gKGUgPSAhMSkgPT4gZSA/IHRoaXMuc2V0VG9MYXN0QmxvY2sodGhpcy5FZGl0b3IuQ2FyZXQucG9zaXRpb25zLkVORCkgOiB0aGlzLnNldFRvRmlyc3RCbG9jayh0aGlzLkVkaXRvci5DYXJldC5wb3NpdGlvbnMuU1RBUlQpO1xuICB9XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKlxuICAgKiBAcmV0dXJucyB7Q2FyZXR9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2V0VG9GaXJzdEJsb2NrOiB0aGlzLnNldFRvRmlyc3RCbG9jayxcbiAgICAgIHNldFRvTGFzdEJsb2NrOiB0aGlzLnNldFRvTGFzdEJsb2NrLFxuICAgICAgc2V0VG9QcmV2aW91c0Jsb2NrOiB0aGlzLnNldFRvUHJldmlvdXNCbG9jayxcbiAgICAgIHNldFRvTmV4dEJsb2NrOiB0aGlzLnNldFRvTmV4dEJsb2NrLFxuICAgICAgc2V0VG9CbG9jazogdGhpcy5zZXRUb0Jsb2NrLFxuICAgICAgZm9jdXM6IHRoaXMuZm9jdXNcbiAgICB9O1xuICB9XG59XG5jbGFzcyAkbyBleHRlbmRzIHkge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge0V2ZW50c31cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlbWl0OiAoZSwgdCkgPT4gdGhpcy5lbWl0KGUsIHQpLFxuICAgICAgb2ZmOiAoZSwgdCkgPT4gdGhpcy5vZmYoZSwgdCksXG4gICAgICBvbjogKGUsIHQpID0+IHRoaXMub24oZSwgdClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgb24gRXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBldmVudCBuYW1lIHRvIHN1YnNjcmliZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9uKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIub24oZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEVtaXQgZXZlbnQgd2l0aCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBldmVudCB0byBlbWl0XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gZXZlbnQncyBkYXRhXG4gICAqL1xuICBlbWl0KGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIuZW1pdChlLCB0KTtcbiAgfVxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSBFdmVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gZXZlbnQgdG8gdW5zdWJzY3JpYmVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBldmVudCBoYW5kbGVyXG4gICAqL1xuICBvZmYoZSwgdCkge1xuICAgIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vZmYoZSwgdCk7XG4gIH1cbn1cbmNsYXNzIG90IGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBSZXR1cm4gbmFtZXNwYWNlIHNlY3Rpb24gZm9yIHRvb2wgb3IgYmxvY2sgdHVuZVxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUgLSB0b29sIG5hbWVcbiAgICogQHBhcmFtIGlzVHVuZSAtIGlzIHRvb2wgYSBibG9jayB0dW5lXG4gICAqL1xuICBzdGF0aWMgZ2V0TmFtZXNwYWNlKGUsIHQpIHtcbiAgICByZXR1cm4gdCA/IGBibG9ja1R1bmVzLiR7ZX1gIDogYHRvb2xzLiR7ZX1gO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gSTE4biBBUEkgbWV0aG9kcyB3aXRoIGdsb2JhbCBkaWN0aW9uYXJ5IGFjY2Vzc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHQ6ICgpID0+IHtcbiAgICAgICAgWChcIkkxOG4udCgpIG1ldGhvZCBjYW4gYmUgYWNjZXNzZWQgb25seSBmcm9tIFRvb2xzXCIsIFwid2FyblwiKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gSTE4biBBUEkgbWV0aG9kcyB3aXRoIHRvb2wgbmFtZXNwYWNlZCBkaWN0aW9uYXJ5XG4gICAqXG4gICAqIEBwYXJhbSB0b29sTmFtZSAtIHRvb2wgbmFtZVxuICAgKiBAcGFyYW0gaXNUdW5lIC0gaXMgdG9vbCBhIGJsb2NrIHR1bmVcbiAgICovXG4gIGdldE1ldGhvZHNGb3JUb29sKGUsIHQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgIHRoaXMubWV0aG9kcyxcbiAgICAgIHtcbiAgICAgICAgdDogKG8pID0+IHoudChvdC5nZXROYW1lc3BhY2UoZSwgdCksIG8pXG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuY2xhc3MgWW8gZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEVkaXRvci5qcyBDb3JlIEFQSSBtb2R1bGVzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmxvY2tzOiB0aGlzLkVkaXRvci5CbG9ja3NBUEkubWV0aG9kcyxcbiAgICAgIGNhcmV0OiB0aGlzLkVkaXRvci5DYXJldEFQSS5tZXRob2RzLFxuICAgICAgdG9vbHM6IHRoaXMuRWRpdG9yLlRvb2xzQVBJLm1ldGhvZHMsXG4gICAgICBldmVudHM6IHRoaXMuRWRpdG9yLkV2ZW50c0FQSS5tZXRob2RzLFxuICAgICAgbGlzdGVuZXJzOiB0aGlzLkVkaXRvci5MaXN0ZW5lcnNBUEkubWV0aG9kcyxcbiAgICAgIG5vdGlmaWVyOiB0aGlzLkVkaXRvci5Ob3RpZmllckFQSS5tZXRob2RzLFxuICAgICAgc2FuaXRpemVyOiB0aGlzLkVkaXRvci5TYW5pdGl6ZXJBUEkubWV0aG9kcyxcbiAgICAgIHNhdmVyOiB0aGlzLkVkaXRvci5TYXZlckFQSS5tZXRob2RzLFxuICAgICAgc2VsZWN0aW9uOiB0aGlzLkVkaXRvci5TZWxlY3Rpb25BUEkubWV0aG9kcyxcbiAgICAgIHN0eWxlczogdGhpcy5FZGl0b3IuU3R5bGVzQVBJLmNsYXNzZXMsXG4gICAgICB0b29sYmFyOiB0aGlzLkVkaXRvci5Ub29sYmFyQVBJLm1ldGhvZHMsXG4gICAgICBpbmxpbmVUb29sYmFyOiB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyQVBJLm1ldGhvZHMsXG4gICAgICB0b29sdGlwOiB0aGlzLkVkaXRvci5Ub29sdGlwQVBJLm1ldGhvZHMsXG4gICAgICBpMThuOiB0aGlzLkVkaXRvci5JMThuQVBJLm1ldGhvZHMsXG4gICAgICByZWFkT25seTogdGhpcy5FZGl0b3IuUmVhZE9ubHlBUEkubWV0aG9kcyxcbiAgICAgIHVpOiB0aGlzLkVkaXRvci5VaUFQSS5tZXRob2RzXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBFZGl0b3IuanMgQ29yZSBBUEkgbWV0aG9kcyBmb3IgcGFzc2VkIHRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2xOYW1lIC0gdG9vbCBuYW1lXG4gICAqIEBwYXJhbSBpc1R1bmUgLSBpcyB0b29sIGEgYmxvY2sgdHVuZVxuICAgKi9cbiAgZ2V0TWV0aG9kc0ZvclRvb2woZSwgdCkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5tZXRob2RzLFxuICAgICAge1xuICAgICAgICBpMThuOiB0aGlzLkVkaXRvci5JMThuQVBJLmdldE1ldGhvZHNGb3JUb29sKGUsIHQpXG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuY2xhc3MgV28gZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtJbmxpbmVUb29sYmFyfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsb3NlOiAoKSA9PiB0aGlzLmNsb3NlKCksXG4gICAgICBvcGVuOiAoKSA9PiB0aGlzLm9wZW4oKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci50cnlUb1Nob3coKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxufVxuY2xhc3MgS28gZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtMaXN0ZW5lcnN9XG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb246IChlLCB0LCBvLCBpKSA9PiB0aGlzLm9uKGUsIHQsIG8sIGkpLFxuICAgICAgb2ZmOiAoZSwgdCwgbywgaSkgPT4gdGhpcy5vZmYoZSwgdCwgbywgaSksXG4gICAgICBvZmZCeUlkOiAoZSkgPT4gdGhpcy5vZmZCeUlkKGUpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQWRzIGEgRE9NIGV2ZW50IGxpc3RlbmVyLiBSZXR1cm4gaXQncyBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gc2V0IGhhbmRsZXIgdG9cbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBoYW5kbGVyIC0gZXZlbnQgaGFuZGxlclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUNhcHR1cmUgLSBjYXB0dXJlIGV2ZW50IG9yIG5vdFxuICAgKi9cbiAgb24oZSwgdCwgbywgaSkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVycy5vbihlLCB0LCBvLCBpKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBET00gbGlzdGVuZXIgZnJvbSBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gcmVtb3ZlIGhhbmRsZXIgZnJvbVxuICAgKiBAcGFyYW0gZXZlbnRUeXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0gaGFuZGxlciAtIGV2ZW50IGhhbmRsZXJcbiAgICogQHBhcmFtIHtib29sZWFufSB1c2VDYXB0dXJlIC0gY2FwdHVyZSBldmVudCBvciBub3RcbiAgICovXG4gIG9mZihlLCB0LCBvLCBpKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub2ZmKGUsIHQsIG8sIGkpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIERPTSBsaXN0ZW5lciBieSB0aGUgbGlzdGVuZXIgaWRcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gaWQgb2YgdGhlIGxpc3RlbmVyIHRvIHJlbW92ZVxuICAgKi9cbiAgb2ZmQnlJZChlKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub2ZmQnlJZChlKTtcbiAgfVxufVxudmFyIFV0ID0geyBleHBvcnRzOiB7fSB9O1xuKGZ1bmN0aW9uKG4sIGUpIHtcbiAgKGZ1bmN0aW9uKHQsIG8pIHtcbiAgICBuLmV4cG9ydHMgPSBvKCk7XG4gIH0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBvID0ge307XG4gICAgICBmdW5jdGlvbiBpKHMpIHtcbiAgICAgICAgaWYgKG9bc10pXG4gICAgICAgICAgcmV0dXJuIG9bc10uZXhwb3J0cztcbiAgICAgICAgdmFyIHIgPSBvW3NdID0geyBpOiBzLCBsOiAhMSwgZXhwb3J0czoge30gfTtcbiAgICAgICAgcmV0dXJuIHRbc10uY2FsbChyLmV4cG9ydHMsIHIsIHIuZXhwb3J0cywgaSksIHIubCA9ICEwLCByLmV4cG9ydHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5tID0gdCwgaS5jID0gbywgaS5kID0gZnVuY3Rpb24ocywgciwgbCkge1xuICAgICAgICBpLm8ocywgcikgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIHIsIHsgZW51bWVyYWJsZTogITAsIGdldDogbCB9KTtcbiAgICAgIH0sIGkuciA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdHlwZW9mIFN5bWJvbCA8IFwidVwiICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkocywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkocywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgICAgfSwgaS50ID0gZnVuY3Rpb24ocywgcikge1xuICAgICAgICBpZiAoMSAmIHIgJiYgKHMgPSBpKHMpKSwgOCAmIHIgfHwgNCAmIHIgJiYgdHlwZW9mIHMgPT0gXCJvYmplY3RcIiAmJiBzICYmIHMuX19lc01vZHVsZSlcbiAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgdmFyIGwgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihsKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogcyB9KSwgMiAmIHIgJiYgdHlwZW9mIHMgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICBmb3IgKHZhciBhIGluIHMpXG4gICAgICAgICAgICBpLmQobCwgYSwgKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNbY107XG4gICAgICAgICAgICB9KS5iaW5kKG51bGwsIGEpKTtcbiAgICAgICAgcmV0dXJuIGw7XG4gICAgICB9LCBpLm4gPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHZhciByID0gcyAmJiBzLl9fZXNNb2R1bGUgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gcy5kZWZhdWx0O1xuICAgICAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpLmQociwgXCJhXCIsIHIpLCByO1xuICAgICAgfSwgaS5vID0gZnVuY3Rpb24ocywgcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHIpO1xuICAgICAgfSwgaS5wID0gXCIvXCIsIGkoaS5zID0gMCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgaSgxKSwgLyohXG4gICAgICAgKiBDb2RleCBKYXZhU2NyaXB0IE5vdGlmaWNhdGlvbiBtb2R1bGVcbiAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RleC10ZWFtL2pzLW5vdGlmaWVyXG4gICAgICAgKi9cbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcyA9IGkoNiksIHIgPSBcImNkeC1ub3RpZnktLWJvdW5jZS1pblwiLCBsID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHsgc2hvdzogZnVuY3Rpb24oYSkge1xuICAgICAgICAgIGlmIChhLm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgICBsID0gcy5nZXRXcmFwcGVyKCksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobCk7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgdmFyIGMgPSBudWxsLCB1ID0gYS50aW1lIHx8IDhlMztcbiAgICAgICAgICAgIHN3aXRjaCAoYS50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJjb25maXJtXCI6XG4gICAgICAgICAgICAgICAgYyA9IHMuY29uZmlybShhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInByb21wdFwiOlxuICAgICAgICAgICAgICAgIGMgPSBzLnByb21wdChhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjID0gcy5hbGVydChhKSwgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBjLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0sIHUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbC5hcHBlbmRDaGlsZChjKSwgYy5jbGFzc0xpc3QuYWRkKHIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB9O1xuICAgICAgfSgpO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHZhciBzID0gaSgyKTtcbiAgICAgIHR5cGVvZiBzID09IFwic3RyaW5nXCIgJiYgKHMgPSBbW3QuaSwgcywgXCJcIl1dKTtcbiAgICAgIHZhciByID0geyBobXI6ICEwLCB0cmFuc2Zvcm06IHZvaWQgMCwgaW5zZXJ0SW50bzogdm9pZCAwIH07XG4gICAgICBpKDQpKHMsIHIpLCBzLmxvY2FscyAmJiAodC5leHBvcnRzID0gcy5sb2NhbHMpO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgICh0LmV4cG9ydHMgPSBpKDMpKCExKSkucHVzaChbdC5pLCBgLmNkeC1ub3RpZnktLWVycm9ye2JhY2tncm91bmQ6I2ZmZmJmYiFpbXBvcnRhbnR9LmNkeC1ub3RpZnktLWVycm9yOjpiZWZvcmV7YmFja2dyb3VuZDojZmI1ZDVkIWltcG9ydGFudH0uY2R4LW5vdGlmeV9faW5wdXR7bWF4LXdpZHRoOjEzMHB4O3BhZGRpbmc6NXB4IDEwcHg7YmFja2dyb3VuZDojZjdmN2Y3O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6M3B4O2ZvbnQtc2l6ZToxM3B4O2NvbG9yOiM2NTZiN2M7b3V0bGluZTowfS5jZHgtbm90aWZ5X19pbnB1dDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6IzY1NmI3Y30uY2R4LW5vdGlmeV9faW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOiM2NTZiN2N9LmNkeC1ub3RpZnlfX2lucHV0OmZvY3VzOi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjpyZ2JhKDEwMSwxMDcsMTI0LC4zKX0uY2R4LW5vdGlmeV9faW5wdXQ6Zm9jdXM6OnBsYWNlaG9sZGVye2NvbG9yOnJnYmEoMTAxLDEwNywxMjQsLjMpfS5jZHgtbm90aWZ5X19idXR0b257Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czozcHg7Zm9udC1zaXplOjEzcHg7cGFkZGluZzo1cHggMTBweDtjdXJzb3I6cG9pbnRlcn0uY2R4LW5vdGlmeV9fYnV0dG9uOmxhc3QtY2hpbGR7bWFyZ2luLWxlZnQ6MTBweH0uY2R4LW5vdGlmeV9fYnV0dG9uLS1jYW5jZWx7YmFja2dyb3VuZDojZjJmNWY3O2JveC1zaGFkb3c6MCAycHggMXB4IDAgcmdiYSgxNiwxOSwyOSwwKTtjb2xvcjojNjU2YjdjfS5jZHgtbm90aWZ5X19idXR0b24tLWNhbmNlbDpob3ZlcntiYWNrZ3JvdW5kOiNlZWV9LmNkeC1ub3RpZnlfX2J1dHRvbi0tY29uZmlybXtiYWNrZ3JvdW5kOiMzNGM5OTI7Ym94LXNoYWRvdzowIDFweCAxcHggMCByZ2JhKDE4LDQ5LDM1LC4wNSk7Y29sb3I6I2ZmZn0uY2R4LW5vdGlmeV9fYnV0dG9uLS1jb25maXJtOmhvdmVye2JhY2tncm91bmQ6IzMzYjA4Mn0uY2R4LW5vdGlmeV9fYnRucy13cmFwcGVye2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWZsb3c6cm93IG5vd3JhcDtmbGV4LWZsb3c6cm93IG5vd3JhcDttYXJnaW4tdG9wOjVweH0uY2R4LW5vdGlmeV9fY3Jvc3N7cG9zaXRpb246YWJzb2x1dGU7dG9wOjVweDtyaWdodDo1cHg7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDtwYWRkaW5nOjVweDtvcGFjaXR5Oi41NDtjdXJzb3I6cG9pbnRlcn0uY2R4LW5vdGlmeV9fY3Jvc3M6OmFmdGVyLC5jZHgtbm90aWZ5X19jcm9zczo6YmVmb3Jle2NvbnRlbnQ6Jyc7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo5cHg7dG9wOjVweDtoZWlnaHQ6MTJweDt3aWR0aDoycHg7YmFja2dyb3VuZDojNTc1ZDY3fS5jZHgtbm90aWZ5X19jcm9zczo6YmVmb3Jle3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uY2R4LW5vdGlmeV9fY3Jvc3M6OmFmdGVye3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5jZHgtbm90aWZ5X19jcm9zczpob3ZlcntvcGFjaXR5OjF9LmNkeC1ub3RpZmllc3twb3NpdGlvbjpmaXhlZDt6LWluZGV4OjI7Ym90dG9tOjIwcHg7bGVmdDoyMHB4O2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFwiU2Vnb2UgVUlcIixSb2JvdG8sT3h5Z2VuLFVidW50dSxDYW50YXJlbGwsXCJGaXJhIFNhbnNcIixcIkRyb2lkIFNhbnNcIixcIkhlbHZldGljYSBOZXVlXCIsc2Fucy1zZXJpZn0uY2R4LW5vdGlmeXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoyMjBweDttYXJnaW4tdG9wOjE1cHg7cGFkZGluZzoxM3B4IDE2cHg7YmFja2dyb3VuZDojZmZmO2JveC1zaGFkb3c6MCAxMXB4IDE3cHggMCByZ2JhKDIzLDMyLDYxLC4xMyk7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MS40ZW07d29yZC13cmFwOmJyZWFrLXdvcmR9LmNkeC1ub3RpZnk6OmJlZm9yZXtjb250ZW50OicnO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7dG9wOjA7bGVmdDowO3dpZHRoOjNweDtoZWlnaHQ6Y2FsYygxMDAlIC0gNnB4KTttYXJnaW46M3B4O2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQ6MCAwfUBrZXlmcmFtZXMgYm91bmNlSW57MCV7b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSguMyl9NTAle29wYWNpdHk6MTt0cmFuc2Zvcm06c2NhbGUoMS4wNSl9NzAle3RyYW5zZm9ybTpzY2FsZSguOSl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMSl9fS5jZHgtbm90aWZ5LS1ib3VuY2UtaW57YW5pbWF0aW9uLW5hbWU6Ym91bmNlSW47YW5pbWF0aW9uLWR1cmF0aW9uOi42czthbmltYXRpb24taXRlcmF0aW9uLWNvdW50OjF9LmNkeC1ub3RpZnktLXN1Y2Nlc3N7YmFja2dyb3VuZDojZmFmZmZlIWltcG9ydGFudH0uY2R4LW5vdGlmeS0tc3VjY2Vzczo6YmVmb3Jle2JhY2tncm91bmQ6IzQxZmZiMSFpbXBvcnRhbnR9YCwgXCJcIl0pO1xuICAgIH0sIGZ1bmN0aW9uKHQsIG8pIHtcbiAgICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgdmFyIGwgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICAgICAgICAgIHZhciB1ID0gYVsxXSB8fCBcIlwiLCBoID0gYVszXTtcbiAgICAgICAgICAgICAgaWYgKCFoKVxuICAgICAgICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICAgICAgICBpZiAoYyAmJiB0eXBlb2YgYnRvYSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IChmID0gaCwgXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShmKSkpKSArIFwiICovXCIpLCBnID0gaC5zb3VyY2VzLm1hcChmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiICsgaC5zb3VyY2VSb290ICsgayArIFwiICovXCI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt1XS5jb25jYXQoZykuY29uY2F0KFtwXSkuam9pbihgXG5gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgZjtcbiAgICAgICAgICAgICAgcmV0dXJuIFt1XS5qb2luKGBcbmApO1xuICAgICAgICAgICAgfShyLCBpKTtcbiAgICAgICAgICAgIHJldHVybiByWzJdID8gXCJAbWVkaWEgXCIgKyByWzJdICsgXCJ7XCIgKyBsICsgXCJ9XCIgOiBsO1xuICAgICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICAgIH0sIHMuaSA9IGZ1bmN0aW9uKHIsIGwpIHtcbiAgICAgICAgICB0eXBlb2YgciA9PSBcInN0cmluZ1wiICYmIChyID0gW1tudWxsLCByLCBcIlwiXV0pO1xuICAgICAgICAgIGZvciAodmFyIGEgPSB7fSwgYyA9IDA7IGMgPCB0aGlzLmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgICB2YXIgdSA9IHRoaXNbY11bMF07XG4gICAgICAgICAgICB0eXBlb2YgdSA9PSBcIm51bWJlclwiICYmIChhW3VdID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGMgPSAwOyBjIDwgci5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgdmFyIGggPSByW2NdO1xuICAgICAgICAgICAgdHlwZW9mIGhbMF0gPT0gXCJudW1iZXJcIiAmJiBhW2hbMF1dIHx8IChsICYmICFoWzJdID8gaFsyXSA9IGwgOiBsICYmIChoWzJdID0gXCIoXCIgKyBoWzJdICsgXCIpIGFuZCAoXCIgKyBsICsgXCIpXCIpLCBzLnB1c2goaCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgcztcbiAgICAgIH07XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgdmFyIHMsIHIsIGwgPSB7fSwgYSA9IChzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbiAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gciA9PT0gdm9pZCAwICYmIChyID0gcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSwgcjtcbiAgICAgIH0pLCBjID0gZnVuY3Rpb24odikge1xuICAgICAgICB2YXIgbSA9IHt9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oeCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgeCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4geCgpO1xuICAgICAgICAgIGlmIChtW3hdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHZhciBFID0gKGZ1bmN0aW9uKE0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoTSk7XG4gICAgICAgICAgICB9KS5jYWxsKHRoaXMsIHgpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBFIGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIEUgPSBFLmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICBFID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgbVt4XSA9IEU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtW3hdO1xuICAgICAgICB9O1xuICAgICAgfSgpLCB1ID0gbnVsbCwgaCA9IDAsIHAgPSBbXSwgZyA9IGkoNSk7XG4gICAgICBmdW5jdGlvbiBmKHYsIG0pIHtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB2Lmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgdmFyIEUgPSB2W3hdLCBNID0gbFtFLmlkXTtcbiAgICAgICAgICBpZiAoTSkge1xuICAgICAgICAgICAgTS5yZWZzKys7XG4gICAgICAgICAgICBmb3IgKHZhciBUID0gMDsgVCA8IE0ucGFydHMubGVuZ3RoOyBUKyspXG4gICAgICAgICAgICAgIE0ucGFydHNbVF0oRS5wYXJ0c1tUXSk7XG4gICAgICAgICAgICBmb3IgKDsgVCA8IEUucGFydHMubGVuZ3RoOyBUKyspXG4gICAgICAgICAgICAgIE0ucGFydHMucHVzaChqKEUucGFydHNbVF0sIG0pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIFAgPSBbXTtcbiAgICAgICAgICAgIGZvciAoVCA9IDA7IFQgPCBFLnBhcnRzLmxlbmd0aDsgVCsrKVxuICAgICAgICAgICAgICBQLnB1c2goaihFLnBhcnRzW1RdLCBtKSk7XG4gICAgICAgICAgICBsW0UuaWRdID0geyBpZDogRS5pZCwgcmVmczogMSwgcGFydHM6IFAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGsodiwgbSkge1xuICAgICAgICBmb3IgKHZhciB4ID0gW10sIEUgPSB7fSwgTSA9IDA7IE0gPCB2Lmxlbmd0aDsgTSsrKSB7XG4gICAgICAgICAgdmFyIFQgPSB2W01dLCBQID0gbS5iYXNlID8gVFswXSArIG0uYmFzZSA6IFRbMF0sIEIgPSB7IGNzczogVFsxXSwgbWVkaWE6IFRbMl0sIHNvdXJjZU1hcDogVFszXSB9O1xuICAgICAgICAgIEVbUF0gPyBFW1BdLnBhcnRzLnB1c2goQikgOiB4LnB1c2goRVtQXSA9IHsgaWQ6IFAsIHBhcnRzOiBbQl0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHg7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBDKHYsIG0pIHtcbiAgICAgICAgdmFyIHggPSBjKHYuaW5zZXJ0SW50byk7XG4gICAgICAgIGlmICgheClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgdmFyIEUgPSBwW3AubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICh2Lmluc2VydEF0ID09PSBcInRvcFwiKVxuICAgICAgICAgIEUgPyBFLm5leHRTaWJsaW5nID8geC5pbnNlcnRCZWZvcmUobSwgRS5uZXh0U2libGluZykgOiB4LmFwcGVuZENoaWxkKG0pIDogeC5pbnNlcnRCZWZvcmUobSwgeC5maXJzdENoaWxkKSwgcC5wdXNoKG0pO1xuICAgICAgICBlbHNlIGlmICh2Lmluc2VydEF0ID09PSBcImJvdHRvbVwiKVxuICAgICAgICAgIHguYXBwZW5kQ2hpbGQobSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlb2Ygdi5pbnNlcnRBdCAhPSBcIm9iamVjdFwiIHx8ICF2Lmluc2VydEF0LmJlZm9yZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW1N0eWxlIExvYWRlcl1cblxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxuYCk7XG4gICAgICAgICAgdmFyIE0gPSBjKHYuaW5zZXJ0SW50byArIFwiIFwiICsgdi5pbnNlcnRBdC5iZWZvcmUpO1xuICAgICAgICAgIHguaW5zZXJ0QmVmb3JlKG0sIE0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBTKHYpIHtcbiAgICAgICAgaWYgKHYucGFyZW50Tm9kZSA9PT0gbnVsbClcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIHYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2KTtcbiAgICAgICAgdmFyIG0gPSBwLmluZGV4T2Yodik7XG4gICAgICAgIG0gPj0gMCAmJiBwLnNwbGljZShtLCAxKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF8odikge1xuICAgICAgICB2YXIgbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgcmV0dXJuIHYuYXR0cnMudHlwZSA9PT0gdm9pZCAwICYmICh2LmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCIpLCBlZShtLCB2LmF0dHJzKSwgQyh2LCBtKSwgbTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGVlKHYsIG0pIHtcbiAgICAgICAgT2JqZWN0LmtleXMobSkuZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgdi5zZXRBdHRyaWJ1dGUoeCwgbVt4XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gaih2LCBtKSB7XG4gICAgICAgIHZhciB4LCBFLCBNLCBUO1xuICAgICAgICBpZiAobS50cmFuc2Zvcm0gJiYgdi5jc3MpIHtcbiAgICAgICAgICBpZiAoIShUID0gbS50cmFuc2Zvcm0odi5jc3MpKSlcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgdi5jc3MgPSBUO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtLnNpbmdsZXRvbikge1xuICAgICAgICAgIHZhciBQID0gaCsrO1xuICAgICAgICAgIHggPSB1IHx8ICh1ID0gXyhtKSksIEUgPSBmZS5iaW5kKG51bGwsIHgsIFAsICExKSwgTSA9IGZlLmJpbmQobnVsbCwgeCwgUCwgITApO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICB2LnNvdXJjZU1hcCAmJiB0eXBlb2YgVVJMID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBCbG9iID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgYnRvYSA9PSBcImZ1bmN0aW9uXCIgPyAoeCA9IGZ1bmN0aW9uKEIpIHtcbiAgICAgICAgICAgIHZhciBZID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICAgICAgICByZXR1cm4gQi5hdHRycy50eXBlID09PSB2b2lkIDAgJiYgKEIuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIiksIEIuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCIsIGVlKFksIEIuYXR0cnMpLCBDKEIsIFkpLCBZO1xuICAgICAgICAgIH0obSksIEUgPSAoZnVuY3Rpb24oQiwgWSwgZ2UpIHtcbiAgICAgICAgICAgIHZhciBpZSA9IGdlLmNzcywgSGUgPSBnZS5zb3VyY2VNYXAsIG1vID0gWS5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHZvaWQgMCAmJiBIZTtcbiAgICAgICAgICAgIChZLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBtbykgJiYgKGllID0gZyhpZSkpLCBIZSAmJiAoaWUgKz0gYFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxgICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoSGUpKSkpICsgXCIgKi9cIik7XG4gICAgICAgICAgICB2YXIgYm8gPSBuZXcgQmxvYihbaWVdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KSwgbXQgPSBCLmhyZWY7XG4gICAgICAgICAgICBCLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJvKSwgbXQgJiYgVVJMLnJldm9rZU9iamVjdFVSTChtdCk7XG4gICAgICAgICAgfSkuYmluZChudWxsLCB4LCBtKSwgTSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgUyh4KSwgeC5ocmVmICYmIFVSTC5yZXZva2VPYmplY3RVUkwoeC5ocmVmKTtcbiAgICAgICAgICB9KSA6ICh4ID0gXyhtKSwgRSA9IChmdW5jdGlvbihCLCBZKSB7XG4gICAgICAgICAgICB2YXIgZ2UgPSBZLmNzcywgaWUgPSBZLm1lZGlhO1xuICAgICAgICAgICAgaWYgKGllICYmIEIuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgaWUpLCBCLnN0eWxlU2hlZXQpXG4gICAgICAgICAgICAgIEIuc3R5bGVTaGVldC5jc3NUZXh0ID0gZ2U7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yICg7IEIuZmlyc3RDaGlsZDsgKVxuICAgICAgICAgICAgICAgIEIucmVtb3ZlQ2hpbGQoQi5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgQi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShnZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmJpbmQobnVsbCwgeCksIE0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIFMoeCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBFKHYpLCBmdW5jdGlvbihCKSB7XG4gICAgICAgICAgaWYgKEIpIHtcbiAgICAgICAgICAgIGlmIChCLmNzcyA9PT0gdi5jc3MgJiYgQi5tZWRpYSA9PT0gdi5tZWRpYSAmJiBCLnNvdXJjZU1hcCA9PT0gdi5zb3VyY2VNYXApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIEUodiA9IEIpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgTSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24odiwgbSkge1xuICAgICAgICBpZiAodHlwZW9mIERFQlVHIDwgXCJ1XCIgJiYgREVCVUcgJiYgdHlwZW9mIGRvY3VtZW50ICE9IFwib2JqZWN0XCIpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuICAgICAgICAobSA9IG0gfHwge30pLmF0dHJzID0gdHlwZW9mIG0uYXR0cnMgPT0gXCJvYmplY3RcIiA/IG0uYXR0cnMgOiB7fSwgbS5zaW5nbGV0b24gfHwgdHlwZW9mIG0uc2luZ2xldG9uID09IFwiYm9vbGVhblwiIHx8IChtLnNpbmdsZXRvbiA9IGEoKSksIG0uaW5zZXJ0SW50byB8fCAobS5pbnNlcnRJbnRvID0gXCJoZWFkXCIpLCBtLmluc2VydEF0IHx8IChtLmluc2VydEF0ID0gXCJib3R0b21cIik7XG4gICAgICAgIHZhciB4ID0gayh2LCBtKTtcbiAgICAgICAgcmV0dXJuIGYoeCwgbSksIGZ1bmN0aW9uKEUpIHtcbiAgICAgICAgICBmb3IgKHZhciBNID0gW10sIFQgPSAwOyBUIDwgeC5sZW5ndGg7IFQrKykge1xuICAgICAgICAgICAgdmFyIFAgPSB4W1RdO1xuICAgICAgICAgICAgKEIgPSBsW1AuaWRdKS5yZWZzLS0sIE0ucHVzaChCKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChFICYmIGYoayhFLCBtKSwgbSksIFQgPSAwOyBUIDwgTS5sZW5ndGg7IFQrKykge1xuICAgICAgICAgICAgdmFyIEI7XG4gICAgICAgICAgICBpZiAoKEIgPSBNW1RdKS5yZWZzID09PSAwKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIFkgPSAwOyBZIDwgQi5wYXJ0cy5sZW5ndGg7IFkrKylcbiAgICAgICAgICAgICAgICBCLnBhcnRzW1ldKCk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBsW0IuaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICB2YXIgJCwgb2UgPSAoJCA9IFtdLCBmdW5jdGlvbih2LCBtKSB7XG4gICAgICAgIHJldHVybiAkW3ZdID0gbSwgJC5maWx0ZXIoQm9vbGVhbikuam9pbihgXG5gKTtcbiAgICAgIH0pO1xuICAgICAgZnVuY3Rpb24gZmUodiwgbSwgeCwgRSkge1xuICAgICAgICB2YXIgTSA9IHggPyBcIlwiIDogRS5jc3M7XG4gICAgICAgIGlmICh2LnN0eWxlU2hlZXQpXG4gICAgICAgICAgdi5zdHlsZVNoZWV0LmNzc1RleHQgPSBvZShtLCBNKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIFQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShNKSwgUCA9IHYuY2hpbGROb2RlcztcbiAgICAgICAgICBQW21dICYmIHYucmVtb3ZlQ2hpbGQoUFttXSksIFAubGVuZ3RoID8gdi5pbnNlcnRCZWZvcmUoVCwgUFttXSkgOiB2LmFwcGVuZENoaWxkKFQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24odCwgbykge1xuICAgICAgdC5leHBvcnRzID0gZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgcyA9IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cubG9jYXRpb247XG4gICAgICAgIGlmICghcylcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgICAgICAgaWYgKCFpIHx8IHR5cGVvZiBpICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIHZhciByID0gcy5wcm90b2NvbCArIFwiLy9cIiArIHMuaG9zdCwgbCA9IHIgKyBzLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuICAgICAgICByZXR1cm4gaS5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oYSwgYykge1xuICAgICAgICAgIHZhciB1LCBoID0gYy50cmltKCkucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKHAsIGcpIHtcbiAgICAgICAgICAgIHJldHVybiBnO1xuICAgICAgICAgIH0pLnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24ocCwgZykge1xuICAgICAgICAgICAgcmV0dXJuIGc7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QoaCkgPyBhIDogKHUgPSBoLmluZGV4T2YoXCIvL1wiKSA9PT0gMCA/IGggOiBoLmluZGV4T2YoXCIvXCIpID09PSAwID8gciArIGggOiBsICsgaC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIiksIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkodSkgKyBcIilcIik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9LCBmdW5jdGlvbih0LCBvLCBpKSB7XG4gICAgICB2YXIgcywgciwgbCwgYSwgYywgdSwgaCwgcCwgZztcbiAgICAgIHQuZXhwb3J0cyA9IChzID0gXCJjZHgtbm90aWZpZXNcIiwgciA9IFwiY2R4LW5vdGlmeVwiLCBsID0gXCJjZHgtbm90aWZ5X19jcm9zc1wiLCBhID0gXCJjZHgtbm90aWZ5X19idXR0b24tLWNvbmZpcm1cIiwgYyA9IFwiY2R4LW5vdGlmeV9fYnV0dG9uLS1jYW5jZWxcIiwgdSA9IFwiY2R4LW5vdGlmeV9faW5wdXRcIiwgaCA9IFwiY2R4LW5vdGlmeV9fYnV0dG9uXCIsIHAgPSBcImNkeC1ub3RpZnlfX2J0bnMtd3JhcHBlclwiLCB7IGFsZXJ0OiBnID0gZnVuY3Rpb24oZikge1xuICAgICAgICB2YXIgayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIiksIEMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpLCBTID0gZi5tZXNzYWdlLCBfID0gZi5zdHlsZTtcbiAgICAgICAgcmV0dXJuIGsuY2xhc3NMaXN0LmFkZChyKSwgXyAmJiBrLmNsYXNzTGlzdC5hZGQociArIFwiLS1cIiArIF8pLCBrLmlubmVySFRNTCA9IFMsIEMuY2xhc3NMaXN0LmFkZChsKSwgQy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgay5yZW1vdmUuYmluZChrKSksIGsuYXBwZW5kQ2hpbGQoQyksIGs7XG4gICAgICB9LCBjb25maXJtOiBmdW5jdGlvbihmKSB7XG4gICAgICAgIHZhciBrID0gZyhmKSwgQyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIFMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCBfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgZWUgPSBrLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBsKSwgaiA9IGYuY2FuY2VsSGFuZGxlciwgJCA9IGYub2tIYW5kbGVyO1xuICAgICAgICByZXR1cm4gQy5jbGFzc0xpc3QuYWRkKHApLCBTLmlubmVySFRNTCA9IGYub2tUZXh0IHx8IFwiQ29uZmlybVwiLCBfLmlubmVySFRNTCA9IGYuY2FuY2VsVGV4dCB8fCBcIkNhbmNlbFwiLCBTLmNsYXNzTGlzdC5hZGQoaCksIF8uY2xhc3NMaXN0LmFkZChoKSwgUy5jbGFzc0xpc3QuYWRkKGEpLCBfLmNsYXNzTGlzdC5hZGQoYyksIGogJiYgdHlwZW9mIGogPT0gXCJmdW5jdGlvblwiICYmIChfLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBqKSwgZWUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGopKSwgJCAmJiB0eXBlb2YgJCA9PSBcImZ1bmN0aW9uXCIgJiYgUy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgJCksIFMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGsucmVtb3ZlLmJpbmQoaykpLCBfLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBrLnJlbW92ZS5iaW5kKGspKSwgQy5hcHBlbmRDaGlsZChTKSwgQy5hcHBlbmRDaGlsZChfKSwgay5hcHBlbmRDaGlsZChDKSwgaztcbiAgICAgIH0sIHByb21wdDogZnVuY3Rpb24oZikge1xuICAgICAgICB2YXIgayA9IGcoZiksIEMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBTID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgZWUgPSBrLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBsKSwgaiA9IGYuY2FuY2VsSGFuZGxlciwgJCA9IGYub2tIYW5kbGVyO1xuICAgICAgICByZXR1cm4gQy5jbGFzc0xpc3QuYWRkKHApLCBTLmlubmVySFRNTCA9IGYub2tUZXh0IHx8IFwiT2tcIiwgUy5jbGFzc0xpc3QuYWRkKGgpLCBTLmNsYXNzTGlzdC5hZGQoYSksIF8uY2xhc3NMaXN0LmFkZCh1KSwgZi5wbGFjZWhvbGRlciAmJiBfLnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIGYucGxhY2Vob2xkZXIpLCBmLmRlZmF1bHQgJiYgKF8udmFsdWUgPSBmLmRlZmF1bHQpLCBmLmlucHV0VHlwZSAmJiAoXy50eXBlID0gZi5pbnB1dFR5cGUpLCBqICYmIHR5cGVvZiBqID09IFwiZnVuY3Rpb25cIiAmJiBlZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaiksICQgJiYgdHlwZW9mICQgPT0gXCJmdW5jdGlvblwiICYmIFMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQoXy52YWx1ZSk7XG4gICAgICAgIH0pLCBTLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBrLnJlbW92ZS5iaW5kKGspKSwgQy5hcHBlbmRDaGlsZChfKSwgQy5hcHBlbmRDaGlsZChTKSwgay5hcHBlbmRDaGlsZChDKSwgaztcbiAgICAgIH0sIGdldFdyYXBwZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gICAgICAgIHJldHVybiBmLmNsYXNzTGlzdC5hZGQocyksIGY7XG4gICAgICB9IH0pO1xuICAgIH1dKTtcbiAgfSk7XG59KShVdCk7XG52YXIgWG8gPSBVdC5leHBvcnRzO1xuY29uc3QgVm8gPSAvKiBAX19QVVJFX18gKi8gRmUoWG8pO1xuY2xhc3MgcW8ge1xuICAvKipcbiAgICogU2hvdyB3ZWIgbm90aWZpY2F0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7Tm90aWZpZXJPcHRpb25zIHwgQ29uZmlybU5vdGlmaWVyT3B0aW9ucyB8IFByb21wdE5vdGlmaWVyT3B0aW9uc30gb3B0aW9ucyAtIG5vdGlmaWNhdGlvbiBvcHRpb25zXG4gICAqL1xuICBzaG93KGUpIHtcbiAgICBWby5zaG93KGUpO1xuICB9XG59XG5jbGFzcyBabyBleHRlbmRzIHkge1xuICAvKipcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24gLSBNb2R1bGUgQ29uZmlndXJhdGlvblxuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5jb25maWcgLSBFZGl0b3IncyBjb25maWdcbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uZXZlbnRzRGlzcGF0Y2hlciAtIEVkaXRvcidzIGV2ZW50IGRpc3BhdGNoZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBlLCBldmVudHNEaXNwYXRjaGVyOiB0IH0pIHtcbiAgICBzdXBlcih7XG4gICAgICBjb25maWc6IGUsXG4gICAgICBldmVudHNEaXNwYXRjaGVyOiB0XG4gICAgfSksIHRoaXMubm90aWZpZXIgPSBuZXcgcW8oKTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaG93OiAoZSkgPT4gdGhpcy5zaG93KGUpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2hvdyBub3RpZmljYXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtOb3RpZmllck9wdGlvbnN9IG9wdGlvbnMgLSBtZXNzYWdlIG9wdGlvblxuICAgKi9cbiAgc2hvdyhlKSB7XG4gICAgcmV0dXJuIHRoaXMubm90aWZpZXIuc2hvdyhlKTtcbiAgfVxufVxuY2xhc3MgR28gZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICBjb25zdCBlID0gKCkgPT4gdGhpcy5pc0VuYWJsZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvZ2dsZTogKHQpID0+IHRoaXMudG9nZ2xlKHQpLFxuICAgICAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgb3IgdG9nZ2xlIHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBzdGF0ZSAtIHNldCBvciB0b2dnbGUgc3RhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGN1cnJlbnQgdmFsdWVcbiAgICovXG4gIHRvZ2dsZShlKSB7XG4gICAgcmV0dXJuIHRoaXMuRWRpdG9yLlJlYWRPbmx5LnRvZ2dsZShlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBjdXJyZW50IHJlYWQtb25seSBzdGF0ZVxuICAgKi9cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkO1xuICB9XG59XG52YXIganQgPSB7IGV4cG9ydHM6IHt9IH07XG4oZnVuY3Rpb24obiwgZSkge1xuICAoZnVuY3Rpb24odCwgbykge1xuICAgIG4uZXhwb3J0cyA9IG8oKTtcbiAgfSkoa28sIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHQoaCkge1xuICAgICAgdmFyIHAgPSBoLnRhZ3MsIGcgPSBPYmplY3Qua2V5cyhwKSwgZiA9IGcubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwW2tdO1xuICAgICAgfSkuZXZlcnkoZnVuY3Rpb24oaykge1xuICAgICAgICByZXR1cm4gayA9PT0gXCJvYmplY3RcIiB8fCBrID09PSBcImJvb2xlYW5cIiB8fCBrID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9KTtcbiAgICAgIGlmICghZilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGNvbmZpZ3VyYXRpb24gd2FzIGludmFsaWRcIik7XG4gICAgICB0aGlzLmNvbmZpZyA9IGg7XG4gICAgfVxuICAgIHZhciBvID0gW1wiUFwiLCBcIkxJXCIsIFwiVERcIiwgXCJUSFwiLCBcIkRJVlwiLCBcIkgxXCIsIFwiSDJcIiwgXCJIM1wiLCBcIkg0XCIsIFwiSDVcIiwgXCJINlwiLCBcIlBSRVwiXTtcbiAgICBmdW5jdGlvbiBpKGgpIHtcbiAgICAgIHJldHVybiBvLmluZGV4T2YoaC5ub2RlTmFtZSkgIT09IC0xO1xuICAgIH1cbiAgICB2YXIgcyA9IFtcIkFcIiwgXCJCXCIsIFwiU1RST05HXCIsIFwiSVwiLCBcIkVNXCIsIFwiU1VCXCIsIFwiU1VQXCIsIFwiVVwiLCBcIlNUUklLRVwiXTtcbiAgICBmdW5jdGlvbiByKGgpIHtcbiAgICAgIHJldHVybiBzLmluZGV4T2YoaC5ub2RlTmFtZSkgIT09IC0xO1xuICAgIH1cbiAgICB0LnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgIGNvbnN0IHAgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoKSwgZyA9IHAuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJldHVybiBnLmlubmVySFRNTCA9IGgsIHRoaXMuX3Nhbml0aXplKHAsIGcpLCBnLmlubmVySFRNTDtcbiAgICB9LCB0LnByb3RvdHlwZS5fc2FuaXRpemUgPSBmdW5jdGlvbihoLCBwKSB7XG4gICAgICB2YXIgZyA9IGwoaCwgcCksIGYgPSBnLmZpcnN0Q2hpbGQoKTtcbiAgICAgIGlmIChmKVxuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKGYubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKVxuICAgICAgICAgICAgaWYgKGYuZGF0YS50cmltKCkgPT09IFwiXCIgJiYgKGYucHJldmlvdXNFbGVtZW50U2libGluZyAmJiBpKGYucHJldmlvdXNFbGVtZW50U2libGluZykgfHwgZi5uZXh0RWxlbWVudFNpYmxpbmcgJiYgaShmLm5leHRFbGVtZW50U2libGluZykpKSB7XG4gICAgICAgICAgICAgIHAucmVtb3ZlQ2hpbGQoZiksIHRoaXMuX3Nhbml0aXplKGgsIHApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBpZiAoZi5ub2RlVHlwZSA9PT0gTm9kZS5DT01NRU5UX05PREUpIHtcbiAgICAgICAgICAgIHAucmVtb3ZlQ2hpbGQoZiksIHRoaXMuX3Nhbml0aXplKGgsIHApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBrID0gcihmKSwgQztcbiAgICAgICAgICBrICYmIChDID0gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChmLmNoaWxkTm9kZXMsIGkpKTtcbiAgICAgICAgICB2YXIgUyA9ICEhcC5wYXJlbnROb2RlLCBfID0gaShwKSAmJiBpKGYpICYmIFMsIGVlID0gZi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCBqID0gYSh0aGlzLmNvbmZpZywgZWUsIGYpLCAkID0gayAmJiBDO1xuICAgICAgICAgIGlmICgkIHx8IGMoZiwgaikgfHwgIXRoaXMuY29uZmlnLmtlZXBOZXN0ZWRCbG9ja0VsZW1lbnRzICYmIF8pIHtcbiAgICAgICAgICAgIGlmICghKGYubm9kZU5hbWUgPT09IFwiU0NSSVBUXCIgfHwgZi5ub2RlTmFtZSA9PT0gXCJTVFlMRVwiKSlcbiAgICAgICAgICAgICAgZm9yICg7IGYuY2hpbGROb2Rlcy5sZW5ndGggPiAwOyApXG4gICAgICAgICAgICAgICAgcC5pbnNlcnRCZWZvcmUoZi5jaGlsZE5vZGVzWzBdLCBmKTtcbiAgICAgICAgICAgIHAucmVtb3ZlQ2hpbGQoZiksIHRoaXMuX3Nhbml0aXplKGgsIHApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIG9lID0gMDsgb2UgPCBmLmF0dHJpYnV0ZXMubGVuZ3RoOyBvZSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgZmUgPSBmLmF0dHJpYnV0ZXNbb2VdO1xuICAgICAgICAgICAgdShmZSwgaiwgZikgJiYgKGYucmVtb3ZlQXR0cmlidXRlKGZlLm5hbWUpLCBvZSA9IG9lIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3Nhbml0aXplKGgsIGYpO1xuICAgICAgICB9IHdoaWxlIChmID0gZy5uZXh0U2libGluZygpKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGwoaCwgcCkge1xuICAgICAgcmV0dXJuIGguY3JlYXRlVHJlZVdhbGtlcihcbiAgICAgICAgcCxcbiAgICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQgfCBOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCB8IE5vZGVGaWx0ZXIuU0hPV19DT01NRU5ULFxuICAgICAgICBudWxsLFxuICAgICAgICAhMVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYShoLCBwLCBnKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGgudGFnc1twXSA9PSBcImZ1bmN0aW9uXCIgPyBoLnRhZ3NbcF0oZykgOiBoLnRhZ3NbcF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGMoaCwgcCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBwID4gXCJ1XCIgPyAhMCA6IHR5cGVvZiBwID09IFwiYm9vbGVhblwiID8gIXAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdShoLCBwLCBnKSB7XG4gICAgICB2YXIgZiA9IGgubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHAgPT09ICEwID8gITEgOiB0eXBlb2YgcFtmXSA9PSBcImZ1bmN0aW9uXCIgPyAhcFtmXShoLnZhbHVlLCBnKSA6IHR5cGVvZiBwW2ZdID4gXCJ1XCIgfHwgcFtmXSA9PT0gITEgPyAhMCA6IHR5cGVvZiBwW2ZdID09IFwic3RyaW5nXCIgPyBwW2ZdICE9PSBoLnZhbHVlIDogITE7XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9KTtcbn0pKGp0KTtcbnZhciBKbyA9IGp0LmV4cG9ydHM7XG5jb25zdCBRbyA9IC8qIEBfX1BVUkVfXyAqLyBGZShKbyk7XG5mdW5jdGlvbiBpdChuLCBlKSB7XG4gIHJldHVybiBuLm1hcCgodCkgPT4ge1xuICAgIGNvbnN0IG8gPSBPKGUpID8gZSh0LnRvb2wpIDogZTtcbiAgICByZXR1cm4gVihvKSB8fCAodC5kYXRhID0gc3QodC5kYXRhLCBvKSksIHQ7XG4gIH0pO1xufVxuZnVuY3Rpb24gcShuLCBlID0ge30pIHtcbiAgY29uc3QgdCA9IHtcbiAgICB0YWdzOiBlXG4gIH07XG4gIHJldHVybiBuZXcgUW8odCkuY2xlYW4obik7XG59XG5mdW5jdGlvbiBzdChuLCBlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KG4pID8gZWkobiwgZSkgOiBSKG4pID8gdGkobiwgZSkgOiBRKG4pID8gb2kobiwgZSkgOiBuO1xufVxuZnVuY3Rpb24gZWkobiwgZSkge1xuICByZXR1cm4gbi5tYXAoKHQpID0+IHN0KHQsIGUpKTtcbn1cbmZ1bmN0aW9uIHRpKG4sIGUpIHtcbiAgY29uc3QgdCA9IHt9O1xuICBmb3IgKGNvbnN0IG8gaW4gbikge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIG8pKVxuICAgICAgY29udGludWU7XG4gICAgY29uc3QgaSA9IG5bb10sIHMgPSBpaShlW29dKSA/IGVbb10gOiBlO1xuICAgIHRbb10gPSBzdChpLCBzKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIG9pKG4sIGUpIHtcbiAgcmV0dXJuIFIoZSkgPyBxKG4sIGUpIDogZSA9PT0gITEgPyBxKG4sIHt9KSA6IG47XG59XG5mdW5jdGlvbiBpaShuKSB7XG4gIHJldHVybiBSKG4pIHx8IHlvKG4pIHx8IE8obik7XG59XG5jbGFzcyBzaSBleHRlbmRzIHkge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge1Nhbml0aXplckNvbmZpZ31cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjbGVhbjogKGUsIHQpID0+IHRoaXMuY2xlYW4oZSwgdClcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIHNhbml0aXppbmcgb2YgYSBzdHJpbmdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhaW50U3RyaW5nIC0gd2hhdCB0byBzYW5pdGl6ZVxuICAgKiBAcGFyYW0ge1Nhbml0aXplckNvbmZpZ30gY29uZmlnIC0gc2FuaXRpemVyIGNvbmZpZ1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgY2xlYW4oZSwgdCkge1xuICAgIHJldHVybiBxKGUsIHQpO1xuICB9XG59XG5jbGFzcyBuaSBleHRlbmRzIHkge1xuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge1NhdmVyfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNhdmU6ICgpID0+IHRoaXMuc2F2ZSgpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIEVkaXRvcidzIGRhdGFcbiAgICpcbiAgICogQHJldHVybnMge091dHB1dERhdGF9XG4gICAqL1xuICBzYXZlKCkge1xuICAgIGNvbnN0IGUgPSBcIkVkaXRvcidzIGNvbnRlbnQgY2FuIG5vdCBiZSBzYXZlZCBpbiByZWFkLW9ubHkgbW9kZVwiO1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5SZWFkT25seS5pc0VuYWJsZWQgPyAoWChlLCBcIndhcm5cIiksIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihlKSkpIDogdGhpcy5FZGl0b3IuU2F2ZXIuc2F2ZSgpO1xuICB9XG59XG5jbGFzcyByaSBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLnNlbGVjdGlvblV0aWxzID0gbmV3IGIoKTtcbiAgfVxuICAvKipcbiAgICogQXZhaWxhYmxlIG1ldGhvZHNcbiAgICpcbiAgICogQHJldHVybnMge1NlbGVjdGlvbkFQSUludGVyZmFjZX1cbiAgICovXG4gIGdldCBtZXRob2RzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaW5kUGFyZW50VGFnOiAoZSwgdCkgPT4gdGhpcy5maW5kUGFyZW50VGFnKGUsIHQpLFxuICAgICAgZXhwYW5kVG9UYWc6IChlKSA9PiB0aGlzLmV4cGFuZFRvVGFnKGUpLFxuICAgICAgc2F2ZTogKCkgPT4gdGhpcy5zZWxlY3Rpb25VdGlscy5zYXZlKCksXG4gICAgICByZXN0b3JlOiAoKSA9PiB0aGlzLnNlbGVjdGlvblV0aWxzLnJlc3RvcmUoKSxcbiAgICAgIHNldEZha2VCYWNrZ3JvdW5kOiAoKSA9PiB0aGlzLnNlbGVjdGlvblV0aWxzLnNldEZha2VCYWNrZ3JvdW5kKCksXG4gICAgICByZW1vdmVGYWtlQmFja2dyb3VuZDogKCkgPT4gdGhpcy5zZWxlY3Rpb25VdGlscy5yZW1vdmVGYWtlQmFja2dyb3VuZCgpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgYWhlYWQgZnJvbSBzZWxlY3Rpb24gYW5kIGZpbmQgcGFzc2VkIHRhZyB3aXRoIGNsYXNzIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgLSB0YWcgdG8gZmluZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gdGFnJ3MgY2xhc3MgbmFtZVxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cbiAgICovXG4gIGZpbmRQYXJlbnRUYWcoZSwgdCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGlvblV0aWxzLmZpbmRQYXJlbnRUYWcoZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEV4cGFuZCBzZWxlY3Rpb24gdG8gcGFzc2VkIHRhZ1xuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlIC0gdGFnIHRoYXQgc2hvdWxkIGNvbnRhaW4gc2VsZWN0aW9uXG4gICAqL1xuICBleHBhbmRUb1RhZyhlKSB7XG4gICAgdGhpcy5zZWxlY3Rpb25VdGlscy5leHBhbmRUb1RhZyhlKTtcbiAgfVxufVxuY2xhc3MgbGkgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqL1xuICBnZXQgbWV0aG9kcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0QmxvY2tUb29sczogKCkgPT4gQXJyYXkuZnJvbSh0aGlzLkVkaXRvci5Ub29scy5ibG9ja1Rvb2xzLnZhbHVlcygpKVxuICAgIH07XG4gIH1cbn1cbmNsYXNzIGFpIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBFeHBvcnRlZCBjbGFzc2VzXG4gICAqL1xuICBnZXQgY2xhc3NlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBCYXNlIEJsb2NrIHN0eWxlc1xuICAgICAgICovXG4gICAgICBibG9jazogXCJjZHgtYmxvY2tcIixcbiAgICAgIC8qKlxuICAgICAgICogSW5saW5lIFRvb2xzIHN0eWxlc1xuICAgICAgICovXG4gICAgICBpbmxpbmVUb29sQnV0dG9uOiBcImNlLWlubGluZS10b29sXCIsXG4gICAgICBpbmxpbmVUb29sQnV0dG9uQWN0aXZlOiBcImNlLWlubGluZS10b29sLS1hY3RpdmVcIixcbiAgICAgIC8qKlxuICAgICAgICogVUkgZWxlbWVudHNcbiAgICAgICAqL1xuICAgICAgaW5wdXQ6IFwiY2R4LWlucHV0XCIsXG4gICAgICBsb2FkZXI6IFwiY2R4LWxvYWRlclwiLFxuICAgICAgYnV0dG9uOiBcImNkeC1idXR0b25cIixcbiAgICAgIC8qKlxuICAgICAgICogU2V0dGluZ3Mgc3R5bGVzXG4gICAgICAgKi9cbiAgICAgIHNldHRpbmdzQnV0dG9uOiBcImNkeC1zZXR0aW5ncy1idXR0b25cIixcbiAgICAgIHNldHRpbmdzQnV0dG9uQWN0aXZlOiBcImNkeC1zZXR0aW5ncy1idXR0b24tLWFjdGl2ZVwiXG4gICAgfTtcbiAgfVxufVxuY2xhc3MgY2kgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzXG4gICAqXG4gICAqIEByZXR1cm5zIHtUb29sYmFyfVxuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsb3NlOiAoKSA9PiB0aGlzLmNsb3NlKCksXG4gICAgICBvcGVuOiAoKSA9PiB0aGlzLm9wZW4oKSxcbiAgICAgIHRvZ2dsZUJsb2NrU2V0dGluZ3M6IChlKSA9PiB0aGlzLnRvZ2dsZUJsb2NrU2V0dGluZ3MoZSksXG4gICAgICB0b2dnbGVUb29sYm94OiAoZSkgPT4gdGhpcy50b2dnbGVUb29sYm94KGUpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogT3BlbiB0b29sYmFyXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgdG9vbGJhciBhbmQgYWxsIGluY2x1ZGVkIGVsZW1lbnRzXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgQmxvY2sgU2V0dGluZyBvZiB0aGUgY3VycmVudCBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9wZW5pbmdTdGF0ZSBcdTIwMTQgIG9wZW5pbmcgc3RhdGUgb2YgQmxvY2sgU2V0dGluZ1xuICAgKi9cbiAgdG9nZ2xlQmxvY2tTZXR0aW5ncyhlKSB7XG4gICAgaWYgKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCA9PT0gLTEpIHtcbiAgICAgIFgoXCJDb3VsZCd0IHRvZ2dsZSB0aGUgVG9vbGJhciBiZWNhdXNlIHRoZXJlIGlzIG5vIGJsb2NrIHNlbGVjdGVkIFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUgPz8gIXRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkID8gKHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuKCkpIDogdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIHRvb2xib3hcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBvcGVuaW5nU3RhdGUgLSBPcGVuaW5nIHN0YXRlIG9mIHRvb2xib3hcbiAgICovXG4gIHRvZ2dsZVRvb2xib3goZSkge1xuICAgIGlmICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXggPT09IC0xKSB7XG4gICAgICBYKFwiQ291bGQndCB0b2dnbGUgdGhlIFRvb2xib3ggYmVjYXVzZSB0aGVyZSBpcyBubyBibG9jayBzZWxlY3RlZCBcIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlID8/ICF0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbmVkID8gKHRoaXMuRWRpdG9yLlRvb2xiYXIubW92ZUFuZE9wZW4oKSwgdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lm9wZW4oKSkgOiB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3guY2xvc2UoKTtcbiAgfVxufVxudmFyICR0ID0geyBleHBvcnRzOiB7fSB9O1xuLyohXG4gKiBDb2RlWC5Ub29sdGlwc1xuICogXG4gKiBAdmVyc2lvbiAxLjAuNVxuICogXG4gKiBAbGljZW5jZSBNSVRcbiAqIEBhdXRob3IgQ29kZVggPGh0dHBzOi8vY29kZXguc28+XG4gKiBcbiAqIFxuICovXG4oZnVuY3Rpb24obiwgZSkge1xuICAoZnVuY3Rpb24odCwgbykge1xuICAgIG4uZXhwb3J0cyA9IG8oKTtcbiAgfSkod2luZG93LCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgICAgdmFyIG8gPSB7fTtcbiAgICAgIGZ1bmN0aW9uIGkocykge1xuICAgICAgICBpZiAob1tzXSlcbiAgICAgICAgICByZXR1cm4gb1tzXS5leHBvcnRzO1xuICAgICAgICB2YXIgciA9IG9bc10gPSB7IGk6IHMsIGw6ICExLCBleHBvcnRzOiB7fSB9O1xuICAgICAgICByZXR1cm4gdFtzXS5jYWxsKHIuZXhwb3J0cywgciwgci5leHBvcnRzLCBpKSwgci5sID0gITAsIHIuZXhwb3J0cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLm0gPSB0LCBpLmMgPSBvLCBpLmQgPSBmdW5jdGlvbihzLCByLCBsKSB7XG4gICAgICAgIGkubyhzLCByKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkocywgciwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBsIH0pO1xuICAgICAgfSwgaS5yID0gZnVuY3Rpb24ocykge1xuICAgICAgICB0eXBlb2YgU3ltYm9sIDwgXCJ1XCIgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG4gICAgICB9LCBpLnQgPSBmdW5jdGlvbihzLCByKSB7XG4gICAgICAgIGlmICgxICYgciAmJiAocyA9IGkocykpLCA4ICYgciB8fCA0ICYgciAmJiB0eXBlb2YgcyA9PSBcIm9iamVjdFwiICYmIHMgJiYgcy5fX2VzTW9kdWxlKVxuICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB2YXIgbCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBpZiAoaS5yKGwpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkobCwgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogITAsIHZhbHVlOiBzIH0pLCAyICYgciAmJiB0eXBlb2YgcyAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgIGZvciAodmFyIGEgaW4gcylcbiAgICAgICAgICAgIGkuZChsLCBhLCAoZnVuY3Rpb24oYykge1xuICAgICAgICAgICAgICByZXR1cm4gc1tjXTtcbiAgICAgICAgICAgIH0pLmJpbmQobnVsbCwgYSkpO1xuICAgICAgICByZXR1cm4gbDtcbiAgICAgIH0sIGkubiA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdmFyIHIgPSBzICYmIHMuX19lc01vZHVsZSA/IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzLmRlZmF1bHQ7XG4gICAgICAgIH0gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGkuZChyLCBcImFcIiwgciksIHI7XG4gICAgICB9LCBpLm8gPSBmdW5jdGlvbihzLCByKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcik7XG4gICAgICB9LCBpLnAgPSBcIlwiLCBpKGkucyA9IDApO1xuICAgIH0oW2Z1bmN0aW9uKHQsIG8sIGkpIHtcbiAgICAgIHQuZXhwb3J0cyA9IGkoMSk7XG4gICAgfSwgZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgaS5yKG8pLCBpLmQobywgXCJkZWZhdWx0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcztcbiAgICAgIH0pO1xuICAgICAgY2xhc3MgcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgIHRoaXMubm9kZXMgPSB7IHdyYXBwZXI6IG51bGwsIGNvbnRlbnQ6IG51bGwgfSwgdGhpcy5zaG93ZWQgPSAhMSwgdGhpcy5vZmZzZXRUb3AgPSAxMCwgdGhpcy5vZmZzZXRMZWZ0ID0gMTAsIHRoaXMub2Zmc2V0UmlnaHQgPSAxMCwgdGhpcy5oaWRpbmdEZWxheSA9IDAsIHRoaXMuaGFuZGxlV2luZG93U2Nyb2xsID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93ZWQgJiYgdGhpcy5oaWRlKCEwKTtcbiAgICAgICAgICB9LCB0aGlzLmxvYWRTdHlsZXMoKSwgdGhpcy5wcmVwYXJlKCksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuaGFuZGxlV2luZG93U2Nyb2xsLCB7IHBhc3NpdmU6ICEwIH0pO1xuICAgICAgICB9XG4gICAgICAgIGdldCBDU1MoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdG9vbHRpcDogXCJjdFwiLCB0b29sdGlwQ29udGVudDogXCJjdF9fY29udGVudFwiLCB0b29sdGlwU2hvd246IFwiY3QtLXNob3duXCIsIHBsYWNlbWVudDogeyBsZWZ0OiBcImN0LS1sZWZ0XCIsIGJvdHRvbTogXCJjdC0tYm90dG9tXCIsIHJpZ2h0OiBcImN0LS1yaWdodFwiLCB0b3A6IFwiY3QtLXRvcFwiIH0gfTtcbiAgICAgICAgfVxuICAgICAgICBzaG93KGwsIGEsIGMpIHtcbiAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIgfHwgdGhpcy5wcmVwYXJlKCksIHRoaXMuaGlkaW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5oaWRpbmdUaW1lb3V0KTtcbiAgICAgICAgICBjb25zdCB1ID0gT2JqZWN0LmFzc2lnbih7IHBsYWNlbWVudDogXCJib3R0b21cIiwgbWFyZ2luVG9wOiAwLCBtYXJnaW5MZWZ0OiAwLCBtYXJnaW5SaWdodDogMCwgbWFyZ2luQm90dG9tOiAwLCBkZWxheTogNzAsIGhpZGluZ0RlbGF5OiAwIH0sIGMpO1xuICAgICAgICAgIGlmICh1LmhpZGluZ0RlbGF5ICYmICh0aGlzLmhpZGluZ0RlbGF5ID0gdS5oaWRpbmdEZWxheSksIHRoaXMubm9kZXMuY29udGVudC5pbm5lckhUTUwgPSBcIlwiLCB0eXBlb2YgYSA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghKGEgaW5zdGFuY2VvZiBOb2RlKSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJbQ29kZVggVG9vbHRpcF0gV3JvbmcgdHlwZSBvZiBcdTAwQUJjb250ZW50XHUwMEJCIHBhc3NlZC4gSXQgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIE5vZGUgb3IgU3RyaW5nLiBCdXQgXCIgKyB0eXBlb2YgYSArIFwiIGdpdmVuLlwiKTtcbiAgICAgICAgICAgIHRoaXMubm9kZXMuY29udGVudC5hcHBlbmRDaGlsZChhKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoICh0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSguLi5PYmplY3QudmFsdWVzKHRoaXMuQ1NTLnBsYWNlbWVudCkpLCB1LnBsYWNlbWVudCkge1xuICAgICAgICAgICAgY2FzZSBcInRvcFwiOlxuICAgICAgICAgICAgICB0aGlzLnBsYWNlVG9wKGwsIHUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgIHRoaXMucGxhY2VMZWZ0KGwsIHUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICB0aGlzLnBsYWNlUmlnaHQobCwgdSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgdGhpcy5wbGFjZUJvdHRvbShsLCB1KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdSAmJiB1LmRlbGF5ID8gdGhpcy5zaG93aW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MudG9vbHRpcFNob3duKSwgdGhpcy5zaG93ZWQgPSAhMDtcbiAgICAgICAgICB9LCB1LmRlbGF5KSA6ICh0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sdGlwU2hvd24pLCB0aGlzLnNob3dlZCA9ICEwKTtcbiAgICAgICAgfVxuICAgICAgICBoaWRlKGwgPSAhMSkge1xuICAgICAgICAgIGlmICh0aGlzLmhpZGluZ0RlbGF5ICYmICFsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkaW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5oaWRpbmdUaW1lb3V0KSwgdm9pZCAodGhpcy5oaWRpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuaGlkZSghMCk7XG4gICAgICAgICAgICB9LCB0aGlzLmhpZGluZ0RlbGF5KSk7XG4gICAgICAgICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MudG9vbHRpcFNob3duKSwgdGhpcy5zaG93ZWQgPSAhMSwgdGhpcy5zaG93aW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5zaG93aW5nVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgb25Ib3ZlcihsLCBhLCBjKSB7XG4gICAgICAgICAgbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3cobCwgYSwgYyk7XG4gICAgICAgICAgfSksIGwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICB0aGlzLm5vZGVzLndyYXBwZXIucmVtb3ZlKCksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuaGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBwcmVwYXJlKCkge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlciA9IHRoaXMubWFrZShcImRpdlwiLCB0aGlzLkNTUy50b29sdGlwKSwgdGhpcy5ub2Rlcy5jb250ZW50ID0gdGhpcy5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnRvb2x0aXBDb250ZW50KSwgdGhpcy5hcHBlbmQodGhpcy5ub2Rlcy53cmFwcGVyLCB0aGlzLm5vZGVzLmNvbnRlbnQpLCB0aGlzLmFwcGVuZChkb2N1bWVudC5ib2R5LCB0aGlzLm5vZGVzLndyYXBwZXIpO1xuICAgICAgICB9XG4gICAgICAgIGxvYWRTdHlsZXMoKSB7XG4gICAgICAgICAgY29uc3QgbCA9IFwiY29kZXgtdG9vbHRpcHMtc3R5bGVcIjtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgYSA9IGkoMiksIGMgPSB0aGlzLm1ha2UoXCJzdHlsZVwiLCBudWxsLCB7IHRleHRDb250ZW50OiBhLnRvU3RyaW5nKCksIGlkOiBsIH0pO1xuICAgICAgICAgIHRoaXMucHJlcGVuZChkb2N1bWVudC5oZWFkLCBjKTtcbiAgICAgICAgfVxuICAgICAgICBwbGFjZUJvdHRvbShsLCBhKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLmxlZnQgKyBsLmNsaWVudFdpZHRoIC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aCAvIDIsIGggPSBjLmJvdHRvbSArIHdpbmRvdy5wYWdlWU9mZnNldCArIHRoaXMub2Zmc2V0VG9wICsgYS5tYXJnaW5Ub3A7XG4gICAgICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChcImJvdHRvbVwiLCB1LCBoKTtcbiAgICAgICAgfVxuICAgICAgICBwbGFjZVRvcChsLCBhKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLmxlZnQgKyBsLmNsaWVudFdpZHRoIC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRXaWR0aCAvIDIsIGggPSBjLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCAtIHRoaXMubm9kZXMud3JhcHBlci5jbGllbnRIZWlnaHQgLSB0aGlzLm9mZnNldFRvcDtcbiAgICAgICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KFwidG9wXCIsIHUsIGgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlTGVmdChsLCBhKSB7XG4gICAgICAgICAgY29uc3QgYyA9IGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHUgPSBjLmxlZnQgLSB0aGlzLm5vZGVzLndyYXBwZXIub2Zmc2V0V2lkdGggLSB0aGlzLm9mZnNldExlZnQgLSBhLm1hcmdpbkxlZnQsIGggPSBjLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIGwuY2xpZW50SGVpZ2h0IC8gMiAtIHRoaXMubm9kZXMud3JhcHBlci5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoXCJsZWZ0XCIsIHUsIGgpO1xuICAgICAgICB9XG4gICAgICAgIHBsYWNlUmlnaHQobCwgYSkge1xuICAgICAgICAgIGNvbnN0IGMgPSBsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB1ID0gYy5yaWdodCArIHRoaXMub2Zmc2V0UmlnaHQgKyBhLm1hcmdpblJpZ2h0LCBoID0gYy50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgKyBsLmNsaWVudEhlaWdodCAvIDIgLSB0aGlzLm5vZGVzLndyYXBwZXIub2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgICB0aGlzLmFwcGx5UGxhY2VtZW50KFwicmlnaHRcIiwgdSwgaCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlQbGFjZW1lbnQobCwgYSwgYykge1xuICAgICAgICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnBsYWNlbWVudFtsXSksIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gYSArIFwicHhcIiwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLnRvcCA9IGMgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgbWFrZShsLCBhID0gbnVsbCwgYyA9IHt9KSB7XG4gICAgICAgICAgY29uc3QgdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobCk7XG4gICAgICAgICAgQXJyYXkuaXNBcnJheShhKSA/IHUuY2xhc3NMaXN0LmFkZCguLi5hKSA6IGEgJiYgdS5jbGFzc0xpc3QuYWRkKGEpO1xuICAgICAgICAgIGZvciAoY29uc3QgaCBpbiBjKVxuICAgICAgICAgICAgYy5oYXNPd25Qcm9wZXJ0eShoKSAmJiAodVtoXSA9IGNbaF0pO1xuICAgICAgICAgIHJldHVybiB1O1xuICAgICAgICB9XG4gICAgICAgIGFwcGVuZChsLCBhKSB7XG4gICAgICAgICAgQXJyYXkuaXNBcnJheShhKSA/IGEuZm9yRWFjaCgoYykgPT4gbC5hcHBlbmRDaGlsZChjKSkgOiBsLmFwcGVuZENoaWxkKGEpO1xuICAgICAgICB9XG4gICAgICAgIHByZXBlbmQobCwgYSkge1xuICAgICAgICAgIEFycmF5LmlzQXJyYXkoYSkgPyAoYSA9IGEucmV2ZXJzZSgpKS5mb3JFYWNoKChjKSA9PiBsLnByZXBlbmQoYykpIDogbC5wcmVwZW5kKGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24odCwgbykge1xuICAgICAgdC5leHBvcnRzID0gYC5jdHt6LWluZGV4Ojk5OTtvcGFjaXR5OjA7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgNTBtcyBlYXNlLWluLC13ZWJraXQtdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IDUwbXMgZWFzZS1pbiwtd2Via2l0LXRyYW5zZm9ybSA3MG1zIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO3RyYW5zaXRpb246b3BhY2l0eSA1MG1zIGVhc2UtaW4sdHJhbnNmb3JtIDcwbXMgY3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IDUwbXMgZWFzZS1pbix0cmFuc2Zvcm0gNzBtcyBjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKSwtd2Via2l0LXRyYW5zZm9ybSA3MG1zIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO3dpbGwtY2hhbmdlOm9wYWNpdHksdG9wLGxlZnQ7LXdlYmtpdC1ib3gtc2hhZG93OjAgOHB4IDEycHggMCByZ2JhKDI5LDMyLDQzLC4xNyksMCA0cHggNXB4IC0zcHggcmdiYSg1LDYsMTIsLjQ5KTtib3gtc2hhZG93OjAgOHB4IDEycHggMCByZ2JhKDI5LDMyLDQzLC4xNyksMCA0cHggNXB4IC0zcHggcmdiYSg1LDYsMTIsLjQ5KTtib3JkZXItcmFkaXVzOjlweH0uY3QsLmN0OmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjB9LmN0OmJlZm9yZXtjb250ZW50OlwiXCI7Ym90dG9tOjA7cmlnaHQ6MDtiYWNrZ3JvdW5kLWNvbG9yOiMxZDIwMmI7ei1pbmRleDotMTtib3JkZXItcmFkaXVzOjRweH1Ac3VwcG9ydHMoLXdlYmtpdC1tYXNrLWJveC1pbWFnZTp1cmwoXCJcIikpey5jdDpiZWZvcmV7Ym9yZGVyLXJhZGl1czowOy13ZWJraXQtbWFzay1ib3gtaW1hZ2U6dXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCw8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIj48cGF0aCBkPVwiTTEwLjcxIDBoMi41OGMzLjAyIDAgNC42NC40MiA2LjEgMS4yYTguMTggOC4xOCAwIDAxMy40IDMuNEMyMy42IDYuMDcgMjQgNy43IDI0IDEwLjcxdjIuNThjMCAzLjAyLS40MiA0LjY0LTEuMiA2LjFhOC4xOCA4LjE4IDAgMDEtMy40IDMuNGMtMS40Ny44LTMuMSAxLjIxLTYuMTEgMS4yMUgxMC43Yy0zLjAyIDAtNC42NC0uNDItNi4xLTEuMmE4LjE4IDguMTggMCAwMS0zLjQtMy40Qy40IDE3LjkzIDAgMTYuMyAwIDEzLjI5VjEwLjdjMC0zLjAyLjQyLTQuNjQgMS4yLTYuMWE4LjE4IDguMTggMCAwMTMuNC0zLjRDNi4wNy40IDcuNyAwIDEwLjcxIDB6XCIvPjwvc3ZnPicpIDQ4JSA0MSUgMzcuOSUgNTMuMyV9fUBtZWRpYSAoLS1tb2JpbGUpey5jdHtkaXNwbGF5Om5vbmV9fS5jdF9fY29udGVudHtwYWRkaW5nOjZweCAxMHB4O2NvbG9yOiNjZGQxZTA7Zm9udC1zaXplOjEycHg7dGV4dC1hbGlnbjpjZW50ZXI7bGV0dGVyLXNwYWNpbmc6LjAyZW07bGluZS1oZWlnaHQ6MWVtfS5jdDphZnRlcntjb250ZW50OlwiXCI7d2lkdGg6OHB4O2hlaWdodDo4cHg7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjojMWQyMDJiO3otaW5kZXg6LTF9LmN0LS1ib3R0b217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSg1cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDVweCl9LmN0LS1ib3R0b206YWZ0ZXJ7dG9wOi0zcHg7bGVmdDo1MCU7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKSByb3RhdGUoLTQ1ZGVnKX0uY3QtLXRvcHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC01cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01cHgpfS5jdC0tdG9wOmFmdGVye3RvcDphdXRvO2JvdHRvbTotM3B4O2xlZnQ6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgcm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgcm90YXRlKC00NWRlZyl9LmN0LS1sZWZ0ey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTVweCl9LmN0LS1sZWZ0OmFmdGVye3RvcDo1MCU7bGVmdDphdXRvO3JpZ2h0OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlKDQxLjYlLC01MCUpIHJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTp0cmFuc2xhdGUoNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyl9LmN0LS1yaWdodHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDVweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoNXB4KX0uY3QtLXJpZ2h0OmFmdGVye3RvcDo1MCU7bGVmdDowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNDEuNiUsLTUwJSkgcm90YXRlKC00NWRlZyl9LmN0LS1zaG93bntvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX1gO1xuICAgIH1dKS5kZWZhdWx0O1xuICB9KTtcbn0pKCR0KTtcbnZhciBkaSA9ICR0LmV4cG9ydHM7XG5jb25zdCBoaSA9IC8qIEBfX1BVUkVfXyAqLyBGZShkaSk7XG5sZXQgVSA9IG51bGw7XG5mdW5jdGlvbiBudCgpIHtcbiAgVSB8fCAoVSA9IG5ldyBoaSgpKTtcbn1cbmZ1bmN0aW9uIHVpKG4sIGUsIHQpIHtcbiAgbnQoKSwgVSA9PSBudWxsIHx8IFUuc2hvdyhuLCBlLCB0KTtcbn1cbmZ1bmN0aW9uIE5lKG4gPSAhMSkge1xuICBudCgpLCBVID09IG51bGwgfHwgVS5oaWRlKG4pO1xufVxuZnVuY3Rpb24gUGUobiwgZSwgdCkge1xuICBudCgpLCBVID09IG51bGwgfHwgVS5vbkhvdmVyKG4sIGUsIHQpO1xufVxuZnVuY3Rpb24gcGkoKSB7XG4gIFUgPT0gbnVsbCB8fCBVLmRlc3Ryb3koKSwgVSA9IG51bGw7XG59XG5jbGFzcyBmaSBleHRlbmRzIHkge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgbWV0aG9kc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNob3c6IChlLCB0LCBvKSA9PiB0aGlzLnNob3coZSwgdCwgbyksXG4gICAgICBoaWRlOiAoKSA9PiB0aGlzLmhpZGUoKSxcbiAgICAgIG9uSG92ZXI6IChlLCB0LCBvKSA9PiB0aGlzLm9uSG92ZXIoZSwgdCwgbylcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2Qgc2hvdyB0b29sdGlwIG9uIGVsZW1lbnQgd2l0aCBwYXNzZWQgSFRNTCBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IG9uIHdoaWNoIHRvb2x0aXAgc2hvdWxkIGJlIHNob3duXG4gICAqIEBwYXJhbSB7VG9vbHRpcENvbnRlbnR9IGNvbnRlbnQgLSB0b29sdGlwIGNvbnRlbnRcbiAgICogQHBhcmFtIHtUb29sdGlwT3B0aW9uc30gb3B0aW9ucyAtIHRvb2x0aXAgb3B0aW9uc1xuICAgKi9cbiAgc2hvdyhlLCB0LCBvKSB7XG4gICAgdWkoZSwgdCwgbyk7XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCBoaWRlcyB0b29sdGlwIG9uIEhUTUwgcGFnZVxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICBOZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZWNvcmF0b3IgZm9yIHNob3dpbmcgVG9vbHRpcCBieSBtb3VzZWVudGVyL21vdXNlbGVhdmVcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgb24gd2hpY2ggdG9vbHRpcCBzaG91bGQgYmUgc2hvd25cbiAgICogQHBhcmFtIHtUb29sdGlwQ29udGVudH0gY29udGVudCAtIHRvb2x0aXAgY29udGVudFxuICAgKiBAcGFyYW0ge1Rvb2x0aXBPcHRpb25zfSBvcHRpb25zIC0gdG9vbHRpcCBvcHRpb25zXG4gICAqL1xuICBvbkhvdmVyKGUsIHQsIG8pIHtcbiAgICBQZShlLCB0LCBvKTtcbiAgfVxufVxuY2xhc3MgZ2kgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEF2YWlsYWJsZSBtZXRob2RzIC8gZ2V0dGVyc1xuICAgKi9cbiAgZ2V0IG1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGVzOiB0aGlzLmVkaXRvck5vZGVzXG4gICAgICAvKipcbiAgICAgICAqIFRoZXJlIGNhbiBiZSBhZGRlZCBzb21lIFVJIG1ldGhvZHMsIGxpa2UgdG9nZ2xlVGhpbk1vZGUoKSBldGNcbiAgICAgICAqL1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9ydGVkIGNsYXNzZXNcbiAgICovXG4gIGdldCBlZGl0b3JOb2RlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBUb3AtbGV2ZWwgZWRpdG9yIGluc3RhbmNlIHdyYXBwZXJcbiAgICAgICAqL1xuICAgICAgd3JhcHBlcjogdGhpcy5FZGl0b3IuVUkubm9kZXMud3JhcHBlcixcbiAgICAgIC8qKlxuICAgICAgICogRWxlbWVudCB0aGF0IGhvbGRzIGFsbCB0aGUgQmxvY2tzXG4gICAgICAgKi9cbiAgICAgIHJlZGFjdG9yOiB0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvclxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIFl0KG4sIGUpIHtcbiAgY29uc3QgdCA9IHt9O1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMobikuZm9yRWFjaCgoW28sIGldKSA9PiB7XG4gICAgaWYgKFIoaSkpIHtcbiAgICAgIGNvbnN0IHMgPSBlID8gYCR7ZX0uJHtvfWAgOiBvO1xuICAgICAgT2JqZWN0LnZhbHVlcyhpKS5ldmVyeSgobCkgPT4gUShsKSkgPyB0W29dID0gcyA6IHRbb10gPSBZdChpLCBzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdFtvXSA9IGk7XG4gIH0pLCB0O1xufVxuY29uc3QgSyA9IFl0KF90KTtcbmZ1bmN0aW9uIG1pKG4sIGUpIHtcbiAgY29uc3QgdCA9IHt9O1xuICByZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaCgobykgPT4ge1xuICAgIGNvbnN0IGkgPSBlW29dO1xuICAgIGkgIT09IHZvaWQgMCA/IHRbaV0gPSBuW29dIDogdFtvXSA9IG5bb107XG4gIH0pLCB0O1xufVxuY29uc3QgV3QgPSBjbGFzcyB2ZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50W119IG5vZGVMaXN0IFx1MjAxNCB0aGUgbGlzdCBvZiBpdGVyYWJsZSBIVE1MLWl0ZW1zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmb2N1c2VkQ3NzQ2xhc3MgLSB1c2VyLXByb3ZpZGVkIENTUy1jbGFzcyB0aGF0IHdpbGwgYmUgc2V0IGluIGZsaXBwaW5nIHByb2Nlc3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICB0aGlzLmN1cnNvciA9IC0xLCB0aGlzLml0ZW1zID0gW10sIHRoaXMuaXRlbXMgPSBlIHx8IFtdLCB0aGlzLmZvY3VzZWRDc3NDbGFzcyA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgRm9jdXNlZCBidXR0b24gTm9kZVxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXQgY3VycmVudEl0ZW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAtMSA/IG51bGwgOiB0aGlzLml0ZW1zW3RoaXMuY3Vyc29yXTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBjdXJzb3IgdG8gc3BlY2lmaWVkIHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjdXJzb3JQb3NpdGlvbiAtIG5ldyBjdXJzb3IgcG9zaXRpb25cbiAgICovXG4gIHNldEN1cnNvcihlKSB7XG4gICAgZSA8IHRoaXMuaXRlbXMubGVuZ3RoICYmIGUgPj0gLTEgJiYgKHRoaXMuZHJvcEN1cnNvcigpLCB0aGlzLmN1cnNvciA9IGUsIHRoaXMuaXRlbXNbdGhpcy5jdXJzb3JdLmNsYXNzTGlzdC5hZGQodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyBpdGVtcy4gQ2FuIGJlIHVzZWQgd2hlbiBpdGVyYWJsZSBpdGVtcyBjaGFuZ2VkIGR5bmFtaWNhbGx5XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnRbXX0gbm9kZUxpc3QgLSBub2RlcyB0byBpdGVyYXRlXG4gICAqL1xuICBzZXRJdGVtcyhlKSB7XG4gICAgdGhpcy5pdGVtcyA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3Vyc29yIG5leHQgdG8gdGhlIGN1cnJlbnRcbiAgICovXG4gIG5leHQoKSB7XG4gICAgdGhpcy5jdXJzb3IgPSB0aGlzLmxlYWZOb2Rlc0FuZFJldHVybkluZGV4KHZlLmRpcmVjdGlvbnMuUklHSFQpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnNvciBiZWZvcmUgY3VycmVudFxuICAgKi9cbiAgcHJldmlvdXMoKSB7XG4gICAgdGhpcy5jdXJzb3IgPSB0aGlzLmxlYWZOb2Rlc0FuZFJldHVybkluZGV4KHZlLmRpcmVjdGlvbnMuTEVGVCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgY3Vyc29yIHRvIHRoZSBkZWZhdWx0IHBvc2l0aW9uIGFuZCByZW1vdmVzIENTUy1jbGFzcyBmcm9tIHByZXZpb3VzbHkgZm9jdXNlZCBpdGVtXG4gICAqL1xuICBkcm9wQ3Vyc29yKCkge1xuICAgIHRoaXMuY3Vyc29yICE9PSAtMSAmJiAodGhpcy5pdGVtc1t0aGlzLmN1cnNvcl0uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmZvY3VzZWRDc3NDbGFzcyksIHRoaXMuY3Vyc29yID0gLTEpO1xuICB9XG4gIC8qKlxuICAgKiBMZWFmcyBub2RlcyBpbnNpZGUgdGhlIHRhcmdldCBsaXN0IGZyb20gYWN0aXZlIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbiAtIGxlYWYgZGlyZWN0aW9uLiBDYW4gYmUgJ2xlZnQnIG9yICdyaWdodCdcbiAgICogQHJldHVybnMge251bWJlcn0gaW5kZXggb2YgZm9jdXNlZCBub2RlXG4gICAqL1xuICBsZWFmTm9kZXNBbmRSZXR1cm5JbmRleChlKSB7XG4gICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yO1xuICAgIGxldCB0ID0gdGhpcy5jdXJzb3I7XG4gICAgcmV0dXJuIHQgPT09IC0xID8gdCA9IGUgPT09IHZlLmRpcmVjdGlvbnMuUklHSFQgPyAtMSA6IDAgOiB0aGlzLml0ZW1zW3RdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5mb2N1c2VkQ3NzQ2xhc3MpLCBlID09PSB2ZS5kaXJlY3Rpb25zLlJJR0hUID8gdCA9ICh0ICsgMSkgJSB0aGlzLml0ZW1zLmxlbmd0aCA6IHQgPSAodGhpcy5pdGVtcy5sZW5ndGggKyB0IC0gMSkgJSB0aGlzLml0ZW1zLmxlbmd0aCwgZC5jYW5TZXRDYXJldCh0aGlzLml0ZW1zW3RdKSAmJiBPZSgoKSA9PiBiLnNldEN1cnNvcih0aGlzLml0ZW1zW3RdKSwgNTApKCksIHRoaXMuaXRlbXNbdF0uY2xhc3NMaXN0LmFkZCh0aGlzLmZvY3VzZWRDc3NDbGFzcyksIHQ7XG4gIH1cbn07XG5XdC5kaXJlY3Rpb25zID0ge1xuICBSSUdIVDogXCJyaWdodFwiLFxuICBMRUZUOiBcImxlZnRcIlxufTtcbmxldCBtZSA9IFd0O1xuY2xhc3MgbGUge1xuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBkaWZmZXJlbnQgY29uc3RydWN0aW5nIHNldHRpbmdzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdGhpcy5pdGVyYXRvciA9IG51bGwsIHRoaXMuYWN0aXZhdGVkID0gITEsIHRoaXMuZmxpcENhbGxiYWNrcyA9IFtdLCB0aGlzLm9uS2V5RG93biA9ICh0KSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0V2ZW50UmVhZHlGb3JIYW5kbGluZyh0KSlcbiAgICAgICAgc3dpdGNoIChsZS51c2VkS2V5cy5pbmNsdWRlcyh0LmtleUNvZGUpICYmIHQucHJldmVudERlZmF1bHQoKSwgdC5rZXlDb2RlKSB7XG4gICAgICAgICAgY2FzZSB3LlRBQjpcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVGFiUHJlc3ModCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHcuTEVGVDpcbiAgICAgICAgICBjYXNlIHcuVVA6XG4gICAgICAgICAgICB0aGlzLmZsaXBMZWZ0KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIHcuUklHSFQ6XG4gICAgICAgICAgY2FzZSB3LkRPV046XG4gICAgICAgICAgICB0aGlzLmZsaXBSaWdodCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSB3LkVOVEVSOlxuICAgICAgICAgICAgdGhpcy5oYW5kbGVFbnRlclByZXNzKHQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzLml0ZXJhdG9yID0gbmV3IG1lKGUuaXRlbXMsIGUuZm9jdXNlZEl0ZW1DbGFzcyksIHRoaXMuYWN0aXZhdGVDYWxsYmFjayA9IGUuYWN0aXZhdGVDYWxsYmFjaywgdGhpcy5hbGxvd2VkS2V5cyA9IGUuYWxsb3dlZEtleXMgfHwgbGUudXNlZEtleXM7XG4gIH1cbiAgLyoqXG4gICAqIFRydWUgaWYgZmxpcHBlciBpcyBjdXJyZW50bHkgYWN0aXZhdGVkXG4gICAqL1xuICBnZXQgaXNBY3RpdmF0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZhdGVkO1xuICB9XG4gIC8qKlxuICAgKiBBcnJheSBvZiBrZXlzIChjb2RlcykgdGhhdCBpcyBoYW5kbGVkIGJ5IEZsaXBwZXJcbiAgICogVXNlZCB0bzpcbiAgICogIC0gcHJldmVudERlZmF1bHQgb25seSBmb3IgdGhpcyBrZXlzLCBub3QgYWxsIGtleWRvd25zIChAc2VlIGNvbnN0cnVjdG9yKVxuICAgKiAgLSB0byBza2lwIGV4dGVybmFsIGJlaGF2aW91cnMgb25seSBmb3IgdGhlc2Uga2V5cywgd2hlbiBmaWxsZXIgaXMgYWN0aXZhdGVkIChAc2VlIEJsb2NrRXZlbnRzQGFycm93UmlnaHRBbmREb3duKVxuICAgKi9cbiAgc3RhdGljIGdldCB1c2VkS2V5cygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgdy5UQUIsXG4gICAgICB3LkxFRlQsXG4gICAgICB3LlJJR0hULFxuICAgICAgdy5FTlRFUixcbiAgICAgIHcuVVAsXG4gICAgICB3LkRPV05cbiAgICBdO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmUgdGFiL2Fycm93cyBoYW5kbGluZyBieSBmbGlwcGVyXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtcyAtIFNvbWUgbW9kdWxlcyAobGlrZSwgSW5saW5lVG9vbGJhciwgQmxvY2tTZXR0aW5ncykgbWlnaHQgcmVmcmVzaCBidXR0b25zIGR5bmFtaWNhbGx5XG4gICAqIEBwYXJhbSBjdXJzb3JQb3NpdGlvbiAtIGluZGV4IG9mIHRoZSBpdGVtIHRoYXQgc2hvdWxkIGJlIGZvY3VzZWQgb25jZSBmbGlwcGVyIGlzIGFjdGl2YXRlZFxuICAgKi9cbiAgYWN0aXZhdGUoZSwgdCkge1xuICAgIHRoaXMuYWN0aXZhdGVkID0gITAsIGUgJiYgdGhpcy5pdGVyYXRvci5zZXRJdGVtcyhlKSwgdCAhPT0gdm9pZCAwICYmIHRoaXMuaXRlcmF0b3Iuc2V0Q3Vyc29yKHQpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93biwgITApO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlIHRhYi9hcnJvd3MgaGFuZGxpbmcgYnkgZmxpcHBlclxuICAgKi9cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICB0aGlzLmFjdGl2YXRlZCA9ICExLCB0aGlzLmRyb3BDdXJzb3IoKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24pO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1cyBmaXJzdCBpdGVtXG4gICAqL1xuICBmb2N1c0ZpcnN0KCkge1xuICAgIHRoaXMuZHJvcEN1cnNvcigpLCB0aGlzLmZsaXBSaWdodCgpO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIHByZXZpb3VzIGZsaXBwZXIgaXRlcmF0b3IgaXRlbVxuICAgKi9cbiAgZmxpcExlZnQoKSB7XG4gICAgdGhpcy5pdGVyYXRvci5wcmV2aW91cygpLCB0aGlzLmZsaXBDYWxsYmFjaygpO1xuICB9XG4gIC8qKlxuICAgKiBGb2N1c2VzIG5leHQgZmxpcHBlciBpdGVyYXRvciBpdGVtXG4gICAqL1xuICBmbGlwUmlnaHQoKSB7XG4gICAgdGhpcy5pdGVyYXRvci5uZXh0KCksIHRoaXMuZmxpcENhbGxiYWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiB0cnVlIGlmIHNvbWUgYnV0dG9uIGlzIGZvY3VzZWRcbiAgICovXG4gIGhhc0ZvY3VzKCkge1xuICAgIHJldHVybiAhIXRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW07XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyZXMgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgZXhlY3V0ZWQgb24gZWFjaCBuYXZpZ2F0aW9uIGFjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gY2IgLSBmdW5jdGlvbiB0byBleGVjdXRlXG4gICAqL1xuICBvbkZsaXAoZSkge1xuICAgIHRoaXMuZmxpcENhbGxiYWNrcy5wdXNoKGUpO1xuICB9XG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyZXMgZnVuY3Rpb24gdGhhdCBpcyBleGVjdXRlZCBvbiBlYWNoIG5hdmlnYXRpb24gYWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSBjYiAtIGZ1bmN0aW9uIHRvIHN0b3AgZXhlY3V0aW5nXG4gICAqL1xuICByZW1vdmVPbkZsaXAoZSkge1xuICAgIHRoaXMuZmxpcENhbGxiYWNrcyA9IHRoaXMuZmxpcENhbGxiYWNrcy5maWx0ZXIoKHQpID0+IHQgIT09IGUpO1xuICB9XG4gIC8qKlxuICAgKiBEcm9wcyBmbGlwcGVyJ3MgaXRlcmF0b3IgY3Vyc29yXG4gICAqXG4gICAqIEBzZWUgRG9tSXRlcmF0b3IjZHJvcEN1cnNvclxuICAgKi9cbiAgZHJvcEN1cnNvcigpIHtcbiAgICB0aGlzLml0ZXJhdG9yLmRyb3BDdXJzb3IoKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBmaXJlZCBiZWZvcmUgaGFuZGxpbmcgZmxpcHBlciBrZXljb2Rlc1xuICAgKiBUaGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gZGVmaW5lcyBpZiBpdCBpcyBuZWVkIHRvIGJlIGhhbmRsZWQgb3Igbm90XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duIGtleWJvYXJkIGV2ZW50XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNFdmVudFJlYWR5Rm9ySGFuZGxpbmcoZSkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2YXRlZCAmJiB0aGlzLmFsbG93ZWRLZXlzLmluY2x1ZGVzKGUua2V5Q29kZSk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gZmxpcHBlciBpcyBhY3RpdmF0ZWQgdGFiIHByZXNzIHdpbGwgbGVhZiB0aGUgaXRlbXNcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIHRhYiBrZXlkb3duIGV2ZW50XG4gICAqL1xuICBoYW5kbGVUYWJQcmVzcyhlKSB7XG4gICAgc3dpdGNoIChlLnNoaWZ0S2V5ID8gbWUuZGlyZWN0aW9ucy5MRUZUIDogbWUuZGlyZWN0aW9ucy5SSUdIVCkge1xuICAgICAgY2FzZSBtZS5kaXJlY3Rpb25zLlJJR0hUOlxuICAgICAgICB0aGlzLmZsaXBSaWdodCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgbWUuZGlyZWN0aW9ucy5MRUZUOlxuICAgICAgICB0aGlzLmZsaXBMZWZ0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3Mgd2lsbCBjbGljayBjdXJyZW50IGl0ZW0gaWYgZmxpcHBlciBpcyBhY3RpdmF0ZWRcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGVudGVyIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGhhbmRsZUVudGVyUHJlc3MoZSkge1xuICAgIHRoaXMuYWN0aXZhdGVkICYmICh0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtICYmIChlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuaXRlcmF0b3IuY3VycmVudEl0ZW0uY2xpY2soKSksIE8odGhpcy5hY3RpdmF0ZUNhbGxiYWNrKSAmJiB0aGlzLmFjdGl2YXRlQ2FsbGJhY2sodGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbSkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlZCBhZnRlciBmbGlwcGluZyBpbiBhbnkgZGlyZWN0aW9uXG4gICAqL1xuICBmbGlwQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5pdGVyYXRvci5jdXJyZW50SXRlbSAmJiB0aGlzLml0ZXJhdG9yLmN1cnJlbnRJdGVtLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKSwgdGhpcy5mbGlwQ2FsbGJhY2tzLmZvckVhY2goKGUpID0+IGUoKSk7XG4gIH1cbn1cbmNvbnN0IGJpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk05IDEyTDkgNy4xQzkgNy4wNDQ3NyA5LjA0NDc3IDcgOS4xIDdIMTAuNEMxMS41IDcgMTQgNy4xIDE0IDkuNUMxNCA5LjUgMTQgMTIgMTEgMTJNOSAxMlYxNi44QzkgMTYuOTEwNSA5LjA4OTU0IDE3IDkuMiAxN0gxMi41QzE0IDE3IDE1IDE2IDE1IDE0LjVDMTUgMTEuNzA0NiAxMSAxMiAxMSAxMk05IDEySDExXCIvPjwvc3ZnPicsIGtpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDEwTDExLjg1ODYgMTQuODU4NkMxMS45MzY3IDE0LjkzNjcgMTIuMDYzMyAxNC45MzY3IDEyLjE0MTQgMTQuODU4NkwxNyAxMFwiLz48L3N2Zz4nLCB2aSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuNSAxNy41TDkuNjQxNDIgMTIuNjQxNEM5LjU2MzMxIDEyLjU2MzMgOS41NjMzMSAxMi40MzY3IDkuNjQxNDIgMTIuMzU4NkwxNC41IDcuNVwiLz48L3N2Zz4nLCB3aSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS41ODI4NCAxNy41TDE0LjQ0MTQgMTIuNjQxNEMxNC41MTk1IDEyLjU2MzMgMTQuNTE5NSAxMi40MzY3IDE0LjQ0MTQgMTIuMzU4Nkw5LjU4Mjg0IDcuNVwiLz48L3N2Zz4nLCB4aSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNyAxNUwxMS44NTg2IDEwLjE0MTRDMTEuOTM2NyAxMC4wNjMzIDEyLjA2MzMgMTAuMDYzMyAxMi4xNDE0IDEwLjE0MTRMMTcgMTVcIi8+PC9zdmc+JywgeWkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTggOEwxMiAxMk0xMiAxMkwxNiAxNk0xMiAxMkwxNiA4TTEyIDEyTDggMTZcIi8+PC9zdmc+JywgRWkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCI0XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48L3N2Zz4nLCBCaSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMuMzQgMTBDMTIuNDIyMyAxMi43MzM3IDExIDE3IDExIDE3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC4yMSA3SDE0LjJcIi8+PC9zdmc+JywgeXQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcuNjk5OTggMTIuNkw3LjY3ODk2IDEyLjYyQzYuNTM5OTMgMTMuNzA0OCA2LjUyMDEyIDE1LjUxNTUgNy42MzUxNiAxNi42MjVWMTYuNjI1QzguNzIyOTMgMTcuNzA3MyAxMC40Nzk5IDE3LjcxMDIgMTEuNTcxMiAxNi42MzE0TDEzLjAyNjMgMTUuMTkzQzE0LjA3MDMgMTQuMTYwOSAxNC4yMTQxIDEyLjUyNSAxMy4zNjYyIDExLjMyNjZMMTMuMjIgMTEuMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2LjIyIDExLjEyTDE2LjM1NjQgMTAuOTgwNUMxNy4yODk1IDEwLjAyNjUgMTcuMzQ3OCA4LjUyMDcgMTYuNDkxNCA3LjQ5NzMzVjcuNDk3MzNDMTUuNTY5MSA2LjM5NTA5IDEzLjkyNjkgNi4yNTE0MyAxMi44MjcxIDcuMTc2NzVMMTEuMzkwMSA4LjM4NTg4QzEwLjA5MzUgOS40NzY3NCA5Ljk1NzA2IDExLjQyNDEgMTEuMDg4OCAxMi42ODUyTDExLjEyIDEyLjcyXCIvPjwvc3ZnPicsIFRpID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuNDA5OTkgNy4yOTk5OUg5LjRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiA3LjI5OTk5SDE0LjU5XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTkuMzA5OTkgMTJIOS4zXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyLjZcIiBkPVwiTTE0LjYgMTJIMTQuNTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS40MDk5OSAxNi43SDkuNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDE2LjdIMTQuNTlcIi8+PC9zdmc+JywgQ2kgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEyIDdWMTJNMTIgMTdWMTJNMTcgMTJIMTJNMTIgMTJIN1wiLz48L3N2Zz4nLCBLdCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTEuNSAxNy41TDUgMTFNNSAxMVYxNS41TTUgMTFIOS41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMi41IDYuNUwxOSAxM00xOSAxM1Y4LjVNMTkgMTNIMTQuNVwiLz48L3N2Zz4nLCBTaSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48Y2lyY2xlIGN4PVwiMTAuNVwiIGN5PVwiMTAuNVwiIHI9XCI1LjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTUuNDE0MlwiIHgyPVwiMTlcIiB5MT1cIjE1XCIgeTI9XCIxOC41ODU4XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+JywgSWkgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE1Ljc3OTUgMTEuNUMxNS43Nzk1IDExLjUgMTYuMDUzIDExLjE5NjIgMTYuNTQ5NyAxMC42NzIyQzE3LjQ0NDIgOS43Mjg1NiAxNy40NzAxIDguMjQ3NSAxNi41NzgxIDcuMzAxNDVWNy4zMDE0NUMxNS42NDgyIDYuMzE1MjIgMTQuMDg3MyA2LjI5MjI3IDEzLjEyODggNy4yNTA3M0wxMS44Nzk2IDguNDk5OTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTguMjQ1MTcgMTIuMzg4M0M4LjI0NTE3IDEyLjM4ODMgNy45NzE3MSAxMi42OTIyIDcuNDc1MDQgMTMuMjE2MUM2LjU4MDUxIDE0LjE1OTggNi41NTQ2NyAxNS42NDA4IDcuNDQ2NjYgMTYuNTg2OVYxNi41ODY5QzguMzc2NTMgMTcuNTczMSA5LjkzNzQ0IDE3LjU5NjEgMTAuODk1OSAxNi42Mzc2TDEyLjE0NTIgMTUuMzg4M1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcuNzgwMiAxNS4xMDMyTDE2LjU5NyAxNC45NDIyQzE2LjAxMDkgMTQuODYyNCAxNS40ODQxIDE1LjMwNTkgMTUuNDYyNyAxNS44OTY5TDE1LjQxOTkgMTcuMDgxOFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNi4zOTA2NCA5LjAzMjM4TDcuNTg0MzIgOS4wNjY2OEM4LjE3NTUxIDkuMDgzNjYgOC42NTIyIDguNTg2NjUgOC42MTA1NiA3Ljk5NjY5TDguNTI3MSA2LjgxMzk3XCIvPjxsaW5lIHgxPVwiMTIuMTE0MlwiIHgyPVwiMTEuN1wiIHkxPVwiMTIuMlwiIHkyPVwiMTEuNzg1OFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjwvc3ZnPicsIE1pID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjEyXCIgeTE9XCI5XCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiAxNS4wMlYxNS4wMVwiLz48L3N2Zz4nLCBBaSA9IFwiX19cIiwgT2kgPSBcIi0tXCI7XG5mdW5jdGlvbiB0ZShuKSB7XG4gIHJldHVybiAoZSwgdCkgPT4gW1tuLCBlXS5maWx0ZXIoKGkpID0+ICEhaSkuam9pbihBaSksIHRdLmZpbHRlcigoaSkgPT4gISFpKS5qb2luKE9pKTtcbn1cbmNvbnN0IGJlID0gdGUoXCJjZS1oaW50XCIpLCBrZSA9IHtcbiAgcm9vdDogYmUoKSxcbiAgYWxpZ25lZFN0YXJ0OiBiZShudWxsLCBcImFsaWduLWxlZnRcIiksXG4gIGFsaWduZWRDZW50ZXI6IGJlKG51bGwsIFwiYWxpZ24tY2VudGVyXCIpLFxuICB0aXRsZTogYmUoXCJ0aXRsZVwiKSxcbiAgZGVzY3JpcHRpb246IGJlKFwiZGVzY3JpcHRpb25cIilcbn07XG5jbGFzcyBMaSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIHRoZSBoaW50IGNvbnRlbnQgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIGhpbnQgY29udGVudCBwYXJhbWV0ZXJzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdGhpcy5ub2RlcyA9IHtcbiAgICAgIHJvb3Q6IGQubWFrZShcImRpdlwiLCBba2Uucm9vdCwgZS5hbGlnbm1lbnQgPT09IFwiY2VudGVyXCIgPyBrZS5hbGlnbmVkQ2VudGVyIDoga2UuYWxpZ25lZFN0YXJ0XSksXG4gICAgICB0aXRsZTogZC5tYWtlKFwiZGl2XCIsIGtlLnRpdGxlLCB7IHRleHRDb250ZW50OiBlLnRpdGxlIH0pXG4gICAgfSwgdGhpcy5ub2Rlcy5yb290LmFwcGVuZENoaWxkKHRoaXMubm9kZXMudGl0bGUpLCBlLmRlc2NyaXB0aW9uICE9PSB2b2lkIDAgJiYgKHRoaXMubm9kZXMuZGVzY3JpcHRpb24gPSBkLm1ha2UoXCJkaXZcIiwga2UuZGVzY3JpcHRpb24sIHsgdGV4dENvbnRlbnQ6IGUuZGVzY3JpcHRpb24gfSksIHRoaXMubm9kZXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmRlc2NyaXB0aW9uKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgaGludCBjb250ZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnJvb3Q7XG4gIH1cbn1cbmNsYXNzIHJ0IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBpbnN0YW5jZSBwYXJhbWV0ZXJzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdGhpcy5wYXJhbXMgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBJdGVtIG5hbWUgaWYgZXhpc3RzXG4gICAqL1xuICBnZXQgbmFtZSgpIHtcbiAgICBpZiAodGhpcy5wYXJhbXMgIT09IHZvaWQgMCAmJiBcIm5hbWVcIiBpbiB0aGlzLnBhcmFtcylcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtcy5uYW1lO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgaW5zdGFuY2VcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgTmUoKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gY2hpbGRyZW4gcG9wb3ZlciBpcyBvcGVuZWQgKGlmIGV4aXN0cylcbiAgICovXG4gIG9uQ2hpbGRyZW5PcGVuKCkge1xuICAgIHZhciBlO1xuICAgIHRoaXMucGFyYW1zICE9PSB2b2lkIDAgJiYgXCJjaGlsZHJlblwiIGluIHRoaXMucGFyYW1zICYmIHR5cGVvZiAoKGUgPSB0aGlzLnBhcmFtcy5jaGlsZHJlbikgPT0gbnVsbCA/IHZvaWQgMCA6IGUub25PcGVuKSA9PSBcImZ1bmN0aW9uXCIgJiYgdGhpcy5wYXJhbXMuY2hpbGRyZW4ub25PcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGNoaWxkcmVuIHBvcG92ZXIgaXMgY2xvc2VkIChpZiBleGlzdHMpXG4gICAqL1xuICBvbkNoaWxkcmVuQ2xvc2UoKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5wYXJhbXMgIT09IHZvaWQgMCAmJiBcImNoaWxkcmVuXCIgaW4gdGhpcy5wYXJhbXMgJiYgdHlwZW9mICgoZSA9IHRoaXMucGFyYW1zLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogZS5vbkNsb3NlKSA9PSBcImZ1bmN0aW9uXCIgJiYgdGhpcy5wYXJhbXMuY2hpbGRyZW4ub25DbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgb24gcG9wb3ZlciBpdGVtIGNsaWNrXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICB2YXIgZSwgdDtcbiAgICB0aGlzLnBhcmFtcyAhPT0gdm9pZCAwICYmIFwib25BY3RpdmF0ZVwiIGluIHRoaXMucGFyYW1zICYmICgodCA9IChlID0gdGhpcy5wYXJhbXMpLm9uQWN0aXZhdGUpID09IG51bGwgfHwgdC5jYWxsKGUsIHRoaXMucGFyYW1zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgaGludCB0byB0aGUgaXRlbSBlbGVtZW50IGlmIGhpbnQgZGF0YSBpcyBwcm92aWRlZFxuICAgKlxuICAgKiBAcGFyYW0gaXRlbUVsZW1lbnQgLSBwb3BvdmVyIGl0ZW0gcm9vdCBlbGVtZW50IHRvIGFkZCBoaW50IHRvXG4gICAqIEBwYXJhbSBoaW50RGF0YSAtIGhpbnQgZGF0YVxuICAgKi9cbiAgYWRkSGludChlLCB0KSB7XG4gICAgY29uc3QgbyA9IG5ldyBMaSh0KTtcbiAgICBQZShlLCBvLmdldEVsZW1lbnQoKSwge1xuICAgICAgcGxhY2VtZW50OiB0LnBvc2l0aW9uLFxuICAgICAgaGlkaW5nRGVsYXk6IDEwMFxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGl0ZW0gY2hpbGRyZW4gdGhhdCBhcmUgcmVwcmVzZW50ZWQgYXMgcG9wb3ZlciBpdGVtc1xuICAgKi9cbiAgZ2V0IGNoaWxkcmVuKCkge1xuICAgIHZhciBlO1xuICAgIHJldHVybiB0aGlzLnBhcmFtcyAhPT0gdm9pZCAwICYmIFwiY2hpbGRyZW5cIiBpbiB0aGlzLnBhcmFtcyAmJiAoKGUgPSB0aGlzLnBhcmFtcy5jaGlsZHJlbikgPT0gbnVsbCA/IHZvaWQgMCA6IGUuaXRlbXMpICE9PSB2b2lkIDAgPyB0aGlzLnBhcmFtcy5jaGlsZHJlbi5pdGVtcyA6IFtdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgaXRlbSBoYXMgYW55IHR5cGUgb2YgY2hpbGRyZW5cbiAgICovXG4gIGdldCBoYXNDaGlsZHJlbigpIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAwO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgaXRlbSBjaGlsZHJlbiBzaG91bGQgYmUgb3BlbiBpbnN0YW50bHkgYWZ0ZXIgcG9wb3ZlciBpcyBvcGVuZWQgYW5kIG5vdCBvbiBpdGVtIGNsaWNrL2hvdmVyXG4gICAqL1xuICBnZXQgaXNDaGlsZHJlbk9wZW4oKSB7XG4gICAgdmFyIGU7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zICE9PSB2b2lkIDAgJiYgXCJjaGlsZHJlblwiIGluIHRoaXMucGFyYW1zICYmICgoZSA9IHRoaXMucGFyYW1zLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogZS5pc09wZW4pID09PSAhMDtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBpdGVtIGNoaWxkcmVuIGl0ZW1zIHNob3VsZCBiZSBuYXZpZ2F0YWJsZSB2aWEga2V5Ym9hcmRcbiAgICovXG4gIGdldCBpc0NoaWxkcmVuRmxpcHBhYmxlKCkge1xuICAgIHZhciBlO1xuICAgIHJldHVybiAhKHRoaXMucGFyYW1zID09PSB2b2lkIDAgfHwgIShcImNoaWxkcmVuXCIgaW4gdGhpcy5wYXJhbXMpIHx8ICgoZSA9IHRoaXMucGFyYW1zLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogZS5pc0ZsaXBwYWJsZSkgPT09ICExKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIGl0ZW0gaGFzIGNoaWxkcmVuIHRoYXQgc2hvdWxkIGJlIHNlYXJjaGFibGVcbiAgICovXG4gIGdldCBpc0NoaWxkcmVuU2VhcmNoYWJsZSgpIHtcbiAgICB2YXIgZTtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMgIT09IHZvaWQgMCAmJiBcImNoaWxkcmVuXCIgaW4gdGhpcy5wYXJhbXMgJiYgKChlID0gdGhpcy5wYXJhbXMuY2hpbGRyZW4pID09IG51bGwgPyB2b2lkIDAgOiBlLnNlYXJjaGFibGUpID09PSAhMDtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBwb3BvdmVyIHNob3VsZCBjbG9zZSBvbmNlIGl0ZW0gaXMgYWN0aXZhdGVkXG4gICAqL1xuICBnZXQgY2xvc2VPbkFjdGl2YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcyAhPT0gdm9pZCAwICYmIFwiY2xvc2VPbkFjdGl2YXRlXCIgaW4gdGhpcy5wYXJhbXMgJiYgdGhpcy5wYXJhbXMuY2xvc2VPbkFjdGl2YXRlO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGl0ZW0gaXMgYWN0aXZlXG4gICAqL1xuICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zID09PSB2b2lkIDAgfHwgIShcImlzQWN0aXZlXCIgaW4gdGhpcy5wYXJhbXMpID8gITEgOiB0eXBlb2YgdGhpcy5wYXJhbXMuaXNBY3RpdmUgPT0gXCJmdW5jdGlvblwiID8gdGhpcy5wYXJhbXMuaXNBY3RpdmUoKSA6IHRoaXMucGFyYW1zLmlzQWN0aXZlID09PSAhMDtcbiAgfVxufVxuY29uc3QgVyA9IHRlKFwiY2UtcG9wb3Zlci1pdGVtXCIpLCBMID0ge1xuICBjb250YWluZXI6IFcoKSxcbiAgYWN0aXZlOiBXKG51bGwsIFwiYWN0aXZlXCIpLFxuICBkaXNhYmxlZDogVyhudWxsLCBcImRpc2FibGVkXCIpLFxuICBmb2N1c2VkOiBXKG51bGwsIFwiZm9jdXNlZFwiKSxcbiAgaGlkZGVuOiBXKG51bGwsIFwiaGlkZGVuXCIpLFxuICBjb25maXJtYXRpb25TdGF0ZTogVyhudWxsLCBcImNvbmZpcm1hdGlvblwiKSxcbiAgbm9Ib3ZlcjogVyhudWxsLCBcIm5vLWhvdmVyXCIpLFxuICBub0ZvY3VzOiBXKG51bGwsIFwibm8tZm9jdXNcIiksXG4gIHRpdGxlOiBXKFwidGl0bGVcIiksXG4gIHNlY29uZGFyeVRpdGxlOiBXKFwic2Vjb25kYXJ5LXRpdGxlXCIpLFxuICBpY29uOiBXKFwiaWNvblwiKSxcbiAgaWNvblRvb2w6IFcoXCJpY29uXCIsIFwidG9vbFwiKSxcbiAgaWNvbkNoZXZyb25SaWdodDogVyhcImljb25cIiwgXCJjaGV2cm9uLXJpZ2h0XCIpLFxuICB3b2JibGVBbmltYXRpb246IHRlKFwid29iYmxlXCIpKClcbn07XG5jbGFzcyBzZSBleHRlbmRzIHJ0IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgcG9wb3ZlciBpdGVtIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwb3BvdmVyIGl0ZW0gY29uc3RydWN0aW9uIHBhcmFtc1xuICAgKiBAcGFyYW0gcmVuZGVyUGFyYW1zIC0gcG9wb3ZlciBpdGVtIHJlbmRlciBwYXJhbXMuXG4gICAqIFRoZSBwYXJhbWV0ZXJzIHRoYXQgYXJlIG5vdCBzZXQgYnkgdXNlciB2aWEgcG9wb3ZlciBhcGkgYnV0IHJhdGhlciBkZXBlbmQgb24gdGVjaG5pY2FsIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgc3VwZXIoZSksIHRoaXMucGFyYW1zID0gZSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIHJvb3Q6IG51bGwsXG4gICAgICBpY29uOiBudWxsXG4gICAgfSwgdGhpcy5jb25maXJtYXRpb25TdGF0ZSA9IG51bGwsIHRoaXMucmVtb3ZlU3BlY2lhbEZvY3VzQmVoYXZpb3IgPSAoKSA9PiB7XG4gICAgICB2YXIgbztcbiAgICAgIChvID0gdGhpcy5ub2Rlcy5yb290KSA9PSBudWxsIHx8IG8uY2xhc3NMaXN0LnJlbW92ZShMLm5vRm9jdXMpO1xuICAgIH0sIHRoaXMucmVtb3ZlU3BlY2lhbEhvdmVyQmVoYXZpb3IgPSAoKSA9PiB7XG4gICAgICB2YXIgbztcbiAgICAgIChvID0gdGhpcy5ub2Rlcy5yb290KSA9PSBudWxsIHx8IG8uY2xhc3NMaXN0LnJlbW92ZShMLm5vSG92ZXIpO1xuICAgIH0sIHRoaXMub25FcnJvckFuaW1hdGlvbkVuZCA9ICgpID0+IHtcbiAgICAgIHZhciBvLCBpO1xuICAgICAgKG8gPSB0aGlzLm5vZGVzLmljb24pID09IG51bGwgfHwgby5jbGFzc0xpc3QucmVtb3ZlKEwud29iYmxlQW5pbWF0aW9uKSwgKGkgPSB0aGlzLm5vZGVzLmljb24pID09IG51bGwgfHwgaS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIHRoaXMub25FcnJvckFuaW1hdGlvbkVuZCk7XG4gICAgfSwgdGhpcy5ub2Rlcy5yb290ID0gdGhpcy5tYWtlKGUsIHQpO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGl0ZW0gaXMgZGlzYWJsZWQgYW5kIGhlbmNlIG5vdCBjbGlja2FibGVcbiAgICovXG4gIGdldCBpc0Rpc2FibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtcy5pc0Rpc2FibGVkID09PSAhMDtcbiAgfVxuICAvKipcbiAgICogRXhwb3NlcyBwb3BvdmVyIGl0ZW0gdG9nZ2xlIHBhcmFtZXRlclxuICAgKi9cbiAgZ2V0IHRvZ2dsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJhbXMudG9nZ2xlO1xuICB9XG4gIC8qKlxuICAgKiBJdGVtIHRpdGxlXG4gICAqL1xuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zLnRpdGxlO1xuICB9XG4gIC8qKlxuICAgKiBUcnVlIGlmIGNvbmZpcm1hdGlvbiBzdGF0ZSBpcyBlbmFibGVkIGZvciBwb3BvdmVyIGl0ZW1cbiAgICovXG4gIGdldCBpc0NvbmZpcm1hdGlvblN0YXRlRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maXJtYXRpb25TdGF0ZSAhPT0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogVHJ1ZSBpZiBpdGVtIGlzIGZvY3VzZWQgaW4ga2V5Ym9hcmQgbmF2aWdhdGlvbiBwcm9jZXNzXG4gICAqL1xuICBnZXQgaXNGb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnJvb3QgPT09IG51bGwgPyAhMSA6IHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QuY29udGFpbnMoTC5mb2N1c2VkKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBwb3BvdmVyIGl0ZW0gcm9vdCBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnJvb3Q7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBvbiBwb3BvdmVyIGl0ZW0gY2xpY2tcbiAgICovXG4gIGhhbmRsZUNsaWNrKCkge1xuICAgIGlmICh0aGlzLmlzQ29uZmlybWF0aW9uU3RhdGVFbmFibGVkICYmIHRoaXMuY29uZmlybWF0aW9uU3RhdGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUodGhpcy5jb25maXJtYXRpb25TdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWN0aXZhdGVPckVuYWJsZUNvbmZpcm1hdGlvbk1vZGUodGhpcy5wYXJhbXMpO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIGl0ZW0gYWN0aXZlIHN0YXRlXG4gICAqXG4gICAqIEBwYXJhbSBpc0FjdGl2ZSAtIHRydWUgaWYgaXRlbSBzaG91bGQgc3RyaWN0bHkgc2hvdWxkIGJlY29tZSBhY3RpdmVcbiAgICovXG4gIHRvZ2dsZUFjdGl2ZShlKSB7XG4gICAgdmFyIHQ7XG4gICAgKHQgPSB0aGlzLm5vZGVzLnJvb3QpID09IG51bGwgfHwgdC5jbGFzc0xpc3QudG9nZ2xlKEwuYWN0aXZlLCBlKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBpdGVtIGhpZGRlbiBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0gaXNIaWRkZW4gLSB0cnVlIGlmIGl0ZW0gc2hvdWxkIGJlIGhpZGRlblxuICAgKi9cbiAgdG9nZ2xlSGlkZGVuKGUpIHtcbiAgICB2YXIgdDtcbiAgICAodCA9IHRoaXMubm9kZXMucm9vdCkgPT0gbnVsbCB8fCB0LmNsYXNzTGlzdC50b2dnbGUoTC5oaWRkZW4sIGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgcG9wb3ZlciBpdGVtIHRvIGl0cyBvcmlnaW5hbCBzdGF0ZVxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5pc0NvbmZpcm1hdGlvblN0YXRlRW5hYmxlZCAmJiB0aGlzLmRpc2FibGVDb25maXJtYXRpb25Nb2RlKCk7XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCBjYWxsZWQgb25jZSBpdGVtIGJlY29tZXMgZm9jdXNlZCBkdXJpbmcga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgKi9cbiAgb25Gb2N1cygpIHtcbiAgICB0aGlzLmRpc2FibGVTcGVjaWFsSG92ZXJBbmRGb2N1c0JlaGF2aW9yKCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgSFRNTCBlbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gcG9wb3ZlciBpdGVtIHBhcmFtc1xuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zIC0gaXRlbSBjb25zdHJ1Y3Rpb24gcGFyYW1zXG4gICAqIEBwYXJhbSByZW5kZXJQYXJhbXMgLSBwb3BvdmVyIGl0ZW0gcmVuZGVyIHBhcmFtc1xuICAgKi9cbiAgbWFrZShlLCB0KSB7XG4gICAgdmFyIHMsIHI7XG4gICAgY29uc3QgbyA9ICh0ID09IG51bGwgPyB2b2lkIDAgOiB0LndyYXBwZXJUYWcpIHx8IFwiZGl2XCIsIGkgPSBkLm1ha2UobywgTC5jb250YWluZXIsIHtcbiAgICAgIHR5cGU6IG8gPT09IFwiYnV0dG9uXCIgPyBcImJ1dHRvblwiIDogdm9pZCAwXG4gICAgfSk7XG4gICAgcmV0dXJuIGUubmFtZSAmJiAoaS5kYXRhc2V0Lml0ZW1OYW1lID0gZS5uYW1lKSwgdGhpcy5ub2Rlcy5pY29uID0gZC5tYWtlKFwiZGl2XCIsIFtMLmljb24sIEwuaWNvblRvb2xdLCB7XG4gICAgICBpbm5lckhUTUw6IGUuaWNvbiB8fCBFaVxuICAgIH0pLCBpLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuaWNvbiksIGUudGl0bGUgIT09IHZvaWQgMCAmJiBpLmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCBMLnRpdGxlLCB7XG4gICAgICBpbm5lckhUTUw6IGUudGl0bGUgfHwgXCJcIlxuICAgIH0pKSwgZS5zZWNvbmRhcnlMYWJlbCAmJiBpLmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCBMLnNlY29uZGFyeVRpdGxlLCB7XG4gICAgICB0ZXh0Q29udGVudDogZS5zZWNvbmRhcnlMYWJlbFxuICAgIH0pKSwgdGhpcy5oYXNDaGlsZHJlbiAmJiBpLmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCBbTC5pY29uLCBMLmljb25DaGV2cm9uUmlnaHRdLCB7XG4gICAgICBpbm5lckhUTUw6IHdpXG4gICAgfSkpLCB0aGlzLmlzQWN0aXZlICYmIGkuY2xhc3NMaXN0LmFkZChMLmFjdGl2ZSksIGUuaXNEaXNhYmxlZCAmJiBpLmNsYXNzTGlzdC5hZGQoTC5kaXNhYmxlZCksIGUuaGludCAhPT0gdm9pZCAwICYmICgocyA9IHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuaGludCkgPT0gbnVsbCA/IHZvaWQgMCA6IHMuZW5hYmxlZCkgIT09ICExICYmIHRoaXMuYWRkSGludChpLCB7XG4gICAgICAuLi5lLmhpbnQsXG4gICAgICBwb3NpdGlvbjogKChyID0gdCA9PSBudWxsID8gdm9pZCAwIDogdC5oaW50KSA9PSBudWxsID8gdm9pZCAwIDogci5wb3NpdGlvbikgfHwgXCJyaWdodFwiXG4gICAgfSksIGk7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBjb25maXJtYXRpb24gbW9kZSBmb3IgdGhlIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdTdGF0ZSAtIG5ldyBwb3BvdmVyIGl0ZW0gcGFyYW1zIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAgICovXG4gIGVuYWJsZUNvbmZpcm1hdGlvbk1vZGUoZSkge1xuICAgIGlmICh0aGlzLm5vZGVzLnJvb3QgPT09IG51bGwpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IHtcbiAgICAgIC4uLnRoaXMucGFyYW1zLFxuICAgICAgLi4uZSxcbiAgICAgIGNvbmZpcm1hdGlvbjogXCJjb25maXJtYXRpb25cIiBpbiBlID8gZS5jb25maXJtYXRpb24gOiB2b2lkIDBcbiAgICB9LCBvID0gdGhpcy5tYWtlKHQpO1xuICAgIHRoaXMubm9kZXMucm9vdC5pbm5lckhUTUwgPSBvLmlubmVySFRNTCwgdGhpcy5ub2Rlcy5yb290LmNsYXNzTGlzdC5hZGQoTC5jb25maXJtYXRpb25TdGF0ZSksIHRoaXMuY29uZmlybWF0aW9uU3RhdGUgPSBlLCB0aGlzLmVuYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpdGVtIHRvIGl0cyBvcmlnaW5hbCBzdGF0ZVxuICAgKi9cbiAgZGlzYWJsZUNvbmZpcm1hdGlvbk1vZGUoKSB7XG4gICAgaWYgKHRoaXMubm9kZXMucm9vdCA9PT0gbnVsbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlID0gdGhpcy5tYWtlKHRoaXMucGFyYW1zKTtcbiAgICB0aGlzLm5vZGVzLnJvb3QuaW5uZXJIVE1MID0gZS5pbm5lckhUTUwsIHRoaXMubm9kZXMucm9vdC5jbGFzc0xpc3QucmVtb3ZlKEwuY29uZmlybWF0aW9uU3RhdGUpLCB0aGlzLmNvbmZpcm1hdGlvblN0YXRlID0gbnVsbCwgdGhpcy5kaXNhYmxlU3BlY2lhbEhvdmVyQW5kRm9jdXNCZWhhdmlvcigpO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIHNwZWNpYWwgZm9jdXMgYW5kIGhvdmVyIGJlaGF2aW9yIGZvciBpdGVtIGluIGNvbmZpcm1hdGlvbiBzdGF0ZS5cbiAgICogVGhpcyBpcyBuZWVkZWQgdG8gcHJldmVudCBpdGVtIGZyb20gYmVpbmcgaGlnaGxpZ2h0ZWQgYXMgaG92ZXJlZC9mb2N1c2VkIGp1c3QgYWZ0ZXIgY2xpY2suXG4gICAqL1xuICBlbmFibGVTcGVjaWFsSG92ZXJBbmRGb2N1c0JlaGF2aW9yKCkge1xuICAgIHZhciBlLCB0LCBvO1xuICAgIChlID0gdGhpcy5ub2Rlcy5yb290KSA9PSBudWxsIHx8IGUuY2xhc3NMaXN0LmFkZChMLm5vSG92ZXIpLCAodCA9IHRoaXMubm9kZXMucm9vdCkgPT0gbnVsbCB8fCB0LmNsYXNzTGlzdC5hZGQoTC5ub0ZvY3VzKSwgKG8gPSB0aGlzLm5vZGVzLnJvb3QpID09IG51bGwgfHwgby5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yLCB7IG9uY2U6ICEwIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEaXNhYmxlcyBzcGVjaWFsIGZvY3VzIGFuZCBob3ZlciBiZWhhdmlvclxuICAgKi9cbiAgZGlzYWJsZVNwZWNpYWxIb3ZlckFuZEZvY3VzQmVoYXZpb3IoKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5yZW1vdmVTcGVjaWFsRm9jdXNCZWhhdmlvcigpLCB0aGlzLnJlbW92ZVNwZWNpYWxIb3ZlckJlaGF2aW9yKCksIChlID0gdGhpcy5ub2Rlcy5yb290KSA9PSBudWxsIHx8IGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5yZW1vdmVTcGVjaWFsSG92ZXJCZWhhdmlvcik7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIGl0ZW0ncyBvbkFjdGl2YXRlIGNhbGxiYWNrIGlmIHRoZSBpdGVtIGhhcyBubyBjb25maXJtYXRpb24gY29uZmlndXJlZFxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSAtIGl0ZW0gdG8gYWN0aXZhdGUgb3IgYnJpbmcgdG8gY29uZmlybWF0aW9uIG1vZGVcbiAgICovXG4gIGFjdGl2YXRlT3JFbmFibGVDb25maXJtYXRpb25Nb2RlKGUpIHtcbiAgICB2YXIgdDtcbiAgICBpZiAoIShcImNvbmZpcm1hdGlvblwiIGluIGUpIHx8IGUuY29uZmlybWF0aW9uID09PSB2b2lkIDApXG4gICAgICB0cnkge1xuICAgICAgICAodCA9IGUub25BY3RpdmF0ZSkgPT0gbnVsbCB8fCB0LmNhbGwoZSwgZSksIHRoaXMuZGlzYWJsZUNvbmZpcm1hdGlvbk1vZGUoKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICB0aGlzLmFuaW1hdGVFcnJvcigpO1xuICAgICAgfVxuICAgIGVsc2VcbiAgICAgIHRoaXMuZW5hYmxlQ29uZmlybWF0aW9uTW9kZShlLmNvbmZpcm1hdGlvbik7XG4gIH1cbiAgLyoqXG4gICAqIEFuaW1hdGVzIGl0ZW0gd2hpY2ggc3ltYm9saXplcyB0aGF0IGVycm9yIG9jY3VyZWQgd2hpbGUgZXhlY3V0aW5nICdvbkFjdGl2YXRlKCknIGNhbGxiYWNrXG4gICAqL1xuICBhbmltYXRlRXJyb3IoKSB7XG4gICAgdmFyIGUsIHQsIG87XG4gICAgKGUgPSB0aGlzLm5vZGVzLmljb24pICE9IG51bGwgJiYgZS5jbGFzc0xpc3QuY29udGFpbnMoTC53b2JibGVBbmltYXRpb24pIHx8ICgodCA9IHRoaXMubm9kZXMuaWNvbikgPT0gbnVsbCB8fCB0LmNsYXNzTGlzdC5hZGQoTC53b2JibGVBbmltYXRpb24pLCAobyA9IHRoaXMubm9kZXMuaWNvbikgPT0gbnVsbCB8fCBvLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgdGhpcy5vbkVycm9yQW5pbWF0aW9uRW5kKSk7XG4gIH1cbn1cbmNvbnN0IFVlID0gdGUoXCJjZS1wb3BvdmVyLWl0ZW0tc2VwYXJhdG9yXCIpLCBqZSA9IHtcbiAgY29udGFpbmVyOiBVZSgpLFxuICBsaW5lOiBVZShcImxpbmVcIiksXG4gIGhpZGRlbjogVWUobnVsbCwgXCJoaWRkZW5cIilcbn07XG5jbGFzcyBYdCBleHRlbmRzIHJ0IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpLCB0aGlzLm5vZGVzID0ge1xuICAgICAgcm9vdDogZC5tYWtlKFwiZGl2XCIsIGplLmNvbnRhaW5lciksXG4gICAgICBsaW5lOiBkLm1ha2UoXCJkaXZcIiwgamUubGluZSlcbiAgICB9LCB0aGlzLm5vZGVzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5saW5lKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBwb3BvdmVyIHNlcGFyYXRvciByb290IGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMucm9vdDtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBpdGVtIGhpZGRlbiBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0gaXNIaWRkZW4gLSB0cnVlIGlmIGl0ZW0gc2hvdWxkIGJlIGhpZGRlblxuICAgKi9cbiAgdG9nZ2xlSGlkZGVuKGUpIHtcbiAgICB2YXIgdDtcbiAgICAodCA9IHRoaXMubm9kZXMucm9vdCkgPT0gbnVsbCB8fCB0LmNsYXNzTGlzdC50b2dnbGUoamUuaGlkZGVuLCBlKTtcbiAgfVxufVxudmFyIFogPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5DbG9zZWQgPSBcImNsb3NlZFwiLCBuLkNsb3NlZE9uQWN0aXZhdGUgPSBcImNsb3NlZC1vbi1hY3RpdmF0ZVwiLCBuKSkoWiB8fCB7fSk7XG5jb25zdCBIID0gdGUoXCJjZS1wb3BvdmVyXCIpLCBOID0ge1xuICBwb3BvdmVyOiBIKCksXG4gIHBvcG92ZXJDb250YWluZXI6IEgoXCJjb250YWluZXJcIiksXG4gIHBvcG92ZXJPcGVuVG9wOiBIKG51bGwsIFwib3Blbi10b3BcIiksXG4gIHBvcG92ZXJPcGVuTGVmdDogSChudWxsLCBcIm9wZW4tbGVmdFwiKSxcbiAgcG9wb3Zlck9wZW5lZDogSChudWxsLCBcIm9wZW5lZFwiKSxcbiAgc2VhcmNoOiBIKFwic2VhcmNoXCIpLFxuICBub3RoaW5nRm91bmRNZXNzYWdlOiBIKFwibm90aGluZy1mb3VuZC1tZXNzYWdlXCIpLFxuICBub3RoaW5nRm91bmRNZXNzYWdlRGlzcGxheWVkOiBIKFwibm90aGluZy1mb3VuZC1tZXNzYWdlXCIsIFwiZGlzcGxheWVkXCIpLFxuICBpdGVtczogSChcIml0ZW1zXCIpLFxuICBvdmVybGF5OiBIKFwib3ZlcmxheVwiKSxcbiAgb3ZlcmxheUhpZGRlbjogSChcIm92ZXJsYXlcIiwgXCJoaWRkZW5cIiksXG4gIHBvcG92ZXJOZXN0ZWQ6IEgobnVsbCwgXCJuZXN0ZWRcIiksXG4gIGdldFBvcG92ZXJOZXN0ZWRDbGFzczogKG4pID0+IEgobnVsbCwgYG5lc3RlZC1sZXZlbC0ke24udG9TdHJpbmcoKX1gKSxcbiAgcG9wb3ZlcklubGluZTogSChudWxsLCBcImlubGluZVwiKSxcbiAgcG9wb3ZlckhlYWRlcjogSChcImhlYWRlclwiKVxufTtcbnZhciBkZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLk5lc3RpbmdMZXZlbCA9IFwiLS1uZXN0aW5nLWxldmVsXCIsIG4uUG9wb3ZlckhlaWdodCA9IFwiLS1wb3BvdmVyLWhlaWdodFwiLCBuLklubGluZVBvcG92ZXJXaWR0aCA9IFwiLS1pbmxpbmUtcG9wb3Zlci13aWR0aFwiLCBuLlRyaWdnZXJJdGVtTGVmdCA9IFwiLS10cmlnZ2VyLWl0ZW0tbGVmdFwiLCBuLlRyaWdnZXJJdGVtVG9wID0gXCItLXRyaWdnZXItaXRlbS10b3BcIiwgbikpKGRlIHx8IHt9KTtcbmNvbnN0IEV0ID0gdGUoXCJjZS1wb3BvdmVyLWl0ZW0taHRtbFwiKSwgQnQgPSB7XG4gIHJvb3Q6IEV0KCksXG4gIGhpZGRlbjogRXQobnVsbCwgXCJoaWRkZW5cIilcbn07XG5jbGFzcyBFZSBleHRlbmRzIHJ0IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgXHUyMDEzIGluc3RhbmNlIHBhcmFtZXRlcnNcbiAgICogQHBhcmFtIHJlbmRlclBhcmFtcyBcdTIwMTMgcG9wb3ZlciBpdGVtIHJlbmRlciBwYXJhbXMuXG4gICAqIFRoZSBwYXJhbWV0ZXJzIHRoYXQgYXJlIG5vdCBzZXQgYnkgdXNlciB2aWEgcG9wb3ZlciBhcGkgYnV0IHJhdGhlciBkZXBlbmQgb24gdGVjaG5pY2FsIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgdmFyIG8sIGk7XG4gICAgc3VwZXIoZSksIHRoaXMubm9kZXMgPSB7XG4gICAgICByb290OiBkLm1ha2UoXCJkaXZcIiwgQnQucm9vdClcbiAgICB9LCB0aGlzLm5vZGVzLnJvb3QuYXBwZW5kQ2hpbGQoZS5lbGVtZW50KSwgZS5uYW1lICYmICh0aGlzLm5vZGVzLnJvb3QuZGF0YXNldC5pdGVtTmFtZSA9IGUubmFtZSksIGUuaGludCAhPT0gdm9pZCAwICYmICgobyA9IHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuaGludCkgPT0gbnVsbCA/IHZvaWQgMCA6IG8uZW5hYmxlZCkgIT09ICExICYmIHRoaXMuYWRkSGludCh0aGlzLm5vZGVzLnJvb3QsIHtcbiAgICAgIC4uLmUuaGludCxcbiAgICAgIHBvc2l0aW9uOiAoKGkgPSB0ID09IG51bGwgPyB2b2lkIDAgOiB0LmhpbnQpID09IG51bGwgPyB2b2lkIDAgOiBpLnBvc2l0aW9uKSB8fCBcInJpZ2h0XCJcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBwb3BvdmVyIGl0ZW0gcm9vdCBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnJvb3Q7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgaXRlbSBoaWRkZW4gc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIGlzSGlkZGVuIC0gdHJ1ZSBpZiBpdGVtIHNob3VsZCBiZSBoaWRkZW5cbiAgICovXG4gIHRvZ2dsZUhpZGRlbihlKSB7XG4gICAgdmFyIHQ7XG4gICAgKHQgPSB0aGlzLm5vZGVzLnJvb3QpID09IG51bGwgfHwgdC5jbGFzc0xpc3QudG9nZ2xlKEJ0LmhpZGRlbiwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBidXR0b25zIGFuZCBpbnB1dHMgaW5zaWRlIGN1c3RvbSBjb250ZW50XG4gICAqL1xuICBnZXRDb250cm9scygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5ub2Rlcy5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBgYnV0dG9uLCAke2QuYWxsSW5wdXRzU2VsZWN0b3J9YFxuICAgICk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZSk7XG4gIH1cbn1cbmNsYXNzIFZ0IGV4dGVuZHMgVGUge1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIHBvcG92ZXIgY29uc3RydWN0aW9uIHBhcmFtc1xuICAgKiBAcGFyYW0gaXRlbXNSZW5kZXJQYXJhbXMgLSBwb3BvdmVyIGl0ZW0gcmVuZGVyIHBhcmFtcy5cbiAgICogVGhlIHBhcmFtZXRlcnMgdGhhdCBhcmUgbm90IHNldCBieSB1c2VyIHZpYSBwb3BvdmVyIGFwaSBidXQgcmF0aGVyIGRlcGVuZCBvbiB0ZWNobmljYWwgaW1wbGVtZW50YXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQgPSB7fSkge1xuICAgIHN1cGVyKCksIHRoaXMucGFyYW1zID0gZSwgdGhpcy5pdGVtc1JlbmRlclBhcmFtcyA9IHQsIHRoaXMubGlzdGVuZXJzID0gbmV3IENlKCksIHRoaXMubWVzc2FnZXMgPSB7XG4gICAgICBub3RoaW5nRm91bmQ6IFwiTm90aGluZyBmb3VuZFwiLFxuICAgICAgc2VhcmNoOiBcIlNlYXJjaFwiXG4gICAgfSwgdGhpcy5pdGVtcyA9IHRoaXMuYnVpbGRJdGVtcyhlLml0ZW1zKSwgZS5tZXNzYWdlcyAmJiAodGhpcy5tZXNzYWdlcyA9IHtcbiAgICAgIC4uLnRoaXMubWVzc2FnZXMsXG4gICAgICAuLi5lLm1lc3NhZ2VzXG4gICAgfSksIHRoaXMubm9kZXMgPSB7fSwgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyID0gZC5tYWtlKFwiZGl2XCIsIFtOLnBvcG92ZXJDb250YWluZXJdKSwgdGhpcy5ub2Rlcy5ub3RoaW5nRm91bmRNZXNzYWdlID0gZC5tYWtlKFwiZGl2XCIsIFtOLm5vdGhpbmdGb3VuZE1lc3NhZ2VdLCB7XG4gICAgICB0ZXh0Q29udGVudDogdGhpcy5tZXNzYWdlcy5ub3RoaW5nRm91bmRcbiAgICB9KSwgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMubm90aGluZ0ZvdW5kTWVzc2FnZSksIHRoaXMubm9kZXMuaXRlbXMgPSBkLm1ha2UoXCJkaXZcIiwgW04uaXRlbXNdKSwgdGhpcy5pdGVtcy5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBjb25zdCBpID0gby5nZXRFbGVtZW50KCk7XG4gICAgICBpICE9PSBudWxsICYmIHRoaXMubm9kZXMuaXRlbXMuYXBwZW5kQ2hpbGQoaSk7XG4gICAgfSksIHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLml0ZW1zKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLCBcImNsaWNrXCIsIChvKSA9PiB0aGlzLmhhbmRsZUNsaWNrKG8pKSwgdGhpcy5ub2Rlcy5wb3BvdmVyID0gZC5tYWtlKFwiZGl2XCIsIFtcbiAgICAgIE4ucG9wb3ZlcixcbiAgICAgIHRoaXMucGFyYW1zLmNsYXNzXG4gICAgXSksIHRoaXMubm9kZXMucG9wb3Zlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIpO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0IG9mIGRlZmF1bHQgcG9wb3ZlciBpdGVtcyB0aGF0IGFyZSBzZWFyY2hhYmxlIGFuZCBtYXkgaGF2ZSBjb25maXJtYXRpb24gc3RhdGVcbiAgICovXG4gIGdldCBpdGVtc0RlZmF1bHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKChlKSA9PiBlIGluc3RhbmNlb2Ygc2UpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIEhUTUwgZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwb3BvdmVyXG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnBvcG92ZXI7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gcG9wb3ZlclxuICAgKi9cbiAgc2hvdygpIHtcbiAgICB0aGlzLm5vZGVzLnBvcG92ZXIuY2xhc3NMaXN0LmFkZChOLnBvcG92ZXJPcGVuZWQpLCB0aGlzLnNlYXJjaCAhPT0gdm9pZCAwICYmIHRoaXMuc2VhcmNoLmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlcyBwb3BvdmVyXG4gICAqL1xuICBoaWRlKCkge1xuICAgIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QucmVtb3ZlKE4ucG9wb3Zlck9wZW5lZCksIHRoaXMubm9kZXMucG9wb3Zlci5jbGFzc0xpc3QucmVtb3ZlKE4ucG9wb3Zlck9wZW5Ub3ApLCB0aGlzLml0ZW1zRGVmYXVsdC5mb3JFYWNoKChlKSA9PiBlLnJlc2V0KCkpLCB0aGlzLnNlYXJjaCAhPT0gdm9pZCAwICYmIHRoaXMuc2VhcmNoLmNsZWFyKCksIHRoaXMuZW1pdChaLkNsb3NlZCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBtZW1vcnlcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKCh0KSA9PiB0LmRlc3Ryb3koKSksIHRoaXMubm9kZXMucG9wb3Zlci5yZW1vdmUoKSwgdGhpcy5saXN0ZW5lcnMucmVtb3ZlQWxsKCksIChlID0gdGhpcy5zZWFyY2gpID09IG51bGwgfHwgZS5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIExvb2tzIGZvciB0aGUgaXRlbSBieSBuYW1lIGFuZCBpbWl0YXRlcyBjbGljayBvbiBpdFxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIG5hbWUgb2YgdGhlIGl0ZW0gdG8gYWN0aXZhdGVcbiAgICovXG4gIGFjdGl2YXRlSXRlbUJ5TmFtZShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuaXRlbXMuZmluZCgobykgPT4gby5uYW1lID09PSBlKTtcbiAgICB0aGlzLmhhbmRsZUl0ZW1DbGljayh0KTtcbiAgfVxuICAvKipcbiAgICogRmFjdG9yeSBtZXRob2QgZm9yIGNyZWF0aW5nIHBvcG92ZXIgaXRlbXNcbiAgICpcbiAgICogQHBhcmFtIGl0ZW1zIC0gbGlzdCBvZiBpdGVtcyBwYXJhbXNcbiAgICovXG4gIGJ1aWxkSXRlbXMoZSkge1xuICAgIHJldHVybiBlLm1hcCgodCkgPT4ge1xuICAgICAgc3dpdGNoICh0LnR5cGUpIHtcbiAgICAgICAgY2FzZSBBLlNlcGFyYXRvcjpcbiAgICAgICAgICByZXR1cm4gbmV3IFh0KCk7XG4gICAgICAgIGNhc2UgQS5IdG1sOlxuICAgICAgICAgIHJldHVybiBuZXcgRWUodCwgdGhpcy5pdGVtc1JlbmRlclBhcmFtc1tBLkh0bWxdKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbmV3IHNlKHQsIHRoaXMuaXRlbXNSZW5kZXJQYXJhbXNbQS5EZWZhdWx0XSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBwb3BvdmVyIGl0ZW0gdGhhdCBpcyB0aGUgdGFyZ2V0IG9mIHRoZSBzcGVjaWZpZWQgZXZlbnRcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0gZXZlbnQgdG8gcmV0cmlldmUgcG9wb3ZlciBpdGVtIGZyb21cbiAgICovXG4gIGdldFRhcmdldEl0ZW0oZSkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcigodCkgPT4gdCBpbnN0YW5jZW9mIHNlIHx8IHQgaW5zdGFuY2VvZiBFZSkuZmluZCgodCkgPT4ge1xuICAgICAgY29uc3QgbyA9IHQuZ2V0RWxlbWVudCgpO1xuICAgICAgcmV0dXJuIG8gPT09IG51bGwgPyAhMSA6IGUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMobyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgcG9wb3ZlciBpdGVtIGNsaWNrXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB0byBoYW5kbGUgY2xpY2sgb2ZcbiAgICovXG4gIGhhbmRsZUl0ZW1DbGljayhlKSB7XG4gICAgaWYgKCEoXCJpc0Rpc2FibGVkXCIgaW4gZSAmJiBlLmlzRGlzYWJsZWQpKSB7XG4gICAgICBpZiAoZS5oYXNDaGlsZHJlbikge1xuICAgICAgICB0aGlzLnNob3dOZXN0ZWRJdGVtcyhlKSwgXCJoYW5kbGVDbGlja1wiIGluIGUgJiYgdHlwZW9mIGUuaGFuZGxlQ2xpY2sgPT0gXCJmdW5jdGlvblwiICYmIGUuaGFuZGxlQ2xpY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5pdGVtc0RlZmF1bHQuZmlsdGVyKCh0KSA9PiB0ICE9PSBlKS5mb3JFYWNoKCh0KSA9PiB0LnJlc2V0KCkpLCBcImhhbmRsZUNsaWNrXCIgaW4gZSAmJiB0eXBlb2YgZS5oYW5kbGVDbGljayA9PSBcImZ1bmN0aW9uXCIgJiYgZS5oYW5kbGVDbGljaygpLCB0aGlzLnRvZ2dsZUl0ZW1BY3RpdmVuZXNzSWZOZWVkZWQoZSksIGUuY2xvc2VPbkFjdGl2YXRlICYmICh0aGlzLmhpZGUoKSwgdGhpcy5lbWl0KFouQ2xvc2VkT25BY3RpdmF0ZSkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBjbGlja3MgaW5zaWRlIHBvcG92ZXJcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0gaXRlbSB0byBoYW5kbGUgY2xpY2sgb2ZcbiAgICovXG4gIGhhbmRsZUNsaWNrKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5nZXRUYXJnZXRJdGVtKGUpO1xuICAgIHQgIT09IHZvaWQgMCAmJiB0aGlzLmhhbmRsZUl0ZW1DbGljayh0KTtcbiAgfVxuICAvKipcbiAgICogLSBUb2dnbGVzIGl0ZW0gYWN0aXZlIHN0YXRlLCBpZiBjbGlja2VkIHBvcG92ZXIgaXRlbSBoYXMgcHJvcGVydHkgJ3RvZ2dsZScgc2V0IHRvIHRydWUuXG4gICAqXG4gICAqIC0gUGVyZm9ybXMgcmFkaW9idXR0b24tbGlrZSBiZWhhdmlvciBpZiB0aGUgaXRlbSBoYXMgcHJvcGVydHkgJ3RvZ2dsZScgc2V0IHRvIHN0cmluZyBrZXkuXG4gICAqIChBbGwgdGhlIG90aGVyIGl0ZW1zIHdpdGggdGhlIHNhbWUga2V5IGdldCBpbmFjdGl2ZSwgYW5kIHRoZSBpdGVtIGdldHMgYWN0aXZlKVxuICAgKlxuICAgKiBAcGFyYW0gY2xpY2tlZEl0ZW0gLSBwb3BvdmVyIGl0ZW0gdGhhdCB3YXMgY2xpY2tlZFxuICAgKi9cbiAgdG9nZ2xlSXRlbUFjdGl2ZW5lc3NJZk5lZWRlZChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBzZSAmJiAoZS50b2dnbGUgPT09ICEwICYmIGUudG9nZ2xlQWN0aXZlKCksIHR5cGVvZiBlLnRvZ2dsZSA9PSBcInN0cmluZ1wiKSkge1xuICAgICAgY29uc3QgdCA9IHRoaXMuaXRlbXNEZWZhdWx0LmZpbHRlcigobykgPT4gby50b2dnbGUgPT09IGUudG9nZ2xlKTtcbiAgICAgIGlmICh0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBlLnRvZ2dsZUFjdGl2ZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0LmZvckVhY2goKG8pID0+IHtcbiAgICAgICAgby50b2dnbGVBY3RpdmUobyA9PT0gZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbnZhciBEZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLlNlYXJjaCA9IFwic2VhcmNoXCIsIG4pKShEZSB8fCB7fSk7XG5jb25zdCAkZSA9IHRlKFwiY2R4LXNlYXJjaC1maWVsZFwiKSwgWWUgPSB7XG4gIHdyYXBwZXI6ICRlKCksXG4gIGljb246ICRlKFwiaWNvblwiKSxcbiAgaW5wdXQ6ICRlKFwiaW5wdXRcIilcbn07XG5jbGFzcyBfaSBleHRlbmRzIFRlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gYXZhaWxhYmxlIGNvbmZpZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy5pdGVtcyAtIHNlYXJjaGFibGUgaXRlbXMgbGlzdFxuICAgKiBAcGFyYW0gb3B0aW9ucy5wbGFjZWhvbGRlciAtIGlucHV0IHBsYWNlaG9sZGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zOiBlLCBwbGFjZWhvbGRlcjogdCB9KSB7XG4gICAgc3VwZXIoKSwgdGhpcy5saXN0ZW5lcnMgPSBuZXcgQ2UoKSwgdGhpcy5pdGVtcyA9IGUsIHRoaXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBZZS53cmFwcGVyKTtcbiAgICBjb25zdCBvID0gZC5tYWtlKFwiZGl2XCIsIFllLmljb24sIHtcbiAgICAgIGlubmVySFRNTDogU2lcbiAgICB9KTtcbiAgICB0aGlzLmlucHV0ID0gZC5tYWtlKFwiaW5wdXRcIiwgWWUuaW5wdXQsIHtcbiAgICAgIHBsYWNlaG9sZGVyOiB0LFxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHByZXZlbnQgZm9jdXNpbmcgb24gdGhlIGlucHV0IGJ5IFRhYiBrZXlcbiAgICAgICAqIChQb3BvdmVyIGluIHRoZSBUb29sYmFyIGxheXMgYmVsb3cgdGhlIGJsb2NrcyxcbiAgICAgICAqIHNvIFRhYiBpbiB0aGUgbGFzdCBibG9jayB3aWxsIGZvY3VzIHRoaXMgaGlkZGVuIGlucHV0IGlmIHRoaXMgcHJvcGVydHkgaXMgbm90IHNldClcbiAgICAgICAqL1xuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSksIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZChvKSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuaW5wdXQpLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLmlucHV0LCBcImlucHV0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuc2VhcmNoUXVlcnkgPSB0aGlzLmlucHV0LnZhbHVlLCB0aGlzLmVtaXQoRGUuU2VhcmNoLCB7XG4gICAgICAgIHF1ZXJ5OiB0aGlzLnNlYXJjaFF1ZXJ5LFxuICAgICAgICBpdGVtczogdGhpcy5mb3VuZEl0ZW1zXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzZWFyY2ggZmllbGQgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGZvY3VzIHRvIHRoZSBpbnB1dFxuICAgKi9cbiAgZm9jdXMoKSB7XG4gICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgc2VhcmNoIHF1ZXJ5IGFuZCByZXN1bHRzXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLmlucHV0LnZhbHVlID0gXCJcIiwgdGhpcy5zZWFyY2hRdWVyeSA9IFwiXCIsIHRoaXMuZW1pdChEZS5TZWFyY2gsIHtcbiAgICAgIHF1ZXJ5OiBcIlwiLFxuICAgICAgaXRlbXM6IHRoaXMuZm91bmRJdGVtc1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgbWVtb3J5XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMubGlzdGVuZXJzLnJlbW92ZUFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGxpc3Qgb2YgZm91bmQgaXRlbXMgZm9yIHRoZSBjdXJyZW50IHNlYXJjaCBxdWVyeVxuICAgKi9cbiAgZ2V0IGZvdW5kSXRlbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKChlKSA9PiB0aGlzLmNoZWNrSXRlbShlKSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbnRhaW5zIGxvZ2ljIGZvciBjaGVja2luZyB3aGV0aGVyIHBhc3NlZCBpdGVtIGNvbmZvcm1zIHRoZSBzZWFyY2ggcXVlcnlcbiAgICpcbiAgICogQHBhcmFtIGl0ZW0gLSBpdGVtIHRvIGJlIGNoZWNrZWRcbiAgICovXG4gIGNoZWNrSXRlbShlKSB7XG4gICAgdmFyIGksIHM7XG4gICAgY29uc3QgdCA9ICgoaSA9IGUudGl0bGUpID09IG51bGwgPyB2b2lkIDAgOiBpLnRvTG93ZXJDYXNlKCkpIHx8IFwiXCIsIG8gPSAocyA9IHRoaXMuc2VhcmNoUXVlcnkpID09IG51bGwgPyB2b2lkIDAgOiBzLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG8gIT09IHZvaWQgMCA/IHQuaW5jbHVkZXMobykgOiAhMTtcbiAgfVxufVxudmFyIE5pID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBQaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIERpID0gKG4sIGUsIHQsIG8pID0+IHtcbiAgZm9yICh2YXIgaSA9IG8gPiAxID8gdm9pZCAwIDogbyA/IFBpKGUsIHQpIDogZSwgcyA9IG4ubGVuZ3RoIC0gMSwgcjsgcyA+PSAwOyBzLS0pXG4gICAgKHIgPSBuW3NdKSAmJiAoaSA9IChvID8gcihlLCB0LCBpKSA6IHIoaSkpIHx8IGkpO1xuICByZXR1cm4gbyAmJiBpICYmIE5pKGUsIHQsIGkpLCBpO1xufTtcbmNvbnN0IHF0ID0gY2xhc3MgWnQgZXh0ZW5kcyBWdCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgdGhlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwb3BvdmVyIHBhcmFtc1xuICAgKiBAcGFyYW0gaXRlbXNSZW5kZXJQYXJhbXMgXHUyMDEzXHUwMEEwcG9wb3ZlciBpdGVtIHJlbmRlciBwYXJhbXMuXG4gICAqIFRoZSBwYXJhbWV0ZXJzIHRoYXQgYXJlIG5vdCBzZXQgYnkgdXNlciB2aWEgcG9wb3ZlciBhcGkgYnV0IHJhdGhlciBkZXBlbmQgb24gdGVjaG5pY2FsIGltcGxlbWVudGF0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgc3VwZXIoZSwgdCksIHRoaXMubmVzdGluZ0xldmVsID0gMCwgdGhpcy5uZXN0ZWRQb3BvdmVyVHJpZ2dlckl0ZW0gPSBudWxsLCB0aGlzLnByZXZpb3VzbHlIb3ZlcmVkSXRlbSA9IG51bGwsIHRoaXMuc2NvcGVFbGVtZW50ID0gZG9jdW1lbnQuYm9keSwgdGhpcy5oaWRlID0gKCkgPT4ge1xuICAgICAgdmFyIG87XG4gICAgICBzdXBlci5oaWRlKCksIHRoaXMuZGVzdHJveU5lc3RlZFBvcG92ZXJJZkV4aXN0cygpLCAobyA9IHRoaXMuZmxpcHBlcikgPT0gbnVsbCB8fCBvLmRlYWN0aXZhdGUoKSwgdGhpcy5wcmV2aW91c2x5SG92ZXJlZEl0ZW0gPSBudWxsO1xuICAgIH0sIHRoaXMub25GbGlwID0gKCkgPT4ge1xuICAgICAgY29uc3QgbyA9IHRoaXMuaXRlbXNEZWZhdWx0LmZpbmQoKGkpID0+IGkuaXNGb2N1c2VkKTtcbiAgICAgIG8gPT0gbnVsbCB8fCBvLm9uRm9jdXMoKTtcbiAgICB9LCB0aGlzLm9uU2VhcmNoID0gKG8pID0+IHtcbiAgICAgIHZhciBsO1xuICAgICAgY29uc3QgaSA9IG8ucXVlcnkgPT09IFwiXCIsIHMgPSBvLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoYSkgPT4ge1xuICAgICAgICBsZXQgYyA9ICExO1xuICAgICAgICBhIGluc3RhbmNlb2Ygc2UgPyBjID0gIW8uaXRlbXMuaW5jbHVkZXMoYSkgOiAoYSBpbnN0YW5jZW9mIFh0IHx8IGEgaW5zdGFuY2VvZiBFZSkgJiYgKGMgPSBzIHx8ICFpKSwgYS50b2dnbGVIaWRkZW4oYyk7XG4gICAgICB9KSwgdGhpcy50b2dnbGVOb3RoaW5nRm91bmRNZXNzYWdlKHMpO1xuICAgICAgY29uc3QgciA9IG8ucXVlcnkgPT09IFwiXCIgPyB0aGlzLmZsaXBwYWJsZUVsZW1lbnRzIDogby5pdGVtcy5tYXAoKGEpID0+IGEuZ2V0RWxlbWVudCgpKTtcbiAgICAgIChsID0gdGhpcy5mbGlwcGVyKSAhPSBudWxsICYmIGwuaXNBY3RpdmF0ZWQgJiYgKHRoaXMuZmxpcHBlci5kZWFjdGl2YXRlKCksIHRoaXMuZmxpcHBlci5hY3RpdmF0ZShyKSk7XG4gICAgfSwgZS5uZXN0aW5nTGV2ZWwgIT09IHZvaWQgMCAmJiAodGhpcy5uZXN0aW5nTGV2ZWwgPSBlLm5lc3RpbmdMZXZlbCksIHRoaXMubmVzdGluZ0xldmVsID4gMCAmJiB0aGlzLm5vZGVzLnBvcG92ZXIuY2xhc3NMaXN0LmFkZChOLnBvcG92ZXJOZXN0ZWQpLCBlLnNjb3BlRWxlbWVudCAhPT0gdm9pZCAwICYmICh0aGlzLnNjb3BlRWxlbWVudCA9IGUuc2NvcGVFbGVtZW50KSwgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyICE9PSBudWxsICYmIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lciwgXCJtb3VzZW92ZXJcIiwgKG8pID0+IHRoaXMuaGFuZGxlSG92ZXIobykpLCBlLnNlYXJjaGFibGUgJiYgdGhpcy5hZGRTZWFyY2goKSwgZS5mbGlwcGFibGUgIT09ICExICYmICh0aGlzLmZsaXBwZXIgPSBuZXcgbGUoe1xuICAgICAgaXRlbXM6IHRoaXMuZmxpcHBhYmxlRWxlbWVudHMsXG4gICAgICBmb2N1c2VkSXRlbUNsYXNzOiBMLmZvY3VzZWQsXG4gICAgICBhbGxvd2VkS2V5czogW1xuICAgICAgICB3LlRBQixcbiAgICAgICAgdy5VUCxcbiAgICAgICAgdy5ET1dOLFxuICAgICAgICB3LkVOVEVSXG4gICAgICBdXG4gICAgfSksIHRoaXMuZmxpcHBlci5vbkZsaXAodGhpcy5vbkZsaXApKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHNvbWUgaXRlbSBpbnNpZGUgcG9wb3ZlciBpcyBmb2N1c2VkXG4gICAqL1xuICBoYXNGb2N1cygpIHtcbiAgICByZXR1cm4gdGhpcy5mbGlwcGVyID09PSB2b2lkIDAgPyAhMSA6IHRoaXMuZmxpcHBlci5oYXNGb2N1cygpO1xuICB9XG4gIC8qKlxuICAgKiBTY3JvbGwgcG9zaXRpb24gaW5zaWRlIGl0ZW1zIGNvbnRhaW5lciBvZiB0aGUgcG9wb3ZlclxuICAgKi9cbiAgZ2V0IHNjcm9sbFRvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5pdGVtcyA9PT0gbnVsbCA/IDAgOiB0aGlzLm5vZGVzLml0ZW1zLnNjcm9sbFRvcDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB2aXNpYmxlIGVsZW1lbnQgb2Zmc2V0IHRvcFxuICAgKi9cbiAgZ2V0IG9mZnNldFRvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyID09PSBudWxsID8gMCA6IHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lci5vZmZzZXRUb3A7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gcG9wb3ZlclxuICAgKi9cbiAgc2hvdygpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLm5vZGVzLnBvcG92ZXIuc3R5bGUuc2V0UHJvcGVydHkoZGUuUG9wb3ZlckhlaWdodCwgdGhpcy5zaXplLmhlaWdodCArIFwicHhcIiksIHRoaXMuc2hvdWxkT3BlbkJvdHRvbSB8fCB0aGlzLm5vZGVzLnBvcG92ZXIuY2xhc3NMaXN0LmFkZChOLnBvcG92ZXJPcGVuVG9wKSwgdGhpcy5zaG91bGRPcGVuUmlnaHQgfHwgdGhpcy5ub2Rlcy5wb3BvdmVyLmNsYXNzTGlzdC5hZGQoTi5wb3BvdmVyT3BlbkxlZnQpLCBzdXBlci5zaG93KCksIChlID0gdGhpcy5mbGlwcGVyKSA9PSBudWxsIHx8IGUuYWN0aXZhdGUodGhpcy5mbGlwcGFibGVFbGVtZW50cyk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyBtZW1vcnlcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5oaWRlKCksIHN1cGVyLmRlc3Ryb3koKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBkaXNwbGF5aW5nIG5lc3RlZCBpdGVtcyBmb3IgdGhlIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIFx1MjAxMyBpdGVtIHRvIHNob3cgbmVzdGVkIHBvcG92ZXIgZm9yXG4gICAqL1xuICBzaG93TmVzdGVkSXRlbXMoZSkge1xuICAgIHRoaXMubmVzdGVkUG9wb3ZlciAhPT0gbnVsbCAmJiB0aGlzLm5lc3RlZFBvcG92ZXIgIT09IHZvaWQgMCB8fCAodGhpcy5uZXN0ZWRQb3BvdmVyVHJpZ2dlckl0ZW0gPSBlLCB0aGlzLnNob3dOZXN0ZWRQb3BvdmVyRm9ySXRlbShlKSk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgaG92ZXIgZXZlbnRzIGluc2lkZSBwb3BvdmVyIGl0ZW1zIGNvbnRhaW5lclxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgLSBob3ZlciBldmVudCBkYXRhXG4gICAqL1xuICBoYW5kbGVIb3ZlcihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZ2V0VGFyZ2V0SXRlbShlKTtcbiAgICB0ICE9PSB2b2lkIDAgJiYgdGhpcy5wcmV2aW91c2x5SG92ZXJlZEl0ZW0gIT09IHQgJiYgKHRoaXMuZGVzdHJveU5lc3RlZFBvcG92ZXJJZkV4aXN0cygpLCB0aGlzLnByZXZpb3VzbHlIb3ZlcmVkSXRlbSA9IHQsIHQuaGFzQ2hpbGRyZW4gJiYgdGhpcy5zaG93TmVzdGVkUG9wb3ZlckZvckl0ZW0odCkpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIENTUyB2YXJpYWJsZSB3aXRoIHBvc2l0aW9uIG9mIGl0ZW0gbmVhciB3aGljaCBuZXN0ZWQgcG9wb3ZlciBzaG91bGQgYmUgZGlzcGxheWVkLlxuICAgKiBJcyB1c2VkIGZvciBjb3JyZWN0IHBvc2l0aW9uaW5nIG9mIHRoZSBuZXN0ZWQgcG9wb3ZlclxuICAgKlxuICAgKiBAcGFyYW0gbmVzdGVkUG9wb3ZlckVsIC0gbmVzdGVkIHBvcG92ZXIgZWxlbWVudFxuICAgKiBAcGFyYW0gaXRlbSBcdTIwMTMgaXRlbSBuZWFyIHdoaWNoIG5lc3RlZCBwb3BvdmVyIHNob3VsZCBiZSBkaXNwbGF5ZWRcbiAgICovXG4gIHNldFRyaWdnZXJJdGVtUG9zaXRpb24oZSwgdCkge1xuICAgIGNvbnN0IG8gPSB0LmdldEVsZW1lbnQoKSwgaSA9IChvID8gby5vZmZzZXRUb3AgOiAwKSAtIHRoaXMuc2Nyb2xsVG9wLCBzID0gdGhpcy5vZmZzZXRUb3AgKyBpO1xuICAgIGUuc3R5bGUuc2V0UHJvcGVydHkoZGUuVHJpZ2dlckl0ZW1Ub3AsIHMgKyBcInB4XCIpO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyBleGlzdGluZyBuZXN0ZWQgcG9wb3ZlclxuICAgKi9cbiAgZGVzdHJveU5lc3RlZFBvcG92ZXJJZkV4aXN0cygpIHtcbiAgICB2YXIgZSwgdDtcbiAgICB0aGlzLm5lc3RlZFBvcG92ZXIgPT09IHZvaWQgMCB8fCB0aGlzLm5lc3RlZFBvcG92ZXIgPT09IG51bGwgfHwgKHRoaXMubmVzdGVkUG9wb3Zlci5vZmYoWi5DbG9zZWRPbkFjdGl2YXRlLCB0aGlzLmhpZGUpLCB0aGlzLm5lc3RlZFBvcG92ZXIuaGlkZSgpLCB0aGlzLm5lc3RlZFBvcG92ZXIuZGVzdHJveSgpLCB0aGlzLm5lc3RlZFBvcG92ZXIuZ2V0RWxlbWVudCgpLnJlbW92ZSgpLCB0aGlzLm5lc3RlZFBvcG92ZXIgPSBudWxsLCAoZSA9IHRoaXMuZmxpcHBlcikgPT0gbnVsbCB8fCBlLmFjdGl2YXRlKHRoaXMuZmxpcHBhYmxlRWxlbWVudHMpLCAodCA9IHRoaXMubmVzdGVkUG9wb3ZlclRyaWdnZXJJdGVtKSA9PSBudWxsIHx8IHQub25DaGlsZHJlbkNsb3NlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBkaXNwbGF5cyBuZXN0ZWQgcG9wb3ZlciBmb3Igc3BlY2lmaWVkIGl0ZW0uXG4gICAqIElzIHVzZWQgb25seSBvbiBkZXNrdG9wXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB0byBkaXNwbGF5IG5lc3RlZCBwb3BvdmVyIGJ5XG4gICAqL1xuICBzaG93TmVzdGVkUG9wb3ZlckZvckl0ZW0oZSkge1xuICAgIHZhciBvO1xuICAgIHRoaXMubmVzdGVkUG9wb3ZlciA9IG5ldyBadCh7XG4gICAgICBzZWFyY2hhYmxlOiBlLmlzQ2hpbGRyZW5TZWFyY2hhYmxlLFxuICAgICAgaXRlbXM6IGUuY2hpbGRyZW4sXG4gICAgICBuZXN0aW5nTGV2ZWw6IHRoaXMubmVzdGluZ0xldmVsICsgMSxcbiAgICAgIGZsaXBwYWJsZTogZS5pc0NoaWxkcmVuRmxpcHBhYmxlLFxuICAgICAgbWVzc2FnZXM6IHRoaXMubWVzc2FnZXNcbiAgICB9KSwgZS5vbkNoaWxkcmVuT3BlbigpLCB0aGlzLm5lc3RlZFBvcG92ZXIub24oWi5DbG9zZWRPbkFjdGl2YXRlLCB0aGlzLmhpZGUpO1xuICAgIGNvbnN0IHQgPSB0aGlzLm5lc3RlZFBvcG92ZXIuZ2V0RWxlbWVudCgpO1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnBvcG92ZXIuYXBwZW5kQ2hpbGQodCksIHRoaXMuc2V0VHJpZ2dlckl0ZW1Qb3NpdGlvbih0LCBlKSwgdC5zdHlsZS5zZXRQcm9wZXJ0eShkZS5OZXN0aW5nTGV2ZWwsIHRoaXMubmVzdGVkUG9wb3Zlci5uZXN0aW5nTGV2ZWwudG9TdHJpbmcoKSksIHRoaXMubmVzdGVkUG9wb3Zlci5zaG93KCksIChvID0gdGhpcy5mbGlwcGVyKSA9PSBudWxsIHx8IG8uZGVhY3RpdmF0ZSgpLCB0aGlzLm5lc3RlZFBvcG92ZXI7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBwb3BvdmVyIHNob3VsZCBiZSBvcGVuZWQgYm90dG9tLlxuICAgKiBJdCBzaG91bGQgaGFwcGVuIHdoZW4gdGhlcmUgaXMgZW5vdWdoIHNwYWNlIGJlbG93IG9yIG5vdCBlbm91Z2ggc3BhY2UgYWJvdmVcbiAgICovXG4gIGdldCBzaG91bGRPcGVuQm90dG9tKCkge1xuICAgIGlmICh0aGlzLm5vZGVzLnBvcG92ZXIgPT09IHZvaWQgMCB8fCB0aGlzLm5vZGVzLnBvcG92ZXIgPT09IG51bGwpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgZSA9IHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdCA9IHRoaXMuc2NvcGVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBvID0gdGhpcy5zaXplLmhlaWdodCwgaSA9IGUudG9wICsgbywgcyA9IGUudG9wIC0gbywgciA9IE1hdGgubWluKHdpbmRvdy5pbm5lckhlaWdodCwgdC5ib3R0b20pO1xuICAgIHJldHVybiBzIDwgdC50b3AgfHwgaSA8PSByO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgcG9wb3ZlciBzaG91bGQgYmUgb3BlbmVkIGxlZnQuXG4gICAqIEl0IHNob3VsZCBoYXBwZW4gd2hlbiB0aGVyZSBpcyBlbm91Z2ggc3BhY2UgaW4gdGhlIHJpZ2h0IG9yIG5vdCBlbm91Z2ggc3BhY2UgaW4gdGhlIGxlZnRcbiAgICovXG4gIGdldCBzaG91bGRPcGVuUmlnaHQoKSB7XG4gICAgaWYgKHRoaXMubm9kZXMucG9wb3ZlciA9PT0gdm9pZCAwIHx8IHRoaXMubm9kZXMucG9wb3ZlciA9PT0gbnVsbClcbiAgICAgIHJldHVybiAhMTtcbiAgICBjb25zdCBlID0gdGhpcy5ub2Rlcy5wb3BvdmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0ID0gdGhpcy5zY29wZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG8gPSB0aGlzLnNpemUud2lkdGgsIGkgPSBlLnJpZ2h0ICsgbywgcyA9IGUubGVmdCAtIG8sIHIgPSBNYXRoLm1pbih3aW5kb3cuaW5uZXJXaWR0aCwgdC5yaWdodCk7XG4gICAgcmV0dXJuIHMgPCB0LmxlZnQgfHwgaSA8PSByO1xuICB9XG4gIGdldCBzaXplKCkge1xuICAgIHZhciBpO1xuICAgIGNvbnN0IGUgPSB7XG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICB3aWR0aDogMFxuICAgIH07XG4gICAgaWYgKHRoaXMubm9kZXMucG9wb3ZlciA9PT0gbnVsbClcbiAgICAgIHJldHVybiBlO1xuICAgIGNvbnN0IHQgPSB0aGlzLm5vZGVzLnBvcG92ZXIuY2xvbmVOb2RlKCEwKTtcbiAgICB0LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiLCB0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiLCB0LnN0eWxlLnRvcCA9IFwiLTEwMDBweFwiLCB0LmNsYXNzTGlzdC5hZGQoTi5wb3BvdmVyT3BlbmVkKSwgKGkgPSB0LnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBOLnBvcG92ZXJOZXN0ZWQpKSA9PSBudWxsIHx8IGkucmVtb3ZlKCksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCk7XG4gICAgY29uc3QgbyA9IHQucXVlcnlTZWxlY3RvcihcIi5cIiArIE4ucG9wb3ZlckNvbnRhaW5lcik7XG4gICAgcmV0dXJuIGUuaGVpZ2h0ID0gby5vZmZzZXRIZWlnaHQsIGUud2lkdGggPSBvLm9mZnNldFdpZHRoLCB0LnJlbW92ZSgpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGxpc3Qgb2YgZWxlbWVudHMgYXZhaWxhYmxlIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uLlxuICAgKi9cbiAgZ2V0IGZsaXBwYWJsZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLml0ZW1zLm1hcCgodCkgPT4ge1xuICAgICAgaWYgKHQgaW5zdGFuY2VvZiBzZSlcbiAgICAgICAgcmV0dXJuIHQuZ2V0RWxlbWVudCgpO1xuICAgICAgaWYgKHQgaW5zdGFuY2VvZiBFZSlcbiAgICAgICAgcmV0dXJuIHQuZ2V0Q29udHJvbHMoKTtcbiAgICB9KS5mbGF0KCkuZmlsdGVyKCh0KSA9PiB0ICE9IG51bGwpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIHNlYXJjaCB0byB0aGUgcG9wb3ZlclxuICAgKi9cbiAgYWRkU2VhcmNoKCkge1xuICAgIHRoaXMuc2VhcmNoID0gbmV3IF9pKHtcbiAgICAgIGl0ZW1zOiB0aGlzLml0ZW1zRGVmYXVsdCxcbiAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLm1lc3NhZ2VzLnNlYXJjaFxuICAgIH0pLCB0aGlzLnNlYXJjaC5vbihEZS5TZWFyY2gsIHRoaXMub25TZWFyY2gpO1xuICAgIGNvbnN0IGUgPSB0aGlzLnNlYXJjaC5nZXRFbGVtZW50KCk7XG4gICAgZS5jbGFzc0xpc3QuYWRkKE4uc2VhcmNoKSwgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLmluc2VydEJlZm9yZShlLCB0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIuZmlyc3RDaGlsZCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgbm90aGluZyBmb3VuZCBtZXNzYWdlIHZpc2liaWxpdHlcbiAgICpcbiAgICogQHBhcmFtIGlzRGlzcGxheWVkIC0gdHJ1ZSBpZiB0aGUgbWVzc2FnZSBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAqL1xuICB0b2dnbGVOb3RoaW5nRm91bmRNZXNzYWdlKGUpIHtcbiAgICB0aGlzLm5vZGVzLm5vdGhpbmdGb3VuZE1lc3NhZ2UuY2xhc3NMaXN0LnRvZ2dsZShOLm5vdGhpbmdGb3VuZE1lc3NhZ2VEaXNwbGF5ZWQsIGUpO1xuICB9XG59O1xuRGkoW1xuICB1ZVxuXSwgcXQucHJvdG90eXBlLCBcInNpemVcIiwgMSk7XG5sZXQgbHQgPSBxdDtcbmNsYXNzIFJpIGV4dGVuZHMgbHQge1xuICAvKipcbiAgICogQ29uc3RydWN0cyB0aGUgaW5zdGFuY2VcbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcyAtIGluc3RhbmNlIHBhcmFtZXRlcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBjb25zdCB0ID0gIXBlKCk7XG4gICAgc3VwZXIoXG4gICAgICB7XG4gICAgICAgIC4uLmUsXG4gICAgICAgIGNsYXNzOiBOLnBvcG92ZXJJbmxpbmVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFtBLkRlZmF1bHRdOiB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogV2UgdXNlIGJ1dHRvbiBpbnN0ZWFkIG9mIGRpdiBoZXJlIHRvIGZpeCBidWcgYXNzb2NpYXRlZCB3aXRoIGZvY3VzIGxvc3MgKHdoaWNoIGxlYWRzIHRvIHNlbGVjdGlvbiBjaGFuZ2UpIG9uIGNsaWNrIGluIHNhZmFyaVxuICAgICAgICAgICAqXG4gICAgICAgICAgICogQHRvZG8gZmlndXJlIG91dCBiZXR0ZXIgd2F5IHRvIHNvbHZlIHRoZSBpc3N1ZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIHdyYXBwZXJUYWc6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgcG9zaXRpb246IFwidG9wXCIsXG4gICAgICAgICAgICBhbGlnbm1lbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBlbmFibGVkOiB0XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBbQS5IdG1sXToge1xuICAgICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInRvcFwiLFxuICAgICAgICAgICAgYWxpZ25tZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgZW5hYmxlZDogdFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICksIHRoaXMuaXRlbXMuZm9yRWFjaCgobykgPT4ge1xuICAgICAgIShvIGluc3RhbmNlb2Ygc2UpICYmICEobyBpbnN0YW5jZW9mIEVlKSB8fCBvLmhhc0NoaWxkcmVuICYmIG8uaXNDaGlsZHJlbk9wZW4gJiYgdGhpcy5zaG93TmVzdGVkSXRlbXMobyk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdmlzaWJsZSBlbGVtZW50IG9mZnNldCB0b3BcbiAgICovXG4gIGdldCBvZmZzZXRMZWZ0KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnBvcG92ZXJDb250YWluZXIgPT09IG51bGwgPyAwIDogdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLm9mZnNldExlZnQ7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gcG9wb3ZlclxuICAgKi9cbiAgc2hvdygpIHtcbiAgICB0aGlzLm5lc3RpbmdMZXZlbCA9PT0gMCAmJiB0aGlzLm5vZGVzLnBvcG92ZXIuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICBkZS5JbmxpbmVQb3BvdmVyV2lkdGgsXG4gICAgICB0aGlzLnNpemUud2lkdGggKyBcInB4XCJcbiAgICApLCBzdXBlci5zaG93KCk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgaG92ZXIgZXZlbnQgaGFuZGxpbmcuXG4gICAqIE92ZXJyaWRlcyBwYXJlbnQncyBjbGFzcyBiZWhhdmlvclxuICAgKi9cbiAgaGFuZGxlSG92ZXIoKSB7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgQ1NTIHZhcmlhYmxlIHdpdGggcG9zaXRpb24gb2YgaXRlbSBuZWFyIHdoaWNoIG5lc3RlZCBwb3BvdmVyIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gICAqIElzIHVzZWQgdG8gcG9zaXRpb24gbmVzdGVkIHBvcG92ZXIgcmlnaHQgYmVsb3cgY2xpY2tlZCBpdGVtXG4gICAqXG4gICAqIEBwYXJhbSBuZXN0ZWRQb3BvdmVyRWwgLSBuZXN0ZWQgcG9wb3ZlciBlbGVtZW50XG4gICAqIEBwYXJhbSBpdGVtIFx1MjAxMyBpdGVtIG5lYXIgd2hpY2ggbmVzdGVkIHBvcG92ZXIgc2hvdWxkIGJlIGRpc3BsYXllZFxuICAgKi9cbiAgc2V0VHJpZ2dlckl0ZW1Qb3NpdGlvbihlLCB0KSB7XG4gICAgY29uc3QgbyA9IHQuZ2V0RWxlbWVudCgpLCBpID0gbyA/IG8ub2Zmc2V0TGVmdCA6IDAsIHMgPSB0aGlzLm9mZnNldExlZnQgKyBpO1xuICAgIGUuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICBkZS5UcmlnZ2VySXRlbUxlZnQsXG4gICAgICBzICsgXCJweFwiXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyBkaXNwbGF5aW5nIG5lc3RlZCBpdGVtcyBmb3IgdGhlIGl0ZW0uXG4gICAqIE92ZXJyaWRpbmcgaW4gb3JkZXIgdG8gYWRkIHRvZ2dsaW5nIGJlaGF2aW91clxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSBcdTIwMTMgaXRlbSB0byB0b2dnbGUgbmVzdGVkIHBvcG92ZXIgZm9yXG4gICAqL1xuICBzaG93TmVzdGVkSXRlbXMoZSkge1xuICAgIGlmICh0aGlzLm5lc3RlZFBvcG92ZXJUcmlnZ2VySXRlbSA9PT0gZSkge1xuICAgICAgdGhpcy5kZXN0cm95TmVzdGVkUG9wb3ZlcklmRXhpc3RzKCksIHRoaXMubmVzdGVkUG9wb3ZlclRyaWdnZXJJdGVtID0gbnVsbDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3VwZXIuc2hvd05lc3RlZEl0ZW1zKGUpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuZCBkaXNwbGF5cyBuZXN0ZWQgcG9wb3ZlciBmb3Igc3BlY2lmaWVkIGl0ZW0uXG4gICAqIElzIHVzZWQgb25seSBvbiBkZXNrdG9wXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB0byBkaXNwbGF5IG5lc3RlZCBwb3BvdmVyIGJ5XG4gICAqL1xuICBzaG93TmVzdGVkUG9wb3ZlckZvckl0ZW0oZSkge1xuICAgIGNvbnN0IHQgPSBzdXBlci5zaG93TmVzdGVkUG9wb3ZlckZvckl0ZW0oZSk7XG4gICAgcmV0dXJuIHQuZ2V0RWxlbWVudCgpLmNsYXNzTGlzdC5hZGQoTi5nZXRQb3BvdmVyTmVzdGVkQ2xhc3ModC5uZXN0aW5nTGV2ZWwpKSwgdDtcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGVzIGRlZmF1bHQgaXRlbSBjbGljayBoYW5kbGluZy5cbiAgICogSGVscHMgdG8gY2xvc2UgbmVzdGVkIHBvcG92ZXIgb25jZSBvdGhlciBpdGVtIGlzIGNsaWNrZWQuXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gY2xpY2tlZCBpdGVtXG4gICAqL1xuICBoYW5kbGVJdGVtQ2xpY2soZSkge1xuICAgIHZhciB0O1xuICAgIGUgIT09IHRoaXMubmVzdGVkUG9wb3ZlclRyaWdnZXJJdGVtICYmICgodCA9IHRoaXMubmVzdGVkUG9wb3ZlclRyaWdnZXJJdGVtKSA9PSBudWxsIHx8IHQuaGFuZGxlQ2xpY2soKSwgc3VwZXIuZGVzdHJveU5lc3RlZFBvcG92ZXJJZkV4aXN0cygpKSwgc3VwZXIuaGFuZGxlSXRlbUNsaWNrKGUpO1xuICB9XG59XG5jb25zdCBHdCA9IGNsYXNzIHdlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIExvY2tzIGJvZHkgZWxlbWVudCBzY3JvbGxcbiAgICovXG4gIGxvY2soKSB7XG4gICAgR2UgPyB0aGlzLmxvY2tIYXJkKCkgOiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQod2UuQ1NTLnNjcm9sbExvY2tlZCk7XG4gIH1cbiAgLyoqXG4gICAqIFVubG9ja3MgYm9keSBlbGVtZW50IHNjcm9sbFxuICAgKi9cbiAgdW5sb2NrKCkge1xuICAgIEdlID8gdGhpcy51bmxvY2tIYXJkKCkgOiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUod2UuQ1NTLnNjcm9sbExvY2tlZCk7XG4gIH1cbiAgLyoqXG4gICAqIExvY2tzIHNjcm9sbCBpbiBhIGhhcmQgd2F5ICh2aWEgc2V0dGluZyBmaXhlZCBwb3NpdGlvbiB0byBib2R5IGVsZW1lbnQpXG4gICAqL1xuICBsb2NrSGFyZCgpIHtcbiAgICB0aGlzLnNjcm9sbFBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICBcIi0td2luZG93LXNjcm9sbC1vZmZzZXRcIixcbiAgICAgIGAke3RoaXMuc2Nyb2xsUG9zaXRpb259cHhgXG4gICAgKSwgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKHdlLkNTUy5zY3JvbGxMb2NrZWRIYXJkKTtcbiAgfVxuICAvKipcbiAgICogVW5sb2NrcyBoYXJkIHNjcm9sbCBsb2NrXG4gICAqL1xuICB1bmxvY2tIYXJkKCkge1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSh3ZS5DU1Muc2Nyb2xsTG9ja2VkSGFyZCksIHRoaXMuc2Nyb2xsUG9zaXRpb24gIT09IG51bGwgJiYgd2luZG93LnNjcm9sbFRvKDAsIHRoaXMuc2Nyb2xsUG9zaXRpb24pLCB0aGlzLnNjcm9sbFBvc2l0aW9uID0gbnVsbDtcbiAgfVxufTtcbkd0LkNTUyA9IHtcbiAgc2Nyb2xsTG9ja2VkOiBcImNlLXNjcm9sbC1sb2NrZWRcIixcbiAgc2Nyb2xsTG9ja2VkSGFyZDogXCJjZS1zY3JvbGwtbG9ja2VkLS1oYXJkXCJcbn07XG5sZXQgRmkgPSBHdDtcbmNvbnN0IFdlID0gdGUoXCJjZS1wb3BvdmVyLWhlYWRlclwiKSwgS2UgPSB7XG4gIHJvb3Q6IFdlKCksXG4gIHRleHQ6IFdlKFwidGV4dFwiKSxcbiAgYmFja0J1dHRvbjogV2UoXCJiYWNrLWJ1dHRvblwiKVxufTtcbmNsYXNzIEhpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwb3BvdmVyIGhlYWRlciBwYXJhbXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgdGV4dDogZSwgb25CYWNrQnV0dG9uQ2xpY2s6IHQgfSkge1xuICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IENlKCksIHRoaXMudGV4dCA9IGUsIHRoaXMub25CYWNrQnV0dG9uQ2xpY2sgPSB0LCB0aGlzLm5vZGVzID0ge1xuICAgICAgcm9vdDogZC5tYWtlKFwiZGl2XCIsIFtLZS5yb290XSksXG4gICAgICBiYWNrQnV0dG9uOiBkLm1ha2UoXCJidXR0b25cIiwgW0tlLmJhY2tCdXR0b25dKSxcbiAgICAgIHRleHQ6IGQubWFrZShcImRpdlwiLCBbS2UudGV4dF0pXG4gICAgfSwgdGhpcy5ub2Rlcy5iYWNrQnV0dG9uLmlubmVySFRNTCA9IHZpLCB0aGlzLm5vZGVzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5iYWNrQnV0dG9uKSwgdGhpcy5saXN0ZW5lcnMub24odGhpcy5ub2Rlcy5iYWNrQnV0dG9uLCBcImNsaWNrXCIsIHRoaXMub25CYWNrQnV0dG9uQ2xpY2spLCB0aGlzLm5vZGVzLnRleHQuaW5uZXJUZXh0ID0gdGhpcy50ZXh0LCB0aGlzLm5vZGVzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy50ZXh0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBwb3BvdmVyIGhlYWRlciByb290IGh0bWwgZWxlbWVudFxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5yb290O1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgaW5zdGFuY2VcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5ub2Rlcy5yb290LnJlbW92ZSgpLCB0aGlzLmxpc3RlbmVycy5kZXN0cm95KCk7XG4gIH1cbn1cbmNsYXNzIHppIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oaXN0b3J5ID0gW107XG4gIH1cbiAgLyoqXG4gICAqIFB1c2ggbmV3IHBvcG92ZXIgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHN0YXRlIC0gbmV3IHN0YXRlXG4gICAqL1xuICBwdXNoKGUpIHtcbiAgICB0aGlzLmhpc3RvcnkucHVzaChlKTtcbiAgfVxuICAvKipcbiAgICogUG9wIGxhc3QgcG9wb3ZlciBzdGF0ZVxuICAgKi9cbiAgcG9wKCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnkucG9wKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRpdGxlIHJldHJpZXZlZCBmcm9tIHRoZSBjdXJyZW50IHN0YXRlXG4gICAqL1xuICBnZXQgY3VycmVudFRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLmhpc3RvcnkubGVuZ3RoID09PSAwID8gXCJcIiA6IHRoaXMuaGlzdG9yeVt0aGlzLmhpc3RvcnkubGVuZ3RoIC0gMV0udGl0bGU7XG4gIH1cbiAgLyoqXG4gICAqIEl0ZW1zIGxpc3QgcmV0cmlldmVkIGZyb20gdGhlIGN1cnJlbnQgc3RhdGVcbiAgICovXG4gIGdldCBjdXJyZW50SXRlbXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5sZW5ndGggPT09IDAgPyBbXSA6IHRoaXMuaGlzdG9yeVt0aGlzLmhpc3RvcnkubGVuZ3RoIC0gMV0uaXRlbXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaGlzdG9yeSB0byBpbml0aWFsIHBvcG92ZXIgc3RhdGVcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIGZvciAoOyB0aGlzLmhpc3RvcnkubGVuZ3RoID4gMTsgKVxuICAgICAgdGhpcy5wb3AoKTtcbiAgfVxufVxuY2xhc3MgSnQgZXh0ZW5kcyBWdCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgdGhlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSBwb3BvdmVyIHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKGUsIHtcbiAgICAgIFtBLkRlZmF1bHRdOiB7XG4gICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICBlbmFibGVkOiAhMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW0EuSHRtbF06IHtcbiAgICAgICAgaGludDoge1xuICAgICAgICAgIGVuYWJsZWQ6ICExXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSwgdGhpcy5zY3JvbGxMb2NrZXIgPSBuZXcgRmkoKSwgdGhpcy5oaXN0b3J5ID0gbmV3IHppKCksIHRoaXMuaXNIaWRkZW4gPSAhMCwgdGhpcy5ub2Rlcy5vdmVybGF5ID0gZC5tYWtlKFwiZGl2XCIsIFtOLm92ZXJsYXksIE4ub3ZlcmxheUhpZGRlbl0pLCB0aGlzLm5vZGVzLnBvcG92ZXIuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZXMub3ZlcmxheSwgdGhpcy5ub2Rlcy5wb3BvdmVyLmZpcnN0Q2hpbGQpLCB0aGlzLmxpc3RlbmVycy5vbih0aGlzLm5vZGVzLm92ZXJsYXksIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSksIHRoaXMuaGlzdG9yeS5wdXNoKHsgaXRlbXM6IGUuaXRlbXMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gcG9wb3ZlclxuICAgKi9cbiAgc2hvdygpIHtcbiAgICB0aGlzLm5vZGVzLm92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShOLm92ZXJsYXlIaWRkZW4pLCBzdXBlci5zaG93KCksIHRoaXMuc2Nyb2xsTG9ja2VyLmxvY2soKSwgdGhpcy5pc0hpZGRlbiA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZXMgcG9wb3ZlclxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmlzSGlkZGVuIHx8IChzdXBlci5oaWRlKCksIHRoaXMubm9kZXMub3ZlcmxheS5jbGFzc0xpc3QuYWRkKE4ub3ZlcmxheUhpZGRlbiksIHRoaXMuc2Nyb2xsTG9ja2VyLnVubG9jaygpLCB0aGlzLmhpc3RvcnkucmVzZXQoKSwgdGhpcy5pc0hpZGRlbiA9ICEwKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIG1lbW9yeVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KCksIHRoaXMuc2Nyb2xsTG9ja2VyLnVubG9jaygpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIGRpc3BsYXlpbmcgbmVzdGVkIGl0ZW1zIGZvciB0aGUgaXRlbVxuICAgKlxuICAgKiBAcGFyYW0gaXRlbSBcdTIwMTNcdTAwQTBpdGVtIHRvIHNob3cgbmVzdGVkIHBvcG92ZXIgZm9yXG4gICAqL1xuICBzaG93TmVzdGVkSXRlbXMoZSkge1xuICAgIHRoaXMudXBkYXRlSXRlbXNBbmRIZWFkZXIoZS5jaGlsZHJlbiwgZS50aXRsZSksIHRoaXMuaGlzdG9yeS5wdXNoKHtcbiAgICAgIHRpdGxlOiBlLnRpdGxlLFxuICAgICAgaXRlbXM6IGUuY2hpbGRyZW5cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyByZW5kZXJlZCBwb3BvdmVyIGl0ZW1zIGFuZCBoZWFkZXIgYW5kIGRpc3BsYXlzIG5ldyBvbmVzXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtcyAtIG5ldyBwb3BvdmVyIGl0ZW1zXG4gICAqIEBwYXJhbSB0aXRsZSAtIG5ldyBwb3BvdmVyIGhlYWRlciB0ZXh0XG4gICAqL1xuICB1cGRhdGVJdGVtc0FuZEhlYWRlcihlLCB0KSB7XG4gICAgaWYgKHRoaXMuaGVhZGVyICE9PSBudWxsICYmIHRoaXMuaGVhZGVyICE9PSB2b2lkIDAgJiYgKHRoaXMuaGVhZGVyLmRlc3Ryb3koKSwgdGhpcy5oZWFkZXIgPSBudWxsKSwgdCAhPT0gdm9pZCAwKSB7XG4gICAgICB0aGlzLmhlYWRlciA9IG5ldyBIaSh7XG4gICAgICAgIHRleHQ6IHQsXG4gICAgICAgIG9uQmFja0J1dHRvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5oaXN0b3J5LnBvcCgpLCB0aGlzLnVwZGF0ZUl0ZW1zQW5kSGVhZGVyKHRoaXMuaGlzdG9yeS5jdXJyZW50SXRlbXMsIHRoaXMuaGlzdG9yeS5jdXJyZW50VGl0bGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLmhlYWRlci5nZXRFbGVtZW50KCk7XG4gICAgICBvICE9PSBudWxsICYmIHRoaXMubm9kZXMucG9wb3ZlckNvbnRhaW5lci5pbnNlcnRCZWZvcmUobywgdGhpcy5ub2Rlcy5wb3BvdmVyQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHZhciBpO1xuICAgICAgcmV0dXJuIChpID0gby5nZXRFbGVtZW50KCkpID09IG51bGwgPyB2b2lkIDAgOiBpLnJlbW92ZSgpO1xuICAgIH0pLCB0aGlzLml0ZW1zID0gdGhpcy5idWlsZEl0ZW1zKGUpLCB0aGlzLml0ZW1zLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHZhciBzO1xuICAgICAgY29uc3QgaSA9IG8uZ2V0RWxlbWVudCgpO1xuICAgICAgaSAhPT0gbnVsbCAmJiAoKHMgPSB0aGlzLm5vZGVzLml0ZW1zKSA9PSBudWxsIHx8IHMuYXBwZW5kQ2hpbGQoaSkpO1xuICAgIH0pO1xuICB9XG59XG5jbGFzcyBVaSBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm9wZW5lZCA9ICExLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBiKCksIHRoaXMucG9wb3ZlciA9IG51bGwsIHRoaXMuY2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9wZW5lZCAmJiAodGhpcy5vcGVuZWQgPSAhMSwgYi5pc0F0RWRpdG9yIHx8IHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24uY2xlYXJTYXZlZCgpLCAhdGhpcy5FZGl0b3IuQ3Jvc3NCbG9ja1NlbGVjdGlvbi5pc0Nyb3NzQmxvY2tTZWxlY3Rpb25TdGFydGVkICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24udW5zZWxlY3RCbG9jayh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrKSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQodGhpcy5ldmVudHMuY2xvc2VkKSwgdGhpcy5wb3BvdmVyICYmICh0aGlzLnBvcG92ZXIub2ZmKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5wb3BvdmVyLmRlc3Ryb3koKSwgdGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKS5yZW1vdmUoKSwgdGhpcy5wb3BvdmVyID0gbnVsbCkpO1xuICAgIH0sIHRoaXMub25Qb3BvdmVyQ2xvc2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIEV2ZW50c1xuICAgKi9cbiAgZ2V0IGV2ZW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3BlbmVkOiBcImJsb2NrLXNldHRpbmdzLW9wZW5lZFwiLFxuICAgICAgY2xvc2VkOiBcImJsb2NrLXNldHRpbmdzLWNsb3NlZFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQmxvY2sgU2V0dGluZ3MgQ1NTXG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZXR0aW5nczogXCJjZS1zZXR0aW5nc1wiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogR2V0dGVyIGZvciBpbm5lciBwb3BvdmVyJ3MgZmxpcHBlciBpbnN0YW5jZVxuICAgKlxuICAgKiBAdG9kbyByZW1vdmUgb25jZSBCbG9ja1NldHRpbmdzIGJlY29tZXMgc3RhbmRhbG9uZSBub24tbW9kdWxlIGNsYXNzXG4gICAqL1xuICBnZXQgZmxpcHBlcigpIHtcbiAgICB2YXIgZTtcbiAgICBpZiAodGhpcy5wb3BvdmVyICE9PSBudWxsKVxuICAgICAgcmV0dXJuIFwiZmxpcHBlclwiIGluIHRoaXMucG9wb3ZlciA/IChlID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsID8gdm9pZCAwIDogZS5mbGlwcGVyIDogdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBQYW5lbCB3aXRoIGJsb2NrIHNldHRpbmdzIHdpdGggMiBzZWN0aW9uczpcbiAgICogIC0gVG9vbCdzIFNldHRpbmdzXG4gICAqICAtIERlZmF1bHQgU2V0dGluZ3MgW01vdmUsIFJlbW92ZSwgZXRjXVxuICAgKi9cbiAgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgW3RoaXMuQ1NTLnNldHRpbmdzXSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbih5ZSwgdGhpcy5jbG9zZSk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIG1vZHVsZVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIHRoaXMubGlzdGVuZXJzLmRlc3Ryb3koKSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9mZih5ZSwgdGhpcy5jbG9zZSk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW4gQmxvY2sgU2V0dGluZ3MgcGFuZVxuICAgKlxuICAgKiBAcGFyYW0gdGFyZ2V0QmxvY2sgLSBuZWFyIHdoaWNoIEJsb2NrIHdlIHNob3VsZCBvcGVuIEJsb2NrU2V0dGluZ3NcbiAgICovXG4gIGFzeW5jIG9wZW4oZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2spIHtcbiAgICB2YXIgcztcbiAgICB0aGlzLm9wZW5lZCA9ICEwLCB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnNlbGVjdEJsb2NrKGUpLCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhckNhY2hlKCk7XG4gICAgY29uc3QgeyB0b29sVHVuZXM6IHQsIGNvbW1vblR1bmVzOiBvIH0gPSBlLmdldFR1bmVzKCk7XG4gICAgdGhpcy5ldmVudHNEaXNwYXRjaGVyLmVtaXQodGhpcy5ldmVudHMub3BlbmVkKTtcbiAgICBjb25zdCBpID0gcGUoKSA/IEp0IDogbHQ7XG4gICAgdGhpcy5wb3BvdmVyID0gbmV3IGkoe1xuICAgICAgc2VhcmNoYWJsZTogITAsXG4gICAgICBpdGVtczogYXdhaXQgdGhpcy5nZXRUdW5lc0l0ZW1zKGUsIG8sIHQpLFxuICAgICAgc2NvcGVFbGVtZW50OiB0aGlzLkVkaXRvci5BUEkubWV0aG9kcy51aS5ub2Rlcy5yZWRhY3RvcixcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIG5vdGhpbmdGb3VuZDogei51aShLLnVpLnBvcG92ZXIsIFwiTm90aGluZyBmb3VuZFwiKSxcbiAgICAgICAgc2VhcmNoOiB6LnVpKEsudWkucG9wb3ZlciwgXCJGaWx0ZXJcIilcbiAgICAgIH1cbiAgICB9KSwgdGhpcy5wb3BvdmVyLm9uKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgKHMgPSB0aGlzLm5vZGVzLndyYXBwZXIpID09IG51bGwgfHwgcy5hcHBlbmQodGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKSksIHRoaXMucG9wb3Zlci5zaG93KCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcm9vdCBibG9jayBzZXR0aW5ncyBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbGlzdCBvZiBpdGVtcyB0byBiZSBkaXNwbGF5ZWQgaW4gYmxvY2sgdHVuZXMgbWVudS5cbiAgICogTWVyZ2VzIHRvb2wgc3BlY2lmaWMgdHVuZXMsIGNvbnZlcnNpb24gbWVudSBhbmQgY29tbW9uIHR1bmVzIGluIG9uZSBsaXN0IGluIHByZWRlZmluZWQgb3JkZXJcbiAgICpcbiAgICogQHBhcmFtIGN1cnJlbnRCbG9jayBcdTIwMTMgIGJsb2NrIHdlIGFyZSBhYm91dCB0byBvcGVuIGJsb2NrIHR1bmVzIGZvclxuICAgKiBAcGFyYW0gY29tbW9uVHVuZXMgXHUyMDEzIGNvbW1vbiB0dW5lc1xuICAgKiBAcGFyYW0gdG9vbFR1bmVzIC0gdG9vbCBzcGVjaWZpYyB0dW5lc1xuICAgKi9cbiAgYXN5bmMgZ2V0VHVuZXNJdGVtcyhlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IFtdO1xuICAgIG8gIT09IHZvaWQgMCAmJiBvLmxlbmd0aCA+IDAgJiYgKGkucHVzaCguLi5vKSwgaS5wdXNoKHtcbiAgICAgIHR5cGU6IEEuU2VwYXJhdG9yXG4gICAgfSkpO1xuICAgIGNvbnN0IHMgPSBBcnJheS5mcm9tKHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMudmFsdWVzKCkpLCBsID0gKGF3YWl0IHp0KGUsIHMpKS5yZWR1Y2UoKGEsIGMpID0+IChjLnRvb2xib3guZm9yRWFjaCgodSkgPT4ge1xuICAgICAgYS5wdXNoKHtcbiAgICAgICAgaWNvbjogdS5pY29uLFxuICAgICAgICB0aXRsZTogei50KEsudG9vbE5hbWVzLCB1LnRpdGxlKSxcbiAgICAgICAgbmFtZTogYy5uYW1lLFxuICAgICAgICBjbG9zZU9uQWN0aXZhdGU6ICEwLFxuICAgICAgICBvbkFjdGl2YXRlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGgsIENhcmV0OiBwLCBUb29sYmFyOiBnIH0gPSB0aGlzLkVkaXRvciwgZiA9IGF3YWl0IGguY29udmVydChlLCBjLm5hbWUsIHUuZGF0YSk7XG4gICAgICAgICAgZy5jbG9zZSgpLCBwLnNldFRvQmxvY2soZiwgcC5wb3NpdGlvbnMuRU5EKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSksIGEpLCBbXSk7XG4gICAgcmV0dXJuIGwubGVuZ3RoID4gMCAmJiAoaS5wdXNoKHtcbiAgICAgIGljb246IEt0LFxuICAgICAgbmFtZTogXCJjb252ZXJ0LXRvXCIsXG4gICAgICB0aXRsZTogei51aShLLnVpLnBvcG92ZXIsIFwiQ29udmVydCB0b1wiKSxcbiAgICAgIGNoaWxkcmVuOiB7XG4gICAgICAgIHNlYXJjaGFibGU6ICEwLFxuICAgICAgICBpdGVtczogbFxuICAgICAgfVxuICAgIH0pLCBpLnB1c2goe1xuICAgICAgdHlwZTogQS5TZXBhcmF0b3JcbiAgICB9KSksIGkucHVzaCguLi50KSwgaS5tYXAoKGEpID0+IHRoaXMucmVzb2x2ZVR1bmVBbGlhc2VzKGEpKTtcbiAgfVxuICAvKipcbiAgICogUmVzb2x2ZXMgYWxpYXNlcyBpbiB0dW5lcyBtZW51IGl0ZW1zXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIC0gaXRlbSB3aXRoIHJlc29sdmVkIGFsaWFzZXNcbiAgICovXG4gIHJlc29sdmVUdW5lQWxpYXNlcyhlKSB7XG4gICAgaWYgKGUudHlwZSA9PT0gQS5TZXBhcmF0b3IgfHwgZS50eXBlID09PSBBLkh0bWwpXG4gICAgICByZXR1cm4gZTtcbiAgICBjb25zdCB0ID0gbWkoZSwgeyBsYWJlbDogXCJ0aXRsZVwiIH0pO1xuICAgIHJldHVybiBlLmNvbmZpcm1hdGlvbiAmJiAodC5jb25maXJtYXRpb24gPSB0aGlzLnJlc29sdmVUdW5lQWxpYXNlcyhlLmNvbmZpcm1hdGlvbikpLCB0O1xuICB9XG59XG52YXIgUXQgPSB7IGV4cG9ydHM6IHt9IH07XG4vKiFcbiAqIExpYnJhcnkgZm9yIGhhbmRsaW5nIGtleWJvYXJkIHNob3J0Y3V0c1xuICogQGNvcHlyaWdodCBDb2RlWCAoaHR0cHM6Ly9jb2RleC5zbylcbiAqIEBsaWNlbnNlIE1JVFxuICogQGF1dGhvciBDb2RlWCAoaHR0cHM6Ly9jb2RleC5zbylcbiAqIEB2ZXJzaW9uIDEuMi4wXG4gKi9cbihmdW5jdGlvbihuLCBlKSB7XG4gIChmdW5jdGlvbih0LCBvKSB7XG4gICAgbi5leHBvcnRzID0gbygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgbyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShzKSB7XG4gICAgICAgIGlmIChvW3NdKVxuICAgICAgICAgIHJldHVybiBvW3NdLmV4cG9ydHM7XG4gICAgICAgIHZhciByID0gb1tzXSA9IHsgaTogcywgbDogITEsIGV4cG9ydHM6IHt9IH07XG4gICAgICAgIHJldHVybiB0W3NdLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIGkpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGkubSA9IHQsIGkuYyA9IG8sIGkuZCA9IGZ1bmN0aW9uKHMsIHIsIGwpIHtcbiAgICAgICAgaS5vKHMsIHIpIHx8IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLCByLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGwgfSk7XG4gICAgICB9LCBpLnIgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICAgIH0sIGkudCA9IGZ1bmN0aW9uKHMsIHIpIHtcbiAgICAgICAgaWYgKDEgJiByICYmIChzID0gaShzKSksIDggJiByIHx8IDQgJiByICYmIHR5cGVvZiBzID09IFwib2JqZWN0XCIgJiYgcyAmJiBzLl9fZXNNb2R1bGUpXG4gICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIHZhciBsID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGlmIChpLnIobCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgdmFsdWU6IHMgfSksIDIgJiByICYmIHR5cGVvZiBzICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgZm9yICh2YXIgYSBpbiBzKVxuICAgICAgICAgICAgaS5kKGwsIGEsIChmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzW2NdO1xuICAgICAgICAgICAgfSkuYmluZChudWxsLCBhKSk7XG4gICAgICAgIHJldHVybiBsO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgciA9IHMgJiYgcy5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHMuZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKHIsIFwiYVwiLCByKSwgcjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKHMsIHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCByKTtcbiAgICAgIH0sIGkucCA9IFwiXCIsIGkoaS5zID0gMCk7XG4gICAgfShbZnVuY3Rpb24odCwgbywgaSkge1xuICAgICAgZnVuY3Rpb24gcyhhLCBjKSB7XG4gICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgIHZhciBoID0gY1t1XTtcbiAgICAgICAgICBoLmVudW1lcmFibGUgPSBoLmVudW1lcmFibGUgfHwgITEsIGguY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBoICYmIChoLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgaC5rZXksIGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByKGEsIGMsIHUpIHtcbiAgICAgICAgcmV0dXJuIGMgJiYgcyhhLnByb3RvdHlwZSwgYyksIHUgJiYgcyhhLCB1KSwgYTtcbiAgICAgIH1cbiAgICAgIGkucihvKTtcbiAgICAgIHZhciBsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIGEoYykge1xuICAgICAgICAgIHZhciB1ID0gdGhpcztcbiAgICAgICAgICAoZnVuY3Rpb24oaCwgcCkge1xuICAgICAgICAgICAgaWYgKCEoaCBpbnN0YW5jZW9mIHApKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgIH0pKHRoaXMsIGEpLCB0aGlzLmNvbW1hbmRzID0ge30sIHRoaXMua2V5cyA9IHt9LCB0aGlzLm5hbWUgPSBjLm5hbWUsIHRoaXMucGFyc2VTaG9ydGN1dE5hbWUoYy5uYW1lKSwgdGhpcy5lbGVtZW50ID0gYy5vbiwgdGhpcy5jYWxsYmFjayA9IGMuY2FsbGJhY2ssIHRoaXMuZXhlY3V0ZVNob3J0Y3V0ID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgdS5leGVjdXRlKGgpO1xuICAgICAgICAgIH0sIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCwgITEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByKGEsIG51bGwsIFt7IGtleTogXCJzdXBwb3J0ZWRDb21tYW5kc1wiLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7IFNISUZUOiBbXCJTSElGVFwiXSwgQ01EOiBbXCJDTURcIiwgXCJDT05UUk9MXCIsIFwiQ09NTUFORFwiLCBcIldJTkRPV1NcIiwgXCJDVFJMXCJdLCBBTFQ6IFtcIkFMVFwiLCBcIk9QVElPTlwiXSB9O1xuICAgICAgICB9IH0sIHsga2V5OiBcImtleUNvZGVzXCIsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHsgMDogNDgsIDE6IDQ5LCAyOiA1MCwgMzogNTEsIDQ6IDUyLCA1OiA1MywgNjogNTQsIDc6IDU1LCA4OiA1NiwgOTogNTcsIEE6IDY1LCBCOiA2NiwgQzogNjcsIEQ6IDY4LCBFOiA2OSwgRjogNzAsIEc6IDcxLCBIOiA3MiwgSTogNzMsIEo6IDc0LCBLOiA3NSwgTDogNzYsIE06IDc3LCBOOiA3OCwgTzogNzksIFA6IDgwLCBROiA4MSwgUjogODIsIFM6IDgzLCBUOiA4NCwgVTogODUsIFY6IDg2LCBXOiA4NywgWDogODgsIFk6IDg5LCBaOiA5MCwgQkFDS1NQQUNFOiA4LCBFTlRFUjogMTMsIEVTQ0FQRTogMjcsIExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgRE9XTjogNDAsIElOU0VSVDogNDUsIERFTEVURTogNDYsIFwiLlwiOiAxOTAgfTtcbiAgICAgICAgfSB9XSksIHIoYSwgW3sga2V5OiBcInBhcnNlU2hvcnRjdXROYW1lXCIsIHZhbHVlOiBmdW5jdGlvbihjKSB7XG4gICAgICAgICAgYyA9IGMuc3BsaXQoXCIrXCIpO1xuICAgICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgYy5sZW5ndGg7IHUrKykge1xuICAgICAgICAgICAgY1t1XSA9IGNbdV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBoID0gITE7XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIGEuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICAgIGlmIChhLnN1cHBvcnRlZENvbW1hbmRzW3BdLmluY2x1ZGVzKGNbdV0pKSB7XG4gICAgICAgICAgICAgICAgaCA9IHRoaXMuY29tbWFuZHNbcF0gPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCB8fCAodGhpcy5rZXlzW2NbdV1dID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBnIGluIGEuc3VwcG9ydGVkQ29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW2ddIHx8ICh0aGlzLmNvbW1hbmRzW2ddID0gITEpO1xuICAgICAgICB9IH0sIHsga2V5OiBcImV4ZWN1dGVcIiwgdmFsdWU6IGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICB2YXIgdSwgaCA9IHsgQ01EOiBjLmN0cmxLZXkgfHwgYy5tZXRhS2V5LCBTSElGVDogYy5zaGlmdEtleSwgQUxUOiBjLmFsdEtleSB9LCBwID0gITA7XG4gICAgICAgICAgZm9yICh1IGluIHRoaXMuY29tbWFuZHMpXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRzW3VdICE9PSBoW3VdICYmIChwID0gITEpO1xuICAgICAgICAgIHZhciBnLCBmID0gITA7XG4gICAgICAgICAgZm9yIChnIGluIHRoaXMua2V5cylcbiAgICAgICAgICAgIGYgPSBmICYmIGMua2V5Q29kZSA9PT0gYS5rZXlDb2Rlc1tnXTtcbiAgICAgICAgICBwICYmIGYgJiYgdGhpcy5jYWxsYmFjayhjKTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJyZW1vdmVcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmV4ZWN1dGVTaG9ydGN1dCk7XG4gICAgICAgIH0gfV0pLCBhO1xuICAgICAgfSgpO1xuICAgICAgby5kZWZhdWx0ID0gbDtcbiAgICB9XSkuZGVmYXVsdDtcbiAgfSk7XG59KShRdCk7XG52YXIgamkgPSBRdC5leHBvcnRzO1xuY29uc3QgJGkgPSAvKiBAX19QVVJFX18gKi8gRmUoamkpO1xuY2xhc3MgWWkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlciBzaG9ydGN1dFxuICAgKlxuICAgKiBAcGFyYW0gc2hvcnRjdXQgLSBzaG9ydGN1dCBvcHRpb25zXG4gICAqL1xuICBhZGQoZSkge1xuICAgIGlmICh0aGlzLmZpbmRTaG9ydGN1dChlLm9uLCBlLm5hbWUpKVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBTaG9ydGN1dCAke2UubmFtZX0gaXMgYWxyZWFkeSByZWdpc3RlcmVkIGZvciAke2Uub259LiBQbGVhc2UgcmVtb3ZlIGl0IGJlZm9yZSBhZGQgYSBuZXcgaGFuZGxlci5gXG4gICAgICApO1xuICAgIGNvbnN0IG8gPSBuZXcgJGkoe1xuICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgb246IGUub24sXG4gICAgICBjYWxsYmFjazogZS5oYW5kbGVyXG4gICAgfSksIGkgPSB0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuZ2V0KGUub24pIHx8IFtdO1xuICAgIHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5zZXQoZS5vbiwgWy4uLmksIG9dKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gRWxlbWVudCBzaG9ydGN1dCBpcyBzZXQgZm9yXG4gICAqIEBwYXJhbSBuYW1lIC0gc2hvcnRjdXQgbmFtZVxuICAgKi9cbiAgcmVtb3ZlKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5maW5kU2hvcnRjdXQoZSwgdCk7XG4gICAgaWYgKCFvKVxuICAgICAgcmV0dXJuO1xuICAgIG8ucmVtb3ZlKCk7XG4gICAgY29uc3QgaSA9IHRoaXMucmVnaXN0ZXJlZFNob3J0Y3V0cy5nZXQoZSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkU2hvcnRjdXRzLnNldChlLCBpLmZpbHRlcigocykgPT4gcyAhPT0gbykpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgU2hvcnRjdXQgaW5zdGFuY2UgaWYgZXhpc3RcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBFbGVtZW50IHNob3JjdXQgaXMgc2V0IGZvclxuICAgKiBAcGFyYW0gc2hvcnRjdXQgLSBzaG9ydGN1dCBuYW1lXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IGluZGV4IC0gc2hvcnRjdXQgaW5kZXggaWYgZXhpc3RcbiAgICovXG4gIGZpbmRTaG9ydGN1dChlLCB0KSB7XG4gICAgcmV0dXJuICh0aGlzLnJlZ2lzdGVyZWRTaG9ydGN1dHMuZ2V0KGUpIHx8IFtdKS5maW5kKCh7IG5hbWU6IGkgfSkgPT4gaSA9PT0gdCk7XG4gIH1cbn1cbmNvbnN0IGhlID0gbmV3IFlpKCk7XG52YXIgV2kgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIEtpID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgZW8gPSAobiwgZSwgdCwgbykgPT4ge1xuICBmb3IgKHZhciBpID0gbyA+IDEgPyB2b2lkIDAgOiBvID8gS2koZSwgdCkgOiBlLCBzID0gbi5sZW5ndGggLSAxLCByOyBzID49IDA7IHMtLSlcbiAgICAociA9IG5bc10pICYmIChpID0gKG8gPyByKGUsIHQsIGkpIDogcihpKSkgfHwgaSk7XG4gIHJldHVybiBvICYmIGkgJiYgV2koZSwgdCwgaSksIGk7XG59LCBTZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLk9wZW5lZCA9IFwidG9vbGJveC1vcGVuZWRcIiwgbi5DbG9zZWQgPSBcInRvb2xib3gtY2xvc2VkXCIsIG4uQmxvY2tBZGRlZCA9IFwidG9vbGJveC1ibG9jay1hZGRlZFwiLCBuKSkoU2UgfHwge30pO1xuY29uc3QgYXQgPSBjbGFzcyB0byBleHRlbmRzIFRlIHtcbiAgLyoqXG4gICAqIFRvb2xib3ggY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBhdmFpbGFibGUgcGFyYW1ldGVyc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hcGkgLSBFZGl0b3IgQVBJIG1ldGhvZHNcbiAgICogQHBhcmFtIG9wdGlvbnMudG9vbHMgLSBUb29scyBhdmFpbGFibGUgdG8gY2hlY2sgd2hldGhlciBzb21lIG9mIHRoZW0gc2hvdWxkIGJlIGRpc3BsYXllZCBhdCB0aGUgVG9vbGJveCBvciBub3RcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiBlLCB0b29sczogdCwgaTE4bkxhYmVsczogbyB9KSB7XG4gICAgc3VwZXIoKSwgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5saXN0ZW5lcnMgPSBuZXcgQ2UoKSwgdGhpcy5wb3BvdmVyID0gbnVsbCwgdGhpcy5oYW5kbGVNb2JpbGVMYXlvdXRUb2dnbGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLmRlc3Ryb3lQb3BvdmVyKCksIHRoaXMuaW5pdFBvcG92ZXIoKTtcbiAgICB9LCB0aGlzLm9uUG9wb3ZlckNsb3NlID0gKCkgPT4ge1xuICAgICAgdGhpcy5vcGVuZWQgPSAhMSwgdGhpcy5lbWl0KFxuICAgICAgICBcInRvb2xib3gtY2xvc2VkXCJcbiAgICAgICAgLyogQ2xvc2VkICovXG4gICAgICApO1xuICAgIH0sIHRoaXMuYXBpID0gZSwgdGhpcy50b29scyA9IHQsIHRoaXMuaTE4bkxhYmVscyA9IG8sIHRoaXMuZW5hYmxlU2hvcnRjdXRzKCksIHRoaXMubm9kZXMgPSB7XG4gICAgICB0b29sYm94OiBkLm1ha2UoXCJkaXZcIiwgdG8uQ1NTLnRvb2xib3gpXG4gICAgfSwgdGhpcy5pbml0UG9wb3ZlcigpLCB0aGlzLmFwaS5ldmVudHMub24oeWUsIHRoaXMuaGFuZGxlTW9iaWxlTGF5b3V0VG9nZ2xlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUcnVlIGlmIFRvb2xib3ggaXMgRW1wdHkgYW5kIG5vdGhpbmcgdG8gc2hvd1xuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5sZW5ndGggPT09IDA7XG4gIH1cbiAgLyoqXG4gICAqIENTUyBzdHlsZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sYm94OiBcImNlLXRvb2xib3hcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcm9vdCBibG9jayBzZXR0aW5ncyBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLnRvb2xib3g7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgVG9vbGJveCBoYXMgdGhlIEZsaXBwZXIgYWN0aXZhdGVkIGFuZCB0aGUgRmxpcHBlciBoYXMgc2VsZWN0ZWQgYnV0dG9uXG4gICAqL1xuICBoYXNGb2N1cygpIHtcbiAgICBpZiAodGhpcy5wb3BvdmVyICE9PSBudWxsKVxuICAgICAgcmV0dXJuIFwiaGFzRm9jdXNcIiBpbiB0aGlzLnBvcG92ZXIgPyB0aGlzLnBvcG92ZXIuaGFzRm9jdXMoKSA6IHZvaWQgMDtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveSBNb2R1bGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIGU7XG4gICAgc3VwZXIuZGVzdHJveSgpLCB0aGlzLm5vZGVzICYmIHRoaXMubm9kZXMudG9vbGJveCAmJiB0aGlzLm5vZGVzLnRvb2xib3gucmVtb3ZlKCksIHRoaXMucmVtb3ZlQWxsU2hvcnRjdXRzKCksIChlID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IGUub2ZmKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgdGhpcy5saXN0ZW5lcnMuZGVzdHJveSgpLCB0aGlzLmFwaS5ldmVudHMub2ZmKHllLCB0aGlzLmhhbmRsZU1vYmlsZUxheW91dFRvZ2dsZSk7XG4gIH1cbiAgLyoqXG4gICAqIFRvb2xib3ggVG9vbCdzIGJ1dHRvbiBjbGljayBoYW5kbGVyXG4gICAqXG4gICAqIEBwYXJhbSB0b29sTmFtZSAtIHRvb2wgdHlwZSB0byBiZSBhY3RpdmF0ZWRcbiAgICogQHBhcmFtIGJsb2NrRGF0YU92ZXJyaWRlcyAtIEJsb2NrIGRhdGEgcHJlZGVmaW5lZCBieSB0aGUgYWN0aXZhdGVkIFRvb2xib3ggaXRlbVxuICAgKi9cbiAgdG9vbEJ1dHRvbkFjdGl2YXRlZChlLCB0KSB7XG4gICAgdGhpcy5pbnNlcnROZXdCbG9jayhlLCB0KTtcbiAgfVxuICAvKipcbiAgICogT3BlbiBUb29sYm94IHdpdGggVG9vbHNcbiAgICovXG4gIG9wZW4oKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5pc0VtcHR5IHx8ICgoZSA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCB8fCBlLnNob3coKSwgdGhpcy5vcGVuZWQgPSAhMCwgdGhpcy5lbWl0KFxuICAgICAgXCJ0b29sYm94LW9wZW5lZFwiXG4gICAgICAvKiBPcGVuZWQgKi9cbiAgICApKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgVG9vbGJveFxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgZS5oaWRlKCksIHRoaXMub3BlbmVkID0gITEsIHRoaXMuZW1pdChcbiAgICAgIFwidG9vbGJveC1jbG9zZWRcIlxuICAgICAgLyogQ2xvc2VkICovXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgVG9vbGJveFxuICAgKi9cbiAgdG9nZ2xlKCkge1xuICAgIHRoaXMub3BlbmVkID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdG9vbGJveCBwb3BvdmVyIGFuZCBhcHBlbmRzIGl0IGluc2lkZSB3cmFwcGVyIGVsZW1lbnRcbiAgICovXG4gIGluaXRQb3BvdmVyKCkge1xuICAgIHZhciB0O1xuICAgIGNvbnN0IGUgPSBwZSgpID8gSnQgOiBsdDtcbiAgICB0aGlzLnBvcG92ZXIgPSBuZXcgZSh7XG4gICAgICBzY29wZUVsZW1lbnQ6IHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLFxuICAgICAgc2VhcmNoYWJsZTogITAsXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICBub3RoaW5nRm91bmQ6IHRoaXMuaTE4bkxhYmVscy5ub3RoaW5nRm91bmQsXG4gICAgICAgIHNlYXJjaDogdGhpcy5pMThuTGFiZWxzLmZpbHRlclxuICAgICAgfSxcbiAgICAgIGl0ZW1zOiB0aGlzLnRvb2xib3hJdGVtc1RvQmVEaXNwbGF5ZWRcbiAgICB9KSwgdGhpcy5wb3BvdmVyLm9uKFouQ2xvc2VkLCB0aGlzLm9uUG9wb3ZlckNsb3NlKSwgKHQgPSB0aGlzLm5vZGVzLnRvb2xib3gpID09IG51bGwgfHwgdC5hcHBlbmQodGhpcy5wb3BvdmVyLmdldEVsZW1lbnQoKSk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHBvcG92ZXIgaW5zdGFuY2UgYW5kIHJlbW92ZXMgaXQgZnJvbSBET01cbiAgICovXG4gIGRlc3Ryb3lQb3BvdmVyKCkge1xuICAgIHRoaXMucG9wb3ZlciAhPT0gbnVsbCAmJiAodGhpcy5wb3BvdmVyLmhpZGUoKSwgdGhpcy5wb3BvdmVyLm9mZihaLkNsb3NlZCwgdGhpcy5vblBvcG92ZXJDbG9zZSksIHRoaXMucG9wb3Zlci5kZXN0cm95KCksIHRoaXMucG9wb3ZlciA9IG51bGwpLCB0aGlzLm5vZGVzLnRvb2xib3ggIT09IG51bGwgJiYgKHRoaXMubm9kZXMudG9vbGJveC5pbm5lckhUTUwgPSBcIlwiKTtcbiAgfVxuICBnZXQgdG9vbHNUb0JlRGlzcGxheWVkKCkge1xuICAgIGNvbnN0IGUgPSBbXTtcbiAgICByZXR1cm4gdGhpcy50b29scy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB0LnRvb2xib3ggJiYgZS5wdXNoKHQpO1xuICAgIH0pLCBlO1xuICB9XG4gIGdldCB0b29sYm94SXRlbXNUb0JlRGlzcGxheWVkKCkge1xuICAgIGNvbnN0IGUgPSAodCwgbykgPT4gKHtcbiAgICAgIGljb246IHQuaWNvbixcbiAgICAgIHRpdGxlOiB6LnQoSy50b29sTmFtZXMsIHQudGl0bGUgfHwgTGUoby5uYW1lKSksXG4gICAgICBuYW1lOiBvLm5hbWUsXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudG9vbEJ1dHRvbkFjdGl2YXRlZChvLm5hbWUsIHQuZGF0YSk7XG4gICAgICB9LFxuICAgICAgc2Vjb25kYXJ5TGFiZWw6IG8uc2hvcnRjdXQgPyB0dChvLnNob3J0Y3V0KSA6IFwiXCJcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQucmVkdWNlKCh0LCBvKSA9PiAoQXJyYXkuaXNBcnJheShvLnRvb2xib3gpID8gby50b29sYm94LmZvckVhY2goKGkpID0+IHtcbiAgICAgIHQucHVzaChlKGksIG8pKTtcbiAgICB9KSA6IG8udG9vbGJveCAhPT0gdm9pZCAwICYmIHQucHVzaChlKG8udG9vbGJveCwgbykpLCB0KSwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBJdGVyYXRlIGFsbCB0b29scyBhbmQgZW5hYmxlIHRoZWlycyBzaG9ydGN1dHMgaWYgc3BlY2lmaWVkXG4gICAqL1xuICBlbmFibGVTaG9ydGN1dHMoKSB7XG4gICAgdGhpcy50b29sc1RvQmVEaXNwbGF5ZWQuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgY29uc3QgdCA9IGUuc2hvcnRjdXQ7XG4gICAgICB0ICYmIHRoaXMuZW5hYmxlU2hvcnRjdXRGb3JUb29sKGUubmFtZSwgdCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBzaG9ydGN1dCBCbG9jayBUb29sIGltcGxlbWVudGVkIHNob3J0Y3V0XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIFRvb2wgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hvcnRjdXQgLSBzaG9ydGN1dCBhY2NvcmRpbmcgdG8gdGhlIFNob3J0Y3V0RGF0YSBNb2R1bGUgZm9ybWF0XG4gICAqL1xuICBlbmFibGVTaG9ydGN1dEZvclRvb2woZSwgdCkge1xuICAgIGhlLmFkZCh7XG4gICAgICBuYW1lOiB0LFxuICAgICAgb246IHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLFxuICAgICAgaGFuZGxlcjogYXN5bmMgKG8pID0+IHtcbiAgICAgICAgby5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksIHMgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KGkpO1xuICAgICAgICBpZiAocylcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IHRoaXMuYXBpLmJsb2Nrcy5jb252ZXJ0KHMuaWQsIGUpO1xuICAgICAgICAgICAgdGhpcy5hcGkuY2FyZXQuc2V0VG9CbG9jayhyLCBcImVuZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0TmV3QmxvY2soZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIGFkZGVkIHNob3J0Y3V0c1xuICAgKiBGaXJlZCB3aGVuIHRoZSBSZWFkLU9ubHkgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgICovXG4gIHJlbW92ZUFsbFNob3J0Y3V0cygpIHtcbiAgICB0aGlzLnRvb2xzVG9CZURpc3BsYXllZC5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gZS5zaG9ydGN1dDtcbiAgICAgIHQgJiYgaGUucmVtb3ZlKHRoaXMuYXBpLnVpLm5vZGVzLnJlZGFjdG9yLCB0KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBuZXcgYmxvY2tcbiAgICogQ2FuIGJlIGNhbGxlZCB3aGVuIGJ1dHRvbiBjbGlja2VkIG9uIFRvb2xib3ggb3IgYnkgU2hvcnRjdXREYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b29sTmFtZSAtIFRvb2wgbmFtZVxuICAgKiBAcGFyYW0gYmxvY2tEYXRhT3ZlcnJpZGVzIC0gcHJlZGVmaW5lZCBCbG9jayBkYXRhXG4gICAqL1xuICBhc3luYyBpbnNlcnROZXdCbG9jayhlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCBpID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChvKTtcbiAgICBpZiAoIWkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcyA9IGkuaXNFbXB0eSA/IG8gOiBvICsgMTtcbiAgICBsZXQgcjtcbiAgICBpZiAodCkge1xuICAgICAgY29uc3QgYSA9IGF3YWl0IHRoaXMuYXBpLmJsb2Nrcy5jb21wb3NlQmxvY2tEYXRhKGUpO1xuICAgICAgciA9IE9iamVjdC5hc3NpZ24oYSwgdCk7XG4gICAgfVxuICAgIGNvbnN0IGwgPSB0aGlzLmFwaS5ibG9ja3MuaW5zZXJ0KFxuICAgICAgZSxcbiAgICAgIHIsXG4gICAgICB2b2lkIDAsXG4gICAgICBzLFxuICAgICAgdm9pZCAwLFxuICAgICAgaS5pc0VtcHR5XG4gICAgKTtcbiAgICBsLmNhbGwoSi5BUFBFTkRfQ0FMTEJBQ0spLCB0aGlzLmFwaS5jYXJldC5zZXRUb0Jsb2NrKHMpLCB0aGlzLmVtaXQoXCJ0b29sYm94LWJsb2NrLWFkZGVkXCIsIHtcbiAgICAgIGJsb2NrOiBsXG4gICAgfSksIHRoaXMuYXBpLnRvb2xiYXIuY2xvc2UoKTtcbiAgfVxufTtcbmVvKFtcbiAgdWVcbl0sIGF0LnByb3RvdHlwZSwgXCJ0b29sc1RvQmVEaXNwbGF5ZWRcIiwgMSk7XG5lbyhbXG4gIHVlXG5dLCBhdC5wcm90b3R5cGUsIFwidG9vbGJveEl0ZW1zVG9CZURpc3BsYXllZFwiLCAxKTtcbmxldCBYaSA9IGF0O1xuY29uc3Qgb28gPSBcImJsb2NrIGhvdmVyZWRcIjtcbmFzeW5jIGZ1bmN0aW9uIFZpKG4sIGUpIHtcbiAgY29uc3QgdCA9IG5hdmlnYXRvci5rZXlib2FyZDtcbiAgaWYgKCF0KVxuICAgIHJldHVybiBlO1xuICB0cnkge1xuICAgIHJldHVybiAoYXdhaXQgdC5nZXRMYXlvdXRNYXAoKSkuZ2V0KG4pIHx8IGU7XG4gIH0gY2F0Y2ggKG8pIHtcbiAgICByZXR1cm4gY29uc29sZS5lcnJvcihvKSwgZTtcbiAgfVxufVxuY2xhc3MgcWkgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEBjbGFzc1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbiAtIE1vZHVsZSBDb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmNvbmZpZyAtIEVkaXRvcidzIGNvbmZpZ1xuICAgKiBAcGFyYW0gbW9kdWxlQ29uZmlndXJhdGlvbi5ldmVudHNEaXNwYXRjaGVyIC0gRWRpdG9yJ3MgZXZlbnQgZGlzcGF0Y2hlclxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBjb25maWc6IGUsIGV2ZW50c0Rpc3BhdGNoZXI6IHQgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIGNvbmZpZzogZSxcbiAgICAgIGV2ZW50c0Rpc3BhdGNoZXI6IHRcbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2UgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBDU1Mgc3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0b29sYmFyOiBcImNlLXRvb2xiYXJcIixcbiAgICAgIGNvbnRlbnQ6IFwiY2UtdG9vbGJhcl9fY29udGVudFwiLFxuICAgICAgYWN0aW9uczogXCJjZS10b29sYmFyX19hY3Rpb25zXCIsXG4gICAgICBhY3Rpb25zT3BlbmVkOiBcImNlLXRvb2xiYXJfX2FjdGlvbnMtLW9wZW5lZFwiLFxuICAgICAgdG9vbGJhck9wZW5lZDogXCJjZS10b29sYmFyLS1vcGVuZWRcIixcbiAgICAgIG9wZW5lZFRvb2xib3hIb2xkZXJNb2RpZmllcjogXCJjb2RleC1lZGl0b3ItLXRvb2xib3gtb3BlbmVkXCIsXG4gICAgICBwbHVzQnV0dG9uOiBcImNlLXRvb2xiYXJfX3BsdXNcIixcbiAgICAgIHBsdXNCdXR0b25TaG9ydGN1dDogXCJjZS10b29sYmFyX19wbHVzLXNob3J0Y3V0XCIsXG4gICAgICBzZXR0aW5nc1RvZ2dsZXI6IFwiY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuXCIsXG4gICAgICBzZXR0aW5nc1RvZ2dsZXJIaWRkZW46IFwiY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1oaWRkZW5cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIFRvb2xiYXIgb3BlbmluZyBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBvcGVuZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnModGhpcy5DU1MudG9vbGJhck9wZW5lZCk7XG4gIH1cbiAgLyoqXG4gICAqIFB1YmxpYyBpbnRlcmZhY2UgZm9yIGFjY2Vzc2luZyB0aGUgVG9vbGJveFxuICAgKi9cbiAgZ2V0IHRvb2xib3goKSB7XG4gICAgdmFyIGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wZW5lZDogKGUgPSB0aGlzLnRvb2xib3hJbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGUub3BlbmVkLFxuICAgICAgY2xvc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgICh0ID0gdGhpcy50b29sYm94SW5zdGFuY2UpID09IG51bGwgfHwgdC5jbG9zZSgpO1xuICAgICAgfSxcbiAgICAgIG9wZW46ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMudG9vbGJveEluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgSShcInRvb2xib3gub3BlbigpIGNhbGxlZCBiZWZvcmUgaW5pdGlhbGl6YXRpb24gaXMgZmluaXNoZWRcIiwgXCJ3YXJuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrID0gdGhpcy5ob3ZlcmVkQmxvY2ssIHRoaXMudG9vbGJveEluc3RhbmNlLm9wZW4oKTtcbiAgICAgIH0sXG4gICAgICB0b2dnbGU6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMudG9vbGJveEluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgSShcInRvb2xib3gudG9nZ2xlKCkgY2FsbGVkIGJlZm9yZSBpbml0aWFsaXphdGlvbiBpcyBmaW5pc2hlZFwiLCBcIndhcm5cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG9vbGJveEluc3RhbmNlLnRvZ2dsZSgpO1xuICAgICAgfSxcbiAgICAgIGhhc0ZvY3VzOiAoKSA9PiB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICByZXR1cm4gKHQgPSB0aGlzLnRvb2xib3hJbnN0YW5jZSkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuaGFzRm9jdXMoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBCbG9jayBhY3Rpb25zIGFwcGVhcmFuY2UgbWFuaXB1bGF0aW9uc1xuICAgKi9cbiAgZ2V0IGJsb2NrQWN0aW9ucygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGlkZTogKCkgPT4ge1xuICAgICAgICB0aGlzLm5vZGVzLmFjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5hY3Rpb25zT3BlbmVkKTtcbiAgICAgIH0sXG4gICAgICBzaG93OiAoKSA9PiB7XG4gICAgICAgIHRoaXMubm9kZXMuYWN0aW9ucy5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmFjdGlvbnNPcGVuZWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCBCbG9jayBUdW5lcyB0b2dnbGVyXG4gICAqL1xuICBnZXQgYmxvY2tUdW5lc1RvZ2dsZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZGU6ICgpID0+IHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNsYXNzTGlzdC5hZGQodGhpcy5DU1Muc2V0dGluZ3NUb2dnbGVySGlkZGVuKSxcbiAgICAgIHNob3c6ICgpID0+IHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1Muc2V0dGluZ3NUb2dnbGVySGlkZGVuKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgcmVhZC1vbmx5IG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyAodGhpcy5kZXN0cm95KCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuZGVzdHJveSgpLCB0aGlzLmRpc2FibGVNb2R1bGVCaW5kaW5ncygpKSA6IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMuZHJhd1VJKCksIHRoaXMuZW5hYmxlTW9kdWxlQmluZGluZ3MoKTtcbiAgICB9LCB7IHRpbWVvdXQ6IDJlMyB9KTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBUb29sYmFyIHRvIHRoZSBwYXNzZWQgKG9yIGN1cnJlbnQpIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIGJsb2NrIHRvIG1vdmUgVG9vbGJhciBuZWFyIGl0XG4gICAqL1xuICBtb3ZlQW5kT3BlbihlID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jaykge1xuICAgIGlmICh0aGlzLnRvb2xib3hJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICAgSShcIkNhbid0IG9wZW4gVG9vbGJhciBzaW5jZSBFZGl0b3IgaW5pdGlhbGl6YXRpb24gaXMgbm90IGZpbmlzaGVkIHlldFwiLCBcIndhcm5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnRvb2xib3hJbnN0YW5jZS5vcGVuZWQgJiYgdGhpcy50b29sYm94SW5zdGFuY2UuY2xvc2UoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpLCAhZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmhvdmVyZWRCbG9jayA9IGU7XG4gICAgY29uc3QgdCA9IGUuaG9sZGVyLCB7IGlzTW9iaWxlOiBvIH0gPSB0aGlzLkVkaXRvci5VSTtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBzID0gMjAsIHIgPSBlLmZpcnN0SW5wdXQsIGwgPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBhID0gciAhPT0gdm9pZCAwID8gci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGwsIGMgPSBhICE9PSBudWxsID8gYS50b3AgLSBsLnRvcCA6IG51bGwsIHUgPSBjICE9PSBudWxsID8gYyA+IHMgOiB2b2lkIDA7XG4gICAgaWYgKG8pXG4gICAgICBpID0gdC5vZmZzZXRUb3AgKyB0Lm9mZnNldEhlaWdodDtcbiAgICBlbHNlIGlmIChyID09PSB2b2lkIDAgfHwgdSkge1xuICAgICAgY29uc3QgaCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUucGx1Z2luc0NvbnRlbnQpLnBhZGRpbmdUb3ApO1xuICAgICAgaSA9IHQub2Zmc2V0VG9wICsgaDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaCA9IF9vKHIpLCBwID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5ub2Rlcy5wbHVzQnV0dG9uKS5oZWlnaHQsIDEwKSwgZyA9IDg7XG4gICAgICBpID0gdC5vZmZzZXRUb3AgKyBoIC0gcCArIGcgKyBjO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gYCR7TWF0aC5mbG9vcihpKX1weGAsIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5ibG9ja3MubGVuZ3RoID09PSAxICYmIGUuaXNFbXB0eSA/IHRoaXMuYmxvY2tUdW5lc1RvZ2dsZXIuaGlkZSgpIDogdGhpcy5ibG9ja1R1bmVzVG9nZ2xlci5zaG93KCksIHRoaXMub3BlbigpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdmFyIGUsIHQ7XG4gICAgdGhpcy5FZGl0b3IuUmVhZE9ubHkuaXNFbmFibGVkIHx8ICgoZSA9IHRoaXMubm9kZXMud3JhcHBlcikgPT0gbnVsbCB8fCBlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MudG9vbGJhck9wZW5lZCksIHRoaXMuYmxvY2tBY3Rpb25zLmhpZGUoKSwgKHQgPSB0aGlzLnRvb2xib3hJbnN0YW5jZSkgPT0gbnVsbCB8fCB0LmNsb3NlKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSwgdGhpcy5yZXNldCgpKTtcbiAgfVxuICAvKipcbiAgICogUmVzZXQgdGhlIFRvb2xiYXIgcG9zaXRpb24gdG8gcHJldmVudCBET00gaGVpZ2h0IGdyb3d0aCwgZm9yIGV4YW1wbGUgYWZ0ZXIgYmxvY2tzIGRlbGV0aW9uXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gXCJ1bnNldFwiO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xiYXIgd2l0aCBQbHVzIEJ1dHRvbiBhbmQgQWN0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHdpdGhCbG9ja0FjdGlvbnMgLSBieSBkZWZhdWx0LCBUb29sYmFyIG9wZW5zIHdpdGggQmxvY2sgQWN0aW9ucy5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBmbGFnIGFsbG93cyB0byBvcGVuIFRvb2xiYXIgd2l0aG91dCBBY3Rpb25zLlxuICAgKi9cbiAgb3BlbihlID0gITApIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50b29sYmFyT3BlbmVkKSwgZSA/IHRoaXMuYmxvY2tBY3Rpb25zLnNob3coKSA6IHRoaXMuYmxvY2tBY3Rpb25zLmhpZGUoKTtcbiAgfVxuICAvKipcbiAgICogRHJhd3MgVG9vbGJhciBlbGVtZW50c1xuICAgKi9cbiAgYXN5bmMgbWFrZSgpIHtcbiAgICB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MudG9vbGJhciksIFtcImNvbnRlbnRcIiwgXCJhY3Rpb25zXCJdLmZvckVhY2goKHMpID0+IHtcbiAgICAgIHRoaXMubm9kZXNbc10gPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1Nbc10pO1xuICAgIH0pLCBkLmFwcGVuZCh0aGlzLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMuY29udGVudCksIGQuYXBwZW5kKHRoaXMubm9kZXMuY29udGVudCwgdGhpcy5ub2Rlcy5hY3Rpb25zKSwgdGhpcy5ub2Rlcy5wbHVzQnV0dG9uID0gZC5tYWtlKFwiZGl2XCIsIHRoaXMuQ1NTLnBsdXNCdXR0b24sIHtcbiAgICAgIGlubmVySFRNTDogQ2lcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm5vZGVzLnBsdXNCdXR0b24pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnBsdXNCdXR0b24sIFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgTmUoITApLCB0aGlzLnBsdXNCdXR0b25DbGlja2VkKCk7XG4gICAgfSwgITEpO1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh6LnVpKEsudWkudG9vbGJhci50b29sYm94LCBcIkFkZFwiKSkpLCBlLmFwcGVuZENoaWxkKGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5wbHVzQnV0dG9uU2hvcnRjdXQsIHtcbiAgICAgIHRleHRDb250ZW50OiBcIi9cIlxuICAgIH0pKSwgUGUodGhpcy5ub2Rlcy5wbHVzQnV0dG9uLCBlLCB7XG4gICAgICBoaWRpbmdEZWxheTogNDAwXG4gICAgfSksIHRoaXMubm9kZXMuc2V0dGluZ3NUb2dnbGVyID0gZC5tYWtlKFwic3BhblwiLCB0aGlzLkNTUy5zZXR0aW5nc1RvZ2dsZXIsIHtcbiAgICAgIGlubmVySFRNTDogVGlcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm5vZGVzLnNldHRpbmdzVG9nZ2xlcik7XG4gICAgY29uc3QgdCA9IGQubWFrZShcImRpdlwiKSwgbyA9IGQudGV4dCh6LnVpKEsudWkuYmxvY2tUdW5lcy50b2dnbGVyLCBcIkNsaWNrIHRvIHR1bmVcIikpLCBpID0gYXdhaXQgVmkoXCJTbGFzaFwiLCBcIi9cIik7XG4gICAgdC5hcHBlbmRDaGlsZChvKSwgdC5hcHBlbmRDaGlsZChkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MucGx1c0J1dHRvblNob3J0Y3V0LCB7XG4gICAgICB0ZXh0Q29udGVudDogdHQoYENNRCArICR7aX1gKVxuICAgIH0pKSwgUGUodGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIsIHQsIHtcbiAgICAgIGhpZGluZ0RlbGF5OiA0MDBcbiAgICB9KSwgZC5hcHBlbmQodGhpcy5ub2Rlcy5hY3Rpb25zLCB0aGlzLm1ha2VUb29sYm94KCkpLCBkLmFwcGVuZCh0aGlzLm5vZGVzLmFjdGlvbnMsIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuZ2V0RWxlbWVudCgpKSwgZC5hcHBlbmQodGhpcy5FZGl0b3IuVUkubm9kZXMud3JhcHBlciwgdGhpcy5ub2Rlcy53cmFwcGVyKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyB0aGUgVG9vbGJveCBpbnN0YW5jZSBhbmQgcmV0dXJuIGl0J3MgcmVuZGVyZWQgZWxlbWVudFxuICAgKi9cbiAgbWFrZVRvb2xib3goKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbGJveEluc3RhbmNlID0gbmV3IFhpKHtcbiAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLm1ldGhvZHMsXG4gICAgICB0b29sczogdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scyxcbiAgICAgIGkxOG5MYWJlbHM6IHtcbiAgICAgICAgZmlsdGVyOiB6LnVpKEsudWkucG9wb3ZlciwgXCJGaWx0ZXJcIiksXG4gICAgICAgIG5vdGhpbmdGb3VuZDogei51aShLLnVpLnBvcG92ZXIsIFwiTm90aGluZyBmb3VuZFwiKVxuICAgICAgfVxuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihTZS5PcGVuZWQsICgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5vcGVuZWRUb29sYm94SG9sZGVyTW9kaWZpZXIpO1xuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihTZS5DbG9zZWQsICgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5vcGVuZWRUb29sYm94SG9sZGVyTW9kaWZpZXIpO1xuICAgIH0pLCB0aGlzLnRvb2xib3hJbnN0YW5jZS5vbihTZS5CbG9ja0FkZGVkLCAoeyBibG9jazogZSB9KSA9PiB7XG4gICAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQ2FyZXQ6IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gdC5nZXRCbG9ja0J5SWQoZS5pZCk7XG4gICAgICBpLmlucHV0cy5sZW5ndGggPT09IDAgJiYgKGkgPT09IHQubGFzdEJsb2NrID8gKHQuaW5zZXJ0QXRFbmQoKSwgby5zZXRUb0Jsb2NrKHQubGFzdEJsb2NrKSkgOiBvLnNldFRvQmxvY2sodC5uZXh0QmxvY2spKTtcbiAgICB9KSwgdGhpcy50b29sYm94SW5zdGFuY2UuZ2V0RWxlbWVudCgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVyIGZvciBQbHVzIEJ1dHRvblxuICAgKi9cbiAgcGx1c0J1dHRvbkNsaWNrZWQoKSB7XG4gICAgdmFyIGU7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayA9IHRoaXMuaG92ZXJlZEJsb2NrLCAoZSA9IHRoaXMudG9vbGJveEluc3RhbmNlKSA9PSBudWxsIHx8IGUudG9nZ2xlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBiaW5kaW5nc1xuICAgKi9cbiAgZW5hYmxlTW9kdWxlQmluZGluZ3MoKSB7XG4gICAgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5zZXR0aW5nc1RvZ2dsZXIsIFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICB2YXIgdDtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCksIHRoaXMuc2V0dGluZ3NUb2dnbGVyQ2xpY2tlZCgpLCAodCA9IHRoaXMudG9vbGJveEluc3RhbmNlKSAhPSBudWxsICYmIHQub3BlbmVkICYmIHRoaXMudG9vbGJveEluc3RhbmNlLmNsb3NlKCksIE5lKCEwKTtcbiAgICB9LCAhMCksIHBlKCkgfHwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKG9vLCAoZSkgPT4ge1xuICAgICAgdmFyIHQ7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCB8fCAodCA9IHRoaXMudG9vbGJveEluc3RhbmNlKSAhPSBudWxsICYmIHQub3BlbmVkIHx8IHRoaXMubW92ZUFuZE9wZW4oZS5ibG9jayk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgYmluZGluZ3NcbiAgICovXG4gIGRpc2FibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5jbGVhckFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGlja3Mgb24gdGhlIEJsb2NrIFNldHRpbmdzIHRvZ2dsZXJcbiAgICovXG4gIHNldHRpbmdzVG9nZ2xlckNsaWNrZWQoKSB7XG4gICAgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jayA9IHRoaXMuaG92ZXJlZEJsb2NrLCB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm9wZW5lZCA/IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MuY2xvc2UoKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3Blbih0aGlzLmhvdmVyZWRCbG9jayk7XG4gIH1cbiAgLyoqXG4gICAqIERyYXdzIFRvb2xiYXIgVUlcbiAgICpcbiAgICogVG9vbGJhciBjb250YWlucyBCbG9ja1NldHRpbmdzIGFuZCBUb29sYm94LlxuICAgKiBUaGF0J3Mgd2h5IGF0IGZpcnN0IHdlIGRyYXcgaXRzIGNvbXBvbmVudHMgYW5kIHRoZW4gVG9vbGJhciBpdHNlbGZcbiAgICpcbiAgICogU3RlcHM6XG4gICAqICAtIE1ha2UgVG9vbGJhciBkZXBlbmRlbnQgY29tcG9uZW50cyBsaWtlIEJsb2NrU2V0dGluZ3MsIFRvb2xib3ggYW5kIHNvIG9uXG4gICAqICAtIE1ha2UgaXRzZWxmIGFuZCBhcHBlbmQgZGVwZW5kZW50IG5vZGVzIHRvIGl0c2VsZlxuICAgKlxuICAgKi9cbiAgZHJhd1VJKCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3MubWFrZSgpLCB0aGlzLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgY3JlYXRlZCBhbmQgc2F2ZWQgSFRNTEVsZW1lbnRzXG4gICAqIEl0IGlzIHVzZWQgaW4gUmVhZC1Pbmx5IG1vZGVcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW1vdmVBbGxOb2RlcygpLCB0aGlzLnRvb2xib3hJbnN0YW5jZSAmJiB0aGlzLnRvb2xib3hJbnN0YW5jZS5kZXN0cm95KCk7XG4gIH1cbn1cbnZhciBuZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuW24uQmxvY2sgPSAwXSA9IFwiQmxvY2tcIiwgbltuLklubGluZSA9IDFdID0gXCJJbmxpbmVcIiwgbltuLlR1bmUgPSAyXSA9IFwiVHVuZVwiLCBuKSkobmUgfHwge30pLCBJZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLlNob3J0Y3V0ID0gXCJzaG9ydGN1dFwiLCBuLlRvb2xib3ggPSBcInRvb2xib3hcIiwgbi5FbmFibGVkSW5saW5lVG9vbHMgPSBcImlubGluZVRvb2xiYXJcIiwgbi5FbmFibGVkQmxvY2tUdW5lcyA9IFwidHVuZXNcIiwgbi5Db25maWcgPSBcImNvbmZpZ1wiLCBuKSkoSWUgfHwge30pLCBpbyA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLlNob3J0Y3V0ID0gXCJzaG9ydGN1dFwiLCBuLlNhbml0aXplQ29uZmlnID0gXCJzYW5pdGl6ZVwiLCBuKSkoaW8gfHwge30pLCBjZSA9IC8qIEBfX1BVUkVfXyAqLyAoKG4pID0+IChuLklzRW5hYmxlZExpbmVCcmVha3MgPSBcImVuYWJsZUxpbmVCcmVha3NcIiwgbi5Ub29sYm94ID0gXCJ0b29sYm94XCIsIG4uQ29udmVyc2lvbkNvbmZpZyA9IFwiY29udmVyc2lvbkNvbmZpZ1wiLCBuLklzUmVhZE9ubHlTdXBwb3J0ZWQgPSBcImlzUmVhZE9ubHlTdXBwb3J0ZWRcIiwgbi5QYXN0ZUNvbmZpZyA9IFwicGFzdGVDb25maWdcIiwgbikpKGNlIHx8IHt9KSwgY3QgPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5Jc0lubGluZSA9IFwiaXNJbmxpbmVcIiwgbi5UaXRsZSA9IFwidGl0bGVcIiwgbikpKGN0IHx8IHt9KSwgZXQgPSAvKiBAX19QVVJFX18gKi8gKChuKSA9PiAobi5Jc1R1bmUgPSBcImlzVHVuZVwiLCBuKSkoZXQgfHwge30pO1xuY2xhc3MgZHQge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSB7Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zIC0gQ29uc3RydWN0b3Igb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIG5hbWU6IGUsXG4gICAgY29uc3RydWN0YWJsZTogdCxcbiAgICBjb25maWc6IG8sXG4gICAgYXBpOiBpLFxuICAgIGlzRGVmYXVsdDogcyxcbiAgICBpc0ludGVybmFsOiByID0gITEsXG4gICAgZGVmYXVsdFBsYWNlaG9sZGVyOiBsXG4gIH0pIHtcbiAgICB0aGlzLmFwaSA9IGksIHRoaXMubmFtZSA9IGUsIHRoaXMuY29uc3RydWN0YWJsZSA9IHQsIHRoaXMuY29uZmlnID0gbywgdGhpcy5pc0RlZmF1bHQgPSBzLCB0aGlzLmlzSW50ZXJuYWwgPSByLCB0aGlzLmRlZmF1bHRQbGFjZWhvbGRlciA9IGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCB1c2VyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBzZXR0aW5ncygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5jb25maWcuY29uZmlnIHx8IHt9O1xuICAgIHJldHVybiB0aGlzLmlzRGVmYXVsdCAmJiAhKFwicGxhY2Vob2xkZXJcIiBpbiBlKSAmJiB0aGlzLmRlZmF1bHRQbGFjZWhvbGRlciAmJiAoZS5wbGFjZWhvbGRlciA9IHRoaXMuZGVmYXVsdFBsYWNlaG9sZGVyKSwgZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIHJlc2V0IG1ldGhvZFxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgaWYgKE8odGhpcy5jb25zdHJ1Y3RhYmxlLnJlc2V0KSlcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGUucmVzZXQoKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgVG9vbCdzIHByZXBhcmUgbWV0aG9kXG4gICAqL1xuICBwcmVwYXJlKCkge1xuICAgIGlmIChPKHRoaXMuY29uc3RydWN0YWJsZS5wcmVwYXJlKSlcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGUucHJlcGFyZSh7XG4gICAgICAgIHRvb2xOYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIGNvbmZpZzogdGhpcy5zZXR0aW5nc1xuICAgICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgc2hvcnRjdXQgZm9yIFRvb2wgKGludGVybmFsIG9yIHNwZWNpZmllZCBieSB1c2VyKVxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmNvbnN0cnVjdGFibGUuc2hvcnRjdXQ7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnLnNob3J0Y3V0IHx8IGU7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCdzIHNhbml0aXplciBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgc2FuaXRpemVDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZS5zYW5pdGl6ZSB8fCB7fTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2xzIGlzIGlubGluZVxuICAgKi9cbiAgaXNJbmxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gbmUuSW5saW5lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgVG9vbHMgaXMgYmxvY2tcbiAgICovXG4gIGlzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gbmUuQmxvY2s7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBUb29scyBpcyB0dW5lXG4gICAqL1xuICBpc1R1bmUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gbmUuVHVuZTtcbiAgfVxufVxuY2xhc3MgWmkgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uIC0gTW9kdWxlIENvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIG1vZHVsZUNvbmZpZ3VyYXRpb24uY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnXG4gICAqIEBwYXJhbSBtb2R1bGVDb25maWd1cmF0aW9uLmV2ZW50c0Rpc3BhdGNoZXIgLSBFZGl0b3IncyBldmVudCBkaXNwYXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLkNTUyA9IHtcbiAgICAgIGlubGluZVRvb2xiYXI6IFwiY2UtaW5saW5lLXRvb2xiYXJcIlxuICAgIH0sIHRoaXMub3BlbmVkID0gITEsIHRoaXMucG9wb3ZlciA9IG51bGwsIHRoaXMudG9vbGJhclZlcnRpY2FsTWFyZ2luID0gcGUoKSA/IDIwIDogNiwgdGhpcy50b29sc0luc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXMgcmVhZC1vbmx5IG1vZGVcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyB0aGlzLmRlc3Ryb3koKSA6IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMubWFrZSgpO1xuICAgIH0sIHsgdGltZW91dDogMmUzIH0pO1xuICB9XG4gIC8qKlxuICAgKiAgTW92aW5nIC8gYXBwZWFyYW5jZVxuICAgKiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgKi9cbiAgLyoqXG4gICAqIFNob3dzIElubGluZSBUb29sYmFyIGlmIHNvbWV0aGluZyBpcyBzZWxlY3RlZFxuICAgKlxuICAgKiBAcGFyYW0gW25lZWRUb0Nsb3NlXSAtIHBhc3MgdHJ1ZSB0byBjbG9zZSB0b29sYmFyIGlmIGl0IGlzIG5vdCBhbGxvd2VkLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdm9pZCB0byB1c2UgaXQganVzdCBmb3IgY2xvc2luZyBJVCwgYmV0dGVyIGNhbGwgLmNsb3NlKCkgY2xlYXJseS5cbiAgICovXG4gIGFzeW5jIHRyeVRvU2hvdyhlID0gITEpIHtcbiAgICBlICYmIHRoaXMuY2xvc2UoKSwgdGhpcy5hbGxvd2VkVG9TaG93KCkgJiYgKGF3YWl0IHRoaXMub3BlbigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlcyBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdmFyIGUsIHQ7XG4gICAgdGhpcy5vcGVuZWQgJiYgKHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCB8fCAoQXJyYXkuZnJvbSh0aGlzLnRvb2xzSW5zdGFuY2VzLmVudHJpZXMoKSkuZm9yRWFjaCgoW28sIGldKSA9PiB7XG4gICAgICBjb25zdCBzID0gdGhpcy5nZXRUb29sU2hvcnRjdXQobyk7XG4gICAgICBzICYmIGhlLnJlbW92ZSh0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvciwgcyksIE8oaS5jbGVhcikgJiYgaS5jbGVhcigpO1xuICAgIH0pLCB0aGlzLnRvb2xzSW5zdGFuY2VzID0gbnVsbCwgdGhpcy5yZXNldCgpLCB0aGlzLm9wZW5lZCA9ICExLCAoZSA9IHRoaXMucG9wb3ZlcikgPT0gbnVsbCB8fCBlLmhpZGUoKSwgKHQgPSB0aGlzLnBvcG92ZXIpID09IG51bGwgfHwgdC5kZXN0cm95KCksIHRoaXMucG9wb3ZlciA9IG51bGwpKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgbm9kZSBpcyBjb250YWluZWQgYnkgSW5saW5lIFRvb2xiYXJcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlIFx1MjAxNCBub2RlIHRvIGNoZWNrXG4gICAqL1xuICBjb250YWluc05vZGUoZSkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLndyYXBwZXIgPT09IHZvaWQgMCA/ICExIDogdGhpcy5ub2Rlcy53cmFwcGVyLmNvbnRhaW5zKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIFVJIGFuZCBpdHMgY29tcG9uZW50c1xuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnJlbW92ZUFsbE5vZGVzKCksIChlID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IGUuZGVzdHJveSgpLCB0aGlzLnBvcG92ZXIgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBNYWtpbmcgRE9NXG4gICAqL1xuICBtYWtlKCkge1xuICAgIHRoaXMubm9kZXMud3JhcHBlciA9IGQubWFrZShcImRpdlwiLCBbXG4gICAgICB0aGlzLkNTUy5pbmxpbmVUb29sYmFyLFxuICAgICAgLi4udGhpcy5pc1J0bCA/IFt0aGlzLkVkaXRvci5VSS5DU1MuZWRpdG9yUnRsRml4XSA6IFtdXG4gICAgXSksIGQuYXBwZW5kKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIsIHRoaXMubm9kZXMud3JhcHBlcik7XG4gIH1cbiAgLyoqXG4gICAqIFNob3dzIElubGluZSBUb29sYmFyXG4gICAqL1xuICBhc3luYyBvcGVuKCkge1xuICAgIHZhciB0O1xuICAgIGlmICh0aGlzLm9wZW5lZClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLm9wZW5lZCA9ICEwLCB0aGlzLnBvcG92ZXIgIT09IG51bGwgJiYgdGhpcy5wb3BvdmVyLmRlc3Ryb3koKTtcbiAgICBjb25zdCBlID0gYXdhaXQgdGhpcy5nZXRJbmxpbmVUb29scygpO1xuICAgIHRoaXMucG9wb3ZlciA9IG5ldyBSaSh7XG4gICAgICBpdGVtczogZSxcbiAgICAgIHNjb3BlRWxlbWVudDogdGhpcy5FZGl0b3IuQVBJLm1ldGhvZHMudWkubm9kZXMucmVkYWN0b3IsXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICBub3RoaW5nRm91bmQ6IHoudWkoSy51aS5wb3BvdmVyLCBcIk5vdGhpbmcgZm91bmRcIiksXG4gICAgICAgIHNlYXJjaDogei51aShLLnVpLnBvcG92ZXIsIFwiRmlsdGVyXCIpXG4gICAgICB9XG4gICAgfSksIHRoaXMubW92ZSh0aGlzLnBvcG92ZXIuc2l6ZS53aWR0aCksICh0ID0gdGhpcy5ub2Rlcy53cmFwcGVyKSA9PSBudWxsIHx8IHQuYXBwZW5kKHRoaXMucG9wb3Zlci5nZXRFbGVtZW50KCkpLCB0aGlzLnBvcG92ZXIuc2hvdygpO1xuICB9XG4gIC8qKlxuICAgKiBNb3ZlIFRvb2xiYXIgdG8gdGhlIHNlbGVjdGVkIHRleHRcbiAgICpcbiAgICogQHBhcmFtIHBvcG92ZXJXaWR0aCAtIHdpZHRoIG9mIHRoZSB0b29sYmFyIHBvcG92ZXJcbiAgICovXG4gIG1vdmUoZSkge1xuICAgIGNvbnN0IHQgPSBiLnJlY3QsIG8gPSB0aGlzLkVkaXRvci5VSS5ub2Rlcy53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBpID0ge1xuICAgICAgeDogdC54IC0gby54LFxuICAgICAgeTogdC55ICsgdC5oZWlnaHQgLSAvLyArIHdpbmRvdy5zY3JvbGxZXG4gICAgICBvLnRvcCArIHRoaXMudG9vbGJhclZlcnRpY2FsTWFyZ2luXG4gICAgfTtcbiAgICBpLnggKyBlICsgby54ID4gdGhpcy5FZGl0b3IuVUkuY29udGVudFJlY3QucmlnaHQgJiYgKGkueCA9IHRoaXMuRWRpdG9yLlVJLmNvbnRlbnRSZWN0LnJpZ2h0IC0gZSAtIG8ueCksIHRoaXMubm9kZXMud3JhcHBlci5zdHlsZS5sZWZ0ID0gTWF0aC5mbG9vcihpLngpICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuc3R5bGUudG9wID0gTWF0aC5mbG9vcihpLnkpICsgXCJweFwiO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBvcmllbnRhdGlvbiBjbGFzc2VzIGFuZCByZXNldCBwb3NpdGlvblxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBcIjBcIiwgdGhpcy5ub2Rlcy53cmFwcGVyLnN0eWxlLnRvcCA9IFwiMFwiO1xuICB9XG4gIC8qKlxuICAgKiBOZWVkIHRvIHNob3cgSW5saW5lIFRvb2xiYXIgb3Igbm90XG4gICAqL1xuICBhbGxvd2VkVG9TaG93KCkge1xuICAgIGNvbnN0IGUgPSBbXCJJTUdcIiwgXCJJTlBVVFwiXSwgdCA9IGIuZ2V0KCksIG8gPSBiLnRleHQ7XG4gICAgaWYgKCF0IHx8ICF0LmFuY2hvck5vZGUgfHwgdC5pc0NvbGxhcHNlZCB8fCBvLmxlbmd0aCA8IDEpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgaSA9IGQuaXNFbGVtZW50KHQuYW5jaG9yTm9kZSkgPyB0LmFuY2hvck5vZGUgOiB0LmFuY2hvck5vZGUucGFyZW50RWxlbWVudDtcbiAgICBpZiAoaSA9PT0gbnVsbCB8fCB0ICYmIGUuaW5jbHVkZXMoaS50YWdOYW1lKSB8fCBpLmNsb3Nlc3QoJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJykgPT09IG51bGwpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgciA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9jayh0LmFuY2hvck5vZGUpO1xuICAgIHJldHVybiByID8gci50b29sLmlubGluZVRvb2xzLnNpemUgIT09IDAgOiAhMTtcbiAgfVxuICAvKipcbiAgICogIFdvcmtpbmcgd2l0aCBUb29sc1xuICAgKiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgKi9cbiAgLyoqXG4gICAqIFJldHVybnMgSW5saW5lIFRvb2xzIHNlZ3JlZ2F0ZWQgYnkgdGhlaXIgYXBwZWFyYW5jZSB0eXBlOiBwb3BvdmVyIGl0ZW1zIGFuZCBjdXN0b20gaHRtbCBlbGVtZW50cy5cbiAgICogU2V0cyB0aGlzLnRvb2xzSW5zdGFuY2VzIG1hcFxuICAgKi9cbiAgYXN5bmMgZ2V0SW5saW5lVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IGIuZ2V0KCksIHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2soZS5hbmNob3JOb2RlKSwgbyA9IEFycmF5LmZyb20odC50b29sLmlubGluZVRvb2xzLnZhbHVlcygpKSwgaSA9IFtdO1xuICAgIHRoaXMudG9vbHNJbnN0YW5jZXMgPT09IG51bGwgJiYgKHRoaXMudG9vbHNJbnN0YW5jZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IG8ubGVuZ3RoOyBzKyspIHtcbiAgICAgIGNvbnN0IHIgPSBvW3NdLCBsID0gci5jcmVhdGUoKSwgYSA9IGF3YWl0IGwucmVuZGVyKCk7XG4gICAgICB0aGlzLnRvb2xzSW5zdGFuY2VzLnNldChyLm5hbWUsIGwpO1xuICAgICAgY29uc3QgYyA9IHRoaXMuZ2V0VG9vbFNob3J0Y3V0KHIubmFtZSk7XG4gICAgICBpZiAoYylcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmVuYWJsZVNob3J0Y3V0cyhyLm5hbWUsIGMpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgY29uc3QgdSA9IGMgIT09IHZvaWQgMCA/IHR0KGMpIDogdm9pZCAwLCBoID0gei50KFxuICAgICAgICBLLnRvb2xOYW1lcyxcbiAgICAgICAgci50aXRsZSB8fCBMZShyLm5hbWUpXG4gICAgICApO1xuICAgICAgW2FdLmZsYXQoKS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIHZhciBmLCBrO1xuICAgICAgICBjb25zdCBnID0ge1xuICAgICAgICAgIG5hbWU6IHIubmFtZSxcbiAgICAgICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRvb2xDbGlja2VkKGwpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgdGl0bGU6IGgsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGQuaXNFbGVtZW50KHApKSB7XG4gICAgICAgICAgY29uc3QgQyA9IHtcbiAgICAgICAgICAgIC4uLmcsXG4gICAgICAgICAgICBlbGVtZW50OiBwLFxuICAgICAgICAgICAgdHlwZTogQS5IdG1sXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoTyhsLnJlbmRlckFjdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBTID0gbC5yZW5kZXJBY3Rpb25zKCk7XG4gICAgICAgICAgICBDLmNoaWxkcmVuID0ge1xuICAgICAgICAgICAgICBpc09wZW46IChmID0gbC5jaGVja1N0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogZi5jYWxsKGwsIGIuZ2V0KCkpLFxuICAgICAgICAgICAgICAvKiogRGlzYWJsZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGluIGFjdGlvbnMsIGFzIGl0IG1pZ2h0IGNvbmZsaWN0IHdpdGggZW50ZXIgcHJlc3MgaGFuZGxpbmcgKi9cbiAgICAgICAgICAgICAgaXNGbGlwcGFibGU6ICExLFxuICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IEEuSHRtbCxcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IFNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAoayA9IGwuY2hlY2tTdGF0ZSkgPT0gbnVsbCB8fCBrLmNhbGwobCwgYi5nZXQoKSk7XG4gICAgICAgICAgaS5wdXNoKEMpO1xuICAgICAgICB9IGVsc2UgaWYgKHAudHlwZSA9PT0gQS5IdG1sKVxuICAgICAgICAgIGkucHVzaCh7XG4gICAgICAgICAgICAuLi5nLFxuICAgICAgICAgICAgLi4ucCxcbiAgICAgICAgICAgIHR5cGU6IEEuSHRtbFxuICAgICAgICAgIH0pO1xuICAgICAgICBlbHNlIGlmIChwLnR5cGUgPT09IEEuU2VwYXJhdG9yKVxuICAgICAgICAgIGkucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBBLlNlcGFyYXRvclxuICAgICAgICAgIH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBDID0ge1xuICAgICAgICAgICAgLi4uZyxcbiAgICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgICB0eXBlOiBBLkRlZmF1bHRcbiAgICAgICAgICB9O1xuICAgICAgICAgIFwiY2hpbGRyZW5cIiBpbiBDICYmIHMgIT09IDAgJiYgaS5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IEEuU2VwYXJhdG9yXG4gICAgICAgICAgfSksIGkucHVzaChDKSwgXCJjaGlsZHJlblwiIGluIEMgJiYgcyA8IG8ubGVuZ3RoIC0gMSAmJiBpLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogQS5TZXBhcmF0b3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc2hvcnRjdXQgbmFtZSBmb3IgdG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbE5hbWUgXHUyMDE0IFRvb2wgbmFtZVxuICAgKi9cbiAgZ2V0VG9vbFNob3J0Y3V0KGUpIHtcbiAgICBjb25zdCB7IFRvb2xzOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IHQuaW5saW5lVG9vbHMuZ2V0KGUpLCBpID0gdC5pbnRlcm5hbC5pbmxpbmVUb29scztcbiAgICByZXR1cm4gQXJyYXkuZnJvbShpLmtleXMoKSkuaW5jbHVkZXMoZSkgPyB0aGlzLmlubGluZVRvb2xzW2VdW2lvLlNob3J0Y3V0XSA6IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uc2hvcnRjdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZSBUb29sIHNob3J0Y3V0IHdpdGggRWRpdG9yIFNob3J0Y3V0cyBNb2R1bGVcbiAgICpcbiAgICogQHBhcmFtIHRvb2xOYW1lIC0gdG9vbCBuYW1lXG4gICAqIEBwYXJhbSBzaG9ydGN1dCAtIHNob3J0Y3V0IGFjY29yZGluZyB0byB0aGUgU2hvcnRjdXREYXRhIE1vZHVsZSBmb3JtYXRcbiAgICovXG4gIGVuYWJsZVNob3J0Y3V0cyhlLCB0KSB7XG4gICAgaGUuYWRkKHtcbiAgICAgIG5hbWU6IHQsXG4gICAgICBoYW5kbGVyOiAobykgPT4ge1xuICAgICAgICB2YXIgcztcbiAgICAgICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IGkgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlcjtcbiAgICAgICAgaSAmJiBpLnRvb2wuZW5hYmxlZElubGluZVRvb2xzICYmIChvLnByZXZlbnREZWZhdWx0KCksIChzID0gdGhpcy5wb3BvdmVyKSA9PSBudWxsIHx8IHMuYWN0aXZhdGVJdGVtQnlOYW1lKGUpKTtcbiAgICAgIH0sXG4gICAgICBvbjogdGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3JcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5saW5lIFRvb2wgYnV0dG9uIGNsaWNrc1xuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIFRvb2wncyBpbnN0YW5jZVxuICAgKi9cbiAgdG9vbENsaWNrZWQoZSkge1xuICAgIHZhciBvO1xuICAgIGNvbnN0IHQgPSBiLnJhbmdlO1xuICAgIChvID0gZS5zdXJyb3VuZCkgPT0gbnVsbCB8fCBvLmNhbGwoZSwgdCksIHRoaXMuY2hlY2tUb29sc1N0YXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIFRvb2xzYCBzdGF0ZSBieSBzZWxlY3Rpb25cbiAgICovXG4gIGNoZWNrVG9vbHNTdGF0ZSgpIHtcbiAgICB2YXIgZTtcbiAgICAoZSA9IHRoaXMudG9vbHNJbnN0YW5jZXMpID09IG51bGwgfHwgZS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB2YXIgbztcbiAgICAgIChvID0gdC5jaGVja1N0YXRlKSA9PSBudWxsIHx8IG8uY2FsbCh0LCBiLmdldCgpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IGlubGluZSB0b29scyB0b29sc1xuICAgKiBUb29scyB0aGF0IGhhcyBpc0lubGluZSBpcyB0cnVlXG4gICAqL1xuICBnZXQgaW5saW5lVG9vbHMoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuRWRpdG9yLlRvb2xzLmlubGluZVRvb2xzLmVudHJpZXMoKSkuZm9yRWFjaCgoW3QsIG9dKSA9PiB7XG4gICAgICBlW3RdID0gby5jcmVhdGUoKTtcbiAgICB9KSwgZTtcbiAgfVxufVxuZnVuY3Rpb24gc28oKSB7XG4gIGNvbnN0IG4gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gIGlmIChuID09PSBudWxsKVxuICAgIHJldHVybiBbbnVsbCwgMF07XG4gIGxldCBlID0gbi5mb2N1c05vZGUsIHQgPSBuLmZvY3VzT2Zmc2V0O1xuICByZXR1cm4gZSA9PT0gbnVsbCA/IFtudWxsLCAwXSA6IChlLm5vZGVUeXBlICE9PSBOb2RlLlRFWFRfTk9ERSAmJiBlLmNoaWxkTm9kZXMubGVuZ3RoID4gMCAmJiAoZS5jaGlsZE5vZGVzW3RdID8gKGUgPSBlLmNoaWxkTm9kZXNbdF0sIHQgPSAwKSA6IChlID0gZS5jaGlsZE5vZGVzW3QgLSAxXSwgdCA9IGUudGV4dENvbnRlbnQubGVuZ3RoKSksIFtlLCB0XSk7XG59XG5mdW5jdGlvbiBubyhuLCBlLCB0LCBvKSB7XG4gIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICBvID09PSBcImxlZnRcIiA/IChpLnNldFN0YXJ0KG4sIDApLCBpLnNldEVuZChlLCB0KSkgOiAoaS5zZXRTdGFydChlLCB0KSwgaS5zZXRFbmQobiwgbi5jaGlsZE5vZGVzLmxlbmd0aCkpO1xuICBjb25zdCBzID0gaS5jbG9uZUNvbnRlbnRzKCksIHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICByLmFwcGVuZENoaWxkKHMpO1xuICBjb25zdCBsID0gci50ZXh0Q29udGVudCB8fCBcIlwiO1xuICByZXR1cm4gTG8obCk7XG59XG5mdW5jdGlvbiBNZShuKSB7XG4gIGNvbnN0IGUgPSBkLmdldERlZXBlc3ROb2RlKG4pO1xuICBpZiAoZSA9PT0gbnVsbCB8fCBkLmlzRW1wdHkobikpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoZC5pc05hdGl2ZUlucHV0KGUpKVxuICAgIHJldHVybiBlLnNlbGVjdGlvbkVuZCA9PT0gMDtcbiAgaWYgKGQuaXNFbXB0eShuKSlcbiAgICByZXR1cm4gITA7XG4gIGNvbnN0IFt0LCBvXSA9IHNvKCk7XG4gIHJldHVybiB0ID09PSBudWxsID8gITEgOiBubyhuLCB0LCBvLCBcImxlZnRcIik7XG59XG5mdW5jdGlvbiBBZShuKSB7XG4gIGNvbnN0IGUgPSBkLmdldERlZXBlc3ROb2RlKG4sICEwKTtcbiAgaWYgKGUgPT09IG51bGwpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoZC5pc05hdGl2ZUlucHV0KGUpKVxuICAgIHJldHVybiBlLnNlbGVjdGlvbkVuZCA9PT0gZS52YWx1ZS5sZW5ndGg7XG4gIGNvbnN0IFt0LCBvXSA9IHNvKCk7XG4gIHJldHVybiB0ID09PSBudWxsID8gITEgOiBubyhuLCB0LCBvLCBcInJpZ2h0XCIpO1xufVxuY2xhc3MgR2kgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIEFsbCBrZXlkb3ducyBvbiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAga2V5ZG93bihlKSB7XG4gICAgc3dpdGNoICh0aGlzLmJlZm9yZUtleWRvd25Qcm9jZXNzaW5nKGUpLCBlLmtleUNvZGUpIHtcbiAgICAgIGNhc2Ugdy5CQUNLU1BBQ0U6XG4gICAgICAgIHRoaXMuYmFja3NwYWNlKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2Ugdy5ERUxFVEU6XG4gICAgICAgIHRoaXMuZGVsZXRlKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2Ugdy5FTlRFUjpcbiAgICAgICAgdGhpcy5lbnRlcihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHcuRE9XTjpcbiAgICAgIGNhc2Ugdy5SSUdIVDpcbiAgICAgICAgdGhpcy5hcnJvd1JpZ2h0QW5kRG93bihlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHcuVVA6XG4gICAgICBjYXNlIHcuTEVGVDpcbiAgICAgICAgdGhpcy5hcnJvd0xlZnRBbmRVcChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHcuVEFCOlxuICAgICAgICB0aGlzLnRhYlByZXNzZWQoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBlLmtleSA9PT0gXCIvXCIgJiYgIWUuY3RybEtleSAmJiAhZS5tZXRhS2V5ICYmIHRoaXMuc2xhc2hQcmVzc2VkKGUpLCBlLmNvZGUgPT09IFwiU2xhc2hcIiAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5jb21tYW5kU2xhc2hQcmVzc2VkKCkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlcyBvbiBrZXlkb3duIGJlZm9yZSBldmVudCBwcm9jZXNzaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBiZWZvcmVLZXlkb3duUHJvY2Vzc2luZyhlKSB7XG4gICAgdGhpcy5uZWVkVG9vbGJhckNsb3NpbmcoZSkgJiYgTXQoZS5rZXlDb2RlKSAmJiAodGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpLCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSkpO1xuICB9XG4gIC8qKlxuICAgKiBLZXkgdXAgb24gQmxvY2s6XG4gICAqIC0gc2hvd3MgSW5saW5lIFRvb2xiYXIgaWYgc29tZXRoaW5nIHNlbGVjdGVkXG4gICAqIC0gc2hvd3MgY29udmVyc2lvbiB0b29sYmFyIHdpdGggODUlIG9mIGJsb2NrIHNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5dXAgZXZlbnRcbiAgICovXG4gIGtleXVwKGUpIHtcbiAgICBlLnNoaWZ0S2V5IHx8IHRoaXMuRWRpdG9yLlVJLmNoZWNrRW1wdGluZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBkcm9wIHRhcmdldCBzdHlsZXNcbiAgICpcbiAgICogQHBhcmFtIHtEcmFnRXZlbnR9IGV2ZW50IC0gZHJhZyBvdmVyIGV2ZW50XG4gICAqL1xuICBkcmFnT3ZlcihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICB0LmRyb3BUYXJnZXQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGRyb3AgdGFyZ2V0IHN0eWxlXG4gICAqXG4gICAqIEBwYXJhbSB7RHJhZ0V2ZW50fSBldmVudCAtIGRyYWcgbGVhdmUgZXZlbnRcbiAgICovXG4gIGRyYWdMZWF2ZShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICB0LmRyb3BUYXJnZXQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogQ29weWluZyBzZWxlY3RlZCBibG9ja3NcbiAgICogQmVmb3JlIHB1dHRpbmcgdG8gdGhlIGNsaXBib2FyZCB3ZSBzYW5pdGl6ZSBhbGwgYmxvY2tzIGFuZCB0aGVuIGNvcHkgdG8gdGhlIGNsaXBib2FyZFxuICAgKlxuICAgKiBAcGFyYW0ge0NsaXBib2FyZEV2ZW50fSBldmVudCAtIGNsaXBib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZEMoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuYW55QmxvY2tTZWxlY3RlZCAmJiB0LmNvcHlTZWxlY3RlZEJsb2NrcyhlKTtcbiAgfVxuICAvKipcbiAgICogQ29weSBhbmQgRGVsZXRlIHNlbGVjdGVkIEJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge0NsaXBib2FyZEV2ZW50fSBldmVudCAtIGNsaXBib2FyZCBldmVudFxuICAgKi9cbiAgaGFuZGxlQ29tbWFuZFgoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tTZWxlY3Rpb246IHQsIEJsb2NrTWFuYWdlcjogbywgQ2FyZXQ6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHQuYW55QmxvY2tTZWxlY3RlZCAmJiB0LmNvcHlTZWxlY3RlZEJsb2NrcyhlKS50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBvLnJlbW92ZVNlbGVjdGVkQmxvY2tzKCksIHIgPSBvLmluc2VydERlZmF1bHRCbG9ja0F0SW5kZXgocywgITApO1xuICAgICAgaS5zZXRUb0Jsb2NrKHIsIGkucG9zaXRpb25zLlNUQVJUKSwgdC5jbGVhclNlbGVjdGlvbihlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVGFiIHByZXNzZWQgaW5zaWRlIGEgQmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICB0YWJQcmVzc2VkKGUpIHtcbiAgICBjb25zdCB7IElubGluZVRvb2xiYXI6IHQsIENhcmV0OiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAodC5vcGVuZWQpXG4gICAgICByZXR1cm47XG4gICAgKGUuc2hpZnRLZXkgPyBvLm5hdmlnYXRlUHJldmlvdXMoITApIDogby5uYXZpZ2F0ZU5leHQoITApKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLyoqXG4gICAqICcvJyArICdjb21tYW5kJyBrZXlkb3duIGluc2lkZSBhIEJsb2NrXG4gICAqL1xuICBjb21tYW5kU2xhc2hQcmVzc2VkKCkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnNlbGVjdGVkQmxvY2tzLmxlbmd0aCA+IDEgfHwgdGhpcy5hY3RpdmF0ZUJsb2NrU2V0dGluZ3MoKTtcbiAgfVxuICAvKipcbiAgICogJy8nIGtleWRvd24gaW5zaWRlIGEgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgc2xhc2hQcmVzc2VkKGUpIHtcbiAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrLmlzRW1wdHkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5FZGl0b3IuQ2FyZXQuaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihcIi9cIiksIHRoaXMuYWN0aXZhdGVUb29sYm94KCkpO1xuICB9XG4gIC8qKlxuICAgKiBFTlRFUiBwcmVzc2VkIG9uIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBlbnRlcihlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIFVJOiBvIH0gPSB0aGlzLkVkaXRvciwgaSA9IHQuY3VycmVudEJsb2NrO1xuICAgIGlmIChpID09PSB2b2lkIDAgfHwgaS50b29sLmlzTGluZUJyZWFrc0VuYWJsZWQgfHwgby5zb21lVG9vbGJhck9wZW5lZCAmJiBvLnNvbWVGbGlwcGVyQnV0dG9uRm9jdXNlZCB8fCBlLnNoaWZ0S2V5ICYmICFHZSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgcyA9IGk7XG4gICAgaS5jdXJyZW50SW5wdXQgIT09IHZvaWQgMCAmJiBNZShpLmN1cnJlbnRJbnB1dCkgJiYgIWkuaGFzTWVkaWEgPyB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleCh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrSW5kZXgpIDogaS5jdXJyZW50SW5wdXQgJiYgQWUoaS5jdXJyZW50SW5wdXQpID8gcyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2tJbmRleCArIDEpIDogcyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5zcGxpdCgpLCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHMpLCB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKHMpLCBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBiYWNrc3BhY2Uga2V5ZG93biBvbiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93blxuICAgKi9cbiAgYmFja3NwYWNlKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQ2FyZXQ6IG8gfSA9IHRoaXMuRWRpdG9yLCB7IGN1cnJlbnRCbG9jazogaSwgcHJldmlvdXNCbG9jazogcyB9ID0gdDtcbiAgICBpZiAoaSA9PT0gdm9pZCAwIHx8ICFiLmlzQ29sbGFwc2VkIHx8ICFpLmN1cnJlbnRJbnB1dCB8fCAhTWUoaS5jdXJyZW50SW5wdXQpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSwgIShpLmN1cnJlbnRJbnB1dCA9PT0gaS5maXJzdElucHV0KSkge1xuICAgICAgby5uYXZpZ2F0ZVByZXZpb3VzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzID09PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChzLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2socyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2soaSk7XG4gICAgICBjb25zdCBhID0gdC5jdXJyZW50QmxvY2s7XG4gICAgICBvLnNldFRvQmxvY2soYSwgby5wb3NpdGlvbnMuRU5EKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd3QocywgaSkgPyB0aGlzLm1lcmdlQmxvY2tzKHMsIGkpIDogby5zZXRUb0Jsb2NrKHMsIG8ucG9zaXRpb25zLkVORCk7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZXMgZGVsZXRlIGtleWRvd24gb24gQmxvY2tcbiAgICogUmVtb3ZlcyBjaGFyIGFmdGVyIHRoZSBjYXJldC5cbiAgICogSWYgY2FyZXQgaXMgYXQgdGhlIGVuZCBvZiB0aGUgYmxvY2ssIG1lcmdlIG5leHQgYmxvY2sgd2l0aCBjdXJyZW50XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlkb3duXG4gICAqL1xuICBkZWxldGUoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBDYXJldDogbyB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiBpLCBuZXh0QmxvY2s6IHMgfSA9IHQ7XG4gICAgaWYgKCFiLmlzQ29sbGFwc2VkIHx8ICFBZShpLmN1cnJlbnRJbnB1dCkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpLCAhKGkuY3VycmVudElucHV0ID09PSBpLmxhc3RJbnB1dCkpIHtcbiAgICAgIG8ubmF2aWdhdGVOZXh0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzID09PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChzLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2socyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpLmlzRW1wdHkpIHtcbiAgICAgIHQucmVtb3ZlQmxvY2soaSksIG8uc2V0VG9CbG9jayhzLCBvLnBvc2l0aW9ucy5TVEFSVCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHd0KGksIHMpID8gdGhpcy5tZXJnZUJsb2NrcyhpLCBzKSA6IG8uc2V0VG9CbG9jayhzLCBvLnBvc2l0aW9ucy5TVEFSVCk7XG4gIH1cbiAgLyoqXG4gICAqIE1lcmdlIHBhc3NlZCBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHRhcmdldEJsb2NrIC0gdG8gd2hpY2ggQmxvY2sgd2Ugd2FudCB0byBtZXJnZVxuICAgKiBAcGFyYW0gYmxvY2tUb01lcmdlIC0gd2hhdCBCbG9jayB3ZSB3YW50IHRvIG1lcmdlXG4gICAqL1xuICBtZXJnZUJsb2NrcyhlLCB0KSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8sIENhcmV0OiBpLCBUb29sYmFyOiBzIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpLmNyZWF0ZVNoYWRvdyhlLmxhc3RJbnB1dCksIG8ubWVyZ2VCbG9ja3MoZSwgdCkudGhlbigoKSA9PiB7XG4gICAgICBpLnJlc3RvcmVDYXJldChlLnBsdWdpbnNDb250ZW50KSwgcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgcmlnaHQgYW5kIGRvd24ga2V5Ym9hcmQga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGFycm93UmlnaHRBbmREb3duKGUpIHtcbiAgICBjb25zdCB0ID0gbGUudXNlZEtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKSAmJiAoIWUuc2hpZnRLZXkgfHwgZS5rZXlDb2RlID09PSB3LlRBQik7XG4gICAgaWYgKHRoaXMuRWRpdG9yLlVJLnNvbWVUb29sYmFyT3BlbmVkICYmIHQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpO1xuICAgIGNvbnN0IHsgY3VycmVudEJsb2NrOiBvIH0gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIsIHMgPSAoKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uY3VycmVudElucHV0KSAhPT0gdm9pZCAwID8gQWUoby5jdXJyZW50SW5wdXQpIDogdm9pZCAwKSB8fCB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbnlCbG9ja1NlbGVjdGVkO1xuICAgIGlmIChlLnNoaWZ0S2V5ICYmIGUua2V5Q29kZSA9PT0gdy5ET1dOICYmIHMpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24udG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLmtleUNvZGUgPT09IHcuRE9XTiB8fCBlLmtleUNvZGUgPT09IHcuUklHSFQgJiYgIXRoaXMuaXNSdGwgPyB0aGlzLkVkaXRvci5DYXJldC5uYXZpZ2F0ZU5leHQoKSA6IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlUHJldmlvdXMoKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPZSgoKSA9PiB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrICYmIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sudXBkYXRlQ3VycmVudElucHV0KCk7XG4gICAgfSwgMjApKCksIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbGVmdCBhbmQgdXAga2V5Ym9hcmQga2V5c1xuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5Ym9hcmQgZXZlbnRcbiAgICovXG4gIGFycm93TGVmdEFuZFVwKGUpIHtcbiAgICBpZiAodGhpcy5FZGl0b3IuVUkuc29tZVRvb2xiYXJPcGVuZWQpIHtcbiAgICAgIGlmIChsZS51c2VkS2V5cy5pbmNsdWRlcyhlLmtleUNvZGUpICYmICghZS5zaGlmdEtleSB8fCBlLmtleUNvZGUgPT09IHcuVEFCKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdGhpcy5FZGl0b3IuVUkuY2xvc2VBbGxUb29sYmFycygpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IHQgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlciwgaSA9ICgodCA9PSBudWxsID8gdm9pZCAwIDogdC5jdXJyZW50SW5wdXQpICE9PSB2b2lkIDAgPyBNZSh0LmN1cnJlbnRJbnB1dCkgOiB2b2lkIDApIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmFueUJsb2NrU2VsZWN0ZWQ7XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgZS5rZXlDb2RlID09PSB3LlVQICYmIGkpIHtcbiAgICAgIHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24udG9nZ2xlQmxvY2tTZWxlY3RlZFN0YXRlKCExKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gdy5VUCB8fCBlLmtleUNvZGUgPT09IHcuTEVGVCAmJiAhdGhpcy5pc1J0bCA/IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlUHJldmlvdXMoKSA6IHRoaXMuRWRpdG9yLkNhcmV0Lm5hdmlnYXRlTmV4dCgpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9lKCgpID0+IHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2sgJiYgdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmN1cnJlbnRCbG9jay51cGRhdGVDdXJyZW50SW5wdXQoKTtcbiAgICB9LCAyMCkoKSwgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhc2VzIHdoZW4gd2UgbmVlZCB0byBjbG9zZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgbmVlZFRvb2xiYXJDbG9zaW5nKGUpIHtcbiAgICBjb25zdCB0ID0gZS5rZXlDb2RlID09PSB3LkVOVEVSICYmIHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5vcGVuZWQsIG8gPSBlLmtleUNvZGUgPT09IHcuRU5URVIgJiYgdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5vcGVuZWQsIGkgPSBlLmtleUNvZGUgPT09IHcuRU5URVIgJiYgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5vcGVuZWQsIHMgPSBlLmtleUNvZGUgPT09IHcuVEFCO1xuICAgIHJldHVybiAhKGUuc2hpZnRLZXkgfHwgcyB8fCB0IHx8IG8gfHwgaSk7XG4gIH1cbiAgLyoqXG4gICAqIElmIFRvb2xib3ggaXMgbm90IG9wZW4sIHRoZW4ganVzdCBvcGVuIGl0IGFuZCBzaG93IHBsdXMgYnV0dG9uXG4gICAqL1xuICBhY3RpdmF0ZVRvb2xib3goKSB7XG4gICAgdGhpcy5FZGl0b3IuVG9vbGJhci5vcGVuZWQgfHwgdGhpcy5FZGl0b3IuVG9vbGJhci5tb3ZlQW5kT3BlbigpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbigpO1xuICB9XG4gIC8qKlxuICAgKiBPcGVuIFRvb2xiYXIgYW5kIHNob3cgQmxvY2tTZXR0aW5ncyBiZWZvcmUgZmxpcHBpbmcgVG9vbHNcbiAgICovXG4gIGFjdGl2YXRlQmxvY2tTZXR0aW5ncygpIHtcbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm9wZW5lZCB8fCB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCksIHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbigpO1xuICB9XG59XG5jbGFzcyBYZSB7XG4gIC8qKlxuICAgKiBAY2xhc3NcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gd29ya2luZ0FyZWEgXHUyMDE0IGVkaXRvcmBzIHdvcmtpbmcgbm9kZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuYmxvY2tzID0gW10sIHRoaXMud29ya2luZ0FyZWEgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgbGVuZ3RoIG9mIEJsb2NrIGluc3RhbmNlcyBhcnJheVxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5ibG9ja3MubGVuZ3RoO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgQmxvY2sgaW5zdGFuY2VzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja1tdfVxuICAgKi9cbiAgZ2V0IGFycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2NrcztcbiAgfVxuICAvKipcbiAgICogR2V0IGJsb2NrcyBodG1sIGVsZW1lbnRzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFtdfVxuICAgKi9cbiAgZ2V0IG5vZGVzKCkge1xuICAgIHJldHVybiBBdCh0aGlzLndvcmtpbmdBcmVhLmNoaWxkcmVuKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBzZXR0ZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYmxvY2tzWzBdID0gbmV3IEJsb2NrKC4uLilcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIFx1MjAxNCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkgXHUyMDE0IGJsb2NrIGluZGV4IG9yIGFueSBCbG9ja3MgY2xhc3MgcHJvcGVydHkga2V5IHRvIHNldFxuICAgKiBAcGFyYW0ge0Jsb2NrfSB2YWx1ZSBcdTIwMTQgdmFsdWUgdG8gc2V0XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIHNldChlLCB0LCBvKSB7XG4gICAgcmV0dXJuIGlzTmFOKE51bWJlcih0KSkgPyAoUmVmbGVjdC5zZXQoZSwgdCwgbyksICEwKSA6IChlLmluc2VydCgrdCwgbyksICEwKTtcbiAgfVxuICAvKipcbiAgICogUHJveHkgdHJhcCB0byBpbXBsZW1lbnQgYXJyYXktbGlrZSBnZXR0ZXJcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja3N9IGluc3RhbmNlIFx1MjAxNCBCbG9ja3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtQcm9wZXJ0eUtleX0gcHJvcGVydHkgXHUyMDE0IEJsb2NrcyBjbGFzcyBwcm9wZXJ0eSBrZXlcbiAgICogQHJldHVybnMge0Jsb2NrfCp9XG4gICAqL1xuICBzdGF0aWMgZ2V0KGUsIHQpIHtcbiAgICByZXR1cm4gaXNOYU4oTnVtYmVyKHQpKSA/IFJlZmxlY3QuZ2V0KGUsIHQpIDogZS5nZXQoK3QpO1xuICB9XG4gIC8qKlxuICAgKiBQdXNoIG5ldyBCbG9jayB0byB0aGUgYmxvY2tzIGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gd29ya2luZyBhcmVhXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gYWRkXG4gICAqL1xuICBwdXNoKGUpIHtcbiAgICB0aGlzLmJsb2Nrcy5wdXNoKGUpLCB0aGlzLmluc2VydFRvRE9NKGUpO1xuICB9XG4gIC8qKlxuICAgKiBTd2FwcyBibG9ja3Mgd2l0aCBpbmRleGVzIGZpcnN0IGFuZCBzZWNvbmRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZpcnN0IC0gZmlyc3QgYmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZCAtIHNlY29uZCBibG9jayBpbmRleFxuICAgKiBAZGVwcmVjYXRlZCBcdTIwMTQgdXNlICdtb3ZlJyBpbnN0ZWFkXG4gICAqL1xuICBzd2FwKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3NbdF07XG4gICAgZC5zd2FwKHRoaXMuYmxvY2tzW2VdLmhvbGRlciwgby5ob2xkZXIpLCB0aGlzLmJsb2Nrc1t0XSA9IHRoaXMuYmxvY2tzW2VdLCB0aGlzLmJsb2Nrc1tlXSA9IG87XG4gIH1cbiAgLyoqXG4gICAqIE1vdmUgYSBibG9jayBmcm9tIG9uZSB0byBhbm90aGVyIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gbmV3IGluZGV4IG9mIHRoZSBibG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gYmxvY2sgdG8gbW92ZVxuICAgKi9cbiAgbW92ZShlLCB0KSB7XG4gICAgY29uc3QgbyA9IHRoaXMuYmxvY2tzLnNwbGljZSh0LCAxKVswXSwgaSA9IGUgLSAxLCBzID0gTWF0aC5tYXgoMCwgaSksIHIgPSB0aGlzLmJsb2Nrc1tzXTtcbiAgICBlID4gMCA/IHRoaXMuaW5zZXJ0VG9ET00obywgXCJhZnRlcmVuZFwiLCByKSA6IHRoaXMuaW5zZXJ0VG9ET00obywgXCJiZWZvcmViZWdpblwiLCByKSwgdGhpcy5ibG9ja3Muc3BsaWNlKGUsIDAsIG8pO1xuICAgIGNvbnN0IGwgPSB0aGlzLmNvbXBvc2VCbG9ja0V2ZW50KFwibW92ZVwiLCB7XG4gICAgICBmcm9tSW5kZXg6IHQsXG4gICAgICB0b0luZGV4OiBlXG4gICAgfSk7XG4gICAgby5jYWxsKEouTU9WRUQsIGwpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IEJsb2NrIGF0IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggXHUyMDE0IGluZGV4IHRvIGluc2VydCBCbG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayBcdTIwMTQgQmxvY2sgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSBcdTIwMTQgaXQgdHJ1ZSwgcmVwbGFjZSBibG9jayBvbiBnaXZlbiBpbmRleFxuICAgKi9cbiAgaW5zZXJ0KGUsIHQsIG8gPSAhMSkge1xuICAgIGlmICghdGhpcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucHVzaCh0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZSA+IHRoaXMubGVuZ3RoICYmIChlID0gdGhpcy5sZW5ndGgpLCBvICYmICh0aGlzLmJsb2Nrc1tlXS5ob2xkZXIucmVtb3ZlKCksIHRoaXMuYmxvY2tzW2VdLmNhbGwoSi5SRU1PVkVEKSk7XG4gICAgY29uc3QgaSA9IG8gPyAxIDogMDtcbiAgICBpZiAodGhpcy5ibG9ja3Muc3BsaWNlKGUsIGksIHQpLCBlID4gMCkge1xuICAgICAgY29uc3QgcyA9IHRoaXMuYmxvY2tzW2UgLSAxXTtcbiAgICAgIHRoaXMuaW5zZXJ0VG9ET00odCwgXCJhZnRlcmVuZFwiLCBzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcyA9IHRoaXMuYmxvY2tzW2UgKyAxXTtcbiAgICAgIHMgPyB0aGlzLmluc2VydFRvRE9NKHQsIFwiYmVmb3JlYmVnaW5cIiwgcykgOiB0aGlzLmluc2VydFRvRE9NKHQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgYmxvY2sgdW5kZXIgcGFzc2VkIGluZGV4IHdpdGggcGFzc2VkIGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IG9mIGV4aXN0ZWQgYmxvY2tcbiAgICogQHBhcmFtIGJsb2NrIC0gbmV3IGJsb2NrXG4gICAqL1xuICByZXBsYWNlKGUsIHQpIHtcbiAgICBpZiAodGhpcy5ibG9ja3NbZV0gPT09IHZvaWQgMClcbiAgICAgIHRocm93IEVycm9yKFwiSW5jb3JyZWN0IGluZGV4XCIpO1xuICAgIHRoaXMuYmxvY2tzW2VdLmhvbGRlci5yZXBsYWNlV2l0aCh0LmhvbGRlciksIHRoaXMuYmxvY2tzW2VdID0gdDtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyBzZXZlcmFsIGJsb2NrcyBhdCBvbmNlXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja3MgLSBibG9ja3MgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IHRvIGluc2VydCBibG9ja3MgYXRcbiAgICovXG4gIGluc2VydE1hbnkoZSwgdCkge1xuICAgIGNvbnN0IG8gPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGZvciAoY29uc3QgaSBvZiBlKVxuICAgICAgby5hcHBlbmRDaGlsZChpLmhvbGRlcik7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGkgPSBNYXRoLm1pbih0IC0gMSwgdGhpcy5sZW5ndGggLSAxKTtcbiAgICAgICAgdGhpcy5ibG9ja3NbaV0uaG9sZGVyLmFmdGVyKG8pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHQgPT09IDAgJiYgdGhpcy53b3JraW5nQXJlYS5wcmVwZW5kKG8pO1xuICAgICAgdGhpcy5ibG9ja3Muc3BsaWNlKHQsIDAsIC4uLmUpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5ibG9ja3MucHVzaCguLi5lKSwgdGhpcy53b3JraW5nQXJlYS5hcHBlbmRDaGlsZChvKTtcbiAgICBlLmZvckVhY2goKGkpID0+IGkuY2FsbChKLlJFTkRFUkVEKSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCBvZiBCbG9jayB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZShlKSB7XG4gICAgaXNOYU4oZSkgJiYgKGUgPSB0aGlzLmxlbmd0aCAtIDEpLCB0aGlzLmJsb2Nrc1tlXS5ob2xkZXIucmVtb3ZlKCksIHRoaXMuYmxvY2tzW2VdLmNhbGwoSi5SRU1PVkVEKSwgdGhpcy5ibG9ja3Muc3BsaWNlKGUsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGJsb2Nrc1xuICAgKi9cbiAgcmVtb3ZlQWxsKCkge1xuICAgIHRoaXMud29ya2luZ0FyZWEuaW5uZXJIVE1MID0gXCJcIiwgdGhpcy5ibG9ja3MuZm9yRWFjaCgoZSkgPT4gZS5jYWxsKEouUkVNT1ZFRCkpLCB0aGlzLmJsb2Nrcy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgQmxvY2sgYWZ0ZXIgcGFzc2VkIHRhcmdldFxuICAgKlxuICAgKiBAdG9kbyBkZWNpZGUgaWYgdGhpcyBtZXRob2QgaXMgbmVjZXNzYXJ5XG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldEJsb2NrIFx1MjAxNCB0YXJnZXQgYWZ0ZXIgd2hpY2ggQmxvY2sgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqIEBwYXJhbSB7QmxvY2t9IG5ld0Jsb2NrIFx1MjAxNCBCbG9jayB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydEFmdGVyKGUsIHQpIHtcbiAgICBjb25zdCBvID0gdGhpcy5ibG9ja3MuaW5kZXhPZihlKTtcbiAgICB0aGlzLmluc2VydChvICsgMSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBCbG9jayBieSBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggXHUyMDE0IEJsb2NrIGluZGV4XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldChlKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzW2VdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gaW5kZXggb2YgcGFzc2VkIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gZmluZFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgaW5kZXhPZihlKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLmluZGV4T2YoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBuZXcgQmxvY2sgaW50byBET01cbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtJbnNlcnRQb3NpdGlvbn0gcG9zaXRpb24gXHUyMDE0IGluc2VydCBwb3NpdGlvbiAoaWYgc2V0LCB3aWxsIHVzZSBpbnNlcnRBZGphY2VudEVsZW1lbnQpXG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldCBcdTIwMTQgQmxvY2sgcmVsYXRlZCB0byBwb3NpdGlvblxuICAgKi9cbiAgaW5zZXJ0VG9ET00oZSwgdCwgbykge1xuICAgIHQgPyBvLmhvbGRlci5pbnNlcnRBZGphY2VudEVsZW1lbnQodCwgZS5ob2xkZXIpIDogdGhpcy53b3JraW5nQXJlYS5hcHBlbmRDaGlsZChlLmhvbGRlciksIGUuY2FsbChKLlJFTkRFUkVEKTtcbiAgfVxuICAvKipcbiAgICogQ29tcG9zZXMgQmxvY2sgZXZlbnQgd2l0aCBwYXNzZWQgdHlwZSBhbmQgZGV0YWlsc1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGV2ZW50IHR5cGVcbiAgICogQHBhcmFtIHtvYmplY3R9IGRldGFpbCAtIGV2ZW50IGRldGFpbFxuICAgKi9cbiAgY29tcG9zZUJsb2NrRXZlbnQoZSwgdCkge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSwge1xuICAgICAgZGV0YWlsOiB0XG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IFR0ID0gXCJibG9jay1yZW1vdmVkXCIsIEN0ID0gXCJibG9jay1hZGRlZFwiLCBKaSA9IFwiYmxvY2stbW92ZWRcIiwgU3QgPSBcImJsb2NrLWNoYW5nZWRcIjtcbmNsYXNzIFFpIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21wbGV0ZWQgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICAvKipcbiAgICogQWRkIG5ldyBwcm9taXNlIHRvIHF1ZXVlXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBwcm9taXNlIHNob3VsZCBiZSBhZGRlZCB0byBxdWV1ZVxuICAgKi9cbiAgYWRkKGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHQsIG8pID0+IHtcbiAgICAgIHRoaXMuY29tcGxldGVkID0gdGhpcy5jb21wbGV0ZWQudGhlbihlKS50aGVuKHQpLmNhdGNoKG8pO1xuICAgIH0pO1xuICB9XG59XG5jbGFzcyBlcyBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLl9jdXJyZW50QmxvY2tJbmRleCA9IC0xLCB0aGlzLl9ibG9ja3MgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBjdXJyZW50QmxvY2tJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEJsb2NrSW5kZXg7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBjdXJyZW50IEJsb2NrIGluZGV4IGFuZCBmaXJlIEJsb2NrIGxpZmVjeWNsZSBjYWxsYmFja3NcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0luZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gc2V0IGFzIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2tJbmRleChlKSB7XG4gICAgdGhpcy5fY3VycmVudEJsb2NrSW5kZXggPSBlO1xuICB9XG4gIC8qKlxuICAgKiByZXR1cm5zIGZpcnN0IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldCBmaXJzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbMF07XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybnMgbGFzdCBCbG9ja1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgbGFzdEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5fYmxvY2tzLmxlbmd0aCAtIDFdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXQgY3VycmVudEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLl9ibG9ja3NbdGhpcy5jdXJyZW50QmxvY2tJbmRleF07XG4gIH1cbiAgLyoqXG4gICAqIFNldCBwYXNzZWQgQmxvY2sgYXMgYSBjdXJyZW50XG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIGJsb2NrIHRvIHNldCBhcyBhIGN1cnJlbnRcbiAgICovXG4gIHNldCBjdXJyZW50QmxvY2soZSkge1xuICAgIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLmdldEJsb2NrSW5kZXgoZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgbmV4dCBCbG9jayBpbnN0YW5jZVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2t8bnVsbH1cbiAgICovXG4gIGdldCBuZXh0QmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxID8gbnVsbCA6IHRoaXMuX2Jsb2Nrc1t0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBmaXJzdCBCbG9jayB3aXRoIGlucHV0cyBhZnRlciBjdXJyZW50IEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9jayB8IHVuZGVmaW5lZH1cbiAgICovXG4gIGdldCBuZXh0Q29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSh0aGlzLmN1cnJlbnRCbG9ja0luZGV4ICsgMSkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gZmlyc3QgQmxvY2sgd2l0aCBpbnB1dHMgYmVmb3JlIGN1cnJlbnQgQmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrIHwgdW5kZWZpbmVkfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQ29udGVudGZ1bEJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5zbGljZSgwLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KS5yZXZlcnNlKCkuZmluZCgodCkgPT4gISF0LmlucHV0cy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHByZXZpb3VzIEJsb2NrIGluc3RhbmNlXG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja3xudWxsfVxuICAgKi9cbiAgZ2V0IHByZXZpb3VzQmxvY2soKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPT09IDAgPyBudWxsIDogdGhpcy5fYmxvY2tzW3RoaXMuY3VycmVudEJsb2NrSW5kZXggLSAxXTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFycmF5IG9mIEJsb2NrIGluc3RhbmNlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tbXX0ge0BsaW5rIEJsb2NrcyNhcnJheX1cbiAgICovXG4gIGdldCBibG9ja3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5hcnJheTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgZWFjaCBCbG9jayBpcyBlbXB0eVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0VkaXRvckVtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLmJsb2Nrcy5ldmVyeSgoZSkgPT4gZS5pc0VtcHR5KTtcbiAgfVxuICAvKipcbiAgICogU2hvdWxkIGJlIGNhbGxlZCBhZnRlciBFZGl0b3IuVUkgcHJlcGFyYXRpb25cbiAgICogRGVmaW5lIHRoaXMuX2Jsb2NrcyBwcm9wZXJ0eVxuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICBjb25zdCBlID0gbmV3IFhlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLnJlZGFjdG9yKTtcbiAgICB0aGlzLl9ibG9ja3MgPSBuZXcgUHJveHkoZSwge1xuICAgICAgc2V0OiBYZS5zZXQsXG4gICAgICBnZXQ6IFhlLmdldFxuICAgIH0pLCB0aGlzLmxpc3RlbmVycy5vbihcbiAgICAgIGRvY3VtZW50LFxuICAgICAgXCJjb3B5XCIsXG4gICAgICAodCkgPT4gdGhpcy5FZGl0b3IuQmxvY2tFdmVudHMuaGFuZGxlQ29tbWFuZEModClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIElmIHJlYWRPbmx5IGlzIHRydWU6XG4gICAqICAtIFVuYmluZCBldmVudCBoYW5kbGVycyBmcm9tIGNyZWF0ZWQgQmxvY2tzXG4gICAqXG4gICAqIGlmIHJlYWRPbmx5IGlzIGZhbHNlOlxuICAgKiAgLSBCaW5kIGV2ZW50IGhhbmRsZXJzIHRvIGFsbCBleGlzdGluZyBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSBcInJlYWQgb25seVwiIHN0YXRlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkgOiB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgQmxvY2sgaW5zdGFuY2UgYnkgdG9vbCBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gYmxvY2sgY3JlYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy50b29sIC0gdG9vbHMgcGFzc2VkIGluIGVkaXRvciBjb25maWcge0BsaW5rIEVkaXRvckNvbmZpZyN0b29sc31cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlkXSAtIHVuaXF1ZSBpZCBmb3IgdGhpcyBibG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrVG9vbERhdGF9IFtvcHRpb25zLmRhdGFdIC0gY29uc3RydWN0b3IgcGFyYW1zXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGNvbXBvc2VCbG9jayh7XG4gICAgdG9vbDogZSxcbiAgICBkYXRhOiB0ID0ge30sXG4gICAgaWQ6IG8gPSB2b2lkIDAsXG4gICAgdHVuZXM6IGkgPSB7fVxuICB9KSB7XG4gICAgY29uc3QgcyA9IHRoaXMuRWRpdG9yLlJlYWRPbmx5LmlzRW5hYmxlZCwgciA9IHRoaXMuRWRpdG9yLlRvb2xzLmJsb2NrVG9vbHMuZ2V0KGUpLCBsID0gbmV3IEQoe1xuICAgICAgaWQ6IG8sXG4gICAgICBkYXRhOiB0LFxuICAgICAgdG9vbDogcixcbiAgICAgIGFwaTogdGhpcy5FZGl0b3IuQVBJLFxuICAgICAgcmVhZE9ubHk6IHMsXG4gICAgICB0dW5lc0RhdGE6IGlcbiAgICB9LCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIpO1xuICAgIHJldHVybiBzIHx8IHdpbmRvdy5yZXF1ZXN0SWRsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIHRoaXMuYmluZEJsb2NrRXZlbnRzKGwpO1xuICAgIH0sIHsgdGltZW91dDogMmUzIH0pLCBsO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgbmV3IGJsb2NrIGludG8gX2Jsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGluc2VydCBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZF0gLSBibG9jaydzIHVuaXF1ZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudG9vbF0gLSBwbHVnaW4gbmFtZSwgYnkgZGVmYXVsdCBtZXRob2QgaW5zZXJ0cyB0aGUgZGVmYXVsdCBibG9jayB0eXBlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5kYXRhXSAtIHBsdWdpbiBkYXRhXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5pbmRleF0gLSBpbmRleCB3aGVyZSB0byBpbnNlcnQgbmV3IEJsb2NrXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubmVlZFRvRm9jdXNdIC0gZmxhZyBzaG93cyBpZiBuZWVkZWQgdG8gdXBkYXRlIGN1cnJlbnQgQmxvY2sgaW5kZXhcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5yZXBsYWNlXSAtIGZsYWcgc2hvd3MgaWYgYmxvY2sgYnkgcGFzc2VkIGluZGV4IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIGluc2VydGVkIG9uZVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBpbnNlcnQoe1xuICAgIGlkOiBlID0gdm9pZCAwLFxuICAgIHRvb2w6IHQgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QmxvY2ssXG4gICAgZGF0YTogbyA9IHt9LFxuICAgIGluZGV4OiBpLFxuICAgIG5lZWRUb0ZvY3VzOiBzID0gITAsXG4gICAgcmVwbGFjZTogciA9ICExLFxuICAgIHR1bmVzOiBsID0ge31cbiAgfSA9IHt9KSB7XG4gICAgbGV0IGEgPSBpO1xuICAgIGEgPT09IHZvaWQgMCAmJiAoYSA9IHRoaXMuY3VycmVudEJsb2NrSW5kZXggKyAociA/IDAgOiAxKSk7XG4gICAgY29uc3QgYyA9IHRoaXMuY29tcG9zZUJsb2NrKHtcbiAgICAgIGlkOiBlLFxuICAgICAgdG9vbDogdCxcbiAgICAgIGRhdGE6IG8sXG4gICAgICB0dW5lczogbFxuICAgIH0pO1xuICAgIHJldHVybiByICYmIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFR0LCB0aGlzLmdldEJsb2NrQnlJbmRleChhKSwge1xuICAgICAgaW5kZXg6IGFcbiAgICB9KSwgdGhpcy5fYmxvY2tzLmluc2VydChhLCBjLCByKSwgdGhpcy5ibG9ja0RpZE11dGF0ZWQoQ3QsIGMsIHtcbiAgICAgIGluZGV4OiBhXG4gICAgfSksIHMgPyB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gYSA6IGEgPD0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCAmJiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KyssIGM7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgc2V2ZXJhbCBibG9ja3MgYXQgb25jZVxuICAgKlxuICAgKiBAcGFyYW0gYmxvY2tzIC0gYmxvY2tzIHRvIGluc2VydFxuICAgKiBAcGFyYW0gaW5kZXggLSBpbmRleCB3aGVyZSB0byBpbnNlcnRcbiAgICovXG4gIGluc2VydE1hbnkoZSwgdCA9IDApIHtcbiAgICB0aGlzLl9ibG9ja3MuaW5zZXJ0TWFueShlLCB0KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIEJsb2NrIGRhdGEuXG4gICAqXG4gICAqIEN1cnJlbnRseSB3ZSBkb24ndCBoYXZlIGFuICd1cGRhdGUnIG1ldGhvZCBpbiB0aGUgVG9vbHMgQVBJLCBzbyB3ZSBqdXN0IGNyZWF0ZSBhIG5ldyBibG9jayB3aXRoIHRoZSBzYW1lIGlkIGFuZCB0eXBlXG4gICAqIFNob3VsZCBub3QgdHJpZ2dlciAnYmxvY2stcmVtb3ZlZCcgb3IgJ2Jsb2NrLWFkZGVkJyBldmVudHMuXG4gICAqXG4gICAqIElmIG5laXRoZXIgZGF0YSBub3IgdHVuZXMgaXMgcHJvdmlkZWQsIHJldHVybiB0aGUgcHJvdmlkZWQgYmxvY2sgaW5zdGVhZC5cbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSBkYXRhIC0gKG9wdGlvbmFsKSBuZXcgZGF0YVxuICAgKiBAcGFyYW0gdHVuZXMgLSAob3B0aW9uYWwpIHR1bmUgZGF0YVxuICAgKi9cbiAgYXN5bmMgdXBkYXRlKGUsIHQsIG8pIHtcbiAgICBpZiAoIXQgJiYgIW8pXG4gICAgICByZXR1cm4gZTtcbiAgICBjb25zdCBpID0gYXdhaXQgZS5kYXRhLCBzID0gdGhpcy5jb21wb3NlQmxvY2soe1xuICAgICAgaWQ6IGUuaWQsXG4gICAgICB0b29sOiBlLm5hbWUsXG4gICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHt9LCBpLCB0ID8/IHt9KSxcbiAgICAgIHR1bmVzOiBvID8/IGUudHVuZXNcbiAgICB9KSwgciA9IHRoaXMuZ2V0QmxvY2tJbmRleChlKTtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzLnJlcGxhY2UociwgcyksIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFN0LCBzLCB7XG4gICAgICBpbmRleDogclxuICAgIH0pLCBzO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlIHBhc3NlZCBCbG9jayB3aXRoIHRoZSBuZXcgb25lIHdpdGggc3BlY2lmaWVkIFRvb2wgYW5kIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gcmVwbGFjZVxuICAgKiBAcGFyYW0gbmV3VG9vbCAtIG5ldyBUb29sIG5hbWVcbiAgICogQHBhcmFtIGRhdGEgLSBuZXcgVG9vbCBkYXRhXG4gICAqL1xuICByZXBsYWNlKGUsIHQsIG8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5nZXRCbG9ja0luZGV4KGUpO1xuICAgIHJldHVybiB0aGlzLmluc2VydCh7XG4gICAgICB0b29sOiB0LFxuICAgICAgZGF0YTogbyxcbiAgICAgIGluZGV4OiBpLFxuICAgICAgcmVwbGFjZTogITBcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHBhc3RlZCBjb250ZW50LiBDYWxsIG9uUGFzdGUgY2FsbGJhY2sgYWZ0ZXIgaW5zZXJ0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9vbE5hbWUgLSBuYW1lIG9mIFRvb2wgdG8gaW5zZXJ0XG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gcGFzdGVFdmVudCAtIHBhc3RlZCBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIHNob3VsZCByZXBsYWNlIGN1cnJlbnQgYmxvY2tcbiAgICovXG4gIHBhc3RlKGUsIHQsIG8gPSAhMSkge1xuICAgIGNvbnN0IGkgPSB0aGlzLmluc2VydCh7XG4gICAgICB0b29sOiBlLFxuICAgICAgcmVwbGFjZTogb1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGkuY2FsbChKLk9OX1BBU1RFLCB0KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgIEkoYCR7ZX06IG9uUGFzdGUgY2FsbGJhY2sgY2FsbCBpcyBmYWlsZWRgLCBcImVycm9yXCIsIHMpO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IG5ldyBkZWZhdWx0IGJsb2NrIGF0IHBhc3NlZCBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCB3aGVyZSBCbG9jayBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICogQHBhcmFtIHtib29sZWFufSBuZWVkVG9Gb2N1cyAtIGlmIHRydWUsIHVwZGF0ZXMgY3VycmVudCBCbG9jayBpbmRleFxuICAgKlxuICAgKiBUT0RPOiBSZW1vdmUgbWV0aG9kIGFuZCB1c2UgaW5zZXJ0KCkgd2l0aCBpbmRleCBpbnN0ZWFkICg/KVxuICAgKiBAcmV0dXJucyB7QmxvY2t9IGluc2VydGVkIEJsb2NrXG4gICAqL1xuICBpbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IG8gPSB0aGlzLmNvbXBvc2VCbG9jayh7IHRvb2w6IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayB9KTtcbiAgICByZXR1cm4gdGhpcy5fYmxvY2tzW2VdID0gbywgdGhpcy5ibG9ja0RpZE11dGF0ZWQoQ3QsIG8sIHtcbiAgICAgIGluZGV4OiBlXG4gICAgfSksIHQgPyB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gZSA6IGUgPD0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCAmJiB0aGlzLmN1cnJlbnRCbG9ja0luZGV4KyssIG87XG4gIH1cbiAgLyoqXG4gICAqIEFsd2F5cyBpbnNlcnRzIGF0IHRoZSBlbmRcbiAgICpcbiAgICogQHJldHVybnMge0Jsb2NrfVxuICAgKi9cbiAgaW5zZXJ0QXRFbmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxLCB0aGlzLmluc2VydCgpO1xuICB9XG4gIC8qKlxuICAgKiBNZXJnZSB0d28gYmxvY2tzXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IHRhcmdldEJsb2NrIC0gcHJldmlvdXMgYmxvY2sgd2lsbCBiZSBhcHBlbmQgdG8gdGhpcyBibG9ja1xuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9ja1RvTWVyZ2UgLSBibG9jayB0aGF0IHdpbGwgYmUgbWVyZ2VkIHdpdGggdGFyZ2V0IGJsb2NrXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHRoZSBzZXF1ZW5jZSB0aGF0IGNhbiBiZSBjb250aW51ZWRcbiAgICovXG4gIGFzeW5jIG1lcmdlQmxvY2tzKGUsIHQpIHtcbiAgICBsZXQgbztcbiAgICBpZiAoZS5uYW1lID09PSB0Lm5hbWUgJiYgZS5tZXJnZWFibGUpIHtcbiAgICAgIGNvbnN0IGkgPSBhd2FpdCB0LmRhdGE7XG4gICAgICBpZiAoVihpKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IG1lcmdlIEJsb2NrLiBGYWlsZWQgdG8gZXh0cmFjdCBvcmlnaW5hbCBCbG9jayBkYXRhLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgW3NdID0gaXQoW2ldLCBlLnRvb2wuc2FuaXRpemVDb25maWcpO1xuICAgICAgbyA9IHM7XG4gICAgfSBlbHNlIGlmIChlLm1lcmdlYWJsZSAmJiBfZSh0LCBcImV4cG9ydFwiKSAmJiBfZShlLCBcImltcG9ydFwiKSkge1xuICAgICAgY29uc3QgaSA9IGF3YWl0IHQuZXhwb3J0RGF0YUFzU3RyaW5nKCksIHMgPSBxKGksIGUudG9vbC5zYW5pdGl6ZUNvbmZpZyk7XG4gICAgICBvID0geHQocywgZS50b29sLmNvbnZlcnNpb25Db25maWcpO1xuICAgIH1cbiAgICBvICE9PSB2b2lkIDAgJiYgKGF3YWl0IGUubWVyZ2VXaXRoKG8pLCB0aGlzLnJlbW92ZUJsb2NrKHQpLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdGhpcy5fYmxvY2tzLmluZGV4T2YoZSkpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgcGFzc2VkIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSBibG9jayAtIEJsb2NrIHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gYWRkTGFzdEJsb2NrIC0gaWYgdHJ1ZSwgYWRkcyBuZXcgZGVmYXVsdCBibG9jayBhdCB0aGUgZW5kLiBAdG9kbyByZW1vdmUgdGhpcyBsb2dpYyBhbmQgdXNlIGV2ZW50LWJ1cyBpbnN0ZWFkXG4gICAqL1xuICByZW1vdmVCbG9jayhlLCB0ID0gITApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKG8pID0+IHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLl9ibG9ja3MuaW5kZXhPZihlKTtcbiAgICAgIGlmICghdGhpcy52YWxpZGF0ZUluZGV4KGkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGEgQmxvY2sgdG8gcmVtb3ZlXCIpO1xuICAgICAgZS5kZXN0cm95KCksIHRoaXMuX2Jsb2Nrcy5yZW1vdmUoaSksIHRoaXMuYmxvY2tEaWRNdXRhdGVkKFR0LCBlLCB7XG4gICAgICAgIGluZGV4OiBpXG4gICAgICB9KSwgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA+PSBpICYmIHRoaXMuY3VycmVudEJsb2NrSW5kZXgtLSwgdGhpcy5ibG9ja3MubGVuZ3RoID8gaSA9PT0gMCAmJiAodGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IDApIDogKHRoaXMudW5zZXRDdXJyZW50QmxvY2soKSwgdCAmJiB0aGlzLmluc2VydCgpKSwgbygpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgb25seSBzZWxlY3RlZCBCbG9ja3NcbiAgICogYW5kIHJldHVybnMgZmlyc3QgQmxvY2sgaW5kZXggd2hlcmUgc3RhcnRlZCByZW1vdmluZy4uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICovXG4gIHJlbW92ZVNlbGVjdGVkQmxvY2tzKCkge1xuICAgIGxldCBlO1xuICAgIGZvciAobGV0IHQgPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSlcbiAgICAgIHRoaXMuYmxvY2tzW3RdLnNlbGVjdGVkICYmICh0aGlzLnJlbW92ZUJsb2NrKHRoaXMuYmxvY2tzW3RdKSwgZSA9IHQpO1xuICAgIHJldHVybiBlO1xuICB9XG4gIC8qKlxuICAgKiBBdHRlbnRpb24hXG4gICAqIEFmdGVyIHJlbW92aW5nIGluc2VydCB0aGUgbmV3IGRlZmF1bHQgdHlwZWQgQmxvY2sgYW5kIGZvY3VzIG9uIGl0XG4gICAqIFJlbW92ZXMgYWxsIGJsb2Nrc1xuICAgKi9cbiAgcmVtb3ZlQWxsQmxvY2tzKCkge1xuICAgIGZvciAobGV0IGUgPSB0aGlzLmJsb2Nrcy5sZW5ndGggLSAxOyBlID49IDA7IGUtLSlcbiAgICAgIHRoaXMuX2Jsb2Nrcy5yZW1vdmUoZSk7XG4gICAgdGhpcy51bnNldEN1cnJlbnRCbG9jaygpLCB0aGlzLmluc2VydCgpLCB0aGlzLmN1cnJlbnRCbG9jay5maXJzdElucHV0LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNwbGl0IGN1cnJlbnQgQmxvY2tcbiAgICogMS4gRXh0cmFjdCBjb250ZW50IGZyb20gQ2FyZXQgcG9zaXRpb24gdG8gdGhlIEJsb2NrYHMgZW5kXG4gICAqIDIuIEluc2VydCBhIG5ldyBCbG9jayBiZWxvdyBjdXJyZW50IG9uZSB3aXRoIGV4dHJhY3RlZCBjb250ZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIHNwbGl0KCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLkVkaXRvci5DYXJldC5leHRyYWN0RnJhZ21lbnRGcm9tQ2FyZXRQb3NpdGlvbigpLCB0ID0gZC5tYWtlKFwiZGl2XCIpO1xuICAgIHQuYXBwZW5kQ2hpbGQoZSk7XG4gICAgY29uc3QgbyA9IHtcbiAgICAgIHRleHQ6IGQuaXNFbXB0eSh0KSA/IFwiXCIgOiB0LmlubmVySFRNTFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KHsgZGF0YTogbyB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBieSBwYXNzZWQgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gaW5kZXggdG8gZ2V0LiAtMSB0byBnZXQgbGFzdFxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXRCbG9ja0J5SW5kZXgoZSkge1xuICAgIHJldHVybiBlID09PSAtMSAmJiAoZSA9IHRoaXMuX2Jsb2Nrcy5sZW5ndGggLSAxKSwgdGhpcy5fYmxvY2tzW2VdO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGluZGV4IGZvciBwYXNzZWQgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIGJsb2NrIC0gYmxvY2sgdG8gZmluZCBpbmRleFxuICAgKi9cbiAgZ2V0QmxvY2tJbmRleChlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5pbmRleE9mKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBCbG9jayBieSBwYXNzZWQgaWRcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gaWQgb2YgYmxvY2sgdG8gZ2V0XG4gICAqIEByZXR1cm5zIHtCbG9ja31cbiAgICovXG4gIGdldEJsb2NrQnlJZChlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5hcnJheS5maW5kKCh0KSA9PiB0LmlkID09PSBlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IEJsb2NrIGluc3RhbmNlIGJ5IGh0bWwgZWxlbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBodG1sIGVsZW1lbnQgdG8gZ2V0IEJsb2NrIGJ5XG4gICAqL1xuICBnZXRCbG9jayhlKSB7XG4gICAgZC5pc0VsZW1lbnQoZSkgfHwgKGUgPSBlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IHQgPSB0aGlzLl9ibG9ja3Mubm9kZXMsIG8gPSBlLmNsb3Nlc3QoYC4ke0QuQ1NTLndyYXBwZXJ9YCksIGkgPSB0LmluZGV4T2Yobyk7XG4gICAgaWYgKGkgPj0gMClcbiAgICAgIHJldHVybiB0aGlzLl9ibG9ja3NbaV07XG4gIH1cbiAgLyoqXG4gICAqIDEpIEZpbmQgZmlyc3QtbGV2ZWwgQmxvY2sgZnJvbSBwYXNzZWQgY2hpbGQgTm9kZVxuICAgKiAyKSBNYXJrIGl0IGFzIGN1cnJlbnRcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBsb29rIGFoZWFkIGZyb20gdGhpcyBub2RlLlxuICAgKiBAcmV0dXJucyB7QmxvY2sgfCB1bmRlZmluZWR9IGNhbiByZXR1cm4gdW5kZWZpbmVkIGluIGNhc2Ugd2hlbiB0aGUgcGFzc2VkIGNoaWxkIG5vdGUgaXMgbm90IGEgcGFydCBvZiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICovXG4gIHNldEN1cnJlbnRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBkLmlzRWxlbWVudChlKSB8fCAoZSA9IGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgdCA9IGUuY2xvc2VzdChgLiR7RC5DU1Mud3JhcHBlcn1gKTtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbyA9IHQuY2xvc2VzdChgLiR7dGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvcldyYXBwZXJ9YCk7XG4gICAgaWYgKG8gIT0gbnVsbCAmJiBvLmlzRXF1YWxOb2RlKHRoaXMuRWRpdG9yLlVJLm5vZGVzLndyYXBwZXIpKVxuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSB0aGlzLl9ibG9ja3Mubm9kZXMuaW5kZXhPZih0KSwgdGhpcy5jdXJyZW50QmxvY2sudXBkYXRlQ3VycmVudElucHV0KCksIHRoaXMuY3VycmVudEJsb2NrO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYmxvY2sgd2hpY2ggY29udGVudHMgcGFzc2VkIG5vZGVcbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBjaGlsZE5vZGUgLSBub2RlIHRvIGdldCBCbG9jayBieVxuICAgKiBAcmV0dXJucyB7QmxvY2t9XG4gICAqL1xuICBnZXRCbG9ja0J5Q2hpbGROb2RlKGUpIHtcbiAgICBpZiAoIWUgfHwgIShlIGluc3RhbmNlb2YgTm9kZSkpXG4gICAgICByZXR1cm47XG4gICAgZC5pc0VsZW1lbnQoZSkgfHwgKGUgPSBlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IHQgPSBlLmNsb3Nlc3QoYC4ke0QuQ1NTLndyYXBwZXJ9YCk7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzLmZpbmQoKG8pID0+IG8uaG9sZGVyID09PSB0KTtcbiAgfVxuICAvKipcbiAgICogU3dhcCBCbG9ja3MgUG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCAtIGluZGV4IG9mIGZpcnN0IGJsb2NrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggb2Ygc2Vjb25kIGJsb2NrXG4gICAqIEBkZXByZWNhdGVkIFx1MjAxNCB1c2UgJ21vdmUnIGluc3RlYWRcbiAgICovXG4gIHN3YXAoZSwgdCkge1xuICAgIHRoaXMuX2Jsb2Nrcy5zd2FwKGUsIHQpLCB0aGlzLmN1cnJlbnRCbG9ja0luZGV4ID0gdDtcbiAgfVxuICAvKipcbiAgICogTW92ZSBhIGJsb2NrIHRvIGEgbmV3IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IC0gaW5kZXggd2hlcmUgdG8gbW92ZSBCbG9ja1xuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IC0gaW5kZXggb2YgQmxvY2sgdG8gbW92ZVxuICAgKi9cbiAgbW92ZShlLCB0ID0gdGhpcy5jdXJyZW50QmxvY2tJbmRleCkge1xuICAgIGlmIChpc05hTihlKSB8fCBpc05hTih0KSkge1xuICAgICAgSShcIldhcm5pbmcgZHVyaW5nICdtb3ZlJyBjYWxsOiBpbmNvcnJlY3QgaW5kaWNlcyBwcm92aWRlZC5cIiwgXCJ3YXJuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudmFsaWRhdGVJbmRleChlKSB8fCAhdGhpcy52YWxpZGF0ZUluZGV4KHQpKSB7XG4gICAgICBJKFwiV2FybmluZyBkdXJpbmcgJ21vdmUnIGNhbGw6IGluZGljZXMgY2Fubm90IGJlIGxvd2VyIHRoYW4gMCBvciBncmVhdGVyIHRoYW4gdGhlIGFtb3VudCBvZiBibG9ja3MuXCIsIFwid2FyblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYmxvY2tzLm1vdmUoZSwgdCksIHRoaXMuY3VycmVudEJsb2NrSW5kZXggPSBlLCB0aGlzLmJsb2NrRGlkTXV0YXRlZChKaSwgdGhpcy5jdXJyZW50QmxvY2ssIHtcbiAgICAgIGZyb21JbmRleDogdCxcbiAgICAgIHRvSW5kZXg6IGVcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgcGFzc2VkIEJsb2NrIHRvIHRoZSBuZXcgVG9vbFxuICAgKiBVc2VzIENvbnZlcnNpb24gQ29uZmlnXG4gICAqXG4gICAqIEBwYXJhbSBibG9ja1RvQ29udmVydCAtIEJsb2NrIHRoYXQgc2hvdWxkIGJlIGNvbnZlcnRlZFxuICAgKiBAcGFyYW0gdGFyZ2V0VG9vbE5hbWUgLSBuYW1lIG9mIHRoZSBUb29sIHRvIGNvbnZlcnQgdG9cbiAgICogQHBhcmFtIGJsb2NrRGF0YU92ZXJyaWRlcyAtIG9wdGlvbmFsIG5ldyBCbG9jayBkYXRhIG92ZXJyaWRlc1xuICAgKi9cbiAgYXN5bmMgY29udmVydChlLCB0LCBvKSB7XG4gICAgaWYgKCFhd2FpdCBlLnNhdmUoKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBjb252ZXJ0IEJsb2NrLiBGYWlsZWQgdG8gZXh0cmFjdCBvcmlnaW5hbCBCbG9jayBkYXRhLlwiKTtcbiAgICBjb25zdCBzID0gdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scy5nZXQodCk7XG4gICAgaWYgKCFzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29udmVydCBCbG9jay4gVG9vbCBcdTAwQUIke3R9XHUwMEJCIG5vdCBmb3VuZC5gKTtcbiAgICBjb25zdCByID0gYXdhaXQgZS5leHBvcnREYXRhQXNTdHJpbmcoKSwgbCA9IHEoXG4gICAgICByLFxuICAgICAgcy5zYW5pdGl6ZUNvbmZpZ1xuICAgICk7XG4gICAgbGV0IGEgPSB4dChsLCBzLmNvbnZlcnNpb25Db25maWcpO1xuICAgIHJldHVybiBvICYmIChhID0gT2JqZWN0LmFzc2lnbihhLCBvKSksIHRoaXMucmVwbGFjZShlLCBzLm5hbWUsIGEpO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIGN1cnJlbnQgQmxvY2sgSW5kZXggLTEgd2hpY2ggbWVhbnMgdW5rbm93blxuICAgKiBhbmQgY2xlYXIgaGlnaGxpZ2h0c1xuICAgKi9cbiAgdW5zZXRDdXJyZW50QmxvY2soKSB7XG4gICAgdGhpcy5jdXJyZW50QmxvY2tJbmRleCA9IC0xO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmVlZFRvQWRkRGVmYXVsdEJsb2NrIC0gMSkgaW4gaW50ZXJuYWwgY2FsbHMgKGZvciBleGFtcGxlLCBpbiBhcGkuYmxvY2tzLnJlbmRlcilcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZSBkb24ndCBuZWVkIHRvIGFkZCBhbiBlbXB0eSBkZWZhdWx0IGJsb2NrXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIpIGluIGFwaS5ibG9ja3MuY2xlYXIgd2Ugc2hvdWxkIGFkZCBlbXB0eSBibG9ja1xuICAgKi9cbiAgYXN5bmMgY2xlYXIoZSA9ICExKSB7XG4gICAgY29uc3QgdCA9IG5ldyBRaSgpO1xuICAgIHRoaXMuYmxvY2tzLmZvckVhY2goKG8pID0+IHtcbiAgICAgIHQuYWRkKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5yZW1vdmVCbG9jayhvLCAhMSk7XG4gICAgICB9KTtcbiAgICB9KSwgYXdhaXQgdC5jb21wbGV0ZWQsIHRoaXMudW5zZXRDdXJyZW50QmxvY2soKSwgZSAmJiB0aGlzLmluc2VydCgpLCB0aGlzLkVkaXRvci5VSS5jaGVja0VtcHRpbmVzcygpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhbnMgdXAgYWxsIHRoZSBibG9jayB0b29scycgcmVzb3VyY2VzXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gZWRpdG9yIGlzIGRlc3Ryb3llZFxuICAgKi9cbiAgYXN5bmMgZGVzdHJveSgpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmJsb2Nrcy5tYXAoKGUpID0+IGUuZGVzdHJveSgpKSk7XG4gIH1cbiAgLyoqXG4gICAqIEJpbmQgQmxvY2sgZXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJsb2NrIC0gQmxvY2sgdG8gd2hpY2ggZXZlbnQgc2hvdWxkIGJlIGJvdW5kXG4gICAqL1xuICBiaW5kQmxvY2tFdmVudHMoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tFdmVudHM6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUuaG9sZGVyLCBcImtleWRvd25cIiwgKG8pID0+IHtcbiAgICAgIHQua2V5ZG93bihvKTtcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ob2xkZXIsIFwia2V5dXBcIiwgKG8pID0+IHtcbiAgICAgIHQua2V5dXAobyk7XG4gICAgfSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGUuaG9sZGVyLCBcImRyYWdvdmVyXCIsIChvKSA9PiB7XG4gICAgICB0LmRyYWdPdmVyKG8pO1xuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLmhvbGRlciwgXCJkcmFnbGVhdmVcIiwgKG8pID0+IHtcbiAgICAgIHQuZHJhZ0xlYXZlKG8pO1xuICAgIH0pLCBlLm9uKFwiZGlkTXV0YXRlZFwiLCAobykgPT4gdGhpcy5ibG9ja0RpZE11dGF0ZWQoU3QsIG8sIHtcbiAgICAgIGluZGV4OiB0aGlzLmdldEJsb2NrSW5kZXgobylcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgbXV0YWJsZSBoYW5kbGVycyBhbmQgYmluZGluZ3NcbiAgICovXG4gIGRpc2FibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5jbGVhckFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIGFsbCBtb2R1bGUgaGFuZGxlcnMgYW5kIGJpbmRpbmdzIGZvciBhbGwgQmxvY2tzXG4gICAqL1xuICBlbmFibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihcbiAgICAgIGRvY3VtZW50LFxuICAgICAgXCJjdXRcIixcbiAgICAgIChlKSA9PiB0aGlzLkVkaXRvci5CbG9ja0V2ZW50cy5oYW5kbGVDb21tYW5kWChlKVxuICAgICksIHRoaXMuYmxvY2tzLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHRoaXMuYmluZEJsb2NrRXZlbnRzKGUpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgZ2l2ZW4gaW5kZXggaXMgbm90IGxvd2VyIHRoYW4gMCBvciBoaWdoZXIgdGhhbiB0aGUgYW1vdW50IG9mIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBpbmRleCBvZiBibG9ja3MgYXJyYXkgdG8gdmFsaWRhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICB2YWxpZGF0ZUluZGV4KGUpIHtcbiAgICByZXR1cm4gIShlIDwgMCB8fCBlID49IHRoaXMuX2Jsb2Nrcy5sZW5ndGgpO1xuICB9XG4gIC8qKlxuICAgKiBCbG9jayBtdXRhdGlvbiBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0gbXV0YXRpb25UeXBlIC0gd2hhdCBoYXBwZW5lZCB3aXRoIGJsb2NrXG4gICAqIEBwYXJhbSBibG9jayAtIG11dGF0ZWQgYmxvY2tcbiAgICogQHBhcmFtIGRldGFpbERhdGEgLSBhZGRpdGlvbmFsIGRhdGEgdG8gcGFzcyB3aXRoIGNoYW5nZSBldmVudFxuICAgKi9cbiAgYmxvY2tEaWRNdXRhdGVkKGUsIHQsIG8pIHtcbiAgICBjb25zdCBpID0gbmV3IEN1c3RvbUV2ZW50KGUsIHtcbiAgICAgIGRldGFpbDoge1xuICAgICAgICB0YXJnZXQ6IG5ldyBHKHQpLFxuICAgICAgICAuLi5vXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KER0LCB7XG4gICAgICBldmVudDogaVxuICAgIH0pLCB0O1xuICB9XG59XG5jbGFzcyB0cyBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IG51bGwsIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITEsIHRoaXMubmF0aXZlSW5wdXRTZWxlY3RlZCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgQ29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtTYW5pdGl6ZXJDb25maWd9XG4gICAqL1xuICBnZXQgc2FuaXRpemVyQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwOiB7fSxcbiAgICAgIGgxOiB7fSxcbiAgICAgIGgyOiB7fSxcbiAgICAgIGgzOiB7fSxcbiAgICAgIGg0OiB7fSxcbiAgICAgIGg1OiB7fSxcbiAgICAgIGg2OiB7fSxcbiAgICAgIG9sOiB7fSxcbiAgICAgIHVsOiB7fSxcbiAgICAgIGxpOiB7fSxcbiAgICAgIGJyOiAhMCxcbiAgICAgIGltZzoge1xuICAgICAgICBzcmM6ICEwLFxuICAgICAgICB3aWR0aDogITAsXG4gICAgICAgIGhlaWdodDogITBcbiAgICAgIH0sXG4gICAgICBhOiB7XG4gICAgICAgIGhyZWY6ICEwXG4gICAgICB9LFxuICAgICAgYjoge30sXG4gICAgICBpOiB7fSxcbiAgICAgIHU6IHt9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRmxhZyB0aGF0IGlkZW50aWZpZXMgYWxsIEJsb2NrcyBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgYWxsQmxvY2tzU2VsZWN0ZWQoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHJldHVybiBlLmJsb2Nrcy5ldmVyeSgodCkgPT4gdC5zZWxlY3RlZCA9PT0gITApO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgc2VsZWN0ZWQgYWxsIGJsb2Nrc1xuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlIC0gc3RhdGUgdG8gc2V0XG4gICAqL1xuICBzZXQgYWxsQmxvY2tzU2VsZWN0ZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmJsb2Nrcy5mb3JFYWNoKChvKSA9PiB7XG4gICAgICBvLnNlbGVjdGVkID0gZTtcbiAgICB9KSwgdGhpcy5jbGVhckNhY2hlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZsYWcgdGhhdCBpZGVudGlmaWVzIGFueSBCbG9jayBzZWxlY3Rpb25cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgYW55QmxvY2tTZWxlY3RlZCgpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgcmV0dXJuIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlID09PSBudWxsICYmICh0aGlzLmFueUJsb2NrU2VsZWN0ZWRDYWNoZSA9IGUuYmxvY2tzLnNvbWUoKHQpID0+IHQuc2VsZWN0ZWQgPT09ICEwKSksIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gc2VsZWN0ZWQgQmxvY2tzIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtCbG9ja1tdfVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkQmxvY2tzKCkge1xuICAgIHJldHVybiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuYmxvY2tzLmZpbHRlcigoZSkgPT4gZS5zZWxlY3RlZCk7XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZSBQcmVwYXJhdGlvblxuICAgKiBSZWdpc3RlcnMgU2hvcnRjdXRzIENNRCtBIGFuZCBDTUQrQ1xuICAgKiB0byBzZWxlY3QgYWxsIGFuZCBjb3B5IHRoZW1cbiAgICovXG4gIHByZXBhcmUoKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgYigpLCBoZS5hZGQoe1xuICAgICAgbmFtZTogXCJDTUQrQVwiLFxuICAgICAgaGFuZGxlcjogKGUpID0+IHtcbiAgICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIFJlYWRPbmx5OiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgICAgaWYgKG8uaXNFbmFibGVkKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEFsbEJsb2NrcygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0LmN1cnJlbnRCbG9jayAmJiB0aGlzLmhhbmRsZUNvbW1hbmRBKGUpO1xuICAgICAgfSxcbiAgICAgIG9uOiB0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvclxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqICAtIFJlbW92ZSBhbGwgcmFuZ2VzXG4gICAqICAtIFVuc2VsZWN0IGFsbCBCbG9ja3NcbiAgICovXG4gIHRvZ2dsZVJlYWRPbmx5KCkge1xuICAgIGIuZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIHRoaXMuYWxsQmxvY2tzU2VsZWN0ZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNlbGVjdGlvbiBvZiBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcj99IGluZGV4IC0gQmxvY2sgaW5kZXggYWNjb3JkaW5nIHRvIHRoZSBCbG9ja01hbmFnZXIncyBpbmRleGVzXG4gICAqL1xuICB1blNlbGVjdEJsb2NrQnlJbmRleChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGxldCBvO1xuICAgIGlzTmFOKGUpID8gbyA9IHQuY3VycmVudEJsb2NrIDogbyA9IHQuZ2V0QmxvY2tCeUluZGV4KGUpLCBvLnNlbGVjdGVkID0gITEsIHRoaXMuY2xlYXJDYWNoZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBzZWxlY3Rpb24gZnJvbSBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gcmVhc29uIC0gZXZlbnQgY2F1c2VkIGNsZWFyIG9mIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3RvcmVTZWxlY3Rpb24gLSBpZiB0cnVlLCByZXN0b3JlIHNhdmVkIHNlbGVjdGlvblxuICAgKi9cbiAgY2xlYXJTZWxlY3Rpb24oZSwgdCA9ICExKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IG8sIENhcmV0OiBpLCBSZWN0YW5nbGVTZWxlY3Rpb246IHMgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITEsIHRoaXMubmF0aXZlSW5wdXRTZWxlY3RlZCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExO1xuICAgIGNvbnN0IHIgPSBlICYmIGUgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50LCBsID0gciAmJiBNdChlLmtleUNvZGUpO1xuICAgIGlmICh0aGlzLmFueUJsb2NrU2VsZWN0ZWQgJiYgciAmJiBsICYmICFiLmlzU2VsZWN0aW9uRXhpc3RzKSB7XG4gICAgICBjb25zdCBhID0gby5yZW1vdmVTZWxlY3RlZEJsb2NrcygpO1xuICAgICAgby5pbnNlcnREZWZhdWx0QmxvY2tBdEluZGV4KGEsICEwKSwgaS5zZXRUb0Jsb2NrKG8uY3VycmVudEJsb2NrKSwgT2UoKCkgPT4ge1xuICAgICAgICBjb25zdCBjID0gZS5rZXk7XG4gICAgICAgIGkuaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihjLmxlbmd0aCA+IDEgPyBcIlwiIDogYyk7XG4gICAgICB9LCAyMCkoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuRWRpdG9yLkNyb3NzQmxvY2tTZWxlY3Rpb24uY2xlYXIoZSksICF0aGlzLmFueUJsb2NrU2VsZWN0ZWQgfHwgcy5pc1JlY3RBY3RpdmF0ZWQoKSkge1xuICAgICAgdGhpcy5FZGl0b3IuUmVjdGFuZ2xlU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHQgJiYgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLmFsbEJsb2Nrc1NlbGVjdGVkID0gITE7XG4gIH1cbiAgLyoqXG4gICAqIFJlZHVjZSBlYWNoIEJsb2NrIGFuZCBjb3B5IGl0cyBjb250ZW50XG4gICAqXG4gICAqIEBwYXJhbSB7Q2xpcGJvYXJkRXZlbnR9IGUgLSBjb3B5L2N1dCBldmVudFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICovXG4gIGNvcHlTZWxlY3RlZEJsb2NrcyhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHQgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgdGhpcy5zZWxlY3RlZEJsb2Nrcy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBjb25zdCByID0gcShzLmhvbGRlci5pbm5lckhUTUwsIHRoaXMuc2FuaXRpemVyQ29uZmlnKSwgbCA9IGQubWFrZShcInBcIik7XG4gICAgICBsLmlubmVySFRNTCA9IHIsIHQuYXBwZW5kQ2hpbGQobCk7XG4gICAgfSk7XG4gICAgY29uc3QgbyA9IEFycmF5LmZyb20odC5jaGlsZE5vZGVzKS5tYXAoKHMpID0+IHMudGV4dENvbnRlbnQpLmpvaW4oYFxuXG5gKSwgaSA9IHQuaW5uZXJIVE1MO1xuICAgIHJldHVybiBlLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgbyksIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9odG1sXCIsIGkpLCBQcm9taXNlLmFsbCh0aGlzLnNlbGVjdGVkQmxvY2tzLm1hcCgocykgPT4gcy5zYXZlKCkpKS50aGVuKChzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBlLmNsaXBib2FyZERhdGEuc2V0RGF0YSh0aGlzLkVkaXRvci5QYXN0ZS5NSU1FX1RZUEUsIEpTT04uc3RyaW5naWZ5KHMpKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3QgQmxvY2sgYnkgaXRzIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyP30gaW5kZXggLSBCbG9jayBpbmRleCBhY2NvcmRpbmcgdG8gdGhlIEJsb2NrTWFuYWdlcidzIGluZGV4ZXNcbiAgICovXG4gIHNlbGVjdEJsb2NrQnlJbmRleChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yLCBvID0gdC5nZXRCbG9ja0J5SW5kZXgoZSk7XG4gICAgbyAhPT0gdm9pZCAwICYmIHRoaXMuc2VsZWN0QmxvY2sobyk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdCBwYXNzZWQgQmxvY2tcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayB0byBzZWxlY3RcbiAgICovXG4gIHNlbGVjdEJsb2NrKGUpIHtcbiAgICB0aGlzLnNlbGVjdGlvbi5zYXZlKCksIGIuZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIGUuc2VsZWN0ZWQgPSAhMCwgdGhpcy5jbGVhckNhY2hlKCksIHRoaXMuRWRpdG9yLklubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHNlbGVjdGlvbiBmcm9tIHBhc3NlZCBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9jayAtIEJsb2NrIHRvIHVuc2VsZWN0XG4gICAqL1xuICB1bnNlbGVjdEJsb2NrKGUpIHtcbiAgICBlLnNlbGVjdGVkID0gITEsIHRoaXMuY2xlYXJDYWNoZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBhbnlCbG9ja1NlbGVjdGVkIGNhY2hlXG4gICAqL1xuICBjbGVhckNhY2hlKCkge1xuICAgIHRoaXMuYW55QmxvY2tTZWxlY3RlZENhY2hlID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIGRlc3RydWN0aW9uXG4gICAqIERlLXJlZ2lzdGVycyBTaG9ydGN1dCBDTUQrQVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBoZS5yZW1vdmUodGhpcy5FZGl0b3IuVUkubm9kZXMucmVkYWN0b3IsIFwiQ01EK0FcIik7XG4gIH1cbiAgLyoqXG4gICAqIEZpcnN0IENNRCtBIHNlbGVjdHMgYWxsIGlucHV0IGNvbnRlbnQgYnkgbmF0aXZlIGJlaGF2aW91cixcbiAgICogbmV4dCBDTUQrQSBrZXlwcmVzcyBzZWxlY3RzIGFsbCBibG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBoYW5kbGVDb21tYW5kQShlKSB7XG4gICAgaWYgKHRoaXMuRWRpdG9yLlJlY3RhbmdsZVNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpLCBkLmlzTmF0aXZlSW5wdXQoZS50YXJnZXQpICYmICF0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbikge1xuICAgICAgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9jayhlLnRhcmdldCksIG8gPSB0LmlucHV0cztcbiAgICBpZiAoby5sZW5ndGggPiAxICYmICF0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbikge1xuICAgICAgdGhpcy5yZWFkeVRvQmxvY2tTZWxlY3Rpb24gPSAhMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG8ubGVuZ3RoID09PSAxICYmICF0aGlzLm5lZWRUb1NlbGVjdEFsbCkge1xuICAgICAgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPSAhMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5uZWVkVG9TZWxlY3RBbGwgPyAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnNlbGVjdEFsbEJsb2NrcygpLCB0aGlzLm5lZWRUb1NlbGVjdEFsbCA9ICExLCB0aGlzLnJlYWR5VG9CbG9ja1NlbGVjdGlvbiA9ICExKSA6IHRoaXMucmVhZHlUb0Jsb2NrU2VsZWN0aW9uICYmIChlLnByZXZlbnREZWZhdWx0KCksIHRoaXMuc2VsZWN0QmxvY2sodCksIHRoaXMubmVlZFRvU2VsZWN0QWxsID0gITApO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3QgQWxsIEJsb2Nrc1xuICAgKiBFYWNoIEJsb2NrIGhhcyBzZWxlY3RlZCBzZXR0ZXIgdGhhdCBtYWtlcyBCbG9jayBjb3B5YWJsZVxuICAgKi9cbiAgc2VsZWN0QWxsQmxvY2tzKCkge1xuICAgIHRoaXMuc2VsZWN0aW9uLnNhdmUoKSwgYi5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSwgdGhpcy5hbGxCbG9ja3NTZWxlY3RlZCA9ICEwLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbn1cbmNsYXNzIFJlIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBBbGxvd2VkIGNhcmV0IHBvc2l0aW9ucyBpbiBpbnB1dFxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEByZXR1cm5zIHt7U1RBUlQ6IHN0cmluZywgRU5EOiBzdHJpbmcsIERFRkFVTFQ6IHN0cmluZ319XG4gICAqL1xuICBnZXQgcG9zaXRpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICBTVEFSVDogXCJzdGFydFwiLFxuICAgICAgRU5EOiBcImVuZFwiLFxuICAgICAgREVGQVVMVDogXCJkZWZhdWx0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBFbGVtZW50cyBzdHlsZXMgdGhhdCBjYW4gYmUgdXNlZnVsIGZvciBDYXJldCBNb2R1bGVcbiAgICovXG4gIHN0YXRpYyBnZXQgQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzaGFkb3dDYXJldDogXCJjZHgtc2hhZG93LWNhcmV0XCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNZXRob2QgZ2V0cyBCbG9jayBpbnN0YW5jZSBhbmQgcHV0cyBjYXJldCB0byB0aGUgdGV4dCBub2RlIHdpdGggb2Zmc2V0XG4gICAqIFRoZXJlIHR3byB3YXlzIHRoYXQgbWV0aG9kIGFwcGxpZXMgY2FyZXQgcG9zaXRpb246XG4gICAqICAgLSBmaXJzdCBmb3VuZCB0ZXh0IG5vZGU6IHNldHMgYXQgdGhlIGJlZ2lubmluZywgYnV0IHlvdSBjYW4gcGFzcyBhbiBvZmZzZXRcbiAgICogICAtIGxhc3QgZm91bmQgdGV4dCBub2RlOiBzZXRzIGF0IHRoZSBlbmQgb2YgdGhlIG5vZGUuIEFsc28sIHlvdSBjYW4gY3VzdG9taXplIHRoZSBiZWhhdmlvdXJcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBCbG9jayBjbGFzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBwb3NpdGlvbiB3aGVyZSB0byBzZXQgY2FyZXQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIGRlZmF1bHQgLSBsZWF2ZSBkZWZhdWx0IGJlaGF2aW91ciBhbmQgYXBwbHkgb2Zmc2V0IGlmIGl0J3MgcGFzc2VkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBjYXJldCBvZmZzZXQgcmVnYXJkaW5nIHRvIHRoZSB0ZXh0IG5vZGVcbiAgICovXG4gIHNldFRvQmxvY2soZSwgdCA9IHRoaXMucG9zaXRpb25zLkRFRkFVTFQsIG8gPSAwKSB7XG4gICAgdmFyIGM7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGksIEJsb2NrU2VsZWN0aW9uOiBzIH0gPSB0aGlzLkVkaXRvcjtcbiAgICBpZiAocy5jbGVhclNlbGVjdGlvbigpLCAhZS5mb2N1c2FibGUpIHtcbiAgICAgIChjID0gd2luZG93LmdldFNlbGVjdGlvbigpKSA9PSBudWxsIHx8IGMucmVtb3ZlQWxsUmFuZ2VzKCksIHMuc2VsZWN0QmxvY2soZSksIGkuY3VycmVudEJsb2NrID0gZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHI7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIHRoaXMucG9zaXRpb25zLlNUQVJUOlxuICAgICAgICByID0gZS5maXJzdElucHV0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdGhpcy5wb3NpdGlvbnMuRU5EOlxuICAgICAgICByID0gZS5sYXN0SW5wdXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgciA9IGUuY3VycmVudElucHV0O1xuICAgIH1cbiAgICBpZiAoIXIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbCA9IGQuZ2V0RGVlcGVzdE5vZGUociwgdCA9PT0gdGhpcy5wb3NpdGlvbnMuRU5EKSwgYSA9IGQuZ2V0Q29udGVudExlbmd0aChsKTtcbiAgICBzd2l0Y2ggKCEwKSB7XG4gICAgICBjYXNlIHQgPT09IHRoaXMucG9zaXRpb25zLlNUQVJUOlxuICAgICAgICBvID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHQgPT09IHRoaXMucG9zaXRpb25zLkVORDpcbiAgICAgIGNhc2UgbyA+IGE6XG4gICAgICAgIG8gPSBhO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5zZXQobCwgbyksIGkuc2V0Q3VycmVudEJsb2NrQnlDaGlsZE5vZGUoZS5ob2xkZXIpLCBpLmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQgPSByO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgY2FyZXQgdG8gdGhlIGN1cnJlbnQgaW5wdXQgb2YgY3VycmVudCBCbG9jay5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gaW5wdXQgLSBpbnB1dCB3aGVyZSBjYXJldCBzaG91bGQgYmUgc2V0XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwb3NpdGlvbiAtIHBvc2l0aW9uIG9mIHRoZSBjYXJldC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgZGVmYXVsdCAtIGxlYXZlIGRlZmF1bHQgYmVoYXZpb3VyIGFuZCBhcHBseSBvZmZzZXQgaWYgaXQncyBwYXNzZWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIGNhcmV0IG9mZnNldCByZWdhcmRpbmcgdG8gdGhlIHRleHQgbm9kZVxuICAgKi9cbiAgc2V0VG9JbnB1dChlLCB0ID0gdGhpcy5wb3NpdGlvbnMuREVGQVVMVCwgbyA9IDApIHtcbiAgICBjb25zdCB7IGN1cnJlbnRCbG9jazogaSB9ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLCBzID0gZC5nZXREZWVwZXN0Tm9kZShlKTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgIGNhc2UgdGhpcy5wb3NpdGlvbnMuU1RBUlQ6XG4gICAgICAgIHRoaXMuc2V0KHMsIDApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdGhpcy5wb3NpdGlvbnMuRU5EOlxuICAgICAgICB0aGlzLnNldChzLCBkLmdldENvbnRlbnRMZW5ndGgocykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG8gJiYgdGhpcy5zZXQocywgbyk7XG4gICAgfVxuICAgIGkuY3VycmVudElucHV0ID0gZTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBEb2N1bWVudCBSYW5nZSBhbmQgc2V0cyBjYXJldCB0byB0aGUgZWxlbWVudCB3aXRoIG9mZnNldFxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gdGFyZ2V0IG5vZGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBvZmZzZXRcbiAgICovXG4gIHNldChlLCB0ID0gMCkge1xuICAgIGNvbnN0IHsgdG9wOiBpLCBib3R0b206IHMgfSA9IGIuc2V0Q3Vyc29yKGUsIHQpLCB7IGlubmVySGVpZ2h0OiByIH0gPSB3aW5kb3c7XG4gICAgaSA8IDAgPyB3aW5kb3cuc2Nyb2xsQnkoMCwgaSAtIDMwKSA6IHMgPiByICYmIHdpbmRvdy5zY3JvbGxCeSgwLCBzIC0gciArIDMwKTtcbiAgfVxuICAvKipcbiAgICogU2V0IENhcmV0IHRvIHRoZSBsYXN0IEJsb2NrXG4gICAqIElmIGxhc3QgYmxvY2sgaXMgbm90IGVtcHR5LCBhcHBlbmQgYW5vdGhlciBlbXB0eSBibG9ja1xuICAgKi9cbiAgc2V0VG9UaGVMYXN0QmxvY2soKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5sYXN0QmxvY2s7XG4gICAgaWYgKGUpXG4gICAgICBpZiAoZS50b29sLmlzRGVmYXVsdCAmJiBlLmlzRW1wdHkpXG4gICAgICAgIHRoaXMuc2V0VG9CbG9jayhlKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydEF0RW5kKCk7XG4gICAgICAgIHRoaXMuc2V0VG9CbG9jayh0KTtcbiAgICAgIH1cbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBjb250ZW50IGZyYWdtZW50IG9mIGN1cnJlbnQgQmxvY2sgZnJvbSBDYXJldCBwb3NpdGlvbiB0byB0aGUgZW5kIG9mIHRoZSBCbG9ja1xuICAgKi9cbiAgZXh0cmFjdEZyYWdtZW50RnJvbUNhcmV0UG9zaXRpb24oKSB7XG4gICAgY29uc3QgZSA9IGIuZ2V0KCk7XG4gICAgaWYgKGUucmFuZ2VDb3VudCkge1xuICAgICAgY29uc3QgdCA9IGUuZ2V0UmFuZ2VBdCgwKSwgbyA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2suY3VycmVudElucHV0O1xuICAgICAgaWYgKHQuZGVsZXRlQ29udGVudHMoKSwgbylcbiAgICAgICAgaWYgKGQuaXNOYXRpdmVJbnB1dChvKSkge1xuICAgICAgICAgIGNvbnN0IGkgPSBvLCBzID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCByID0gaS52YWx1ZS5zdWJzdHJpbmcoMCwgaS5zZWxlY3Rpb25TdGFydCksIGwgPSBpLnZhbHVlLnN1YnN0cmluZyhpLnNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICByZXR1cm4gcy50ZXh0Q29udGVudCA9IGwsIGkudmFsdWUgPSByLCBzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGkgPSB0LmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICByZXR1cm4gaS5zZWxlY3ROb2RlQ29udGVudHMobyksIGkuc2V0U3RhcnQodC5lbmRDb250YWluZXIsIHQuZW5kT2Zmc2V0KSwgaS5leHRyYWN0Q29udGVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0J3MgY2FyZXQgdG8gdGhlIG5leHQgQmxvY2sgb3IgVG9vbGBzIGlucHV0XG4gICAqIEJlZm9yZSBtb3ZpbmcgY2FyZXQsIHdlIHNob3VsZCBjaGVjayBpZiBjYXJldCBwb3NpdGlvbiBpcyBhdCB0aGUgZW5kIG9mIFBsdWdpbnMgbm9kZVxuICAgKiBVc2luZyB7QGxpbmsgRG9tI2dldERlZXBlc3ROb2RlfSB0byBnZXQgYSBsYXN0IG5vZGUgYW5kIG1hdGNoIHdpdGggY3VycmVudCBzZWxlY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZSAtIHBhc3MgdHJ1ZSB0byBza2lwIGNoZWNrIGZvciBjYXJldCBwb3NpdGlvblxuICAgKi9cbiAgbmF2aWdhdGVOZXh0KGUgPSAhMSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IG8sIG5leHRCbG9jazogaSB9ID0gdDtcbiAgICBpZiAobyA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuICExO1xuICAgIGNvbnN0IHsgbmV4dElucHV0OiBzLCBjdXJyZW50SW5wdXQ6IHIgfSA9IG8sIGwgPSByICE9PSB2b2lkIDAgPyBBZShyKSA6IHZvaWQgMDtcbiAgICBsZXQgYSA9IGk7XG4gICAgY29uc3QgYyA9IGUgfHwgbCB8fCAhby5mb2N1c2FibGU7XG4gICAgaWYgKHMgJiYgYylcbiAgICAgIHJldHVybiB0aGlzLnNldFRvSW5wdXQocywgdGhpcy5wb3NpdGlvbnMuU1RBUlQpLCAhMDtcbiAgICBpZiAoYSA9PT0gbnVsbCkge1xuICAgICAgaWYgKG8udG9vbC5pc0RlZmF1bHQgfHwgIWMpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIGEgPSB0Lmluc2VydEF0RW5kKCk7XG4gICAgfVxuICAgIHJldHVybiBjID8gKHRoaXMuc2V0VG9CbG9jayhhLCB0aGlzLnBvc2l0aW9ucy5TVEFSVCksICEwKSA6ICExO1xuICB9XG4gIC8qKlxuICAgKiBTZXQncyBjYXJldCB0byB0aGUgcHJldmlvdXMgVG9vbGBzIGlucHV0IG9yIEJsb2NrXG4gICAqIEJlZm9yZSBtb3ZpbmcgY2FyZXQsIHdlIHNob3VsZCBjaGVjayBpZiBjYXJldCBwb3NpdGlvbiBpcyBzdGFydCBvZiB0aGUgUGx1Z2lucyBub2RlXG4gICAqIFVzaW5nIHtAbGluayBEb20jZ2V0RGVlcGVzdE5vZGV9IHRvIGdldCBhIGxhc3Qgbm9kZSBhbmQgbWF0Y2ggd2l0aCBjdXJyZW50IHNlbGVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlIC0gcGFzcyB0cnVlIHRvIHNraXAgY2hlY2sgZm9yIGNhcmV0IHBvc2l0aW9uXG4gICAqL1xuICBuYXZpZ2F0ZVByZXZpb3VzKGUgPSAhMSkge1xuICAgIGNvbnN0IHsgY3VycmVudEJsb2NrOiB0LCBwcmV2aW91c0Jsb2NrOiBvIH0gPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXI7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuICExO1xuICAgIGNvbnN0IHsgcHJldmlvdXNJbnB1dDogaSwgY3VycmVudElucHV0OiBzIH0gPSB0LCByID0gcyAhPT0gdm9pZCAwID8gTWUocykgOiB2b2lkIDAsIGwgPSBlIHx8IHIgfHwgIXQuZm9jdXNhYmxlO1xuICAgIHJldHVybiBpICYmIGwgPyAodGhpcy5zZXRUb0lucHV0KGksIHRoaXMucG9zaXRpb25zLkVORCksICEwKSA6IG8gIT09IG51bGwgJiYgbCA/ICh0aGlzLnNldFRvQmxvY2sobywgdGhpcy5wb3NpdGlvbnMuRU5EKSwgITApIDogITE7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgc2hhZG93IGVsZW1lbnQgYWZ0ZXIgcGFzc2VkIGVsZW1lbnQgd2hlcmUgY2FyZXQgY2FuIGJlIHBsYWNlZFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSBlbGVtZW50IGFmdGVyIHdoaWNoIHNoYWRvdyBjYXJldCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICovXG4gIGNyZWF0ZVNoYWRvdyhlKSB7XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHQuY2xhc3NMaXN0LmFkZChSZS5DU1Muc2hhZG93Q2FyZXQpLCBlLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLCB0KTtcbiAgfVxuICAvKipcbiAgICogUmVzdG9yZXMgY2FyZXQgcG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIGVsZW1lbnQgd2hlcmUgY2FyZXQgc2hvdWxkIGJlIHJlc3RvcmVkXG4gICAqL1xuICByZXN0b3JlQ2FyZXQoZSkge1xuICAgIGNvbnN0IHQgPSBlLnF1ZXJ5U2VsZWN0b3IoYC4ke1JlLkNTUy5zaGFkb3dDYXJldH1gKTtcbiAgICBpZiAoIXQpXG4gICAgICByZXR1cm47XG4gICAgbmV3IGIoKS5leHBhbmRUb1RhZyh0KTtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBpLnNlbGVjdE5vZGUodCksIGkuZXh0cmFjdENvbnRlbnRzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydHMgcGFzc2VkIGNvbnRlbnQgYXQgY2FyZXQgcG9zaXRpb25cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgLSBjb250ZW50IHRvIGluc2VydFxuICAgKi9cbiAgaW5zZXJ0Q29udGVudEF0Q2FyZXRQb3NpdGlvbihlKSB7XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGkgPSBiLmdldCgpLCBzID0gYi5yYW5nZTtcbiAgICBvLmlubmVySFRNTCA9IGUsIEFycmF5LmZyb20oby5jaGlsZE5vZGVzKS5mb3JFYWNoKChjKSA9PiB0LmFwcGVuZENoaWxkKGMpKSwgdC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCAmJiB0LmFwcGVuZENoaWxkKG5ldyBUZXh0KCkpO1xuICAgIGNvbnN0IHIgPSB0Lmxhc3RDaGlsZDtcbiAgICBzLmRlbGV0ZUNvbnRlbnRzKCksIHMuaW5zZXJ0Tm9kZSh0KTtcbiAgICBjb25zdCBsID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwgYSA9IHIubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFID8gciA6IHIuZmlyc3RDaGlsZDtcbiAgICBhICE9PSBudWxsICYmIGEudGV4dENvbnRlbnQgIT09IG51bGwgJiYgbC5zZXRTdGFydChhLCBhLnRleHRDb250ZW50Lmxlbmd0aCksIGkucmVtb3ZlQWxsUmFuZ2VzKCksIGkuYWRkUmFuZ2UobCk7XG4gIH1cbn1cbmNsYXNzIG9zIGV4dGVuZHMgeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMub25Nb3VzZVVwID0gKCkgPT4ge1xuICAgICAgdGhpcy5saXN0ZW5lcnMub2ZmKGRvY3VtZW50LCBcIm1vdXNlb3ZlclwiLCB0aGlzLm9uTW91c2VPdmVyKSwgdGhpcy5saXN0ZW5lcnMub2ZmKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgdGhpcy5vbk1vdXNlVXApO1xuICAgIH0sIHRoaXMub25Nb3VzZU92ZXIgPSAoZSkgPT4ge1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgIGlmIChlLnJlbGF0ZWRUYXJnZXQgPT09IG51bGwgJiYgZS50YXJnZXQgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGkgPSB0LmdldEJsb2NrQnlDaGlsZE5vZGUoZS5yZWxhdGVkVGFyZ2V0KSB8fCB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrLCBzID0gdC5nZXRCbG9ja0J5Q2hpbGROb2RlKGUudGFyZ2V0KTtcbiAgICAgIGlmICghKCFpIHx8ICFzKSAmJiBzICE9PSBpKSB7XG4gICAgICAgIGlmIChpID09PSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jaykge1xuICAgICAgICAgIGIuZ2V0KCkucmVtb3ZlQWxsUmFuZ2VzKCksIGkuc2VsZWN0ZWQgPSAhMCwgcy5zZWxlY3RlZCA9ICEwLCBvLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMgPT09IHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrKSB7XG4gICAgICAgICAgaS5zZWxlY3RlZCA9ICExLCBzLnNlbGVjdGVkID0gITEsIG8uY2xlYXJDYWNoZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCksIHRoaXMudG9nZ2xlQmxvY2tzU2VsZWN0ZWRTdGF0ZShpLCBzKSwgdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayA9IHM7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW9kdWxlIHByZXBhcmF0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgYXN5bmMgcHJlcGFyZSgpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlQ3Jvc3NCbG9ja1NlbGVjdGlvbihlKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB1cCBsaXN0ZW5lcnNcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIG1vdXNlIGRvd24gZXZlbnRcbiAgICovXG4gIHdhdGNoU2VsZWN0aW9uKGUpIHtcbiAgICBpZiAoZS5idXR0b24gIT09IHdvLkxFRlQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQgfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrID0gdC5nZXRCbG9jayhlLnRhcmdldCksIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jaywgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIHRoaXMub25Nb3VzZU92ZXIpLCB0aGlzLmxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIHRoaXMub25Nb3VzZVVwKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGJvb2xlYW4gaXMgY3Jvc3MgYmxvY2sgc2VsZWN0aW9uIHN0YXJ0ZWQ6XG4gICAqIHRoZXJlIHNob3VsZCBiZSBhdCBsZWFzdCAyIHNlbGVjdGVkIGJsb2Nrc1xuICAgKi9cbiAgZ2V0IGlzQ3Jvc3NCbG9ja1NlbGVjdGlvblN0YXJ0ZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgJiYgISF0aGlzLmxhc3RTZWxlY3RlZEJsb2NrICYmIHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrICE9PSB0aGlzLmxhc3RTZWxlY3RlZEJsb2NrO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2Ugc2VsZWN0aW9uIHN0YXRlIG9mIHRoZSBuZXh0IEJsb2NrXG4gICAqIFVzZWQgZm9yIENCUyB2aWEgU2hpZnQgKyBhcnJvdyBrZXlzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbmV4dCAtIGlmIHRydWUsIHRvZ2dsZSBuZXh0IGJsb2NrLiBQcmV2aW91cyBvdGhlcndpc2VcbiAgICovXG4gIHRvZ2dsZUJsb2NrU2VsZWN0ZWRTdGF0ZShlID0gITApIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQmxvY2tTZWxlY3Rpb246IG8gfSA9IHRoaXMuRWRpdG9yO1xuICAgIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgfHwgKHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSB0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayA9IHQuY3VycmVudEJsb2NrKSwgdGhpcy5maXJzdFNlbGVjdGVkQmxvY2sgPT09IHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgJiYgKHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrLnNlbGVjdGVkID0gITAsIG8uY2xlYXJDYWNoZSgpLCBiLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpKTtcbiAgICBjb25zdCBpID0gdC5ibG9ja3MuaW5kZXhPZih0aGlzLmxhc3RTZWxlY3RlZEJsb2NrKSArIChlID8gMSA6IC0xKSwgcyA9IHQuYmxvY2tzW2ldO1xuICAgIHMgJiYgKHRoaXMubGFzdFNlbGVjdGVkQmxvY2suc2VsZWN0ZWQgIT09IHMuc2VsZWN0ZWQgPyAocy5zZWxlY3RlZCA9ICEwLCBvLmNsZWFyQ2FjaGUoKSkgOiAodGhpcy5sYXN0U2VsZWN0ZWRCbG9jay5zZWxlY3RlZCA9ICExLCBvLmNsZWFyQ2FjaGUoKSksIHRoaXMubGFzdFNlbGVjdGVkQmxvY2sgPSBzLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCksIHMuaG9sZGVyLnNjcm9sbEludG9WaWV3KHtcbiAgICAgIGJsb2NrOiBcIm5lYXJlc3RcIlxuICAgIH0pKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgc2F2ZWQgc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gcmVhc29uIC0gZXZlbnQgY2F1c2VkIGNsZWFyIG9mIHNlbGVjdGlvblxuICAgKi9cbiAgY2xlYXIoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbywgQ2FyZXQ6IGkgfSA9IHRoaXMuRWRpdG9yLCBzID0gdC5ibG9ja3MuaW5kZXhPZih0aGlzLmZpcnN0U2VsZWN0ZWRCbG9jayksIHIgPSB0LmJsb2Nrcy5pbmRleE9mKHRoaXMubGFzdFNlbGVjdGVkQmxvY2spO1xuICAgIGlmIChvLmFueUJsb2NrU2VsZWN0ZWQgJiYgcyA+IC0xICYmIHIgPiAtMSAmJiBlICYmIGUgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50KVxuICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSB3LkRPV046XG4gICAgICAgIGNhc2Ugdy5SSUdIVDpcbiAgICAgICAgICBpLnNldFRvQmxvY2sodC5ibG9ja3NbTWF0aC5tYXgocywgcildLCBpLnBvc2l0aW9ucy5FTkQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIHcuVVA6XG4gICAgICAgIGNhc2Ugdy5MRUZUOlxuICAgICAgICAgIGkuc2V0VG9CbG9jayh0LmJsb2Nrc1tNYXRoLm1pbihzLCByKV0sIGkucG9zaXRpb25zLlNUQVJUKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpLnNldFRvQmxvY2sodC5ibG9ja3NbTWF0aC5tYXgocywgcildLCBpLnBvc2l0aW9ucy5FTkQpO1xuICAgICAgfVxuICAgIHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrID0gdGhpcy5sYXN0U2VsZWN0ZWRCbG9jayA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgQ3Jvc3MgQmxvY2sgU2VsZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgLSBtb3VzZSBkb3duIGV2ZW50XG4gICAqL1xuICBlbmFibGVDcm9zc0Jsb2NrU2VsZWN0aW9uKGUpIHtcbiAgICBjb25zdCB7IFVJOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICBiLmlzQ29sbGFwc2VkIHx8IHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpLCB0Lm5vZGVzLnJlZGFjdG9yLmNvbnRhaW5zKGUudGFyZ2V0KSA/IHRoaXMud2F0Y2hTZWxlY3Rpb24oZSkgOiB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIGJsb2NrcyBzZWxlY3Rpb24gc3RhdGUgYmV0d2VlbiBwYXNzZWQgdHdvIGJsb2Nrcy5cbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gZmlyc3RCbG9jayAtIGZpcnN0IGJsb2NrIGluIHJhbmdlXG4gICAqIEBwYXJhbSB7QmxvY2t9IGxhc3RCbG9jayAtIGxhc3QgYmxvY2sgaW4gcmFuZ2VcbiAgICovXG4gIHRvZ2dsZUJsb2Nrc1NlbGVjdGVkU3RhdGUoZSwgdCkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBvLCBCbG9ja1NlbGVjdGlvbjogaSB9ID0gdGhpcy5FZGl0b3IsIHMgPSBvLmJsb2Nrcy5pbmRleE9mKGUpLCByID0gby5ibG9ja3MuaW5kZXhPZih0KSwgbCA9IGUuc2VsZWN0ZWQgIT09IHQuc2VsZWN0ZWQ7XG4gICAgZm9yIChsZXQgYSA9IE1hdGgubWluKHMsIHIpOyBhIDw9IE1hdGgubWF4KHMsIHIpOyBhKyspIHtcbiAgICAgIGNvbnN0IGMgPSBvLmJsb2Nrc1thXTtcbiAgICAgIGMgIT09IHRoaXMuZmlyc3RTZWxlY3RlZEJsb2NrICYmIGMgIT09IChsID8gZSA6IHQpICYmIChvLmJsb2Nrc1thXS5zZWxlY3RlZCA9ICFvLmJsb2Nrc1thXS5zZWxlY3RlZCwgaS5jbGVhckNhY2hlKCkpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgaXMgZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5pc1N0YXJ0ZWRBdEVkaXRvciA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGUgcmVhZC1vbmx5IHN0YXRlXG4gICAqXG4gICAqIGlmIHN0YXRlIGlzIHRydWU6XG4gICAqICAtIGRpc2FibGUgYWxsIGRyYWctbi1kcm9wIGV2ZW50IGhhbmRsZXJzXG4gICAqXG4gICAqIGlmIHN0YXRlIGlzIGZhbHNlOlxuICAgKiAgLSByZXN0b3JlIGRyYWctbi1kcm9wIGV2ZW50IGhhbmRsZXJzXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVhZE9ubHlFbmFibGVkIC0gXCJyZWFkIG9ubHlcIiBzdGF0ZVxuICAgKi9cbiAgdG9nZ2xlUmVhZE9ubHkoZSkge1xuICAgIGUgPyB0aGlzLmRpc2FibGVNb2R1bGVCaW5kaW5ncygpIDogdGhpcy5lbmFibGVNb2R1bGVCaW5kaW5ncygpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgZHJhZyBldmVudHMgbGlzdGVuZXJzIHRvIGVkaXRvciB6b25lXG4gICAqL1xuICBlbmFibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICBjb25zdCB7IFVJOiBlIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLm5vZGVzLmhvbGRlciwgXCJkcm9wXCIsIGFzeW5jICh0KSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnByb2Nlc3NEcm9wKHQpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZS5ub2Rlcy5ob2xkZXIsIFwiZHJhZ3N0YXJ0XCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc0RyYWdTdGFydCgpO1xuICAgIH0pLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihlLm5vZGVzLmhvbGRlciwgXCJkcmFnb3ZlclwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzRHJhZ092ZXIodCk7XG4gICAgfSwgITApO1xuICB9XG4gIC8qKlxuICAgKiBVbmJpbmQgZHJhZy1uLWRyb3AgZXZlbnQgaGFuZGxlcnNcbiAgICovXG4gIGRpc2FibGVNb2R1bGVCaW5kaW5ncygpIHtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5jbGVhckFsbCgpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgZHJvcCBldmVudFxuICAgKlxuICAgKiBAcGFyYW0ge0RyYWdFdmVudH0gZHJvcEV2ZW50IC0gZHJvcCBldmVudFxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc0Ryb3AoZSkge1xuICAgIGNvbnN0IHtcbiAgICAgIEJsb2NrTWFuYWdlcjogdCxcbiAgICAgIFBhc3RlOiBvLFxuICAgICAgQ2FyZXQ6IGlcbiAgICB9ID0gdGhpcy5FZGl0b3I7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0LmJsb2Nrcy5mb3JFYWNoKChyKSA9PiB7XG4gICAgICByLmRyb3BUYXJnZXQgPSAhMTtcbiAgICB9KSwgYi5pc0F0RWRpdG9yICYmICFiLmlzQ29sbGFwc2VkICYmIHRoaXMuaXNTdGFydGVkQXRFZGl0b3IgJiYgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJkZWxldGVcIiksIHRoaXMuaXNTdGFydGVkQXRFZGl0b3IgPSAhMTtcbiAgICBjb25zdCBzID0gdC5zZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZShlLnRhcmdldCk7XG4gICAgaWYgKHMpXG4gICAgICB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHMsIGkucG9zaXRpb25zLkVORCk7XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCByID0gdC5zZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZSh0Lmxhc3RCbG9jay5ob2xkZXIpO1xuICAgICAgdGhpcy5FZGl0b3IuQ2FyZXQuc2V0VG9CbG9jayhyLCBpLnBvc2l0aW9ucy5FTkQpO1xuICAgIH1cbiAgICBhd2FpdCBvLnByb2Nlc3NEYXRhVHJhbnNmZXIoZS5kYXRhVHJhbnNmZXIsICEwKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGRyYWcgc3RhcnQgZXZlbnRcbiAgICovXG4gIHByb2Nlc3NEcmFnU3RhcnQoKSB7XG4gICAgYi5pc0F0RWRpdG9yICYmICFiLmlzQ29sbGFwc2VkICYmICh0aGlzLmlzU3RhcnRlZEF0RWRpdG9yID0gITApLCB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7RHJhZ0V2ZW50fSBkcmFnRXZlbnQgLSBkcmFnIGV2ZW50XG4gICAqL1xuICBwcm9jZXNzRHJhZ092ZXIoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuY29uc3Qgc3MgPSAxODAsIG5zID0gNDAwO1xuY2xhc3MgcnMgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIFByZXBhcmUgdGhlIG1vZHVsZVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9wdGlvbnMgdXNlZCBieSB0aGUgbW9kaWZpY2F0aW9uIG9ic2VydmVyIG1vZHVsZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5jb25maWcgLSBFZGl0b3IgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICogQHBhcmFtIG9wdGlvbnMuZXZlbnRzRGlzcGF0Y2hlciAtIGNvbW1vbiBFZGl0b3IgZXZlbnQgYnVzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGNvbmZpZzogZSwgZXZlbnRzRGlzcGF0Y2hlcjogdCB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgY29uZmlnOiBlLFxuICAgICAgZXZlbnRzRGlzcGF0Y2hlcjogdFxuICAgIH0pLCB0aGlzLmRpc2FibGVkID0gITEsIHRoaXMuYmF0Y2hpbmdUaW1lb3V0ID0gbnVsbCwgdGhpcy5iYXRjaGluZ09uQ2hhbmdlUXVldWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLmJhdGNoVGltZSA9IG5zLCB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobykgPT4ge1xuICAgICAgdGhpcy5yZWRhY3RvckNoYW5nZWQobyk7XG4gICAgfSksIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5vbihEdCwgKG8pID0+IHtcbiAgICAgIHRoaXMucGFydGljdWxhckJsb2NrQ2hhbmdlZChvLmV2ZW50KTtcbiAgICB9KSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKFJ0LCAoKSA9PiB7XG4gICAgICB0aGlzLmRpc2FibGUoKTtcbiAgICB9KSwgdGhpcy5ldmVudHNEaXNwYXRjaGVyLm9uKEZ0LCAoKSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9uQ2hhbmdlIGV2ZW50XG4gICAqL1xuICBlbmFibGUoKSB7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUoXG4gICAgICB0aGlzLkVkaXRvci5VSS5ub2Rlcy5yZWRhY3RvcixcbiAgICAgIHtcbiAgICAgICAgY2hpbGRMaXN0OiAhMCxcbiAgICAgICAgc3VidHJlZTogITAsXG4gICAgICAgIGNoYXJhY3RlckRhdGE6ICEwLFxuICAgICAgICBhdHRyaWJ1dGVzOiAhMFxuICAgICAgfVxuICAgICksIHRoaXMuZGlzYWJsZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogRGlzYWJsZXMgb25DaGFuZ2UgZXZlbnRcbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKSwgdGhpcy5kaXNhYmxlZCA9ICEwO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIG9uQ2hhbmdlIGV2ZW50IHBhc3NlZCB0byBFZGl0b3IuanMgY29uZmlndXJhdGlvblxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgLSBzb21lIG9mIG91ciBjdXN0b20gY2hhbmdlIGV2ZW50c1xuICAgKi9cbiAgcGFydGljdWxhckJsb2NrQ2hhbmdlZChlKSB7XG4gICAgdGhpcy5kaXNhYmxlZCB8fCAhTyh0aGlzLmNvbmZpZy5vbkNoYW5nZSkgfHwgKHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLnNldChgYmxvY2s6JHtlLmRldGFpbC50YXJnZXQuaWR9OmV2ZW50OiR7ZS50eXBlfWAsIGUpLCB0aGlzLmJhdGNoaW5nVGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5iYXRjaGluZ1RpbWVvdXQpLCB0aGlzLmJhdGNoaW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbGV0IHQ7XG4gICAgICB0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS5zaXplID09PSAxID8gdCA9IHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLnZhbHVlcygpLm5leHQoKS52YWx1ZSA6IHQgPSBBcnJheS5mcm9tKHRoaXMuYmF0Y2hpbmdPbkNoYW5nZVF1ZXVlLnZhbHVlcygpKSwgdGhpcy5jb25maWcub25DaGFuZ2UgJiYgdGhpcy5jb25maWcub25DaGFuZ2UodGhpcy5FZGl0b3IuQVBJLm1ldGhvZHMsIHQpLCB0aGlzLmJhdGNoaW5nT25DaGFuZ2VRdWV1ZS5jbGVhcigpO1xuICAgIH0sIHRoaXMuYmF0Y2hUaW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpcmVkIG9uIGV2ZXJ5IGJsb2NrcyB3cmFwcGVyIGRvbSBjaGFuZ2VcbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9ucyAtIG11dGF0aW9ucyBoYXBwZW5lZFxuICAgKi9cbiAgcmVkYWN0b3JDaGFuZ2VkKGUpIHtcbiAgICB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIuZW1pdChKZSwge1xuICAgICAgbXV0YXRpb25zOiBlXG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IHJvID0gY2xhc3MgbG8gZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5NSU1FX1RZUEUgPSBcImFwcGxpY2F0aW9uL3gtZWRpdG9yLWpzXCIsIHRoaXMudG9vbHNUYWdzID0ge30sIHRoaXMudGFnc0J5VG9vbCA9IHt9LCB0aGlzLnRvb2xzUGF0dGVybnMgPSBbXSwgdGhpcy50b29sc0ZpbGVzID0ge30sIHRoaXMuZXhjZXB0aW9uTGlzdCA9IFtdLCB0aGlzLnByb2Nlc3NUb29sID0gKGUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmNyZWF0ZSh7fSwge30sICExKTtcbiAgICAgICAgaWYgKGUucGFzdGVDb25maWcgPT09ICExKSB7XG4gICAgICAgICAgdGhpcy5leGNlcHRpb25MaXN0LnB1c2goZS5uYW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFPKHQub25QYXN0ZSkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmdldFRhZ3NDb25maWcoZSksIHRoaXMuZ2V0RmlsZXNDb25maWcoZSksIHRoaXMuZ2V0UGF0dGVybnNDb25maWcoZSk7XG4gICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIEkoXG4gICAgICAgICAgYFBhc3RlIGhhbmRsaW5nIGZvciBcdTAwQUIke2UubmFtZX1cdTAwQkIgVG9vbCBoYXNuJ3QgYmVlbiBzZXQgdXAgYmVjYXVzZSBvZiB0aGUgZXJyb3JgLFxuICAgICAgICAgIFwid2FyblwiLFxuICAgICAgICAgIHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmhhbmRsZVBhc3RlRXZlbnQgPSBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIFRvb2xiYXI6IG8gfSA9IHRoaXMuRWRpdG9yLCBpID0gdC5zZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZShlLnRhcmdldCk7XG4gICAgICAhaSB8fCB0aGlzLmlzTmF0aXZlQmVoYXZpb3VyKGUudGFyZ2V0KSAmJiAhZS5jbGlwYm9hcmREYXRhLnR5cGVzLmluY2x1ZGVzKFwiRmlsZXNcIikgfHwgaSAmJiB0aGlzLmV4Y2VwdGlvbkxpc3QuaW5jbHVkZXMoaS5uYW1lKSB8fCAoZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLnByb2Nlc3NEYXRhVHJhbnNmZXIoZS5jbGlwYm9hcmREYXRhKSwgby5jbG9zZSgpKTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgb25QYXN0ZSBjYWxsYmFjayBhbmQgY29sbGVjdCB0b29sc2AgcGFzdGUgY29uZmlndXJhdGlvbnNcbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgdGhpcy5wcm9jZXNzVG9vbHMoKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHJlYWQtb25seSBzdGF0ZVxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5RW5hYmxlZCAtIHJlYWQgb25seSBmbGFnIHZhbHVlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMudW5zZXRDYWxsYmFjaygpIDogdGhpcy5zZXRDYWxsYmFjaygpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgcGFzdGVkIG9yIGRyb3BwZWQgZGF0YSB0cmFuc2ZlciBvYmplY3RcbiAgICpcbiAgICogQHBhcmFtIHtEYXRhVHJhbnNmZXJ9IGRhdGFUcmFuc2ZlciAtIHBhc3RlZCBvciBkcm9wcGVkIGRhdGEgdHJhbnNmZXIgb2JqZWN0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEcmFnTkRyb3AgLSB0cnVlIGlmIGRhdGEgdHJhbnNmZXIgY29tZXMgZnJvbSBkcmFnJ24nZHJvcCBldmVudHNcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NEYXRhVHJhbnNmZXIoZSwgdCA9ICExKSB7XG4gICAgY29uc3QgeyBUb29sczogbyB9ID0gdGhpcy5FZGl0b3IsIGkgPSBlLnR5cGVzO1xuICAgIGlmICgoaS5pbmNsdWRlcyA/IGkuaW5jbHVkZXMoXCJGaWxlc1wiKSA6IGkuY29udGFpbnMoXCJGaWxlc1wiKSkgJiYgIVYodGhpcy50b29sc0ZpbGVzKSkge1xuICAgICAgYXdhaXQgdGhpcy5wcm9jZXNzRmlsZXMoZS5maWxlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHIgPSBlLmdldERhdGEodGhpcy5NSU1FX1RZUEUpLCBsID0gZS5nZXREYXRhKFwidGV4dC9wbGFpblwiKTtcbiAgICBsZXQgYSA9IGUuZ2V0RGF0YShcInRleHQvaHRtbFwiKTtcbiAgICBpZiAocilcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0RWRpdG9ySlNEYXRhKEpTT04ucGFyc2UocikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICB0ICYmIGwudHJpbSgpICYmIGEudHJpbSgpICYmIChhID0gXCI8cD5cIiArIChhLnRyaW0oKSA/IGEgOiBsKSArIFwiPC9wPlwiKTtcbiAgICBjb25zdCBjID0gT2JqZWN0LmtleXModGhpcy50b29sc1RhZ3MpLnJlZHVjZSgocCwgZykgPT4gKHBbZy50b0xvd2VyQ2FzZSgpXSA9IHRoaXMudG9vbHNUYWdzW2ddLnNhbml0aXphdGlvbkNvbmZpZyA/PyB7fSwgcCksIHt9KSwgdSA9IE9iamVjdC5hc3NpZ24oe30sIGMsIG8uZ2V0QWxsSW5saW5lVG9vbHNTYW5pdGl6ZUNvbmZpZygpLCB7IGJyOiB7fSB9KSwgaCA9IHEoYSwgdSk7XG4gICAgIWgudHJpbSgpIHx8IGgudHJpbSgpID09PSBsIHx8ICFkLmlzSFRNTFN0cmluZyhoKSA/IGF3YWl0IHRoaXMucHJvY2Vzc1RleHQobCkgOiBhd2FpdCB0aGlzLnByb2Nlc3NUZXh0KGgsICEwKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBwYXN0ZWQgdGV4dCBhbmQgZGl2aWRlIHRoZW0gaW50byBCbG9ja3NcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGEgLSB0ZXh0IHRvIHByb2Nlc3MuIENhbiBiZSBIVE1MIG9yIHBsYWluLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzSFRNTCAtIGlmIHBhc3NlZCBzdHJpbmcgaXMgSFRNTCwgdGhpcyBwYXJhbWV0ZXIgc2hvdWxkIGJlIHRydWVcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NUZXh0KGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IHsgQ2FyZXQ6IG8sIEJsb2NrTWFuYWdlcjogaSB9ID0gdGhpcy5FZGl0b3IsIHMgPSB0ID8gdGhpcy5wcm9jZXNzSFRNTChlKSA6IHRoaXMucHJvY2Vzc1BsYWluKGUpO1xuICAgIGlmICghcy5sZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBzWzBdLmlzQmxvY2sgPyB0aGlzLnByb2Nlc3NTaW5nbGVCbG9jayhzLnBvcCgpKSA6IHRoaXMucHJvY2Vzc0lubGluZVBhc3RlKHMucG9wKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsID0gaS5jdXJyZW50QmxvY2sgJiYgaS5jdXJyZW50QmxvY2sudG9vbC5pc0RlZmF1bHQgJiYgaS5jdXJyZW50QmxvY2suaXNFbXB0eTtcbiAgICBzLm1hcChcbiAgICAgIGFzeW5jIChhLCBjKSA9PiB0aGlzLmluc2VydEJsb2NrKGEsIGMgPT09IDAgJiYgbClcbiAgICApLCBpLmN1cnJlbnRCbG9jayAmJiBvLnNldFRvQmxvY2soaS5jdXJyZW50QmxvY2ssIG8ucG9zaXRpb25zLkVORCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBvblBhc3RlIGNhbGxiYWNrIGhhbmRsZXJcbiAgICovXG4gIHNldENhbGxiYWNrKCkge1xuICAgIHRoaXMubGlzdGVuZXJzLm9uKHRoaXMuRWRpdG9yLlVJLm5vZGVzLmhvbGRlciwgXCJwYXN0ZVwiLCB0aGlzLmhhbmRsZVBhc3RlRXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNldCBvblBhc3RlIGNhbGxiYWNrIGhhbmRsZXJcbiAgICovXG4gIHVuc2V0Q2FsbGJhY2soKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMub2ZmKHRoaXMuRWRpdG9yLlVJLm5vZGVzLmhvbGRlciwgXCJwYXN0ZVwiLCB0aGlzLmhhbmRsZVBhc3RlRXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYW5kIHByb2Nlc3MgdG9vbGBzIHBhc3RlIGNvbmZpZ3NcbiAgICovXG4gIHByb2Nlc3NUb29scygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5FZGl0b3IuVG9vbHMuYmxvY2tUb29scztcbiAgICBBcnJheS5mcm9tKGUudmFsdWVzKCkpLmZvckVhY2godGhpcy5wcm9jZXNzVG9vbCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0YWdzIG5hbWUgbGlzdCBmcm9tIGVpdGhlciB0YWcgbmFtZSBvciBzYW5pdGl6YXRpb24gY29uZmlnLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG9iamVjdH0gdGFnT3JTYW5pdGl6ZUNvbmZpZyAtIHRhZyBuYW1lIG9yIHNhbml0aXplIGNvbmZpZyBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gYXJyYXkgb2YgdGFncy5cbiAgICovXG4gIGNvbGxlY3RUYWdOYW1lcyhlKSB7XG4gICAgcmV0dXJuIFEoZSkgPyBbZV0gOiBSKGUpID8gT2JqZWN0LmtleXMoZSkgOiBbXTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRhZ3MgdG8gc3Vic3RpdHV0ZSBieSBUb29sXG4gICAqXG4gICAqIEBwYXJhbSB0b29sIC0gQmxvY2tUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0VGFnc0NvbmZpZyhlKSB7XG4gICAgaWYgKGUucGFzdGVDb25maWcgPT09ICExKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBlLnBhc3RlQ29uZmlnLnRhZ3MgfHwgW10sIG8gPSBbXTtcbiAgICB0LmZvckVhY2goKGkpID0+IHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLmNvbGxlY3RUYWdOYW1lcyhpKTtcbiAgICAgIG8ucHVzaCguLi5zKSwgcy5mb3JFYWNoKChyKSA9PiB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy50b29sc1RhZ3MsIHIpKSB7XG4gICAgICAgICAgSShcbiAgICAgICAgICAgIGBQYXN0ZSBoYW5kbGVyIGZvciBcdTAwQUIke2UubmFtZX1cdTAwQkIgVG9vbCBvbiBcdTAwQUIke3J9XHUwMEJCIHRhZyBpcyBza2lwcGVkIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSB1c2VkIGJ5IFx1MDBBQiR7dGhpcy50b29sc1RhZ3Nbcl0udG9vbC5uYW1lfVx1MDBCQiBUb29sLmAsXG4gICAgICAgICAgICBcIndhcm5cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGwgPSBSKGkpID8gaVtyXSA6IG51bGw7XG4gICAgICAgIHRoaXMudG9vbHNUYWdzW3IudG9VcHBlckNhc2UoKV0gPSB7XG4gICAgICAgICAgdG9vbDogZSxcbiAgICAgICAgICBzYW5pdGl6YXRpb25Db25maWc6IGxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pLCB0aGlzLnRhZ3NCeVRvb2xbZS5uYW1lXSA9IG8ubWFwKChpKSA9PiBpLnRvVXBwZXJDYXNlKCkpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgZmlsZXNgIHR5cGVzIGFuZCBleHRlbnNpb25zIHRvIHN1YnN0aXR1dGUgYnkgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrVG9vbCBvYmplY3RcbiAgICovXG4gIGdldEZpbGVzQ29uZmlnKGUpIHtcbiAgICBpZiAoZS5wYXN0ZUNvbmZpZyA9PT0gITEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyBmaWxlczogdCA9IHt9IH0gPSBlLnBhc3RlQ29uZmlnO1xuICAgIGxldCB7IGV4dGVuc2lvbnM6IG8sIG1pbWVUeXBlczogaSB9ID0gdDtcbiAgICAhbyAmJiAhaSB8fCAobyAmJiAhQXJyYXkuaXNBcnJheShvKSAmJiAoSShgXHUwMEFCZXh0ZW5zaW9uc1x1MDBCQiBwcm9wZXJ0eSBvZiB0aGUgb25Ecm9wIGNvbmZpZyBmb3IgXHUwMEFCJHtlLm5hbWV9XHUwMEJCIFRvb2wgc2hvdWxkIGJlIGFuIGFycmF5YCksIG8gPSBbXSksIGkgJiYgIUFycmF5LmlzQXJyYXkoaSkgJiYgKEkoYFx1MDBBQm1pbWVUeXBlc1x1MDBCQiBwcm9wZXJ0eSBvZiB0aGUgb25Ecm9wIGNvbmZpZyBmb3IgXHUwMEFCJHtlLm5hbWV9XHUwMEJCIFRvb2wgc2hvdWxkIGJlIGFuIGFycmF5YCksIGkgPSBbXSksIGkgJiYgKGkgPSBpLmZpbHRlcigocykgPT4gVG8ocykgPyAhMCA6IChJKGBNSU1FIHR5cGUgdmFsdWUgXHUwMEFCJHtzfVx1MDBCQiBmb3IgdGhlIFx1MDBBQiR7ZS5uYW1lfVx1MDBCQiBUb29sIGlzIG5vdCBhIHZhbGlkIE1JTUUgdHlwZWAsIFwid2FyblwiKSwgITEpKSksIHRoaXMudG9vbHNGaWxlc1tlLm5hbWVdID0ge1xuICAgICAgZXh0ZW5zaW9uczogbyB8fCBbXSxcbiAgICAgIG1pbWVUeXBlczogaSB8fCBbXVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgUmVnRXhwIHBhdHRlcm5zIHRvIHN1YnN0aXR1dGUgYnkgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrVG9vbCBvYmplY3RcbiAgICovXG4gIGdldFBhdHRlcm5zQ29uZmlnKGUpIHtcbiAgICBlLnBhc3RlQ29uZmlnID09PSAhMSB8fCAhZS5wYXN0ZUNvbmZpZy5wYXR0ZXJucyB8fCBWKGUucGFzdGVDb25maWcucGF0dGVybnMpIHx8IE9iamVjdC5lbnRyaWVzKGUucGFzdGVDb25maWcucGF0dGVybnMpLmZvckVhY2goKFt0LCBvXSkgPT4ge1xuICAgICAgbyBpbnN0YW5jZW9mIFJlZ0V4cCB8fCBJKFxuICAgICAgICBgUGF0dGVybiAke299IGZvciBcdTAwQUIke2UubmFtZX1cdTAwQkIgVG9vbCBpcyBza2lwcGVkIGJlY2F1c2UgaXQgc2hvdWxkIGJlIGEgUmVnZXhwIGluc3RhbmNlLmAsXG4gICAgICAgIFwid2FyblwiXG4gICAgICApLCB0aGlzLnRvb2xzUGF0dGVybnMucHVzaCh7XG4gICAgICAgIGtleTogdCxcbiAgICAgICAgcGF0dGVybjogbyxcbiAgICAgICAgdG9vbDogZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGJyb3dzZXIgYmVoYXZpb3Igc3VpdHMgYmV0dGVyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IGVsZW1lbnQgLSBlbGVtZW50IHdoZXJlIGNvbnRlbnQgaGFzIGJlZW4gcGFzdGVkXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgaXNOYXRpdmVCZWhhdmlvdXIoZSkge1xuICAgIHJldHVybiBkLmlzTmF0aXZlSW5wdXQoZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBmaWxlcyBmcm9tIGRhdGEgdHJhbnNmZXIgb2JqZWN0IGFuZCBpbnNlcnQgcmVsYXRlZCBUb29sc1xuICAgKlxuICAgKiBAcGFyYW0ge0ZpbGVMaXN0fSBpdGVtcyAtIHBhc3RlZCBvciBkcm9wcGVkIGl0ZW1zXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRmlsZXMoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0IH0gPSB0aGlzLkVkaXRvcjtcbiAgICBsZXQgbztcbiAgICBvID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBBcnJheS5mcm9tKGUpLm1hcCgocikgPT4gdGhpcy5wcm9jZXNzRmlsZShyKSlcbiAgICApLCBvID0gby5maWx0ZXIoKHIpID0+ICEhcik7XG4gICAgY29uc3QgcyA9IHQuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIHQuY3VycmVudEJsb2NrLmlzRW1wdHk7XG4gICAgby5mb3JFYWNoKFxuICAgICAgKHIsIGwpID0+IHtcbiAgICAgICAgdC5wYXN0ZShyLnR5cGUsIHIuZXZlbnQsIGwgPT09IDAgJiYgcyk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZm9ybWF0aW9uIGFib3V0IGZpbGUgYW5kIGZpbmQgVG9vbCB0byBoYW5kbGUgaXRcbiAgICpcbiAgICogQHBhcmFtIHtGaWxlfSBmaWxlIC0gZmlsZSB0byBwcm9jZXNzXG4gICAqL1xuICBhc3luYyBwcm9jZXNzRmlsZShlKSB7XG4gICAgY29uc3QgdCA9IEJvKGUpLCBvID0gT2JqZWN0LmVudHJpZXModGhpcy50b29sc0ZpbGVzKS5maW5kKChbciwgeyBtaW1lVHlwZXM6IGwsIGV4dGVuc2lvbnM6IGEgfV0pID0+IHtcbiAgICAgIGNvbnN0IFtjLCB1XSA9IGUudHlwZS5zcGxpdChcIi9cIiksIGggPSBhLmZpbmQoKGcpID0+IGcudG9Mb3dlckNhc2UoKSA9PT0gdC50b0xvd2VyQ2FzZSgpKSwgcCA9IGwuZmluZCgoZykgPT4ge1xuICAgICAgICBjb25zdCBbZiwga10gPSBnLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgcmV0dXJuIGYgPT09IGMgJiYgKGsgPT09IHUgfHwgayA9PT0gXCIqXCIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gISFoIHx8ICEhcDtcbiAgICB9KTtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgW2ldID0gbztcbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnQ6IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJmaWxlXCIsIHtcbiAgICAgICAgZmlsZTogZVxuICAgICAgfSksXG4gICAgICB0eXBlOiBpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgSFRNTCBzdHJpbmcgdG8gYmxvY2tzIGFuZCByZXR1cm4gaXQgYXMgYXJyYXkgb2YgQmxvY2sgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5uZXJIVE1MIC0gaHRtbCBzdHJpbmcgdG8gcHJvY2Vzc1xuICAgKiBAcmV0dXJucyB7UGFzdGVEYXRhW119XG4gICAqL1xuICBwcm9jZXNzSFRNTChlKSB7XG4gICAgY29uc3QgeyBUb29sczogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSBkLm1ha2UoXCJESVZcIik7XG4gICAgcmV0dXJuIG8uaW5uZXJIVE1MID0gZSwgdGhpcy5nZXROb2RlcyhvKS5tYXAoKHMpID0+IHtcbiAgICAgIGxldCByLCBsID0gdC5kZWZhdWx0VG9vbCwgYSA9ICExO1xuICAgICAgc3dpdGNoIChzLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFOlxuICAgICAgICAgIHIgPSBkLm1ha2UoXCJkaXZcIiksIHIuYXBwZW5kQ2hpbGQocyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgciA9IHMsIGEgPSAhMCwgdGhpcy50b29sc1RhZ3Nbci50YWdOYW1lXSAmJiAobCA9IHRoaXMudG9vbHNUYWdzW3IudGFnTmFtZV0udG9vbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHRhZ3M6IGMgfSA9IGwucGFzdGVDb25maWcgfHwgeyB0YWdzOiBbXSB9LCB1ID0gYy5yZWR1Y2UoKGcsIGYpID0+ICh0aGlzLmNvbGxlY3RUYWdOYW1lcyhmKS5mb3JFYWNoKChDKSA9PiB7XG4gICAgICAgIGNvbnN0IFMgPSBSKGYpID8gZltDXSA6IG51bGw7XG4gICAgICAgIGdbQy50b0xvd2VyQ2FzZSgpXSA9IFMgfHwge307XG4gICAgICB9KSwgZyksIHt9KSwgaCA9IE9iamVjdC5hc3NpZ24oe30sIHUsIGwuYmFzZVNhbml0aXplQ29uZmlnKTtcbiAgICAgIGlmIChyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgICAgIGNvbnN0IGcgPSBxKHIub3V0ZXJIVE1MLCBoKTtcbiAgICAgICAgciA9IGQubWFrZShcImRpdlwiLCB2b2lkIDAsIHtcbiAgICAgICAgICBpbm5lckhUTUw6IGdcbiAgICAgICAgfSkuZmlyc3RDaGlsZDtcbiAgICAgIH0gZWxzZVxuICAgICAgICByLmlubmVySFRNTCA9IHEoci5pbm5lckhUTUwsIGgpO1xuICAgICAgY29uc3QgcCA9IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJ0YWdcIiwge1xuICAgICAgICBkYXRhOiByXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRlbnQ6IHIsXG4gICAgICAgIGlzQmxvY2s6IGEsXG4gICAgICAgIHRvb2w6IGwubmFtZSxcbiAgICAgICAgZXZlbnQ6IHBcbiAgICAgIH07XG4gICAgfSkuZmlsdGVyKChzKSA9PiB7XG4gICAgICBjb25zdCByID0gZC5pc0VtcHR5KHMuY29udGVudCksIGwgPSBkLmlzU2luZ2xlVGFnKHMuY29udGVudCk7XG4gICAgICByZXR1cm4gIXIgfHwgbDtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogU3BsaXQgcGxhaW4gdGV4dCBieSBuZXcgbGluZSBzeW1ib2xzIGFuZCByZXR1cm4gaXQgYXMgYXJyYXkgb2YgQmxvY2sgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGxhaW4gLSBzdHJpbmcgdG8gcHJvY2Vzc1xuICAgKiBAcmV0dXJucyB7UGFzdGVEYXRhW119XG4gICAqL1xuICBwcm9jZXNzUGxhaW4oZSkge1xuICAgIGNvbnN0IHsgZGVmYXVsdEJsb2NrOiB0IH0gPSB0aGlzLmNvbmZpZztcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm4gW107XG4gICAgY29uc3QgbyA9IHQ7XG4gICAgcmV0dXJuIGUuc3BsaXQoL1xccj9cXG4vKS5maWx0ZXIoKGkpID0+IGkudHJpbSgpKS5tYXAoKGkpID0+IHtcbiAgICAgIGNvbnN0IHMgPSBkLm1ha2UoXCJkaXZcIik7XG4gICAgICBzLnRleHRDb250ZW50ID0gaTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLmNvbXBvc2VQYXN0ZUV2ZW50KFwidGFnXCIsIHtcbiAgICAgICAgZGF0YTogc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250ZW50OiBzLFxuICAgICAgICB0b29sOiBvLFxuICAgICAgICBpc0Jsb2NrOiAhMSxcbiAgICAgICAgZXZlbnQ6IHJcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGFzdGUgb2Ygc2luZ2xlIEJsb2NrIHRvb2wgY29udGVudFxuICAgKlxuICAgKiBAcGFyYW0ge1Bhc3RlRGF0YX0gZGF0YVRvSW5zZXJ0IC0gZGF0YSBvZiBCbG9jayB0byBpbnNlcnRcbiAgICovXG4gIGFzeW5jIHByb2Nlc3NTaW5nbGVCbG9jayhlKSB7XG4gICAgY29uc3QgeyBDYXJldDogdCwgQmxvY2tNYW5hZ2VyOiBvIH0gPSB0aGlzLkVkaXRvciwgeyBjdXJyZW50QmxvY2s6IGkgfSA9IG87XG4gICAgaWYgKCFpIHx8IGUudG9vbCAhPT0gaS5uYW1lIHx8ICFkLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKGUuY29udGVudC5pbm5lckhUTUwpKSB7XG4gICAgICB0aGlzLmluc2VydEJsb2NrKGUsIChpID09IG51bGwgPyB2b2lkIDAgOiBpLnRvb2wuaXNEZWZhdWx0KSAmJiBpLmlzRW1wdHkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0Lmluc2VydENvbnRlbnRBdENhcmV0UG9zaXRpb24oZS5jb250ZW50LmlubmVySFRNTCk7XG4gIH1cbiAgLyoqXG4gICAqIFByb2Nlc3MgcGFzdGUgdG8gc2luZ2xlIEJsb2NrOlxuICAgKiAxLiBGaW5kIHBhdHRlcm5zYCBtYXRjaGVzXG4gICAqIDIuIEluc2VydCBuZXcgYmxvY2sgaWYgaXQgaXMgbm90IHRoZSBzYW1lIHR5cGUgYXMgY3VycmVudCBvbmVcbiAgICogMy4gSnVzdCBpbnNlcnQgdGV4dCBpZiB0aGVyZSBpcyBubyBzdWJzdGl0dXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVEYXRhfSBkYXRhVG9JbnNlcnQgLSBkYXRhIG9mIEJsb2NrIHRvIGluc2VydFxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc0lubGluZVBhc3RlKGUpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogdCwgQ2FyZXQ6IG8gfSA9IHRoaXMuRWRpdG9yLCB7IGNvbnRlbnQ6IGkgfSA9IGU7XG4gICAgaWYgKHQuY3VycmVudEJsb2NrICYmIHQuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIGkudGV4dENvbnRlbnQubGVuZ3RoIDwgbG8uUEFUVEVSTl9QUk9DRVNTSU5HX01BWF9MRU5HVEgpIHtcbiAgICAgIGNvbnN0IHIgPSBhd2FpdCB0aGlzLnByb2Nlc3NQYXR0ZXJuKGkudGV4dENvbnRlbnQpO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgY29uc3QgbCA9IHQuY3VycmVudEJsb2NrICYmIHQuY3VycmVudEJsb2NrLnRvb2wuaXNEZWZhdWx0ICYmIHQuY3VycmVudEJsb2NrLmlzRW1wdHksIGEgPSB0LnBhc3RlKHIudG9vbCwgci5ldmVudCwgbCk7XG4gICAgICAgIG8uc2V0VG9CbG9jayhhLCBvLnBvc2l0aW9ucy5FTkQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0LmN1cnJlbnRCbG9jayAmJiB0LmN1cnJlbnRCbG9jay5jdXJyZW50SW5wdXQpIHtcbiAgICAgIGNvbnN0IHIgPSB0LmN1cnJlbnRCbG9jay50b29sLmJhc2VTYW5pdGl6ZUNvbmZpZztcbiAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFxuICAgICAgICBcImluc2VydEhUTUxcIixcbiAgICAgICAgITEsXG4gICAgICAgIHEoaS5pbm5lckhUTUwsIHIpXG4gICAgICApO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5pbnNlcnRCbG9jayhlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHBhdHRlcm5zYCBtYXRjaGVzXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGV4dCB0byBwcm9jZXNzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtldmVudDogUGFzdGVFdmVudCwgdG9vbDogc3RyaW5nfT59XG4gICAqL1xuICBhc3luYyBwcm9jZXNzUGF0dGVybihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMudG9vbHNQYXR0ZXJucy5maW5kKChpKSA9PiB7XG4gICAgICBjb25zdCBzID0gaS5wYXR0ZXJuLmV4ZWMoZSk7XG4gICAgICByZXR1cm4gcyA/IGUgPT09IHMuc2hpZnQoKSA6ICExO1xuICAgIH0pO1xuICAgIHJldHVybiB0ID8ge1xuICAgICAgZXZlbnQ6IHRoaXMuY29tcG9zZVBhc3RlRXZlbnQoXCJwYXR0ZXJuXCIsIHtcbiAgICAgICAga2V5OiB0LmtleSxcbiAgICAgICAgZGF0YTogZVxuICAgICAgfSksXG4gICAgICB0b29sOiB0LnRvb2wubmFtZVxuICAgIH0gOiB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBwYXN0ZWQgQmxvY2sgY29udGVudCB0byBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtIHtQYXN0ZURhdGF9IGRhdGEgLSBkYXRhIHRvIGluc2VydFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNhblJlcGxhY2VDdXJyZW50QmxvY2sgLSBpZiB0cnVlIGFuZCBpcyBjdXJyZW50IEJsb2NrIGlzIGVtcHR5LCB3aWxsIHJlcGxhY2UgY3VycmVudCBCbG9ja1xuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGluc2VydEJsb2NrKGUsIHQgPSAhMSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBvLCBDYXJldDogaSB9ID0gdGhpcy5FZGl0b3IsIHsgY3VycmVudEJsb2NrOiBzIH0gPSBvO1xuICAgIGxldCByO1xuICAgIGlmICh0ICYmIHMgJiYgcy5pc0VtcHR5KSB7XG4gICAgICByID0gby5wYXN0ZShlLnRvb2wsIGUuZXZlbnQsICEwKSwgaS5zZXRUb0Jsb2NrKHIsIGkucG9zaXRpb25zLkVORCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHIgPSBvLnBhc3RlKGUudG9vbCwgZS5ldmVudCksIGkuc2V0VG9CbG9jayhyLCBpLnBvc2l0aW9ucy5FTkQpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgZGF0YSBwYXNzZWQgYXMgYXBwbGljYXRpb24veC1lZGl0b3ItanMgSlNPTlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBibG9ja3MgXHUyMDE0IEJsb2NrcycgZGF0YSB0byBpbnNlcnRcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBpbnNlcnRFZGl0b3JKU0RhdGEoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBDYXJldDogbywgVG9vbHM6IGkgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGl0KFxuICAgICAgZSxcbiAgICAgIChyKSA9PiBpLmJsb2NrVG9vbHMuZ2V0KHIpLnNhbml0aXplQ29uZmlnXG4gICAgKS5mb3JFYWNoKCh7IHRvb2w6IHIsIGRhdGE6IGwgfSwgYSkgPT4ge1xuICAgICAgbGV0IGMgPSAhMTtcbiAgICAgIGEgPT09IDAgJiYgKGMgPSB0LmN1cnJlbnRCbG9jayAmJiB0LmN1cnJlbnRCbG9jay50b29sLmlzRGVmYXVsdCAmJiB0LmN1cnJlbnRCbG9jay5pc0VtcHR5KTtcbiAgICAgIGNvbnN0IHUgPSB0Lmluc2VydCh7XG4gICAgICAgIHRvb2w6IHIsXG4gICAgICAgIGRhdGE6IGwsXG4gICAgICAgIHJlcGxhY2U6IGNcbiAgICAgIH0pO1xuICAgICAgby5zZXRUb0Jsb2NrKHUsIG8ucG9zaXRpb25zLkVORCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG5vZGVzIGZyb20gRWxlbWVudCBub2RlXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSAtIGN1cnJlbnQgbm9kZVxuICAgKiBAcGFyYW0ge05vZGVbXX0gbm9kZXMgLSBwcm9jZXNzZWQgbm9kZXNcbiAgICogQHBhcmFtIHtOb2RlfSBkZXN0Tm9kZSAtIGRlc3RpbmF0aW9uIG5vZGVcbiAgICovXG4gIHByb2Nlc3NFbGVtZW50Tm9kZShlLCB0LCBvKSB7XG4gICAgY29uc3QgaSA9IE9iamVjdC5rZXlzKHRoaXMudG9vbHNUYWdzKSwgcyA9IGUsIHsgdG9vbDogciB9ID0gdGhpcy50b29sc1RhZ3Nbcy50YWdOYW1lXSB8fCB7fSwgbCA9IHRoaXMudGFnc0J5VG9vbFtyID09IG51bGwgPyB2b2lkIDAgOiByLm5hbWVdIHx8IFtdLCBhID0gaS5pbmNsdWRlcyhzLnRhZ05hbWUpLCBjID0gZC5ibG9ja0VsZW1lbnRzLmluY2x1ZGVzKHMudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSwgdSA9IEFycmF5LmZyb20ocy5jaGlsZHJlbikuc29tZShcbiAgICAgICh7IHRhZ05hbWU6IHAgfSkgPT4gaS5pbmNsdWRlcyhwKSAmJiAhbC5pbmNsdWRlcyhwKVxuICAgICksIGggPSBBcnJheS5mcm9tKHMuY2hpbGRyZW4pLnNvbWUoXG4gICAgICAoeyB0YWdOYW1lOiBwIH0pID0+IGQuYmxvY2tFbGVtZW50cy5pbmNsdWRlcyhwLnRvTG93ZXJDYXNlKCkpXG4gICAgKTtcbiAgICBpZiAoIWMgJiYgIWEgJiYgIXUpXG4gICAgICByZXR1cm4gby5hcHBlbmRDaGlsZChzKSwgWy4uLnQsIG9dO1xuICAgIGlmIChhICYmICF1IHx8IGMgJiYgIWggJiYgIXUpXG4gICAgICByZXR1cm4gWy4uLnQsIG8sIHNdO1xuICB9XG4gIC8qKlxuICAgKiBSZWN1cnNpdmVseSBkaXZpZGUgSFRNTCBzdHJpbmcgdG8gdHdvIHR5cGVzIG9mIG5vZGVzOlxuICAgKiAxLiBCbG9jayBlbGVtZW50XG4gICAqIDIuIERvY3VtZW50IEZyYWdtZW50cyBjb250YWluZWQgdGV4dCBhbmQgbWFya3VwIHRhZ3MgbGlrZSBhLCBiLCBpIGV0Yy5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSB3cmFwcGVyIC0gd3JhcHBlciBvZiBwYXN0ZXIgSFRNTCBjb250ZW50XG4gICAqIEByZXR1cm5zIHtOb2RlW119XG4gICAqL1xuICBnZXROb2RlcyhlKSB7XG4gICAgY29uc3QgdCA9IEFycmF5LmZyb20oZS5jaGlsZE5vZGVzKTtcbiAgICBsZXQgbztcbiAgICBjb25zdCBpID0gKHMsIHIpID0+IHtcbiAgICAgIGlmIChkLmlzRW1wdHkocikgJiYgIWQuaXNTaW5nbGVUYWcocikpXG4gICAgICAgIHJldHVybiBzO1xuICAgICAgY29uc3QgbCA9IHNbcy5sZW5ndGggLSAxXTtcbiAgICAgIGxldCBhID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIHN3aXRjaCAobCAmJiBkLmlzRnJhZ21lbnQobCkgJiYgKGEgPSBzLnBvcCgpKSwgci5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICAgIGlmIChvID0gdGhpcy5wcm9jZXNzRWxlbWVudE5vZGUociwgcywgYSksIG8pXG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgICByZXR1cm4gYS5hcHBlbmRDaGlsZChyKSwgWy4uLnMsIGFdO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBbLi4ucywgYV07XG4gICAgICB9XG4gICAgICByZXR1cm4gWy4uLnMsIC4uLkFycmF5LmZyb20oci5jaGlsZE5vZGVzKS5yZWR1Y2UoaSwgW10pXTtcbiAgICB9O1xuICAgIHJldHVybiB0LnJlZHVjZShpLCBbXSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbXBvc2UgcGFzdGUgZXZlbnQgd2l0aCBwYXNzZWQgdHlwZSBhbmQgZGV0YWlsXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gZXZlbnQgdHlwZVxuICAgKiBAcGFyYW0ge1Bhc3RlRXZlbnREZXRhaWx9IGRldGFpbCAtIGV2ZW50IGRldGFpbFxuICAgKi9cbiAgY29tcG9zZVBhc3RlRXZlbnQoZSwgdCkge1xuICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSwge1xuICAgICAgZGV0YWlsOiB0XG4gICAgfSk7XG4gIH1cbn07XG5yby5QQVRURVJOX1BST0NFU1NJTkdfTUFYX0xFTkdUSCA9IDQ1MDtcbmxldCBscyA9IHJvO1xuY2xhc3MgYXMgZXh0ZW5kcyB5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkgPSBbXSwgdGhpcy5yZWFkT25seUVuYWJsZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzdGF0ZSBvZiByZWFkIG9ubHkgbW9kZVxuICAgKi9cbiAgZ2V0IGlzRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBpbml0aWFsIHN0YXRlXG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIGNvbnN0IHsgVG9vbHM6IGUgfSA9IHRoaXMuRWRpdG9yLCB7IGJsb2NrVG9vbHM6IHQgfSA9IGUsIG8gPSBbXTtcbiAgICBBcnJheS5mcm9tKHQuZW50cmllcygpKS5mb3JFYWNoKChbaSwgc10pID0+IHtcbiAgICAgIHMuaXNSZWFkT25seVN1cHBvcnRlZCB8fCBvLnB1c2goaSk7XG4gICAgfSksIHRoaXMudG9vbHNEb250U3VwcG9ydFJlYWRPbmx5ID0gbywgdGhpcy5jb25maWcucmVhZE9ubHkgJiYgby5sZW5ndGggPiAwICYmIHRoaXMudGhyb3dDcml0aWNhbEVycm9yKCksIHRoaXMudG9nZ2xlKHRoaXMuY29uZmlnLnJlYWRPbmx5LCAhMCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCByZWFkLW9ubHkgbW9kZSBvciB0b2dnbGUgY3VycmVudCBzdGF0ZVxuICAgKiBDYWxsIGFsbCBNb2R1bGVzIGB0b2dnbGVSZWFkT25seWAgbWV0aG9kIGFuZCByZS1yZW5kZXIgRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSBzdGF0ZSAtIChvcHRpb25hbCkgcmVhZC1vbmx5IHN0YXRlIG9yIHRvZ2dsZVxuICAgKiBAcGFyYW0gaXNJbml0aWFsIC0gKG9wdGlvbmFsKSB0cnVlIHdoZW4gZWRpdG9yIGlzIGluaXRpYWxpemluZ1xuICAgKi9cbiAgYXN5bmMgdG9nZ2xlKGUgPSAhdGhpcy5yZWFkT25seUVuYWJsZWQsIHQgPSAhMSkge1xuICAgIGUgJiYgdGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkubGVuZ3RoID4gMCAmJiB0aGlzLnRocm93Q3JpdGljYWxFcnJvcigpO1xuICAgIGNvbnN0IG8gPSB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgICB0aGlzLnJlYWRPbmx5RW5hYmxlZCA9IGU7XG4gICAgZm9yIChjb25zdCBzIGluIHRoaXMuRWRpdG9yKVxuICAgICAgdGhpcy5FZGl0b3Jbc10udG9nZ2xlUmVhZE9ubHkgJiYgdGhpcy5FZGl0b3Jbc10udG9nZ2xlUmVhZE9ubHkoZSk7XG4gICAgaWYgKG8gPT09IGUpXG4gICAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gICAgaWYgKHQpXG4gICAgICByZXR1cm4gdGhpcy5yZWFkT25seUVuYWJsZWQ7XG4gICAgdGhpcy5FZGl0b3IuTW9kaWZpY2F0aW9uc09ic2VydmVyLmRpc2FibGUoKTtcbiAgICBjb25zdCBpID0gYXdhaXQgdGhpcy5FZGl0b3IuU2F2ZXIuc2F2ZSgpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY2xlYXIoKSwgYXdhaXQgdGhpcy5FZGl0b3IuUmVuZGVyZXIucmVuZGVyKGkuYmxvY2tzKSwgdGhpcy5FZGl0b3IuTW9kaWZpY2F0aW9uc09ic2VydmVyLmVuYWJsZSgpLCB0aGlzLnJlYWRPbmx5RW5hYmxlZDtcbiAgfVxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGFib3V0IHRvb2xzIHdoaWNoIGRvbid0IHN1cHBvcnQgcmVhZC1vbmx5IG1vZGVcbiAgICovXG4gIHRocm93Q3JpdGljYWxFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgUHQoXG4gICAgICBgVG8gZW5hYmxlIHJlYWQtb25seSBtb2RlIGFsbCBjb25uZWN0ZWQgdG9vbHMgc2hvdWxkIHN1cHBvcnQgaXQuIFRvb2xzICR7dGhpcy50b29sc0RvbnRTdXBwb3J0UmVhZE9ubHkuam9pbihcIiwgXCIpfSBkb24ndCBzdXBwb3J0IHJlYWQtb25seSBtb2RlLmBcbiAgICApO1xuICB9XG59XG5jbGFzcyB4ZSBleHRlbmRzIHkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZCA9ICExLCB0aGlzLlNDUk9MTF9TUEVFRCA9IDMsIHRoaXMuSEVJR0hUX09GX1NDUk9MTF9aT05FID0gNDAsIHRoaXMuQk9UVE9NX1NDUk9MTF9aT05FID0gMSwgdGhpcy5UT1BfU0NST0xMX1pPTkUgPSAyLCB0aGlzLk1BSU5fTU9VU0VfQlVUVE9OID0gMCwgdGhpcy5tb3VzZWRvd24gPSAhMSwgdGhpcy5pc1Njcm9sbGluZyA9ICExLCB0aGlzLmluU2Nyb2xsWm9uZSA9IG51bGwsIHRoaXMuc3RhcnRYID0gMCwgdGhpcy5zdGFydFkgPSAwLCB0aGlzLm1vdXNlWCA9IDAsIHRoaXMubW91c2VZID0gMCwgdGhpcy5zdGFja09mU2VsZWN0ZWQgPSBbXSwgdGhpcy5saXN0ZW5lcklkcyA9IFtdO1xuICB9XG4gIC8qKlxuICAgKiBDU1MgY2xhc3NlcyBmb3IgdGhlIEJsb2NrXG4gICAqXG4gICAqIEByZXR1cm5zIHt7d3JhcHBlcjogc3RyaW5nLCBjb250ZW50OiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG92ZXJsYXk6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlcIixcbiAgICAgIG92ZXJsYXlDb250YWluZXI6IFwiY29kZXgtZWRpdG9yLW92ZXJsYXlfX2NvbnRhaW5lclwiLFxuICAgICAgcmVjdDogXCJjb2RleC1lZGl0b3Itb3ZlcmxheV9fcmVjdGFuZ2xlXCIsXG4gICAgICB0b3BTY3JvbGxab25lOiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19zY3JvbGwtem9uZS0tdG9wXCIsXG4gICAgICBib3R0b21TY3JvbGxab25lOiBcImNvZGV4LWVkaXRvci1vdmVybGF5X19zY3JvbGwtem9uZS0tYm90dG9tXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNb2R1bGUgUHJlcGFyYXRpb25cbiAgICogQ3JlYXRpbmcgcmVjdCBhbmQgaGFuZyBoYW5kbGVyc1xuICAgKi9cbiAgcHJlcGFyZSgpIHtcbiAgICB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEluaXQgcmVjdCBwYXJhbXNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhZ2VYIC0gWCBjb29yZCBvZiBtb3VzZVxuICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZVkgLSBZIGNvb3JkIG9mIG1vdXNlXG4gICAqL1xuICBzdGFydFNlbGVjdGlvbihlLCB0KSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZSAtIHdpbmRvdy5wYWdlWE9mZnNldCwgdCAtIHdpbmRvdy5wYWdlWU9mZnNldCk7XG4gICAgby5jbG9zZXN0KGAuJHt0aGlzLkVkaXRvci5Ub29sYmFyLkNTUy50b29sYmFyfWApIHx8ICh0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbGxCbG9ja3NTZWxlY3RlZCA9ICExLCB0aGlzLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuc3RhY2tPZlNlbGVjdGVkID0gW10pO1xuICAgIGNvbnN0IHMgPSBbXG4gICAgICBgLiR7RC5DU1MuY29udGVudH1gLFxuICAgICAgYC4ke3RoaXMuRWRpdG9yLlRvb2xiYXIuQ1NTLnRvb2xiYXJ9YCxcbiAgICAgIGAuJHt0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLkNTUy5pbmxpbmVUb29sYmFyfWBcbiAgICBdLCByID0gby5jbG9zZXN0KFwiLlwiICsgdGhpcy5FZGl0b3IuVUkuQ1NTLmVkaXRvcldyYXBwZXIpLCBsID0gcy5zb21lKChhKSA9PiAhIW8uY2xvc2VzdChhKSk7XG4gICAgIXIgfHwgbCB8fCAodGhpcy5tb3VzZWRvd24gPSAhMCwgdGhpcy5zdGFydFggPSBlLCB0aGlzLnN0YXJ0WSA9IHQpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhciBhbGwgcGFyYW1zIHRvIGVuZCBzZWxlY3Rpb25cbiAgICovXG4gIGVuZFNlbGVjdGlvbigpIHtcbiAgICB0aGlzLm1vdXNlZG93biA9ICExLCB0aGlzLnN0YXJ0WCA9IDAsIHRoaXMuc3RhcnRZID0gMCwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxuICAvKipcbiAgICogaXMgUmVjdFNlbGVjdGlvbiBBY3RpdmF0ZWRcbiAgICovXG4gIGlzUmVjdEFjdGl2YXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1JlY3RTZWxlY3Rpb25BY3RpdmF0ZWQ7XG4gIH1cbiAgLyoqXG4gICAqIE1hcmsgdGhhdCBzZWxlY3Rpb24gaXMgZW5kXG4gICAqL1xuICBjbGVhclNlbGVjdGlvbigpIHtcbiAgICB0aGlzLmlzUmVjdFNlbGVjdGlvbkFjdGl2YXRlZCA9ICExO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIE1vZHVsZSBuZWNlc3NhcnkgZXZlbnQgaGFuZGxlcnNcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyOiBlIH0gPSB0aGlzLmdlbkhUTUwoKTtcbiAgICB0aGlzLmxpc3RlbmVycy5vbihlLCBcIm1vdXNlZG93blwiLCAodCkgPT4ge1xuICAgICAgdGhpcy5wcm9jZXNzTW91c2VEb3duKHQpO1xuICAgIH0sICExKSwgdGhpcy5saXN0ZW5lcnMub24oZG9jdW1lbnQuYm9keSwgXCJtb3VzZW1vdmVcIiwgVmUoKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc01vdXNlTW92ZSh0KTtcbiAgICB9LCAxMCksIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LmJvZHksIFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZUxlYXZlKCk7XG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKHdpbmRvdywgXCJzY3JvbGxcIiwgVmUoKHQpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc1Njcm9sbCh0KTtcbiAgICB9LCAxMCksIHtcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMubGlzdGVuZXJzLm9uKGRvY3VtZW50LmJvZHksIFwibW91c2V1cFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNb3VzZVVwKCk7XG4gICAgfSwgITEpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgZG93biBldmVudHNcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc01vdXNlRG93bihlKSB7XG4gICAgaWYgKGUuYnV0dG9uICE9PSB0aGlzLk1BSU5fTU9VU0VfQlVUVE9OKVxuICAgICAgcmV0dXJuO1xuICAgIGUudGFyZ2V0LmNsb3Nlc3QoZC5hbGxJbnB1dHNTZWxlY3RvcikgIT09IG51bGwgfHwgdGhpcy5zdGFydFNlbGVjdGlvbihlLnBhZ2VYLCBlLnBhZ2VZKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIG1vdmUgZXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gbW91c2VFdmVudCAtIG1vdXNlIGV2ZW50IHBheWxvYWRcbiAgICovXG4gIHByb2Nlc3NNb3VzZU1vdmUoZSkge1xuICAgIHRoaXMuY2hhbmdpbmdSZWN0YW5nbGUoZSksIHRoaXMuc2Nyb2xsQnlab25lcyhlLmNsaWVudFkpO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgbGVhdmVcbiAgICovXG4gIHByb2Nlc3NNb3VzZUxlYXZlKCkge1xuICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKSwgdGhpcy5lbmRTZWxlY3Rpb24oKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBtb3VzZUV2ZW50IC0gbW91c2UgZXZlbnQgcGF5bG9hZFxuICAgKi9cbiAgcHJvY2Vzc1Njcm9sbChlKSB7XG4gICAgdGhpcy5jaGFuZ2luZ1JlY3RhbmdsZShlKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIHVwXG4gICAqL1xuICBwcm9jZXNzTW91c2VVcCgpIHtcbiAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCksIHRoaXMuZW5kU2VsZWN0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNjcm9sbCBJZiBtb3VzZSBpbiBzY3JvbGwgem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gY2xpZW50WSAtIFkgY29vcmQgb2YgbW91c2VcbiAgICovXG4gIHNjcm9sbEJ5Wm9uZXMoZSkge1xuICAgIGlmICh0aGlzLmluU2Nyb2xsWm9uZSA9IG51bGwsIGUgPD0gdGhpcy5IRUlHSFRfT0ZfU0NST0xMX1pPTkUgJiYgKHRoaXMuaW5TY3JvbGxab25lID0gdGhpcy5UT1BfU0NST0xMX1pPTkUpLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gZSA8PSB0aGlzLkhFSUdIVF9PRl9TQ1JPTExfWk9ORSAmJiAodGhpcy5pblNjcm9sbFpvbmUgPSB0aGlzLkJPVFRPTV9TQ1JPTExfWk9ORSksICF0aGlzLmluU2Nyb2xsWm9uZSkge1xuICAgICAgdGhpcy5pc1Njcm9sbGluZyA9ICExO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlzU2Nyb2xsaW5nIHx8ICh0aGlzLnNjcm9sbFZlcnRpY2FsKHRoaXMuaW5TY3JvbGxab25lID09PSB0aGlzLlRPUF9TQ1JPTExfWk9ORSA/IC10aGlzLlNDUk9MTF9TUEVFRCA6IHRoaXMuU0NST0xMX1NQRUVEKSwgdGhpcy5pc1Njcm9sbGluZyA9ICEwKTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIHJlcXVpcmVkIEhUTUwgZWxlbWVudHNcbiAgICpcbiAgICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIEVsZW1lbnQ+fVxuICAgKi9cbiAgZ2VuSFRNTCgpIHtcbiAgICBjb25zdCB7IFVJOiBlIH0gPSB0aGlzLkVkaXRvciwgdCA9IGUubm9kZXMuaG9sZGVyLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBlLkNTUy5lZGl0b3JXcmFwcGVyKSwgbyA9IGQubWFrZShcImRpdlwiLCB4ZS5DU1Mub3ZlcmxheSwge30pLCBpID0gZC5tYWtlKFwiZGl2XCIsIHhlLkNTUy5vdmVybGF5Q29udGFpbmVyLCB7fSksIHMgPSBkLm1ha2UoXCJkaXZcIiwgeGUuQ1NTLnJlY3QsIHt9KTtcbiAgICByZXR1cm4gaS5hcHBlbmRDaGlsZChzKSwgby5hcHBlbmRDaGlsZChpKSwgdC5hcHBlbmRDaGlsZChvKSwgdGhpcy5vdmVybGF5UmVjdGFuZ2xlID0gcywge1xuICAgICAgY29udGFpbmVyOiB0LFxuICAgICAgb3ZlcmxheTogb1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBzY3JvbGxpbmcgaWYgYmxvY2tTZWxlY3Rpb24gaXMgYWN0aXZlIGFuZCBtb3VzZSBpcyBpbiBzY3JvbGwgem9uZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gc3BlZWQgLSBzcGVlZCBvZiBzY3JvbGxpbmdcbiAgICovXG4gIHNjcm9sbFZlcnRpY2FsKGUpIHtcbiAgICBpZiAoISh0aGlzLmluU2Nyb2xsWm9uZSAmJiB0aGlzLm1vdXNlZG93bikpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgZSksIHRoaXMubW91c2VZICs9IHdpbmRvdy5wYWdlWU9mZnNldCAtIHQsIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zY3JvbGxWZXJ0aWNhbChlKTtcbiAgICB9LCAwKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY2hhbmdlIGluIHRoZSByZWN0YW5nbGUgYW5kIGl0cyBlZmZlY3RcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIG1vdXNlIGV2ZW50XG4gICAqL1xuICBjaGFuZ2luZ1JlY3RhbmdsZShlKSB7XG4gICAgaWYgKCF0aGlzLm1vdXNlZG93bilcbiAgICAgIHJldHVybjtcbiAgICBlLnBhZ2VZICE9PSB2b2lkIDAgJiYgKHRoaXMubW91c2VYID0gZS5wYWdlWCwgdGhpcy5tb3VzZVkgPSBlLnBhZ2VZKTtcbiAgICBjb25zdCB7IHJpZ2h0UG9zOiB0LCBsZWZ0UG9zOiBvLCBpbmRleDogaSB9ID0gdGhpcy5nZW5JbmZvRm9yTW91c2VTZWxlY3Rpb24oKSwgcyA9IHRoaXMuc3RhcnRYID4gdCAmJiB0aGlzLm1vdXNlWCA+IHQsIHIgPSB0aGlzLnN0YXJ0WCA8IG8gJiYgdGhpcy5tb3VzZVggPCBvO1xuICAgIHRoaXMucmVjdENyb3NzZXNCbG9ja3MgPSAhKHMgfHwgciksIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkIHx8ICh0aGlzLnJlY3RDcm9zc2VzQmxvY2tzID0gITEsIHRoaXMuaXNSZWN0U2VsZWN0aW9uQWN0aXZhdGVkID0gITAsIHRoaXMuc2hyaW5rUmVjdGFuZ2xlVG9Qb2ludCgpLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIiksIHRoaXMudXBkYXRlUmVjdGFuZ2xlU2l6ZSgpLCB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCksIGkgIT09IHZvaWQgMCAmJiAodGhpcy50cnlTZWxlY3ROZXh0QmxvY2soaSksIHRoaXMuaW52ZXJzZVNlbGVjdGlvbigpLCBiLmdldCgpLnJlbW92ZUFsbFJhbmdlcygpKTtcbiAgfVxuICAvKipcbiAgICogU2hyaW5rIHJlY3QgdG8gc2luZ3VsYXIgcG9pbnRcbiAgICovXG4gIHNocmlua1JlY3RhbmdsZVRvUG9pbnQoKSB7XG4gICAgdGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS50b3AgPSBgJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5ib3R0b20gPSBgY2FsYygxMDAlIC0gJHt0aGlzLnN0YXJ0WSAtIHdpbmRvdy5wYWdlWU9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5yaWdodCA9IGBjYWxjKDEwMCUgLSAke3RoaXMuc3RhcnRYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YDtcbiAgfVxuICAvKipcbiAgICogU2VsZWN0IG9yIHVuc2VsZWN0IGFsbCBvZiBibG9ja3MgaW4gYXJyYXkgaWYgcmVjdCBpcyBvdXQgb3IgaW4gc2VsZWN0YWJsZSBhcmVhXG4gICAqL1xuICBpbnZlcnNlU2VsZWN0aW9uKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUluZGV4KHRoaXMuc3RhY2tPZlNlbGVjdGVkWzBdKS5zZWxlY3RlZDtcbiAgICBpZiAodGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyAmJiAhdClcbiAgICAgIGZvciAoY29uc3QgbyBvZiB0aGlzLnN0YWNrT2ZTZWxlY3RlZClcbiAgICAgICAgdGhpcy5FZGl0b3IuQmxvY2tTZWxlY3Rpb24uc2VsZWN0QmxvY2tCeUluZGV4KG8pO1xuICAgIGlmICghdGhpcy5yZWN0Q3Jvc3Nlc0Jsb2NrcyAmJiB0KVxuICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMuc3RhY2tPZlNlbGVjdGVkKVxuICAgICAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi51blNlbGVjdEJsb2NrQnlJbmRleChvKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBzaXplIG9mIHJlY3RhbmdsZVxuICAgKi9cbiAgdXBkYXRlUmVjdGFuZ2xlU2l6ZSgpIHtcbiAgICB0aGlzLm1vdXNlWSA+PSB0aGlzLnN0YXJ0WSA/ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUudG9wID0gYCR7dGhpcy5zdGFydFkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuYm90dG9tID0gYGNhbGMoMTAwJSAtICR7dGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgKSA6ICh0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUuYm90dG9tID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUudG9wID0gYCR7dGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXR9cHhgKSwgdGhpcy5tb3VzZVggPj0gdGhpcy5zdGFydFggPyAodGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLmxlZnQgPSBgJHt0aGlzLnN0YXJ0WCAtIHdpbmRvdy5wYWdlWE9mZnNldH1weGAsIHRoaXMub3ZlcmxheVJlY3RhbmdsZS5zdHlsZS5yaWdodCA9IGBjYWxjKDEwMCUgLSAke3RoaXMubW91c2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCkgOiAodGhpcy5vdmVybGF5UmVjdGFuZ2xlLnN0eWxlLnJpZ2h0ID0gYGNhbGMoMTAwJSAtICR7dGhpcy5zdGFydFggLSB3aW5kb3cucGFnZVhPZmZzZXR9cHhgLCB0aGlzLm92ZXJsYXlSZWN0YW5nbGUuc3R5bGUubGVmdCA9IGAke3RoaXMubW91c2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0fXB4YCk7XG4gIH1cbiAgLyoqXG4gICAqIENvbGxlY3RzIGluZm9ybWF0aW9uIG5lZWRlZCB0byBkZXRlcm1pbmUgdGhlIGJlaGF2aW9yIG9mIHRoZSByZWN0YW5nbGVcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gaW5kZXggLSBpbmRleCBuZXh0IEJsb2NrLCBsZWZ0UG9zIC0gc3RhcnQgb2YgbGVmdCBib3JkZXIgb2YgQmxvY2ssIHJpZ2h0UG9zIC0gcmlnaHQgYm9yZGVyXG4gICAqL1xuICBnZW5JbmZvRm9yTW91c2VTZWxlY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLyAyLCBvID0gdGhpcy5tb3VzZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQsIGkgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQsIG8pLCBzID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlDaGlsZE5vZGUoaSk7XG4gICAgbGV0IHI7XG4gICAgcyAhPT0gdm9pZCAwICYmIChyID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmJsb2Nrcy5maW5kSW5kZXgoKGgpID0+IGguaG9sZGVyID09PSBzLmhvbGRlcikpO1xuICAgIGNvbnN0IGwgPSB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIubGFzdEJsb2NrLmhvbGRlci5xdWVyeVNlbGVjdG9yKFwiLlwiICsgRC5DU1MuY29udGVudCksIGEgPSBOdW1iZXIucGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUobCkud2lkdGgsIDEwKSAvIDIsIGMgPSB0IC0gYSwgdSA9IHQgKyBhO1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogcixcbiAgICAgIGxlZnRQb3M6IGMsXG4gICAgICByaWdodFBvczogdVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdCBibG9jayB3aXRoIGluZGV4IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSBpbmRleCAtIGluZGV4IG9mIGJsb2NrIGluIHJlZGFjdG9yXG4gICAqL1xuICBhZGRCbG9ja0luU2VsZWN0aW9uKGUpIHtcbiAgICB0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnNlbGVjdEJsb2NrQnlJbmRleChlKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQucHVzaChlKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGJsb2NrIHRvIHRoZSBzZWxlY3Rpb24gYW5kIGRldGVybWluZXMgd2hpY2ggYmxvY2tzIHNob3VsZCBiZSBzZWxlY3RlZFxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5kZXggLSBpbmRleCBvZiBuZXcgYmxvY2sgaW4gdGhlIHJlYWN0b3JcbiAgICovXG4gIHRyeVNlbGVjdE5leHRCbG9jayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW3RoaXMuc3RhY2tPZlNlbGVjdGVkLmxlbmd0aCAtIDFdID09PSBlLCBvID0gdGhpcy5zdGFja09mU2VsZWN0ZWQubGVuZ3RoLCBpID0gMSwgcyA9IC0xLCByID0gMDtcbiAgICBpZiAodClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBsID0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdIC0gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDJdID4gMDtcbiAgICBsZXQgYSA9IHI7XG4gICAgbyA+IDEgJiYgKGEgPSBsID8gaSA6IHMpO1xuICAgIGNvbnN0IGMgPSBlID4gdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICYmIGEgPT09IGksIHUgPSBlIDwgdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdICYmIGEgPT09IHMsIHAgPSAhKGMgfHwgdSB8fCBhID09PSByKTtcbiAgICBpZiAoIXAgJiYgKGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gfHwgdGhpcy5zdGFja09mU2VsZWN0ZWRbbyAtIDFdID09PSB2b2lkIDApKSB7XG4gICAgICBsZXQgayA9IHRoaXMuc3RhY2tPZlNlbGVjdGVkW28gLSAxXSArIDEgfHwgZTtcbiAgICAgIGZvciAoazsgayA8PSBlOyBrKyspXG4gICAgICAgIHRoaXMuYWRkQmxvY2tJblNlbGVjdGlvbihrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwICYmIGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0pIHtcbiAgICAgIGZvciAobGV0IGsgPSB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gLSAxOyBrID49IGU7IGstLSlcbiAgICAgICAgdGhpcy5hZGRCbG9ja0luU2VsZWN0aW9uKGspO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXApXG4gICAgICByZXR1cm47XG4gICAgbGV0IGcgPSBvIC0gMSwgZjtcbiAgICBmb3IgKGUgPiB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtvIC0gMV0gPyBmID0gKCkgPT4gZSA+IHRoaXMuc3RhY2tPZlNlbGVjdGVkW2ddIDogZiA9ICgpID0+IGUgPCB0aGlzLnN0YWNrT2ZTZWxlY3RlZFtnXTsgZigpOyApXG4gICAgICB0aGlzLnJlY3RDcm9zc2VzQmxvY2tzICYmIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLnVuU2VsZWN0QmxvY2tCeUluZGV4KHRoaXMuc3RhY2tPZlNlbGVjdGVkW2ddKSwgdGhpcy5zdGFja09mU2VsZWN0ZWQucG9wKCksIGctLTtcbiAgfVxufVxuY2xhc3MgY3MgZXh0ZW5kcyB5IHtcbiAgLyoqXG4gICAqIFJlbmRlcnMgcGFzc2VkIGJsb2NrcyBhcyBvbmUgYmF0Y2hcbiAgICpcbiAgICogQHBhcmFtIGJsb2Nrc0RhdGEgLSBibG9ja3MgdG8gcmVuZGVyXG4gICAqL1xuICBhc3luYyByZW5kZXIoZSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgodCkgPT4ge1xuICAgICAgY29uc3QgeyBUb29sczogbywgQmxvY2tNYW5hZ2VyOiBpIH0gPSB0aGlzLkVkaXRvcjtcbiAgICAgIGlmIChlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgaS5pbnNlcnQoKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBzID0gZS5tYXAoKHsgdHlwZTogciwgZGF0YTogbCwgdHVuZXM6IGEsIGlkOiBjIH0pID0+IHtcbiAgICAgICAgICBvLmF2YWlsYWJsZS5oYXMocikgPT09ICExICYmIChYKGBUb29sIFx1MDBBQiR7cn1cdTAwQkIgaXMgbm90IGZvdW5kLiBDaGVjayAndG9vbHMnIHByb3BlcnR5IGF0IHRoZSBFZGl0b3IuanMgY29uZmlnLmAsIFwid2FyblwiKSwgbCA9IHRoaXMuY29tcG9zZVN0dWJEYXRhRm9yVG9vbChyLCBsLCBjKSwgciA9IG8uc3R1YlRvb2wpO1xuICAgICAgICAgIGxldCB1O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB1ID0gaS5jb21wb3NlQmxvY2soe1xuICAgICAgICAgICAgICBpZDogYyxcbiAgICAgICAgICAgICAgdG9vbDogcixcbiAgICAgICAgICAgICAgZGF0YTogbCxcbiAgICAgICAgICAgICAgdHVuZXM6IGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGgpIHtcbiAgICAgICAgICAgIEkoYEJsb2NrIFx1MDBBQiR7cn1cdTAwQkIgc2tpcHBlZCBiZWNhdXNlIG9mIHBsdWdpbnMgZXJyb3JgLCBcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgZGF0YTogbCxcbiAgICAgICAgICAgICAgZXJyb3I6IGhcbiAgICAgICAgICAgIH0pLCBsID0gdGhpcy5jb21wb3NlU3R1YkRhdGFGb3JUb29sKHIsIGwsIGMpLCByID0gby5zdHViVG9vbCwgdSA9IGkuY29tcG9zZUJsb2NrKHtcbiAgICAgICAgICAgICAgaWQ6IGMsXG4gICAgICAgICAgICAgIHRvb2w6IHIsXG4gICAgICAgICAgICAgIGRhdGE6IGwsXG4gICAgICAgICAgICAgIHR1bmVzOiBhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHU7XG4gICAgICAgIH0pO1xuICAgICAgICBpLmluc2VydE1hbnkocyk7XG4gICAgICB9XG4gICAgICB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogMmUzIH0pO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgZGF0YSBmb3IgdGhlIFN0dWIgVG9vbCB0aGF0IHdpbGwgYmUgdXNlZCBpbnN0ZWFkIG9mIHVuYXZhaWxhYmxlIHRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgLSB1bmF2YWlsYWJsZSB0b29sIG5hbWUgdG8gc3R1YlxuICAgKiBAcGFyYW0gZGF0YSAtIGRhdGEgb2YgdW5hdmFpbGFibGUgYmxvY2tcbiAgICogQHBhcmFtIFtpZF0gLSBpZCBvZiB1bmF2YWlsYWJsZSBibG9ja1xuICAgKi9cbiAgY29tcG9zZVN0dWJEYXRhRm9yVG9vbChlLCB0LCBvKSB7XG4gICAgY29uc3QgeyBUb29sczogaSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgbGV0IHMgPSBlO1xuICAgIGlmIChpLnVuYXZhaWxhYmxlLmhhcyhlKSkge1xuICAgICAgY29uc3QgciA9IGkudW5hdmFpbGFibGUuZ2V0KGUpLnRvb2xib3g7XG4gICAgICByICE9PSB2b2lkIDAgJiYgclswXS50aXRsZSAhPT0gdm9pZCAwICYmIChzID0gclswXS50aXRsZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzYXZlZERhdGE6IHtcbiAgICAgICAgaWQ6IG8sXG4gICAgICAgIHR5cGU6IGUsXG4gICAgICAgIGRhdGE6IHRcbiAgICAgIH0sXG4gICAgICB0aXRsZTogc1xuICAgIH07XG4gIH1cbn1cbmNsYXNzIGRzIGV4dGVuZHMgeSB7XG4gIC8qKlxuICAgKiBDb21wb3NlcyBuZXcgY2hhaW4gb2YgUHJvbWlzZXMgdG8gZmlyZSB0aGVtIGFsdGVybmF0ZWxseVxuICAgKlxuICAgKiBAcmV0dXJucyB7T3V0cHV0RGF0YX1cbiAgICovXG4gIGFzeW5jIHNhdmUoKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IGUsIFRvb2xzOiB0IH0gPSB0aGlzLkVkaXRvciwgbyA9IGUuYmxvY2tzLCBpID0gW107XG4gICAgdHJ5IHtcbiAgICAgIG8uZm9yRWFjaCgobCkgPT4ge1xuICAgICAgICBpLnB1c2godGhpcy5nZXRTYXZlZERhdGEobCkpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBzID0gYXdhaXQgUHJvbWlzZS5hbGwoaSksIHIgPSBhd2FpdCBpdChzLCAobCkgPT4gdC5ibG9ja1Rvb2xzLmdldChsKS5zYW5pdGl6ZUNvbmZpZyk7XG4gICAgICByZXR1cm4gdGhpcy5tYWtlT3V0cHV0KHIpO1xuICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgIFgoXCJTYXZpbmcgZmFpbGVkIGR1ZSB0byB0aGUgRXJyb3IgJW9cIiwgXCJlcnJvclwiLCBzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNhdmVzIGFuZCB2YWxpZGF0ZXNcbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2sgLSBFZGl0b3IncyBUb29sXG4gICAqIEByZXR1cm5zIHtWYWxpZGF0ZWREYXRhfSAtIFRvb2wncyB2YWxpZGF0ZWQgZGF0YVxuICAgKi9cbiAgYXN5bmMgZ2V0U2F2ZWREYXRhKGUpIHtcbiAgICBjb25zdCB0ID0gYXdhaXQgZS5zYXZlKCksIG8gPSB0ICYmIGF3YWl0IGUudmFsaWRhdGUodC5kYXRhKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udCxcbiAgICAgIGlzVmFsaWQ6IG9cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIG91dHB1dCBvYmplY3Qgd2l0aCBzYXZlZCBkYXRhLCB0aW1lIGFuZCB2ZXJzaW9uIG9mIGVkaXRvclxuICAgKlxuICAgKiBAcGFyYW0ge1ZhbGlkYXRlZERhdGF9IGFsbEV4dHJhY3RlZERhdGEgLSBkYXRhIGV4dHJhY3RlZCBmcm9tIEJsb2Nrc1xuICAgKiBAcmV0dXJucyB7T3V0cHV0RGF0YX1cbiAgICovXG4gIG1ha2VPdXRwdXQoZSkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICByZXR1cm4gZS5mb3JFYWNoKCh7IGlkOiBvLCB0b29sOiBpLCBkYXRhOiBzLCB0dW5lczogciwgaXNWYWxpZDogbCB9KSA9PiB7XG4gICAgICBpZiAoIWwpIHtcbiAgICAgICAgSShgQmxvY2sgXHUwMEFCJHtpfVx1MDBCQiBza2lwcGVkIGJlY2F1c2Ugc2F2ZWQgZGF0YSBpcyBpbnZhbGlkYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpID09PSB0aGlzLkVkaXRvci5Ub29scy5zdHViVG9vbCkge1xuICAgICAgICB0LnB1c2gocyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGEgPSB7XG4gICAgICAgIGlkOiBvLFxuICAgICAgICB0eXBlOiBpLFxuICAgICAgICBkYXRhOiBzLFxuICAgICAgICAuLi4hVihyKSAmJiB7XG4gICAgICAgICAgdHVuZXM6IHJcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHQucHVzaChhKTtcbiAgICB9KSwge1xuICAgICAgdGltZTogKy8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgYmxvY2tzOiB0LFxuICAgICAgdmVyc2lvbjogXCIyLjMwLjZcIlxuICAgIH07XG4gIH1cbn1cbihmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50IDwgXCJ1XCIpIHtcbiAgICAgIHZhciBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZS1wYXJhZ3JhcGh7bGluZS1oZWlnaHQ6MS42ZW07b3V0bGluZTpub25lfS5jZS1ibG9jazpvbmx5LW9mLXR5cGUgLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyLWFjdGl2ZV06ZW1wdHk6YmVmb3JlLC5jZS1ibG9jazpvbmx5LW9mLXR5cGUgLmNlLXBhcmFncmFwaFtkYXRhLXBsYWNlaG9sZGVyLWFjdGl2ZV1bZGF0YS1lbXB0eT10cnVlXTpiZWZvcmV7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXItYWN0aXZlKX0uY2UtcGFyYWdyYXBoIHA6Zmlyc3Qtb2YtdHlwZXttYXJnaW4tdG9wOjB9LmNlLXBhcmFncmFwaCBwOmxhc3Qtb2YtdHlwZXttYXJnaW4tYm90dG9tOjB9XCIpKSwgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsIGUpO1xuICB9XG59KSgpO1xuY29uc3QgaHMgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTggOVY3LjJDOCA3LjA4OTU0IDguMDg5NTQgNyA4LjIgN0wxMiA3TTE2IDlWNy4yQzE2IDcuMDg5NTQgMTUuOTEwNSA3IDE1LjggN0wxMiA3TTEyIDdMMTIgMTdNMTIgMTdIMTBNMTIgMTdIMTRcIi8+PC9zdmc+JztcbmZ1bmN0aW9uIHVzKG4pIHtcbiAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGUuaW5uZXJIVE1MID0gbi50cmltKCk7XG4gIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gIHJldHVybiB0LmFwcGVuZCguLi5BcnJheS5mcm9tKGUuY2hpbGROb2RlcykpLCB0O1xufVxuLyoqXG4gKiBCYXNlIFBhcmFncmFwaCBCbG9jayBmb3IgdGhlIEVkaXRvci5qcy5cbiAqIFJlcHJlc2VudHMgYSByZWd1bGFyIHRleHQgYmxvY2tcbiAqXG4gKiBAYXV0aG9yIENvZGVYICh0ZWFtQGNvZGV4LnNvKVxuICogQGNvcHlyaWdodCBDb2RlWCAyMDE4XG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiAqL1xuY2xhc3MgaHQge1xuICAvKipcbiAgICogRGVmYXVsdCBwbGFjZWhvbGRlciBmb3IgUGFyYWdyYXBoIFRvb2xcbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogQGNsYXNzXG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfUExBQ0VIT0xERVIoKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBjb25zdHJ1Y3RvciBwYXJhbXNcbiAgICogQHBhcmFtIHtQYXJhZ3JhcGhEYXRhfSBwYXJhbXMuZGF0YSAtIHByZXZpb3VzbHkgc2F2ZWQgZGF0YVxuICAgKiBAcGFyYW0ge1BhcmFncmFwaENvbmZpZ30gcGFyYW1zLmNvbmZpZyAtIHVzZXIgY29uZmlnIGZvciBUb29sXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMuYXBpIC0gZWRpdG9yLmpzIGFwaVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlYWRPbmx5IC0gcmVhZCBvbmx5IG1vZGUgZmxhZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBlLCBjb25maWc6IHQsIGFwaTogbywgcmVhZE9ubHk6IGkgfSkge1xuICAgIHRoaXMuYXBpID0gbywgdGhpcy5yZWFkT25seSA9IGksIHRoaXMuX0NTUyA9IHtcbiAgICAgIGJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNlLXBhcmFncmFwaFwiXG4gICAgfSwgdGhpcy5yZWFkT25seSB8fCAodGhpcy5vbktleVVwID0gdGhpcy5vbktleVVwLmJpbmQodGhpcykpLCB0aGlzLl9wbGFjZWhvbGRlciA9IHQucGxhY2Vob2xkZXIgPyB0LnBsYWNlaG9sZGVyIDogaHQuREVGQVVMVF9QTEFDRUhPTERFUiwgdGhpcy5fZGF0YSA9IGUgPz8ge30sIHRoaXMuX2VsZW1lbnQgPSBudWxsLCB0aGlzLl9wcmVzZXJ2ZUJsYW5rID0gdC5wcmVzZXJ2ZUJsYW5rID8/ICExO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBpZiB0ZXh0IGNvbnRlbnQgaXMgZW1wdHkgYW5kIHNldCBlbXB0eSBzdHJpbmcgdG8gaW5uZXIgaHRtbC5cbiAgICogV2UgbmVlZCB0aGlzIGJlY2F1c2Ugc29tZSBicm93c2VycyAoZS5nLiBTYWZhcmkpIGluc2VydCA8YnI+IGludG8gZW1wdHkgY29udGVudGVkaXRhbmxlIGVsZW1lbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIGtleSB1cCBldmVudFxuICAgKi9cbiAgb25LZXlVcChlKSB7XG4gICAgaWYgKGUuY29kZSAhPT0gXCJCYWNrc3BhY2VcIiAmJiBlLmNvZGUgIT09IFwiRGVsZXRlXCIgfHwgIXRoaXMuX2VsZW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyB0ZXh0Q29udGVudDogdCB9ID0gdGhpcy5fZWxlbWVudDtcbiAgICB0ID09PSBcIlwiICYmICh0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVG9vbCdzIHZpZXdcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxEaXZFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZHJhd1ZpZXcoKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gICAgcmV0dXJuIGUuY2xhc3NMaXN0LmFkZCh0aGlzLl9DU1Mud3JhcHBlciwgdGhpcy5fQ1NTLmJsb2NrKSwgZS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCIsIGUuZGF0YXNldC5wbGFjZWhvbGRlckFjdGl2ZSA9IHRoaXMuYXBpLmkxOG4udCh0aGlzLl9wbGFjZWhvbGRlciksIHRoaXMuX2RhdGEudGV4dCAmJiAoZS5pbm5lckhUTUwgPSB0aGlzLl9kYXRhLnRleHQpLCB0aGlzLnJlYWRPbmx5IHx8IChlLmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiLCBlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXApKSwgZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2wncyB2aWV3XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRGl2RWxlbWVudH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudCA9IHRoaXMuZHJhd1ZpZXcoKSwgdGhpcy5fZWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHRoYXQgc3BlY2lmaWVkIGhvdyB0byBtZXJnZSB0d28gVGV4dCBibG9ja3MuXG4gICAqIENhbGxlZCBieSBFZGl0b3IuanMgYnkgYmFja3NwYWNlIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIEJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7UGFyYWdyYXBoRGF0YX0gZGF0YVxuICAgKiBAcHVibGljXG4gICAqL1xuICBtZXJnZShlKSB7XG4gICAgaWYgKCF0aGlzLl9lbGVtZW50KVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2RhdGEudGV4dCArPSBlLnRleHQ7XG4gICAgY29uc3QgdCA9IHVzKGUudGV4dCk7XG4gICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0KSwgdGhpcy5fZWxlbWVudC5ub3JtYWxpemUoKTtcbiAgfVxuICAvKipcbiAgICogVmFsaWRhdGUgUGFyYWdyYXBoIGJsb2NrIGRhdGE6XG4gICAqIC0gY2hlY2sgZm9yIGVtcHRpbmVzc1xuICAgKlxuICAgKiBAcGFyYW0ge1BhcmFncmFwaERhdGF9IHNhdmVkRGF0YSBcdTIwMTQgZGF0YSByZWNlaXZlZCBhZnRlciBzYXZpbmdcbiAgICogQHJldHVybnMge2Jvb2xlYW59IGZhbHNlIGlmIHNhdmVkIGRhdGEgaXMgbm90IGNvcnJlY3QsIG90aGVyd2lzZSB0cnVlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHZhbGlkYXRlKGUpIHtcbiAgICByZXR1cm4gIShlLnRleHQudHJpbSgpID09PSBcIlwiICYmICF0aGlzLl9wcmVzZXJ2ZUJsYW5rKTtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHRvb2xzQ29udGVudCAtIFBhcmFncmFwaCB0b29scyByZW5kZXJlZCB2aWV3XG4gICAqIEByZXR1cm5zIHtQYXJhZ3JhcGhEYXRhfSAtIHNhdmVkIGRhdGFcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2F2ZShlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IGUuaW5uZXJIVE1MXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogT24gcGFzdGUgY2FsbGJhY2sgZmlyZWQgZnJvbSBFZGl0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTFBhc3RlRXZlbnR9IGV2ZW50IC0gZXZlbnQgd2l0aCBwYXN0ZWQgZGF0YVxuICAgKi9cbiAgb25QYXN0ZShlKSB7XG4gICAgY29uc3QgdCA9IHtcbiAgICAgIHRleHQ6IGUuZGV0YWlsLmRhdGEuaW5uZXJIVE1MXG4gICAgfTtcbiAgICB0aGlzLl9kYXRhID0gdCwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLl9lbGVtZW50ICYmICh0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX2RhdGEudGV4dCB8fCBcIlwiKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlIENvbnZlcnNpb24gVG9vbGJhci4gUGFyYWdyYXBoIGNhbiBiZSBjb252ZXJ0ZWQgdG8vZnJvbSBvdGhlciB0b29sc1xuICAgKiBAcmV0dXJucyB7Q29udmVyc2lvbkNvbmZpZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgY29udmVyc2lvbkNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwb3J0OiBcInRleHRcIixcbiAgICAgIC8vIHRvIGNvbnZlcnQgUGFyYWdyYXBoIHRvIG90aGVyIGJsb2NrLCB1c2UgJ3RleHQnIHByb3BlcnR5IG9mIHNhdmVkIGRhdGFcbiAgICAgIGltcG9ydDogXCJ0ZXh0XCJcbiAgICAgIC8vIHRvIGNvdmVydCBvdGhlciBibG9jaydzIGV4cG9ydGVkIHN0cmluZyB0byBQYXJhZ3JhcGgsIGZpbGwgJ3RleHQnIHByb3BlcnR5IG9mIHRvb2wgZGF0YVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBydWxlc1xuICAgKiBAcmV0dXJucyB7U2FuaXRpemVyQ29uZmlnfSAtIEVkdGlvci5qcyBzYW5pdGl6ZXIgY29uZmlnXG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiB7XG4gICAgICAgIGJyOiAhMFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSB0byBub3RpZnkgdGhlIGNvcmUgdGhhdCByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBVc2VkIGJ5IEVkaXRvciBwYXN0ZSBoYW5kbGluZyBBUEkuXG4gICAqIFByb3ZpZGVzIGNvbmZpZ3VyYXRpb24gdG8gaGFuZGxlIFAgdGFncy5cbiAgICpcbiAgICogQHJldHVybnMge1Bhc3RlQ29uZmlnfSAtIFBhcmFncmFwaCBQYXN0ZSBTZXR0aW5nXG4gICAqL1xuICBzdGF0aWMgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YWdzOiBbXCJQXCJdXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogSWNvbiBhbmQgdGl0bGUgZm9yIGRpc3BsYXlpbmcgYXQgdGhlIFRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge1Rvb2xib3hDb25maWd9IC0gUGFyYWdyYXBoIFRvb2xib3ggU2V0dGluZ1xuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBocyxcbiAgICAgIHRpdGxlOiBcIlRleHRcIlxuICAgIH07XG4gIH1cbn1cbmNsYXNzIHV0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21tYW5kTmFtZSA9IFwiYm9sZFwiO1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgUnVsZVxuICAgKiBMZWF2ZSA8Yj4gdGFnc1xuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBzYW5pdGl6ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYjoge31cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYnV0dG9uIGZvciBJbmxpbmUgVG9vbGJhclxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBiaSxcbiAgICAgIG5hbWU6IFwiYm9sZFwiLFxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICAgIH0sXG4gICAgICBpc0FjdGl2ZTogKCkgPT4gZG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUodGhpcy5jb21tYW5kTmFtZSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBzaG9ydGN1dCgpIHtcbiAgICByZXR1cm4gXCJDTUQrQlwiO1xuICB9XG59XG51dC5pc0lubGluZSA9ICEwO1xudXQudGl0bGUgPSBcIkJvbGRcIjtcbmNsYXNzIHB0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb21tYW5kTmFtZSA9IFwiaXRhbGljXCIsIHRoaXMuQ1NTID0ge1xuICAgICAgYnV0dG9uOiBcImNlLWlubGluZS10b29sXCIsXG4gICAgICBidXR0b25BY3RpdmU6IFwiY2UtaW5saW5lLXRvb2wtLWFjdGl2ZVwiLFxuICAgICAgYnV0dG9uTW9kaWZpZXI6IFwiY2UtaW5saW5lLXRvb2wtLWl0YWxpY1wiXG4gICAgfSwgdGhpcy5ub2RlcyA9IHtcbiAgICAgIGJ1dHRvbjogbnVsbFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxpPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpOiB7fVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBidXR0b24gZm9yIElubGluZSBUb29sYmFyXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKSwgdGhpcy5ub2Rlcy5idXR0b24udHlwZSA9IFwiYnV0dG9uXCIsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYnV0dG9uLCB0aGlzLkNTUy5idXR0b25Nb2RpZmllciksIHRoaXMubm9kZXMuYnV0dG9uLmlubmVySFRNTCA9IEJpLCB0aGlzLm5vZGVzLmJ1dHRvbjtcbiAgfVxuICAvKipcbiAgICogV3JhcCByYW5nZSB3aXRoIDxpPiB0YWdcbiAgICovXG4gIHN1cnJvdW5kKCkge1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZE5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBzZWxlY3Rpb24gYW5kIHNldCBhY3RpdmF0ZWQgc3RhdGUgdG8gYnV0dG9uIGlmIHRoZXJlIGFyZSA8aT4gdGFnXG4gICAqL1xuICBjaGVja1N0YXRlKCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5xdWVyeUNvbW1hbmRTdGF0ZSh0aGlzLmNvbW1hbmROYW1lKTtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNTUy5idXR0b25BY3RpdmUsIGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgYSBzaG9ydGN1dFxuICAgKi9cbiAgZ2V0IHNob3J0Y3V0KCkge1xuICAgIHJldHVybiBcIkNNRCtJXCI7XG4gIH1cbn1cbnB0LmlzSW5saW5lID0gITA7XG5wdC50aXRsZSA9IFwiSXRhbGljXCI7XG5jbGFzcyBmdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuY29tbWFuZExpbmsgPSBcImNyZWF0ZUxpbmtcIiwgdGhpcy5jb21tYW5kVW5saW5rID0gXCJ1bmxpbmtcIiwgdGhpcy5FTlRFUl9LRVkgPSAxMywgdGhpcy5DU1MgPSB7XG4gICAgICBidXR0b246IFwiY2UtaW5saW5lLXRvb2xcIixcbiAgICAgIGJ1dHRvbkFjdGl2ZTogXCJjZS1pbmxpbmUtdG9vbC0tYWN0aXZlXCIsXG4gICAgICBidXR0b25Nb2RpZmllcjogXCJjZS1pbmxpbmUtdG9vbC0tbGlua1wiLFxuICAgICAgYnV0dG9uVW5saW5rOiBcImNlLWlubGluZS10b29sLS11bmxpbmtcIixcbiAgICAgIGlucHV0OiBcImNlLWlubGluZS10b29sLWlucHV0XCIsXG4gICAgICBpbnB1dFNob3dlZDogXCJjZS1pbmxpbmUtdG9vbC1pbnB1dC0tc2hvd2VkXCJcbiAgICB9LCB0aGlzLm5vZGVzID0ge1xuICAgICAgYnV0dG9uOiBudWxsLFxuICAgICAgaW5wdXQ6IG51bGxcbiAgICB9LCB0aGlzLmlucHV0T3BlbmVkID0gITEsIHRoaXMudG9vbGJhciA9IGUudG9vbGJhciwgdGhpcy5pbmxpbmVUb29sYmFyID0gZS5pbmxpbmVUb29sYmFyLCB0aGlzLm5vdGlmaWVyID0gZS5ub3RpZmllciwgdGhpcy5pMThuID0gZS5pMThuLCB0aGlzLnNlbGVjdGlvbiA9IG5ldyBiKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNhbml0aXplciBSdWxlXG4gICAqIExlYXZlIDxhPiB0YWdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhOiB7XG4gICAgICAgIGhyZWY6ICEwLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIHJlbDogXCJub2ZvbGxvd1wiXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBmb3IgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5idXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLCB0aGlzLm5vZGVzLmJ1dHRvbi50eXBlID0gXCJidXR0b25cIiwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b24sIHRoaXMuQ1NTLmJ1dHRvbk1vZGlmaWVyKSwgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0geXQsIHRoaXMubm9kZXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBJbnB1dCBmb3IgdGhlIGxpbmtcbiAgICovXG4gIHJlbmRlckFjdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMuaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksIHRoaXMubm9kZXMuaW5wdXQucGxhY2Vob2xkZXIgPSB0aGlzLmkxOG4udChcIkFkZCBhIGxpbmtcIiksIHRoaXMubm9kZXMuaW5wdXQuZW50ZXJLZXlIaW50ID0gXCJkb25lXCIsIHRoaXMubm9kZXMuaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5pbnB1dCksIHRoaXMubm9kZXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGUua2V5Q29kZSA9PT0gdGhpcy5FTlRFUl9LRVkgJiYgdGhpcy5lbnRlclByZXNzZWQoZSk7XG4gICAgfSksIHRoaXMubm9kZXMuaW5wdXQ7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBjbGlja3Mgb24gdGhlIElubGluZSBUb29sYmFyIGljb25cbiAgICpcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSByYW5nZSB0byB3cmFwIHdpdGggbGlua1xuICAgKi9cbiAgc3Vycm91bmQoZSkge1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLmlucHV0T3BlbmVkID8gKHRoaXMuc2VsZWN0aW9uLnJlc3RvcmUoKSwgdGhpcy5zZWxlY3Rpb24ucmVtb3ZlRmFrZUJhY2tncm91bmQoKSkgOiAodGhpcy5zZWxlY3Rpb24uc2V0RmFrZUJhY2tncm91bmQoKSwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpKTtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLnNlbGVjdGlvbi5maW5kUGFyZW50VGFnKFwiQVwiKTtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmV4cGFuZFRvVGFnKHQpLCB0aGlzLnVubGluaygpLCB0aGlzLmNsb3NlQWN0aW9ucygpLCB0aGlzLmNoZWNrU3RhdGUoKSwgdGhpcy50b29sYmFyLmNsb3NlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50b2dnbGVBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIHNlbGVjdGlvbiBhbmQgc2V0IGFjdGl2YXRlZCBzdGF0ZSB0byBidXR0b24gaWYgdGhlcmUgYXJlIDxhPiB0YWdcbiAgICovXG4gIGNoZWNrU3RhdGUoKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIGlmIChlKSB7XG4gICAgICB0aGlzLm5vZGVzLmJ1dHRvbi5pbm5lckhUTUwgPSBJaSwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5idXR0b25VbmxpbmspLCB0aGlzLm5vZGVzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJ1dHRvbkFjdGl2ZSksIHRoaXMub3BlbkFjdGlvbnMoKTtcbiAgICAgIGNvbnN0IHQgPSBlLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gdCAhPT0gXCJudWxsXCIgPyB0IDogXCJcIiwgdGhpcy5zZWxlY3Rpb24uc2F2ZSgpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5ub2Rlcy5idXR0b24uaW5uZXJIVE1MID0geXQsIHRoaXMubm9kZXMuYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuYnV0dG9uVW5saW5rKSwgdGhpcy5ub2Rlcy5idXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNTUy5idXR0b25BY3RpdmUpO1xuICAgIHJldHVybiAhIWU7XG4gIH1cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIGNhbGxlZCB3aXRoIElubGluZSBUb29sYmFyIGNsb3NpbmdcbiAgICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY2xvc2VBY3Rpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhIHNob3J0Y3V0XG4gICAqL1xuICBnZXQgc2hvcnRjdXQoKSB7XG4gICAgcmV0dXJuIFwiQ01EK0tcIjtcbiAgfVxuICAvKipcbiAgICogU2hvdy9jbG9zZSBsaW5rIGlucHV0XG4gICAqL1xuICB0b2dnbGVBY3Rpb25zKCkge1xuICAgIHRoaXMuaW5wdXRPcGVuZWQgPyB0aGlzLmNsb3NlQWN0aW9ucyghMSkgOiB0aGlzLm9wZW5BY3Rpb25zKCEwKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSBuZWVkRm9jdXMgLSBvbiBsaW5rIGNyZWF0aW9uIHdlIG5lZWQgdG8gZm9jdXMgaW5wdXQuIE9uIGVkaXRpbmcgLSBub3BlLlxuICAgKi9cbiAgb3BlbkFjdGlvbnMoZSA9ICExKSB7XG4gICAgdGhpcy5ub2Rlcy5pbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmlucHV0U2hvd2VkKSwgZSAmJiB0aGlzLm5vZGVzLmlucHV0LmZvY3VzKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMDtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgaW5wdXRcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBjbGVhclNhdmVkU2VsZWN0aW9uIFx1MjAxNCB3ZSBkb24ndCBuZWVkIHRvIGNsZWFyIHNhdmVkIHNlbGVjdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiB0b2dnbGUtY2xpY2tzIG9uIHRoZSBpY29uIG9mIG9wZW5lZCBUb29sYmFyXG4gICAqL1xuICBjbG9zZUFjdGlvbnMoZSA9ICEwKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRmFrZUJhY2tncm91bmRFbmFibGVkKSB7XG4gICAgICBjb25zdCB0ID0gbmV3IGIoKTtcbiAgICAgIHQuc2F2ZSgpLCB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMuc2VsZWN0aW9uLnJlbW92ZUZha2VCYWNrZ3JvdW5kKCksIHQucmVzdG9yZSgpO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5DU1MuaW5wdXRTaG93ZWQpLCB0aGlzLm5vZGVzLmlucHV0LnZhbHVlID0gXCJcIiwgZSAmJiB0aGlzLnNlbGVjdGlvbi5jbGVhclNhdmVkKCksIHRoaXMuaW5wdXRPcGVuZWQgPSAhMTtcbiAgfVxuICAvKipcbiAgICogRW50ZXIgcHJlc3NlZCBvbiBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0gZW50ZXIga2V5ZG93biBldmVudFxuICAgKi9cbiAgZW50ZXJQcmVzc2VkKGUpIHtcbiAgICBsZXQgdCA9IHRoaXMubm9kZXMuaW5wdXQudmFsdWUgfHwgXCJcIjtcbiAgICBpZiAoIXQudHJpbSgpKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbi5yZXN0b3JlKCksIHRoaXMudW5saW5rKCksIGUucHJldmVudERlZmF1bHQoKSwgdGhpcy5jbG9zZUFjdGlvbnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnZhbGlkYXRlVVJMKHQpKSB7XG4gICAgICB0aGlzLm5vdGlmaWVyLnNob3coe1xuICAgICAgICBtZXNzYWdlOiBcIlBhc3RlZCBsaW5rIGlzIG5vdCB2YWxpZC5cIixcbiAgICAgICAgc3R5bGU6IFwiZXJyb3JcIlxuICAgICAgfSksIEkoXCJJbmNvcnJlY3QgTGluayBwYXN0ZWRcIiwgXCJ3YXJuXCIsIHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0ID0gdGhpcy5wcmVwYXJlTGluayh0KSwgdGhpcy5zZWxlY3Rpb24ucmVzdG9yZSgpLCB0aGlzLnNlbGVjdGlvbi5yZW1vdmVGYWtlQmFja2dyb3VuZCgpLCB0aGlzLmluc2VydExpbmsodCksIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgdGhpcy5zZWxlY3Rpb24uY29sbGFwc2VUb0VuZCgpLCB0aGlzLmlubGluZVRvb2xiYXIuY2xvc2UoKTtcbiAgfVxuICAvKipcbiAgICogRGV0ZWN0cyBpZiBwYXNzZWQgc3RyaW5nIGlzIFVSTFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gc3RyaW5nIHRvIHZhbGlkYXRlXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgdmFsaWRhdGVVUkwoZSkge1xuICAgIHJldHVybiAhL1xccy8udGVzdChlKTtcbiAgfVxuICAvKipcbiAgICogUHJvY2VzcyBsaW5rIGJlZm9yZSBpbmplY3Rpb25cbiAgICogLSBzYW5pdGl6ZVxuICAgKiAtIGFkZCBwcm90b2NvbCBmb3IgbGlua3MgbGlrZSAnZ29vZ2xlLmNvbSdcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSByYXcgdXNlciBpbnB1dFxuICAgKi9cbiAgcHJlcGFyZUxpbmsoZSkge1xuICAgIHJldHVybiBlID0gZS50cmltKCksIGUgPSB0aGlzLmFkZFByb3RvY29sKGUpLCBlO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgJ2h0dHAnIHByb3RvY29sIHRvIHRoZSBsaW5rcyBsaWtlICd2Yy5ydScsICdnb29nbGUuY29tJ1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGluayAtIHN0cmluZyB0byBwcm9jZXNzXG4gICAqL1xuICBhZGRQcm90b2NvbChlKSB7XG4gICAgaWYgKC9eKFxcdyspOihcXC9cXC8pPy8udGVzdChlKSlcbiAgICAgIHJldHVybiBlO1xuICAgIGNvbnN0IHQgPSAvXlxcL1teL1xcc10vLnRlc3QoZSksIG8gPSBlLnN1YnN0cmluZygwLCAxKSA9PT0gXCIjXCIsIGkgPSAvXlxcL1xcL1teL1xcc10vLnRlc3QoZSk7XG4gICAgcmV0dXJuICF0ICYmICFvICYmICFpICYmIChlID0gXCJodHRwOi8vXCIgKyBlKSwgZTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0cyA8YT4gdGFnIHdpdGggXCJocmVmXCJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxpbmsgLSBcImhyZWZcIiB2YWx1ZVxuICAgKi9cbiAgaW5zZXJ0TGluayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcoXCJBXCIpO1xuICAgIHQgJiYgdGhpcy5zZWxlY3Rpb24uZXhwYW5kVG9UYWcodCksIGRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuY29tbWFuZExpbmssICExLCBlKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyA8YT4gdGFnXG4gICAqL1xuICB1bmxpbmsoKSB7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5jb21tYW5kVW5saW5rKTtcbiAgfVxufVxuZnQuaXNJbmxpbmUgPSAhMDtcbmZ0LnRpdGxlID0gXCJMaW5rXCI7XG5jbGFzcyBhbyB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuaTE4bkFQSSA9IGUuaTE4biwgdGhpcy5ibG9ja3NBUEkgPSBlLmJsb2NrcywgdGhpcy5zZWxlY3Rpb25BUEkgPSBlLnNlbGVjdGlvbiwgdGhpcy50b29sc0FQSSA9IGUudG9vbHMsIHRoaXMuY2FyZXRBUEkgPSBlLmNhcmV0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRvb2wncyBVSSBjb25maWdcbiAgICovXG4gIGFzeW5jIHJlbmRlcigpIHtcbiAgICBjb25zdCBlID0gYi5nZXQoKSwgdCA9IHRoaXMuYmxvY2tzQVBJLmdldEJsb2NrQnlFbGVtZW50KGUuYW5jaG9yTm9kZSk7XG4gICAgaWYgKHQgPT09IHZvaWQgMClcbiAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBvID0gdGhpcy50b29sc0FQSS5nZXRCbG9ja1Rvb2xzKCksIGkgPSBhd2FpdCB6dCh0LCBvKTtcbiAgICBpZiAoaS5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gW107XG4gICAgY29uc3QgcyA9IGkucmVkdWNlKChjLCB1KSA9PiB7XG4gICAgICB2YXIgaDtcbiAgICAgIHJldHVybiAoaCA9IHUudG9vbGJveCkgPT0gbnVsbCB8fCBoLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgYy5wdXNoKHtcbiAgICAgICAgICBpY29uOiBwLmljb24sXG4gICAgICAgICAgdGl0bGU6IHoudChLLnRvb2xOYW1lcywgcC50aXRsZSksXG4gICAgICAgICAgbmFtZTogdS5uYW1lLFxuICAgICAgICAgIGNsb3NlT25BY3RpdmF0ZTogITAsXG4gICAgICAgICAgb25BY3RpdmF0ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZyA9IGF3YWl0IHRoaXMuYmxvY2tzQVBJLmNvbnZlcnQodC5pZCwgdS5uYW1lLCBwLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5jYXJldEFQSS5zZXRUb0Jsb2NrKGcsIFwiZW5kXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KSwgYztcbiAgICB9LCBbXSksIHIgPSBhd2FpdCB0LmdldEFjdGl2ZVRvb2xib3hFbnRyeSgpLCBsID0gciAhPT0gdm9pZCAwID8gci5pY29uIDogS3QsIGEgPSAhcGUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogbCxcbiAgICAgIG5hbWU6IFwiY29udmVydC10b1wiLFxuICAgICAgaGludDoge1xuICAgICAgICB0aXRsZTogdGhpcy5pMThuQVBJLnQoXCJDb252ZXJ0IHRvXCIpXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IHtcbiAgICAgICAgc2VhcmNoYWJsZTogYSxcbiAgICAgICAgaXRlbXM6IHMsXG4gICAgICAgIG9uT3BlbjogKCkgPT4ge1xuICAgICAgICAgIGEgJiYgKHRoaXMuc2VsZWN0aW9uQVBJLnNldEZha2VCYWNrZ3JvdW5kKCksIHRoaXMuc2VsZWN0aW9uQVBJLnNhdmUoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICBhICYmICh0aGlzLnNlbGVjdGlvbkFQSS5yZXN0b3JlKCksIHRoaXMuc2VsZWN0aW9uQVBJLnJlbW92ZUZha2VCYWNrZ3JvdW5kKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuYW8uaXNJbmxpbmUgPSAhMDtcbmNsYXNzIGNvIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gY29uc3RydWN0b3Igb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5kYXRhIC0gc3R1YiB0b29sIGRhdGFcbiAgICogQHBhcmFtIG9wdGlvbnMuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBlLCBhcGk6IHQgfSkge1xuICAgIHRoaXMuQ1NTID0ge1xuICAgICAgd3JhcHBlcjogXCJjZS1zdHViXCIsXG4gICAgICBpbmZvOiBcImNlLXN0dWJfX2luZm9cIixcbiAgICAgIHRpdGxlOiBcImNlLXN0dWJfX3RpdGxlXCIsXG4gICAgICBzdWJ0aXRsZTogXCJjZS1zdHViX19zdWJ0aXRsZVwiXG4gICAgfSwgdGhpcy5hcGkgPSB0LCB0aGlzLnRpdGxlID0gZS50aXRsZSB8fCB0aGlzLmFwaS5pMThuLnQoXCJFcnJvclwiKSwgdGhpcy5zdWJ0aXRsZSA9IHRoaXMuYXBpLmkxOG4udChcIlRoZSBibG9jayBjYW4gbm90IGJlIGRpc3BsYXllZCBjb3JyZWN0bHkuXCIpLCB0aGlzLnNhdmVkRGF0YSA9IGUuc2F2ZWREYXRhLCB0aGlzLndyYXBwZXIgPSB0aGlzLm1ha2UoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBzdHViIGhvbGRlclxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIG9yaWdpbmFsIFRvb2wgZGF0YVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmxvY2tUb29sRGF0YX1cbiAgICovXG4gIHNhdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2F2ZWREYXRhO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVG9vbCBodG1sIG1hcmt1cFxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBtYWtlKCkge1xuICAgIGNvbnN0IGUgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1Mud3JhcHBlciksIHQgPSBNaSwgbyA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5pbmZvKSwgaSA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy50aXRsZSwge1xuICAgICAgdGV4dENvbnRlbnQ6IHRoaXMudGl0bGVcbiAgICB9KSwgcyA9IGQubWFrZShcImRpdlwiLCB0aGlzLkNTUy5zdWJ0aXRsZSwge1xuICAgICAgdGV4dENvbnRlbnQ6IHRoaXMuc3VidGl0bGVcbiAgICB9KTtcbiAgICByZXR1cm4gZS5pbm5lckhUTUwgPSB0LCBvLmFwcGVuZENoaWxkKGkpLCBvLmFwcGVuZENoaWxkKHMpLCBlLmFwcGVuZENoaWxkKG8pLCBlO1xuICB9XG59XG5jby5pc1JlYWRPbmx5U3VwcG9ydGVkID0gITA7XG5jbGFzcyBwcyBleHRlbmRzIGR0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0gbmUuSW5saW5lO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRpdGxlIGZvciBJbmxpbmUgVG9vbCBpZiBzcGVjaWZpZWQgYnkgdXNlclxuICAgKi9cbiAgZ2V0IHRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbY3QuVGl0bGVdO1xuICB9XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIG5ldyBJbmxpbmVUb29sIGluc3RhbmNlIGZyb20gY29uc3RydWN0YWJsZVxuICAgKi9cbiAgY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RhYmxlKHtcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBjb25maWc6IHRoaXMuc2V0dGluZ3NcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgZnMgZXh0ZW5kcyBkdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMudHlwZSA9IG5lLlR1bmU7XG4gIH1cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgbmV3IEJsb2NrVHVuZSBpbnN0YW5jZSBmcm9tIGNvbnN0cnVjdGFibGVcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgLSBUdW5lIGRhdGFcbiAgICogQHBhcmFtIGJsb2NrIC0gQmxvY2sgQVBJIG9iamVjdFxuICAgKi9cbiAgY3JlYXRlKGUsIHQpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0YWJsZSh7XG4gICAgICBhcGk6IHRoaXMuYXBpLFxuICAgICAgY29uZmlnOiB0aGlzLnNldHRpbmdzLFxuICAgICAgYmxvY2s6IHQsXG4gICAgICBkYXRhOiBlXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIEYgZXh0ZW5kcyBNYXAge1xuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBUb29scyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgYmxvY2tUb29scygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc0Jsb2NrKCkpO1xuICAgIHJldHVybiBuZXcgRihlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBJbmxpbmUgVG9vbHMgY29sbGVjdGlvblxuICAgKi9cbiAgZ2V0IGlubGluZVRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzSW5saW5lKCkpO1xuICAgIHJldHVybiBuZXcgRihlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBCbG9jayBUdW5lcyBjb2xsZWN0aW9uXG4gICAqL1xuICBnZXQgYmxvY2tUdW5lcygpIHtcbiAgICBjb25zdCBlID0gQXJyYXkuZnJvbSh0aGlzLmVudHJpZXMoKSkuZmlsdGVyKChbLCB0XSkgPT4gdC5pc1R1bmUoKSk7XG4gICAgcmV0dXJuIG5ldyBGKGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGludGVybmFsIFRvb2xzIGNvbGxlY3Rpb25cbiAgICovXG4gIGdldCBpbnRlcm5hbFRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiB0LmlzSW50ZXJuYWwpO1xuICAgIHJldHVybiBuZXcgRihlKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29scyBjb2xsZWN0aW9uIHByb3ZpZGVkIGJ5IHVzZXJcbiAgICovXG4gIGdldCBleHRlcm5hbFRvb2xzKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5mcm9tKHRoaXMuZW50cmllcygpKS5maWx0ZXIoKFssIHRdKSA9PiAhdC5pc0ludGVybmFsKTtcbiAgICByZXR1cm4gbmV3IEYoZSk7XG4gIH1cbn1cbnZhciBncyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgbXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBobyA9IChuLCBlLCB0LCBvKSA9PiB7XG4gIGZvciAodmFyIGkgPSBvID4gMSA/IHZvaWQgMCA6IG8gPyBtcyhlLCB0KSA6IGUsIHMgPSBuLmxlbmd0aCAtIDEsIHI7IHMgPj0gMDsgcy0tKVxuICAgIChyID0gbltzXSkgJiYgKGkgPSAobyA/IHIoZSwgdCwgaSkgOiByKGkpKSB8fCBpKTtcbiAgcmV0dXJuIG8gJiYgaSAmJiBncyhlLCB0LCBpKSwgaTtcbn07XG5jbGFzcyBndCBleHRlbmRzIGR0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy50eXBlID0gbmUuQmxvY2ssIHRoaXMuaW5saW5lVG9vbHMgPSBuZXcgRigpLCB0aGlzLnR1bmVzID0gbmV3IEYoKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBuZXcgVG9vbCBpbnN0YW5jZVxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSAtIFRvb2wgZGF0YVxuICAgKiBAcGFyYW0gYmxvY2sgLSBCbG9ja0FQSSBmb3IgY3VycmVudCBCbG9ja1xuICAgKiBAcGFyYW0gcmVhZE9ubHkgLSBUcnVlIGlmIEVkaXRvciBpcyBpbiByZWFkLW9ubHkgbW9kZVxuICAgKi9cbiAgY3JlYXRlKGUsIHQsIG8pIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0YWJsZSh7XG4gICAgICBkYXRhOiBlLFxuICAgICAgYmxvY2s6IHQsXG4gICAgICByZWFkT25seTogbyxcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBjb25maWc6IHRoaXMuc2V0dGluZ3NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZCBieSBUb29sXG4gICAqL1xuICBnZXQgaXNSZWFkT25seVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3RhYmxlW2NlLklzUmVhZE9ubHlTdXBwb3J0ZWRdID09PSAhMDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIFRvb2wgc3VwcG9ydHMgbGluZWJyZWFrc1xuICAgKi9cbiAgZ2V0IGlzTGluZUJyZWFrc0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtjZS5Jc0VuYWJsZWRMaW5lQnJlYWtzXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBUb29sIHRvb2xib3ggY29uZmlndXJhdGlvbiAoaW50ZXJuYWwgb3IgdXNlci1zcGVjaWZpZWQpLlxuICAgKlxuICAgKiBNZXJnZXMgaW50ZXJuYWwgYW5kIHVzZXItZGVmaW5lZCB0b29sYm94IGNvbmZpZ3MgYmFzZWQgb24gdGhlIGZvbGxvd2luZyBydWxlczpcbiAgICpcbiAgICogLSBJZiBib3RoIGludGVybmFsIGFuZCB1c2VyLWRlZmluZWQgdG9vbGJveCBjb25maWdzIGFyZSBhcnJheXMgdGhlaXIgaXRlbXMgYXJlIG1lcmdlZC5cbiAgICogTGVuZ3RoIG9mIHRoZSBzZWNvbmQgb25lIGlzIGtlcHQuXG4gICAqXG4gICAqIC0gSWYgYm90aCBhcmUgb2JqZWN0cyB0aGVpciBwcm9wZXJ0aWVzIGFyZSBtZXJnZWQuXG4gICAqXG4gICAqIC0gSWYgb25lIGlzIGFuIG9iamVjdCBhbmQgYW5vdGhlciBpcyBhbiBhcnJheSB0aGFuIGludGVybmFsIGNvbmZpZyBpcyByZXBsYWNlZCB3aXRoIHVzZXItZGVmaW5lZFxuICAgKiBjb25maWcuIFRoaXMgaXMgbWFkZSB0byBhbGxvdyB1c2VyIHRvIG92ZXJyaWRlIGRlZmF1bHQgdG9vbCdzIHRvb2xib3ggcmVwcmVzZW50YXRpb24gKHNpbmdsZS9tdWx0aXBsZSBlbnRyaWVzKVxuICAgKi9cbiAgZ2V0IHRvb2xib3goKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuY29uc3RydWN0YWJsZVtjZS5Ub29sYm94XSwgdCA9IHRoaXMuY29uZmlnW0llLlRvb2xib3hdO1xuICAgIGlmICghVihlKSAmJiB0ICE9PSAhMSlcbiAgICAgIHJldHVybiB0ID8gQXJyYXkuaXNBcnJheShlKSA/IEFycmF5LmlzQXJyYXkodCkgPyB0Lm1hcCgobywgaSkgPT4ge1xuICAgICAgICBjb25zdCBzID0gZVtpXTtcbiAgICAgICAgcmV0dXJuIHMgPyB7XG4gICAgICAgICAgLi4ucyxcbiAgICAgICAgICAuLi5vXG4gICAgICAgIH0gOiBvO1xuICAgICAgfSkgOiBbdF0gOiBBcnJheS5pc0FycmF5KHQpID8gdCA6IFtcbiAgICAgICAge1xuICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgLi4udFxuICAgICAgICB9XG4gICAgICBdIDogQXJyYXkuaXNBcnJheShlKSA/IGUgOiBbZV07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBjb252ZXJzaW9uIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGdldCBjb252ZXJzaW9uQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGFibGVbY2UuQ29udmVyc2lvbkNvbmZpZ107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZW5hYmxlZCBpbmxpbmUgdG9vbHMgZm9yIFRvb2xcbiAgICovXG4gIGdldCBlbmFibGVkSW5saW5lVG9vbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnW0llLkVuYWJsZWRJbmxpbmVUb29sc10gfHwgITE7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZW5hYmxlZCB0dW5lcyBmb3IgVG9vbFxuICAgKi9cbiAgZ2V0IGVuYWJsZWRCbG9ja1R1bmVzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ1tJZS5FbmFibGVkQmxvY2tUdW5lc107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBwYXN0ZSBjb25maWd1cmF0aW9uXG4gICAqL1xuICBnZXQgcGFzdGVDb25maWcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0YWJsZVtjZS5QYXN0ZUNvbmZpZ10gPz8ge307XG4gIH1cbiAgZ2V0IHNhbml0aXplQ29uZmlnKCkge1xuICAgIGNvbnN0IGUgPSBzdXBlci5zYW5pdGl6ZUNvbmZpZywgdCA9IHRoaXMuYmFzZVNhbml0aXplQ29uZmlnO1xuICAgIGlmIChWKGUpKVxuICAgICAgcmV0dXJuIHQ7XG4gICAgY29uc3QgbyA9IHt9O1xuICAgIGZvciAoY29uc3QgaSBpbiBlKVxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBpKSkge1xuICAgICAgICBjb25zdCBzID0gZVtpXTtcbiAgICAgICAgUihzKSA/IG9baV0gPSBPYmplY3QuYXNzaWduKHt9LCB0LCBzKSA6IG9baV0gPSBzO1xuICAgICAgfVxuICAgIHJldHVybiBvO1xuICB9XG4gIGdldCBiYXNlU2FuaXRpemVDb25maWcoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuaW5saW5lVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IE9iamVjdC5hc3NpZ24oZSwgdC5zYW5pdGl6ZUNvbmZpZykpLCBBcnJheS5mcm9tKHRoaXMudHVuZXMudmFsdWVzKCkpLmZvckVhY2goKHQpID0+IE9iamVjdC5hc3NpZ24oZSwgdC5zYW5pdGl6ZUNvbmZpZykpLCBlO1xuICB9XG59XG5obyhbXG4gIHVlXG5dLCBndC5wcm90b3R5cGUsIFwic2FuaXRpemVDb25maWdcIiwgMSk7XG5obyhbXG4gIHVlXG5dLCBndC5wcm90b3R5cGUsIFwiYmFzZVNhbml0aXplQ29uZmlnXCIsIDEpO1xuY2xhc3MgYnMge1xuICAvKipcbiAgICogQGNsYXNzXG4gICAqIEBwYXJhbSBjb25maWcgLSB0b29scyBjb25maWdcbiAgICogQHBhcmFtIGVkaXRvckNvbmZpZyAtIEVkaXRvckpTIGNvbmZpZ1xuICAgKiBAcGFyYW0gYXBpIC0gRWRpdG9ySlMgQVBJIG1vZHVsZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZSwgdCwgbykge1xuICAgIHRoaXMuYXBpID0gbywgdGhpcy5jb25maWcgPSBlLCB0aGlzLmVkaXRvckNvbmZpZyA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgVG9vbCBvYmplY3QgYmFzZWQgb24gaXQncyB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gdG9vbCBuYW1lXG4gICAqL1xuICBnZXQoZSkge1xuICAgIGNvbnN0IHsgY2xhc3M6IHQsIGlzSW50ZXJuYWw6IG8gPSAhMSwgLi4uaSB9ID0gdGhpcy5jb25maWdbZV0sIHMgPSB0aGlzLmdldENvbnN0cnVjdG9yKHQpLCByID0gdFtldC5Jc1R1bmVdO1xuICAgIHJldHVybiBuZXcgcyh7XG4gICAgICBuYW1lOiBlLFxuICAgICAgY29uc3RydWN0YWJsZTogdCxcbiAgICAgIGNvbmZpZzogaSxcbiAgICAgIGFwaTogdGhpcy5hcGkuZ2V0TWV0aG9kc0ZvclRvb2woZSwgciksXG4gICAgICBpc0RlZmF1bHQ6IGUgPT09IHRoaXMuZWRpdG9yQ29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICAgIGRlZmF1bHRQbGFjZWhvbGRlcjogdGhpcy5lZGl0b3JDb25maWcucGxhY2Vob2xkZXIsXG4gICAgICBpc0ludGVybmFsOiBvXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgYXBwcm9wcmlhdGUgVG9vbCBvYmplY3QgY29uc3RydWN0b3IgZm9yIFRvb2wgY29uc3RydWN0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0gY29uc3RydWN0YWJsZSAtIFRvb2xzIGNvbnN0cnVjdGFibGVcbiAgICovXG4gIGdldENvbnN0cnVjdG9yKGUpIHtcbiAgICBzd2l0Y2ggKCEwKSB7XG4gICAgICBjYXNlIGVbY3QuSXNJbmxpbmVdOlxuICAgICAgICByZXR1cm4gcHM7XG4gICAgICBjYXNlIGVbZXQuSXNUdW5lXTpcbiAgICAgICAgcmV0dXJuIGZzO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGd0O1xuICAgIH1cbiAgfVxufVxuY2xhc3MgdW8ge1xuICAvKipcbiAgICogTW92ZURvd25UdW5lIGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7QVBJfSBhcGkgXHUyMDE0IEVkaXRvcidzIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGk6IGUgfSkge1xuICAgIHRoaXMuQ1NTID0ge1xuICAgICAgYW5pbWF0aW9uOiBcIndvYmJsZVwiXG4gICAgfSwgdGhpcy5hcGkgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBUdW5lJ3MgYXBwZWFyYW5jZSBpbiBibG9jayBzZXR0aW5ncyBtZW51XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IGtpLFxuICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIk1vdmUgZG93blwiKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuaGFuZGxlQ2xpY2soKSxcbiAgICAgIG5hbWU6IFwibW92ZS1kb3duXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgY2xpY2tzIG9uICdtb3ZlIGRvd24nIGJ1dHRvblxuICAgKi9cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpLCB0ID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChlICsgMSk7XG4gICAgaWYgKCF0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIG1vdmUgQmxvY2sgZG93biBzaW5jZSBpdCBpcyBhbHJlYWR5IHRoZSBsYXN0XCIpO1xuICAgIGNvbnN0IG8gPSB0LmhvbGRlciwgaSA9IG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHMgPSBNYXRoLmFicyh3aW5kb3cuaW5uZXJIZWlnaHQgLSBvLm9mZnNldEhlaWdodCk7XG4gICAgaS50b3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgJiYgKHMgPSB3aW5kb3cuc2Nyb2xsWSArIG8ub2Zmc2V0SGVpZ2h0KSwgd2luZG93LnNjcm9sbFRvKDAsIHMpLCB0aGlzLmFwaS5ibG9ja3MubW92ZShlICsgMSksIHRoaXMuYXBpLnRvb2xiYXIudG9nZ2xlQmxvY2tTZXR0aW5ncyghMCk7XG4gIH1cbn1cbnVvLmlzVHVuZSA9ICEwO1xuY2xhc3MgcG8ge1xuICAvKipcbiAgICogRGVsZXRlVHVuZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0FQSX0gYXBpIC0gRWRpdG9yJ3MgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5hcGkgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBUdW5lJ3MgYXBwZWFyYW5jZSBpbiBibG9jayBzZXR0aW5ncyBtZW51XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHlpLFxuICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIkRlbGV0ZVwiKSxcbiAgICAgIG5hbWU6IFwiZGVsZXRlXCIsXG4gICAgICBjb25maXJtYXRpb246IHtcbiAgICAgICAgdGl0bGU6IHRoaXMuYXBpLmkxOG4udChcIkNsaWNrIHRvIGRlbGV0ZVwiKSxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5oYW5kbGVDbGljaygpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGJsb2NrIGNvbmRpdGlvbnMgcGFzc2VkXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICB0aGlzLmFwaS5ibG9ja3MuZGVsZXRlKCk7XG4gIH1cbn1cbnBvLmlzVHVuZSA9ICEwO1xuY2xhc3MgZm8ge1xuICAvKipcbiAgICogTW92ZVVwVHVuZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcGFyYW0ge0FQSX0gYXBpIC0gRWRpdG9yJ3MgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGFwaTogZSB9KSB7XG4gICAgdGhpcy5DU1MgPSB7XG4gICAgICBhbmltYXRpb246IFwid29iYmxlXCJcbiAgICB9LCB0aGlzLmFwaSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFR1bmUncyBhcHBlYXJhbmNlIGluIGJsb2NrIHNldHRpbmdzIG1lbnVcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogeGksXG4gICAgICB0aXRsZTogdGhpcy5hcGkuaTE4bi50KFwiTW92ZSB1cFwiKSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHRoaXMuaGFuZGxlQ2xpY2soKSxcbiAgICAgIG5hbWU6IFwibW92ZS11cFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTW92ZSBjdXJyZW50IGJsb2NrIHVwXG4gICAqL1xuICBoYW5kbGVDbGljaygpIHtcbiAgICBjb25zdCBlID0gdGhpcy5hcGkuYmxvY2tzLmdldEN1cnJlbnRCbG9ja0luZGV4KCksIHQgPSB0aGlzLmFwaS5ibG9ja3MuZ2V0QmxvY2tCeUluZGV4KGUpLCBvID0gdGhpcy5hcGkuYmxvY2tzLmdldEJsb2NrQnlJbmRleChlIC0gMSk7XG4gICAgaWYgKGUgPT09IDAgfHwgIXQgfHwgIW8pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbW92ZSBCbG9jayB1cCBzaW5jZSBpdCBpcyBhbHJlYWR5IHRoZSBmaXJzdFwiKTtcbiAgICBjb25zdCBpID0gdC5ob2xkZXIsIHMgPSBvLmhvbGRlciwgciA9IGkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGwgPSBzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBhO1xuICAgIGwudG9wID4gMCA/IGEgPSBNYXRoLmFicyhyLnRvcCkgLSBNYXRoLmFicyhsLnRvcCkgOiBhID0gTWF0aC5hYnMoci50b3ApICsgbC5oZWlnaHQsIHdpbmRvdy5zY3JvbGxCeSgwLCAtMSAqIGEpLCB0aGlzLmFwaS5ibG9ja3MubW92ZShlIC0gMSksIHRoaXMuYXBpLnRvb2xiYXIudG9nZ2xlQmxvY2tTZXR0aW5ncyghMCk7XG4gIH1cbn1cbmZvLmlzVHVuZSA9ICEwO1xudmFyIGtzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCB2cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIHdzID0gKG4sIGUsIHQsIG8pID0+IHtcbiAgZm9yICh2YXIgaSA9IG8gPiAxID8gdm9pZCAwIDogbyA/IHZzKGUsIHQpIDogZSwgcyA9IG4ubGVuZ3RoIC0gMSwgcjsgcyA+PSAwOyBzLS0pXG4gICAgKHIgPSBuW3NdKSAmJiAoaSA9IChvID8gcihlLCB0LCBpKSA6IHIoaSkpIHx8IGkpO1xuICByZXR1cm4gbyAmJiBpICYmIGtzKGUsIHQsIGkpLCBpO1xufTtcbmNsYXNzIGdvIGV4dGVuZHMgeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuc3R1YlRvb2wgPSBcInN0dWJcIiwgdGhpcy50b29sc0F2YWlsYWJsZSA9IG5ldyBGKCksIHRoaXMudG9vbHNVbmF2YWlsYWJsZSA9IG5ldyBGKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYXZhaWxhYmxlIFRvb2xzXG4gICAqL1xuICBnZXQgYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnRvb2xzQXZhaWxhYmxlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHVuYXZhaWxhYmxlIFRvb2xzXG4gICAqL1xuICBnZXQgdW5hdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9vbHNVbmF2YWlsYWJsZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIFRvb2xzIGZvciB0aGUgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIGdldCBpbmxpbmVUb29scygpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuaW5saW5lVG9vbHM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBlZGl0b3IgYmxvY2sgdG9vbHNcbiAgICovXG4gIGdldCBibG9ja1Rvb2xzKCkge1xuICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZS5ibG9ja1Rvb2xzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYXZhaWxhYmxlIEJsb2NrIFR1bmVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IC0gb2JqZWN0IG9mIElubGluZSBUb29sJ3MgY2xhc3Nlc1xuICAgKi9cbiAgZ2V0IGJsb2NrVHVuZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXZhaWxhYmxlLmJsb2NrVHVuZXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgZGVmYXVsdCBUb29sIG9iamVjdFxuICAgKi9cbiAgZ2V0IGRlZmF1bHRUb29sKCkge1xuICAgIHJldHVybiB0aGlzLmJsb2NrVG9vbHMuZ2V0KHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgaW50ZXJuYWwgdG9vbHNcbiAgICovXG4gIGdldCBpbnRlcm5hbCgpIHtcbiAgICByZXR1cm4gdGhpcy5hdmFpbGFibGUuaW50ZXJuYWxUb29scztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBpbnN0YW5jZXMgdmlhIHBhc3NlZCBvciBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBhc3luYyBwcmVwYXJlKCkge1xuICAgIGlmICh0aGlzLnZhbGlkYXRlVG9vbHMoKSwgdGhpcy5jb25maWcudG9vbHMgPSBxZSh7fSwgdGhpcy5pbnRlcm5hbFRvb2xzLCB0aGlzLmNvbmZpZy50b29scyksICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jb25maWcsIFwidG9vbHNcIikgfHwgT2JqZWN0LmtleXModGhpcy5jb25maWcudG9vbHMpLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgd2l0aG91dCB0b29sc1wiKTtcbiAgICBjb25zdCBlID0gdGhpcy5wcmVwYXJlQ29uZmlnKCk7XG4gICAgdGhpcy5mYWN0b3J5ID0gbmV3IGJzKGUsIHRoaXMuY29uZmlnLCB0aGlzLkVkaXRvci5BUEkpO1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldExpc3RPZlByZXBhcmVGdW5jdGlvbnMoZSk7XG4gICAgaWYgKHQubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGF3YWl0IEVvKHQsIChvKSA9PiB7XG4gICAgICB0aGlzLnRvb2xQcmVwYXJlTWV0aG9kU3VjY2VzcyhvKTtcbiAgICB9LCAobykgPT4ge1xuICAgICAgdGhpcy50b29sUHJlcGFyZU1ldGhvZEZhbGxiYWNrKG8pO1xuICAgIH0pLCB0aGlzLnByZXBhcmVCbG9ja1Rvb2xzKCk7XG4gIH1cbiAgZ2V0QWxsSW5saW5lVG9vbHNTYW5pdGl6ZUNvbmZpZygpIHtcbiAgICBjb25zdCBlID0ge307XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5pbmxpbmVUb29scy52YWx1ZXMoKSkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgT2JqZWN0LmFzc2lnbihlLCB0LnNhbml0aXplQ29uZmlnKTtcbiAgICB9KSwgZTtcbiAgfVxuICAvKipcbiAgICogQ2FsbHMgZWFjaCBUb29sIHJlc2V0IG1ldGhvZCB0byBjbGVhbiB1cCBhbnl0aGluZyBzZXQgYnkgVG9vbFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBPYmplY3QudmFsdWVzKHRoaXMuYXZhaWxhYmxlKS5mb3JFYWNoKGFzeW5jIChlKSA9PiB7XG4gICAgICBPKGUucmVzZXQpICYmIGF3YWl0IGUucmVzZXQoKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBpbnRlcm5hbCB0b29sc1xuICAgKiBJbmNsdWRlcyBCb2xkLCBJdGFsaWMsIExpbmsgYW5kIFBhcmFncmFwaFxuICAgKi9cbiAgZ2V0IGludGVybmFsVG9vbHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnZlcnRUbzoge1xuICAgICAgICBjbGFzczogYW8sXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgbGluazoge1xuICAgICAgICBjbGFzczogZnQsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgYm9sZDoge1xuICAgICAgICBjbGFzczogdXQsXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgaXRhbGljOiB7XG4gICAgICAgIGNsYXNzOiBwdCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBwYXJhZ3JhcGg6IHtcbiAgICAgICAgY2xhc3M6IGh0LFxuICAgICAgICBpbmxpbmVUb29sYmFyOiAhMCxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBzdHViOiB7XG4gICAgICAgIGNsYXNzOiBjbyxcbiAgICAgICAgaXNJbnRlcm5hbDogITBcbiAgICAgIH0sXG4gICAgICBtb3ZlVXA6IHtcbiAgICAgICAgY2xhc3M6IGZvLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfSxcbiAgICAgIGRlbGV0ZToge1xuICAgICAgICBjbGFzczogcG8sXG4gICAgICAgIGlzSW50ZXJuYWw6ICEwXG4gICAgICB9LFxuICAgICAgbW92ZURvd246IHtcbiAgICAgICAgY2xhc3M6IHVvLFxuICAgICAgICBpc0ludGVybmFsOiAhMFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgcHJlcGFyZSBtZXRob2Qgc3VjY2VzcyBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGFwcGVuZCB0b29sIHRvIGF2YWlsYWJsZSBsaXN0XG4gICAqL1xuICB0b29sUHJlcGFyZU1ldGhvZFN1Y2Nlc3MoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmZhY3RvcnkuZ2V0KGUudG9vbE5hbWUpO1xuICAgIGlmICh0LmlzSW5saW5lKCkpIHtcbiAgICAgIGNvbnN0IGkgPSBbXCJyZW5kZXJcIl0uZmlsdGVyKChzKSA9PiAhdC5jcmVhdGUoKVtzXSk7XG4gICAgICBpZiAoaS5sZW5ndGgpIHtcbiAgICAgICAgSShcbiAgICAgICAgICBgSW5jb3JyZWN0IElubGluZSBUb29sOiAke3QubmFtZX0uIFNvbWUgb2YgcmVxdWlyZWQgbWV0aG9kcyBpcyBub3QgaW1wbGVtZW50ZWQgJW9gLFxuICAgICAgICAgIFwid2FyblwiLFxuICAgICAgICAgIGlcbiAgICAgICAgKSwgdGhpcy50b29sc1VuYXZhaWxhYmxlLnNldCh0Lm5hbWUsIHQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudG9vbHNBdmFpbGFibGUuc2V0KHQubmFtZSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvb2wgcHJlcGFyZSBtZXRob2QgZmFpbCBjYWxsYmFja1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSAtIGFwcGVuZCB0b29sIHRvIHVuYXZhaWxhYmxlIGxpc3RcbiAgICovXG4gIHRvb2xQcmVwYXJlTWV0aG9kRmFsbGJhY2soZSkge1xuICAgIHRoaXMudG9vbHNVbmF2YWlsYWJsZS5zZXQoZS50b29sTmFtZSwgdGhpcy5mYWN0b3J5LmdldChlLnRvb2xOYW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIEJpbmRzIHByZXBhcmUgZnVuY3Rpb24gb2YgcGx1Z2lucyB3aXRoIHVzZXIgb3IgZGVmYXVsdCBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fSBsaXN0IG9mIGZ1bmN0aW9ucyB0aGF0IG5lZWRzIHRvIGJlIGZpcmVkIHNlcXVlbnRpYWxseVxuICAgKiBAcGFyYW0gY29uZmlnIC0gdG9vbHMgY29uZmlnXG4gICAqL1xuICBnZXRMaXN0T2ZQcmVwYXJlRnVuY3Rpb25zKGUpIHtcbiAgICBjb25zdCB0ID0gW107XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGUpLmZvckVhY2goKFtvLCBpXSkgPT4ge1xuICAgICAgdC5wdXNoKHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgICAgICBmdW5jdGlvbjogTyhpLmNsYXNzLnByZXBhcmUpID8gaS5jbGFzcy5wcmVwYXJlIDogKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdG9vbE5hbWU6IG8sXG4gICAgICAgICAgY29uZmlnOiBpLmNvbmZpZ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSwgdDtcbiAgfVxuICAvKipcbiAgICogQXNzaWduIGVuYWJsZWQgSW5saW5lIFRvb2xzIGFuZCBCbG9jayBUdW5lcyBmb3IgQmxvY2sgVG9vbFxuICAgKi9cbiAgcHJlcGFyZUJsb2NrVG9vbHMoKSB7XG4gICAgQXJyYXkuZnJvbSh0aGlzLmJsb2NrVG9vbHMudmFsdWVzKCkpLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHRoaXMuYXNzaWduSW5saW5lVG9vbHNUb0Jsb2NrVG9vbChlKSwgdGhpcy5hc3NpZ25CbG9ja1R1bmVzVG9CbG9ja1Rvb2woZSk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFzc2lnbiBlbmFibGVkIElubGluZSBUb29scyBmb3IgQmxvY2sgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0gdG9vbCAtIEJsb2NrIFRvb2xcbiAgICovXG4gIGFzc2lnbklubGluZVRvb2xzVG9CbG9ja1Rvb2woZSkge1xuICAgIGlmICh0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyICE9PSAhMSkge1xuICAgICAgaWYgKGUuZW5hYmxlZElubGluZVRvb2xzID09PSAhMCkge1xuICAgICAgICBlLmlubGluZVRvb2xzID0gbmV3IEYoXG4gICAgICAgICAgQXJyYXkuaXNBcnJheSh0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyKSA/IHRoaXMuY29uZmlnLmlubGluZVRvb2xiYXIubWFwKCh0KSA9PiBbdCwgdGhpcy5pbmxpbmVUb29scy5nZXQodCldKSA6IEFycmF5LmZyb20odGhpcy5pbmxpbmVUb29scy5lbnRyaWVzKCkpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIEFycmF5LmlzQXJyYXkoZS5lbmFibGVkSW5saW5lVG9vbHMpICYmIChlLmlubGluZVRvb2xzID0gbmV3IEYoXG4gICAgICAgIC8qKiBQcmVwZW5kIENvbnZlcnRUbyBJbmxpbmUgVG9vbCAqL1xuICAgICAgICBbXCJjb252ZXJ0VG9cIiwgLi4uZS5lbmFibGVkSW5saW5lVG9vbHNdLm1hcCgodCkgPT4gW3QsIHRoaXMuaW5saW5lVG9vbHMuZ2V0KHQpXSlcbiAgICAgICkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQXNzaWduIGVuYWJsZWQgQmxvY2sgVHVuZXMgZm9yIEJsb2NrIFRvb2xcbiAgICpcbiAgICogQHBhcmFtIHRvb2wgXHUyMDE0IEJsb2NrIFRvb2xcbiAgICovXG4gIGFzc2lnbkJsb2NrVHVuZXNUb0Jsb2NrVG9vbChlKSB7XG4gICAgaWYgKGUuZW5hYmxlZEJsb2NrVHVuZXMgIT09ICExKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShlLmVuYWJsZWRCbG9ja1R1bmVzKSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IEYoXG4gICAgICAgICAgZS5lbmFibGVkQmxvY2tUdW5lcy5tYXAoKG8pID0+IFtvLCB0aGlzLmJsb2NrVHVuZXMuZ2V0KG8pXSlcbiAgICAgICAgKTtcbiAgICAgICAgZS50dW5lcyA9IG5ldyBGKFsuLi50LCAuLi50aGlzLmJsb2NrVHVuZXMuaW50ZXJuYWxUb29sc10pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmNvbmZpZy50dW5lcykpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBGKFxuICAgICAgICAgIHRoaXMuY29uZmlnLnR1bmVzLm1hcCgobykgPT4gW28sIHRoaXMuYmxvY2tUdW5lcy5nZXQobyldKVxuICAgICAgICApO1xuICAgICAgICBlLnR1bmVzID0gbmV3IEYoWy4uLnQsIC4uLnRoaXMuYmxvY2tUdW5lcy5pbnRlcm5hbFRvb2xzXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGUudHVuZXMgPSB0aGlzLmJsb2NrVHVuZXMuaW50ZXJuYWxUb29scztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIFRvb2xzIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyBhbmQgdGhyb3cgRXJyb3IgZm9yIHVzZXIgaWYgaXQgaXMgaW52YWxpZFxuICAgKi9cbiAgdmFsaWRhdGVUb29scygpIHtcbiAgICBmb3IgKGNvbnN0IGUgaW4gdGhpcy5jb25maWcudG9vbHMpXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY29uZmlnLnRvb2xzLCBlKSkge1xuICAgICAgICBpZiAoZSBpbiB0aGlzLmludGVybmFsVG9vbHMpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jb25maWcudG9vbHNbZV07XG4gICAgICAgIGlmICghTyh0KSAmJiAhTyh0LmNsYXNzKSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIGBUb29sIFx1MDBBQiR7ZX1cdTAwQkIgbXVzdCBiZSBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGZ1bmN0aW9uIGluIHRoZSBcdTAwQUJjbGFzc1x1MDBCQiBwcm9wZXJ0eWBcbiAgICAgICAgICApO1xuICAgICAgfVxuICB9XG4gIC8qKlxuICAgKiBVbmlmeSB0b29scyBjb25maWdcbiAgICovXG4gIHByZXBhcmVDb25maWcoKSB7XG4gICAgY29uc3QgZSA9IHt9O1xuICAgIGZvciAoY29uc3QgdCBpbiB0aGlzLmNvbmZpZy50b29scylcbiAgICAgIFIodGhpcy5jb25maWcudG9vbHNbdF0pID8gZVt0XSA9IHRoaXMuY29uZmlnLnRvb2xzW3RdIDogZVt0XSA9IHsgY2xhc3M6IHRoaXMuY29uZmlnLnRvb2xzW3RdIH07XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cbndzKFtcbiAgdWVcbl0sIGdvLnByb3RvdHlwZSwgXCJnZXRBbGxJbmxpbmVUb29sc1Nhbml0aXplQ29uZmlnXCIsIDEpO1xuY29uc3QgeHMgPSBgOnJvb3R7LS1zZWxlY3Rpb25Db2xvcjogI2UxZjJmZjstLWlubGluZVNlbGVjdGlvbkNvbG9yOiAjZDRlY2ZmOy0tYmctbGlnaHQ6ICNlZmYyZjU7LS1ncmF5VGV4dDogIzcwNzY4NDstLWNvbG9yLWRhcms6ICMxRDIwMkI7LS1jb2xvci1hY3RpdmUtaWNvbjogIzM4OEFFNTstLWNvbG9yLWdyYXktYm9yZGVyOiByZ2JhKDIwMSwgMjAxLCAyMDQsIC40OCk7LS1jb250ZW50LXdpZHRoOiA2NTBweDstLW5hcnJvdy1tb2RlLXJpZ2h0LXBhZGRpbmc6IDUwcHg7LS10b29sYm94LWJ1dHRvbnMtc2l6ZTogMjZweDstLXRvb2xib3gtYnV0dG9ucy1zaXplLS1tb2JpbGU6IDM2cHg7LS1pY29uLXNpemU6IDIwcHg7LS1pY29uLXNpemUtLW1vYmlsZTogMjhweDstLWJsb2NrLXBhZGRpbmctdmVydGljYWw6IC40ZW07LS1jb2xvci1saW5lLWdyYXk6ICNFRkYwRjEgfS5jb2RleC1lZGl0b3J7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3otaW5kZXg6MX0uY29kZXgtZWRpdG9yIC5oaWRle2Rpc3BsYXk6bm9uZX0uY29kZXgtZWRpdG9yX19yZWRhY3RvciBbY29udGVudGVkaXRhYmxlXTplbXB0eTphZnRlcntjb250ZW50OlwiXFxcXGZlZmZcIn1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY29kZXgtZWRpdG9yX19yZWRhY3RvcnttYXJnaW4tcmlnaHQ6NTBweH19QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cuY29kZXgtZWRpdG9yLS1ydGwgLmNvZGV4LWVkaXRvcl9fcmVkYWN0b3J7bWFyZ2luLWxlZnQ6NTBweDttYXJnaW4tcmlnaHQ6MH19QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLXRvb2xiYXJfX2FjdGlvbnN7cmlnaHQ6LTVweH19LmNvZGV4LWVkaXRvci1jb3B5YWJsZXtwb3NpdGlvbjphYnNvbHV0ZTtoZWlnaHQ6MXB4O3dpZHRoOjFweDt0b3A6LTQwMCU7b3BhY2l0eTouMDAxfS5jb2RleC1lZGl0b3Itb3ZlcmxheXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDt6LWluZGV4Ojk5OTtwb2ludGVyLWV2ZW50czpub25lO292ZXJmbG93OmhpZGRlbn0uY29kZXgtZWRpdG9yLW92ZXJsYXlfX2NvbnRhaW5lcntwb3NpdGlvbjpyZWxhdGl2ZTtwb2ludGVyLWV2ZW50czphdXRvO3otaW5kZXg6MH0uY29kZXgtZWRpdG9yLW92ZXJsYXlfX3JlY3RhbmdsZXtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO2JhY2tncm91bmQtY29sb3I6IzJlYWFkYzMzO2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LmNvZGV4LWVkaXRvciBzdmd7bWF4LWhlaWdodDoxMDAlfS5jb2RleC1lZGl0b3IgcGF0aHtzdHJva2U6Y3VycmVudENvbG9yfS5jb2RleC1lZGl0b3IgOjotbW96LXNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOiNkNGVjZmZ9LmNvZGV4LWVkaXRvciA6OnNlbGVjdGlvbntiYWNrZ3JvdW5kLWNvbG9yOiNkNGVjZmZ9LmNvZGV4LWVkaXRvci0tdG9vbGJveC1vcGVuZWQgW2NvbnRlbnRFZGl0YWJsZT10cnVlXVtkYXRhLXBsYWNlaG9sZGVyXTpmb2N1czpiZWZvcmV7b3BhY2l0eTowIWltcG9ydGFudH0uY2Utc2Nyb2xsLWxvY2tlZHtvdmVyZmxvdzpoaWRkZW59LmNlLXNjcm9sbC1sb2NrZWQtLWhhcmR7b3ZlcmZsb3c6aGlkZGVuO3RvcDpjYWxjKC0xICogdmFyKC0td2luZG93LXNjcm9sbC1vZmZzZXQpKTtwb3NpdGlvbjpmaXhlZDt3aWR0aDoxMDAlfS5jZS10b29sYmFye3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtyaWdodDowO3RvcDowOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlO3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZTt3aWxsLWNoYW5nZTpvcGFjaXR5LHRvcDtkaXNwbGF5Om5vbmV9LmNlLXRvb2xiYXItLW9wZW5lZHtkaXNwbGF5OmJsb2NrfS5jZS10b29sYmFyX19jb250ZW50e21heC13aWR0aDo2NTBweDttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5jZS10b29sYmFyX19wbHVze2NvbG9yOiMxZDIwMmI7Y3Vyc29yOnBvaW50ZXI7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjdweDtkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lOy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19wbHVze3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtdG9vbGJhcl9fcGx1czpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZmYyZjV9fS5jZS10b29sYmFyX19wbHVzLS1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1Oy13ZWJraXQtYW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTthbmltYXRpb246Ym91bmNlSW4gLjc1cyAxOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfS5jZS10b29sYmFyX19wbHVzLXNob3J0Y3V0e29wYWNpdHk6LjY7d29yZC1zcGFjaW5nOi0ycHg7bWFyZ2luLXRvcDo1cHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fcGx1c3twb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjRThFOEVCOy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggcmdiYSgxMywyMCwzMywuMTMpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDt6LWluZGV4OjI7cG9zaXRpb246c3RhdGljfS5jZS10b29sYmFyX19wbHVzLS1sZWZ0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OjE1cHg7bWFyZ2luLWxlZnQ6MH0uY2UtdG9vbGJhcl9fcGx1cy0tcmlnaHQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6YXV0bztyaWdodDoxNXB4O21hcmdpbi1sZWZ0OjB9fS5jZS10b29sYmFyX19hY3Rpb25ze3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjEwMCU7b3BhY2l0eTowO2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cGFkZGluZy1yaWdodDo1cHh9LmNlLXRvb2xiYXJfX2FjdGlvbnMtLW9wZW5lZHtvcGFjaXR5OjF9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtdG9vbGJhcl9fYWN0aW9uc3tyaWdodDphdXRvfX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRue2NvbG9yOiMxZDIwMmI7d2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjdweDtkaXNwbGF5Oi13ZWJraXQtaW5saW5lLWJveDtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4Oy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTttYXJnaW4tbGVmdDozcHg7Y3Vyc29yOnBvaW50ZXI7dXNlci1zZWxlY3Q6bm9uZX1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG57d2lkdGg6MzZweDtoZWlnaHQ6MzZweH19QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS10b29sYmFyX19zZXR0aW5ncy1idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1hY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1Oy13ZWJraXQtYW5pbWF0aW9uOmJvdW5jZUluIC43NXMgMTthbmltYXRpb246Ym91bmNlSW4gLjc1cyAxOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpmb3J3YXJkczthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzfUBtZWRpYSAobWluLXdpZHRoOiA2NTFweCl7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bnt3aWR0aDoyNHB4fX0uY2UtdG9vbGJhcl9fc2V0dGluZ3MtYnRuLS1oaWRkZW57ZGlzcGxheTpub25lfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0bntwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjRThFOEVCOy13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxNXB4IC0zcHggcmdiYSgxMywyMCwzMywuMTMpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4ICMwZDE0MjEyMTtib3JkZXItcmFkaXVzOjZweDt6LWluZGV4OjI7cG9zaXRpb246c3RhdGljfS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLWxlZnQtb3JpZW50ZWQ6YmVmb3Jle2xlZnQ6MTVweDttYXJnaW4tbGVmdDowfS5jZS10b29sYmFyX19zZXR0aW5ncy1idG4tLXJpZ2h0LW9yaWVudGVkOmJlZm9yZXtsZWZ0OmF1dG87cmlnaHQ6MTVweDttYXJnaW4tbGVmdDowfX0uY2UtdG9vbGJhcl9fcGx1cyBzdmcsLmNlLXRvb2xiYXJfX3NldHRpbmdzLWJ0biBzdmd7d2lkdGg6MjRweDtoZWlnaHQ6MjRweH1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdyAuY2UtdG9vbGJhcl9fcGx1c3tsZWZ0OjVweH19QG1lZGlhIChtaW4td2lkdGg6IDY1MXB4KXsuY29kZXgtZWRpdG9yLS1uYXJyb3cgLmNlLXRvb2xib3ggLmNlLXBvcG92ZXJ7cmlnaHQ6MDtsZWZ0OmF1dG87bGVmdDppbml0aWFsfX0uY2UtaW5saW5lLXRvb2xiYXJ7LS15LW9mZnNldDogOHB4Oy0tY29sb3ItYmFja2dyb3VuZC1pY29uLWFjdGl2ZTogcmdiYSg1NiwgMTM4LCAyMjksIC4xKTstLWNvbG9yLXRleHQtaWNvbi1hY3RpdmU6ICMzODhBRTU7LS1jb2xvci10ZXh0LXByaW1hcnk6IGJsYWNrO3Bvc2l0aW9uOmFic29sdXRlO3Zpc2liaWxpdHk6aGlkZGVuOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgZWFzZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBlYXNlO3dpbGwtY2hhbmdlOm9wYWNpdHksbGVmdCx0b3A7dG9wOjA7bGVmdDowO3otaW5kZXg6MztvcGFjaXR5OjE7dmlzaWJpbGl0eTp2aXNpYmxlfS5jZS1pbmxpbmUtdG9vbGJhciBbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5jZS1pbmxpbmUtdG9vbGJhcl9fdG9nZ2xlci1hbmQtYnV0dG9uLXdyYXBwZXJ7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO3BhZGRpbmc6MCA2cHh9LmNlLWlubGluZS10b29sYmFyX19idXR0b25ze2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bntkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3BhZGRpbmc6NnB4O21hcmdpbjowIDZweCAwIC02cHg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duOmhvdmVye2JhY2tncm91bmQ6I2VmZjJmNX19LmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi0taGlkZGVue2Rpc3BsYXk6bm9uZX0uY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3duLWNvbnRlbnQsLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1hcnJvd3tkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS5jZS1pbmxpbmUtdG9vbGJhcl9fZHJvcGRvd24tY29udGVudCBzdmcsLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93bi1hcnJvdyBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH0uY2UtaW5saW5lLXRvb2xiYXJfX3Nob3J0Y3V0e29wYWNpdHk6LjY7d29yZC1zcGFjaW5nOi0zcHg7bWFyZ2luLXRvcDozcHh9LmNlLWlubGluZS10b29se2NvbG9yOnZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSk7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6NHB4O2xpbmUtaGVpZ2h0Om5vcm1hbDtoZWlnaHQ6MTAwJTtwYWRkaW5nOjA7d2lkdGg6MjhweDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2N1cnNvcjpwb2ludGVyfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLWlubGluZS10b29se3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9fUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtaW5saW5lLXRvb2w6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZjhmOGY4fX0uY2UtaW5saW5lLXRvb2wgc3Zne2Rpc3BsYXk6YmxvY2s7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1pbmxpbmUtdG9vbCBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19LmNlLWlubGluZS10b29sLS1saW5rIC5pY29uLS11bmxpbmssLmNlLWlubGluZS10b29sLS11bmxpbmsgLmljb24tLWxpbmt7ZGlzcGxheTpub25lfS5jZS1pbmxpbmUtdG9vbC0tdW5saW5rIC5pY29uLS11bmxpbmt7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWJvdHRvbTotMXB4fS5jZS1pbmxpbmUtdG9vbC1pbnB1dHtiYWNrZ3JvdW5kOiNGOEY4Rjg7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIyNiwyMjYsMjI5LC4yKTtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjRweCA4cHg7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MjJweDtvdXRsaW5lOm5vbmU7bWFyZ2luOjA7d2lkdGg6MTAwJTstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpub25lO2ZvbnQtd2VpZ2h0OjUwMDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTtmb250LWZhbWlseTppbmhlcml0fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLWlubGluZS10b29sLWlucHV0e2ZvbnQtc2l6ZToxNXB4O2ZvbnQtd2VpZ2h0OjUwMH19LmNlLWlubGluZS10b29sLWlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODR9LmNlLWlubGluZS10b29sLWlucHV0OjotbW96LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODR9LmNlLWlubGluZS10b29sLWlucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODR9LmNlLWlubGluZS10b29sLWlucHV0OjpwbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0fS5jZS1pbmxpbmUtdG9vbC1pbnB1dC0tc2hvd2Vke2Rpc3BsYXk6YmxvY2t9LmNlLWlubGluZS10b29sLS1hY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWljb24tYWN0aXZlKTtjb2xvcjp2YXIoLS1jb2xvci10ZXh0LWljb24tYWN0aXZlKX1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZS1pbnswJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGZhZGUtaW57MCV7b3BhY2l0eTowfXRve29wYWNpdHk6MX19LmNlLWJsb2Nrey13ZWJraXQtYW5pbWF0aW9uOmZhZGUtaW4gLjNzIGVhc2U7YW5pbWF0aW9uOmZhZGUtaW4gLjNzIGVhc2U7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOm5vbmU7YW5pbWF0aW9uLWZpbGwtbW9kZTpub25lOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTppbml0aWFsO2FuaW1hdGlvbi1maWxsLW1vZGU6aW5pdGlhbH0uY2UtYmxvY2s6Zmlyc3Qtb2YtdHlwZXttYXJnaW4tdG9wOjB9LmNlLWJsb2NrLS1zZWxlY3RlZCAuY2UtYmxvY2tfX2NvbnRlbnR7YmFja2dyb3VuZDojZTFmMmZmfS5jZS1ibG9jay0tc2VsZWN0ZWQgLmNlLWJsb2NrX19jb250ZW50IFtjb250ZW50ZWRpdGFibGVdey13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uY2UtYmxvY2stLXNlbGVjdGVkIC5jZS1ibG9ja19fY29udGVudCBpbWcsLmNlLWJsb2NrLS1zZWxlY3RlZCAuY2UtYmxvY2tfX2NvbnRlbnQgLmNlLXN0dWJ7b3BhY2l0eTouNTV9LmNlLWJsb2NrLS1zdHJldGNoZWQgLmNlLWJsb2NrX19jb250ZW50e21heC13aWR0aDpub25lfS5jZS1ibG9ja19fY29udGVudHtwb3NpdGlvbjpyZWxhdGl2ZTttYXgtd2lkdGg6NjUwcHg7bWFyZ2luOjAgYXV0bzstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMTVzIGVhc2U7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xNXMgZWFzZX0uY2UtYmxvY2stLWRyb3AtdGFyZ2V0IC5jZS1ibG9ja19fY29udGVudDpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMDAlO2xlZnQ6LTIwcHg7bWFyZ2luLXRvcDotMXB4O2hlaWdodDo4cHg7d2lkdGg6OHB4O2JvcmRlcjpzb2xpZCAjMzg4QUU1O2JvcmRlci13aWR0aDoxcHggMXB4IDAgMDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQ7dHJhbnNmb3JtLW9yaWdpbjpyaWdodDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5jZS1ibG9jay0tZHJvcC10YXJnZXQgLmNlLWJsb2NrX19jb250ZW50OmFmdGVye2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtoZWlnaHQ6MXB4O3dpZHRoOjEwMCU7Y29sb3I6IzM4OGFlNTtiYWNrZ3JvdW5kOnJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoOTBkZWcsIzM4OEFFNSwjMzg4QUU1IDFweCwjZmZmIDFweCwjZmZmIDZweCl9LmNlLWJsb2NrIGF7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC10ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNlLWJsb2NrIGJ7Zm9udC13ZWlnaHQ6NzAwfS5jZS1ibG9jayBpe2ZvbnQtc3R5bGU6aXRhbGljfUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VJbnswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCguOSwuOSwuOSk7dHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpfTIwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEuMDMsMS4wMywxLjAzKTt0cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyl9NjAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMSwxLDEpO3RyYW5zZm9ybTpzY2FsZVooMSl9fUBrZXlmcmFtZXMgYm91bmNlSW57MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjksLjksLjkpO3RyYW5zZm9ybTpzY2FsZTNkKC45LC45LC45KX0yMCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAzLDEuMDMsMS4wMyk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMywxLjAzLDEuMDMpfTYwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2VsZWN0aW9uQm91bmNlezAlLDIwJSw0MCUsNjAlLDgwJSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAxLDEuMDEsMS4wMSk7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMSwxLjAxLDEuMDEpfTcwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1Aa2V5ZnJhbWVzIHNlbGVjdGlvbkJvdW5jZXswJSwyMCUsNDAlLDYwJSw4MCUsdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9NTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoMS4wMSwxLjAxLDEuMDEpO3RyYW5zZm9ybTpzY2FsZTNkKDEuMDEsMS4wMSwxLjAxKX03MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLDEsMSk7dHJhbnNmb3JtOnNjYWxlWigxKX19QC13ZWJraXQta2V5ZnJhbWVzIGJ1dHRvbkNsaWNrZWR7MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpO3RyYW5zZm9ybTpzY2FsZTNkKC45NSwuOTUsLjk1KX02MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMik7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMiwxLjAyLDEuMDIpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX1Aa2V5ZnJhbWVzIGJ1dHRvbkNsaWNrZWR7MCUsMjAlLDQwJSw2MCUsODAlLHRvey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpfTAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlM2QoLjk1LC45NSwuOTUpO3RyYW5zZm9ybTpzY2FsZTNkKC45NSwuOTUsLjk1KX02MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLjAyLDEuMDIsMS4wMik7dHJhbnNmb3JtOnNjYWxlM2QoMS4wMiwxLjAyLDEuMDIpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZTNkKDEsMSwxKTt0cmFuc2Zvcm06c2NhbGVaKDEpfX0uY2R4LWJsb2Nre3BhZGRpbmc6LjRlbSAwfS5jZHgtYmxvY2s6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7bGluZS1oZWlnaHQ6bm9ybWFsIWltcG9ydGFudH0uY2R4LWlucHV0e2JvcmRlcjoxcHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpOy13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDFweCAycHggMCByZ2JhKDM1LDQ0LDcyLC4wNik7Ym94LXNoYWRvdzppbnNldCAwIDFweCAycHggIzIzMmM0ODBmO2JvcmRlci1yYWRpdXM6M3B4O3BhZGRpbmc6MTBweCAxMnB4O291dGxpbmU6bm9uZTt3aWR0aDoxMDAlOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uY2R4LWlucHV0W2RhdGEtcGxhY2Vob2xkZXJdOmJlZm9yZXtwb3NpdGlvbjpzdGF0aWMhaW1wb3J0YW50fS5jZHgtaW5wdXRbZGF0YS1wbGFjZWhvbGRlcl06YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjA7d2hpdGUtc3BhY2U6bm93cmFwO3BvaW50ZXItZXZlbnRzOm5vbmV9LmNkeC1zZXR0aW5ncy1idXR0b257ZGlzcGxheTotd2Via2l0LWlubGluZS1ib3g7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JvcmRlci1yYWRpdXM6M3B4O2N1cnNvcjpwb2ludGVyO2JvcmRlcjowO291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O3ZlcnRpY2FsLWFsaWduOmJvdHRvbTtjb2xvcjppbmhlcml0O21hcmdpbjowO21pbi13aWR0aDoyNnB4O21pbi1oZWlnaHQ6MjZweH0uY2R4LXNldHRpbmdzLWJ1dHRvbi0tZm9jdXNlZHtiYWNrZ3JvdW5kOnJnYmEoMzQsMTg2LDI1NSwuMDgpIWltcG9ydGFudH0uY2R4LXNldHRpbmdzLWJ1dHRvbi0tZm9jdXNlZHstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAwIDBweCAxcHggcmdiYSg3LDE2MSwyMjcsLjA4KTtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMDdhMWUzMTR9LmNkeC1zZXR0aW5ncy1idXR0b24tLWZvY3VzZWQtYW5pbWF0ZWR7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpidXR0b25DbGlja2VkO2FuaW1hdGlvbi1uYW1lOmJ1dHRvbkNsaWNrZWQ7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjI1czthbmltYXRpb24tZHVyYXRpb246LjI1c30uY2R4LXNldHRpbmdzLWJ1dHRvbi0tYWN0aXZle2NvbG9yOiMzODhhZTV9LmNkeC1zZXR0aW5ncy1idXR0b24gc3Zne3dpZHRoOmF1dG87aGVpZ2h0OmF1dG99QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2R4LXNldHRpbmdzLWJ1dHRvbiBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2R4LXNldHRpbmdzLWJ1dHRvbnt3aWR0aDozNnB4O2hlaWdodDozNnB4O2JvcmRlci1yYWRpdXM6OHB4fX1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNkeC1zZXR0aW5ncy1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWZmMmY1fX0uY2R4LWxvYWRlcntwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KX0uY2R4LWxvYWRlcjpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO3RvcDo1MCU7d2lkdGg6MThweDtoZWlnaHQ6MThweDttYXJnaW46LTExcHggMCAwIC0xMXB4O2JvcmRlcjoycHggc29saWQgcmdiYSgyMDEsMjAxLDIwNCwuNDgpO2JvcmRlci1sZWZ0LWNvbG9yOiMzODhhZTU7Ym9yZGVyLXJhZGl1czo1MCU7LXdlYmtpdC1hbmltYXRpb246Y2R4Um90YXRpb24gMS4ycyBpbmZpbml0ZSBsaW5lYXI7YW5pbWF0aW9uOmNkeFJvdGF0aW9uIDEuMnMgaW5maW5pdGUgbGluZWFyfUAtd2Via2l0LWtleWZyYW1lcyBjZHhSb3RhdGlvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgwKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgY2R4Um90YXRpb257MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX0uY2R4LWJ1dHRvbntwYWRkaW5nOjEzcHg7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDIwMSwyMDEsMjA0LC40OCk7Zm9udC1zaXplOjE0LjlweDtiYWNrZ3JvdW5kOiNmZmY7LXdlYmtpdC1ib3gtc2hhZG93OjAgMnB4IDJweCAwIHJnYmEoMTgsMzAsNTcsLjA0KTtib3gtc2hhZG93OjAgMnB4IDJweCAjMTIxZTM5MGE7Y29sb3I6IzcwNzY4NDt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcn1AbWVkaWEgKGhvdmVyOiBob3Zlcil7LmNkeC1idXR0b246aG92ZXJ7YmFja2dyb3VuZDojRkJGQ0ZFOy13ZWJraXQtYm94LXNoYWRvdzowIDFweCAzcHggMCByZ2JhKDE4LDMwLDU3LC4wOCk7Ym94LXNoYWRvdzowIDFweCAzcHggIzEyMWUzOTE0fX0uY2R4LWJ1dHRvbiBzdmd7aGVpZ2h0OjIwcHg7bWFyZ2luLXJpZ2h0Oi4yZW07bWFyZ2luLXRvcDotMnB4fS5jZS1zdHVie2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzoxMnB4IDE4cHg7bWFyZ2luOjEwcHggMDtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDojZWZmMmY1O2JvcmRlcjoxcHggc29saWQgI0VGRjBGMTtjb2xvcjojNzA3Njg0O2ZvbnQtc2l6ZToxNHB4fS5jZS1zdHViIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fS5jZS1zdHViX19pbmZve21hcmdpbi1sZWZ0OjE0cHh9LmNlLXN0dWJfX3RpdGxle2ZvbnQtd2VpZ2h0OjUwMDt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGx7ZGlyZWN0aW9uOnJ0bH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZHgtbGlzdHtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjQwcHh9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fcGx1c3tyaWdodDotMjZweDtsZWZ0OmF1dG99LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fYWN0aW9uc3tyaWdodDphdXRvO2xlZnQ6LTI2cHh9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS10b29sYmFyX19hY3Rpb25ze21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OmF1dG87cGFkZGluZy1yaWdodDowO3BhZGRpbmctbGVmdDoxMHB4fX0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1zZXR0aW5nc3tsZWZ0OjVweDtyaWdodDphdXRvfS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLXNldHRpbmdzOmJlZm9yZXtyaWdodDphdXRvO2xlZnQ6MjVweH0uY29kZXgtZWRpdG9yLmNvZGV4LWVkaXRvci0tcnRsIC5jZS1zZXR0aW5nc19fYnV0dG9uOm5vdCg6bnRoLWNoaWxkKDNuKzMpKXttYXJnaW4tbGVmdDozcHg7bWFyZ2luLXJpZ2h0OjB9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtY29udmVyc2lvbi10b29sX19pY29ue21hcmdpbi1yaWdodDowO21hcmdpbi1sZWZ0OjEwcHh9LmNvZGV4LWVkaXRvci5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtaW5saW5lLXRvb2xiYXJfX2Ryb3Bkb3due2JvcmRlci1yaWdodDowcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHJnYmEoMjAxLDIwMSwyMDQsLjQ4KTttYXJnaW46MCAtNnB4IDAgNnB4fS5jb2RleC1lZGl0b3IuY29kZXgtZWRpdG9yLS1ydGwgLmNlLWlubGluZS10b29sYmFyX19kcm9wZG93biAuaWNvbi0tdG9nZ2xlci1kb3due21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjRweH1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdy5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fcGx1c3tsZWZ0OjA7cmlnaHQ6NXB4fX1AbWVkaWEgKG1pbi13aWR0aDogNjUxcHgpey5jb2RleC1lZGl0b3ItLW5hcnJvdy5jb2RleC1lZGl0b3ItLXJ0bCAuY2UtdG9vbGJhcl9fYWN0aW9uc3tsZWZ0Oi01cHh9fS5jZHgtc2VhcmNoLWZpZWxkey0taWNvbi1tYXJnaW4tcmlnaHQ6IDEwcHg7YmFja2dyb3VuZDojRjhGOEY4O2JvcmRlcjoxcHggc29saWQgcmdiYSgyMjYsMjI2LDIyOSwuMik7Ym9yZGVyLXJhZGl1czo2cHg7cGFkZGluZzoycHg7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczphdXRvIGF1dG8gMWZyO2dyaWQtdGVtcGxhdGUtcm93czphdXRvfS5jZHgtc2VhcmNoLWZpZWxkX19pY29ue3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbi1yaWdodDp2YXIoLS1pY29uLW1hcmdpbi1yaWdodCl9LmNkeC1zZWFyY2gtZmllbGRfX2ljb24gc3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7Y29sb3I6IzcwNzY4NH0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXR7Zm9udC1zaXplOjE0cHg7b3V0bGluZTpub25lO2ZvbnQtd2VpZ2h0OjUwMDtmb250LWZhbWlseTppbmhlcml0O2JvcmRlcjowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7bWFyZ2luOjA7cGFkZGluZzowO2xpbmUtaGVpZ2h0OjIycHg7bWluLXdpZHRoOmNhbGMoMTAwJSAtIDI2cHggLSB2YXIoLS1pY29uLW1hcmdpbi1yaWdodCkpfS5jZHgtc2VhcmNoLWZpZWxkX19pbnB1dDo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjUwMH0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6IzcwNzY4NDtmb250LXdlaWdodDo1MDB9LmNkeC1zZWFyY2gtZmllbGRfX2lucHV0Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjUwMH0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXQ6Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjUwMH0uY2R4LXNlYXJjaC1maWVsZF9faW5wdXQ6OnBsYWNlaG9sZGVye2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NTAwfS5jZS1wb3BvdmVyey0tYm9yZGVyLXJhZGl1czogNnB4Oy0td2lkdGg6IDIwMHB4Oy0tbWF4LWhlaWdodDogMjcwcHg7LS1wYWRkaW5nOiA2cHg7LS1vZmZzZXQtZnJvbS10YXJnZXQ6IDhweDstLWNvbG9yLWJvcmRlcjogI0VGRjBGMTstLWNvbG9yLXNoYWRvdzogcmdiYSgxMywgMjAsIDMzLCAuMSk7LS1jb2xvci1iYWNrZ3JvdW5kOiB3aGl0ZTstLWNvbG9yLXRleHQtcHJpbWFyeTogYmxhY2s7LS1jb2xvci10ZXh0LXNlY29uZGFyeTogIzcwNzY4NDstLWNvbG9yLWJvcmRlci1pY29uOiByZ2JhKDIwMSwgMjAxLCAyMDQsIC40OCk7LS1jb2xvci1ib3JkZXItaWNvbi1kaXNhYmxlZDogI0VGRjBGMTstLWNvbG9yLXRleHQtaWNvbi1hY3RpdmU6ICMzODhBRTU7LS1jb2xvci1iYWNrZ3JvdW5kLWljb24tYWN0aXZlOiByZ2JhKDU2LCAxMzgsIDIyOSwgLjEpOy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWZvY3VzOiByZ2JhKDM0LCAxODYsIDI1NSwgLjA4KTstLWNvbG9yLXNoYWRvdy1pdGVtLWZvY3VzOiByZ2JhKDcsIDE2MSwgMjI3LCAuMDgpOy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWhvdmVyOiAjRjhGOEY4Oy0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm06ICNFMjRBNEE7LS1jb2xvci1iYWNrZ3JvdW5kLWl0ZW0tY29uZmlybS1ob3ZlcjogI0NFNDM0MzstLXBvcG92ZXItdG9wOiBjYWxjKDEwMCUgKyB2YXIoLS1vZmZzZXQtZnJvbS10YXJnZXQpKTstLXBvcG92ZXItbGVmdDogMDstLW5lc3RlZC1wb3BvdmVyLW92ZXJsYXA6IDRweDstLWljb24tc2l6ZTogMjBweDstLWl0ZW0tcGFkZGluZzogM3B4Oy0taXRlbS1oZWlnaHQ6IGNhbGModmFyKC0taWNvbi1zaXplKSArIDIgKiB2YXIoLS1pdGVtLXBhZGRpbmcpKX0uY2UtcG9wb3Zlcl9fY29udGFpbmVye21pbi13aWR0aDp2YXIoLS13aWR0aCk7d2lkdGg6dmFyKC0td2lkdGgpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtYm94LXNoYWRvdzowcHggM3B4IDE1cHggLTNweCB2YXIoLS1jb2xvci1zaGFkb3cpO2JveC1zaGFkb3c6MCAzcHggMTVweCAtM3B4IHZhcigtLWNvbG9yLXNoYWRvdyk7cG9zaXRpb246YWJzb2x1dGU7bGVmdDp2YXIoLS1wb3BvdmVyLWxlZnQpO3RvcDp2YXIoLS1wb3BvdmVyLXRvcCk7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LW9yaWVudDp2ZXJ0aWNhbDstd2Via2l0LWJveC1kaXJlY3Rpb246bm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3otaW5kZXg6NDtvcGFjaXR5OjA7bWF4LWhlaWdodDowO3BvaW50ZXItZXZlbnRzOm5vbmU7cGFkZGluZzowO2JvcmRlcjpub25lfS5jZS1wb3BvdmVyLS1vcGVuZWQ+LmNlLXBvcG92ZXJfX2NvbnRhaW5lcntvcGFjaXR5OjE7cGFkZGluZzp2YXIoLS1wYWRkaW5nKTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO3BvaW50ZXItZXZlbnRzOmF1dG87LXdlYmtpdC1hbmltYXRpb246cGFuZWxTaG93aW5nIC4xcyBlYXNlO2FuaW1hdGlvbjpwYW5lbFNob3dpbmcgLjFzIGVhc2U7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpfUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItLW9wZW5lZD4uY2UtcG9wb3Zlcl9fY29udGFpbmVyey13ZWJraXQtYW5pbWF0aW9uOnBhbmVsU2hvd2luZ01vYmlsZSAuMjVzIGVhc2U7YW5pbWF0aW9uOnBhbmVsU2hvd2luZ01vYmlsZSAuMjVzIGVhc2V9fS5jZS1wb3BvdmVyLS1vcGVuLXRvcCAuY2UtcG9wb3Zlcl9fY29udGFpbmVyey0tcG9wb3Zlci10b3A6IGNhbGMoLTEgKiAodmFyKC0tb2Zmc2V0LWZyb20tdGFyZ2V0KSArIHZhcigtLXBvcG92ZXItaGVpZ2h0KSkpfS5jZS1wb3BvdmVyLS1vcGVuLWxlZnQgLmNlLXBvcG92ZXJfX2NvbnRhaW5lcnstLXBvcG92ZXItbGVmdDogY2FsYygtMSAqIHZhcigtLXdpZHRoKSArIDEwMCUpfS5jZS1wb3BvdmVyX19pdGVtc3tvdmVyZmxvdy15OmF1dG87LW1zLXNjcm9sbC1jaGFpbmluZzpub25lO292ZXJzY3JvbGwtYmVoYXZpb3I6Y29udGFpbn1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyX19vdmVybGF5e3Bvc2l0aW9uOmZpeGVkO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO2JhY2tncm91bmQ6IzFEMjAyQjt6LWluZGV4OjM7b3BhY2l0eTouNTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMTJzIGVhc2UtaW47dHJhbnNpdGlvbjpvcGFjaXR5IC4xMnMgZWFzZS1pbjt3aWxsLWNoYW5nZTpvcGFjaXR5O3Zpc2liaWxpdHk6dmlzaWJsZX19LmNlLXBvcG92ZXJfX292ZXJsYXktLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3ZlciAuY2UtcG9wb3Zlcl9fY29udGFpbmVyey0tb2Zmc2V0OiA1cHg7cG9zaXRpb246Zml4ZWQ7bWF4LXdpZHRoOm5vbmU7bWluLXdpZHRoOmNhbGMoMTAwJSAtIHZhcigtLW9mZnNldCkgKiAyKTtsZWZ0OnZhcigtLW9mZnNldCk7cmlnaHQ6dmFyKC0tb2Zmc2V0KTtib3R0b206Y2FsYyh2YXIoLS1vZmZzZXQpICsgZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pKTt0b3A6YXV0bztib3JkZXItcmFkaXVzOjEwcHh9fS5jZS1wb3BvdmVyX19zZWFyY2h7bWFyZ2luLWJvdHRvbTo1cHh9LmNlLXBvcG92ZXJfX25vdGhpbmctZm91bmQtbWVzc2FnZXtjb2xvcjojNzA3Njg0O2Rpc3BsYXk6bm9uZTtjdXJzb3I6ZGVmYXVsdDtwYWRkaW5nOjNweDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoyMHB4O2ZvbnQtd2VpZ2h0OjUwMDt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LmNlLXBvcG92ZXJfX25vdGhpbmctZm91bmQtbWVzc2FnZS0tZGlzcGxheWVke2Rpc3BsYXk6YmxvY2t9LmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlcl9fY29udGFpbmVyey0tcG9wb3Zlci1sZWZ0OiBjYWxjKHZhcigtLW5lc3RpbmctbGV2ZWwpICogKHZhcigtLXdpZHRoKSAtIHZhcigtLW5lc3RlZC1wb3BvdmVyLW92ZXJsYXApKSk7dG9wOmNhbGModmFyKC0tdHJpZ2dlci1pdGVtLXRvcCkgLSB2YXIoLS1uZXN0ZWQtcG9wb3Zlci1vdmVybGFwKSk7cG9zaXRpb246YWJzb2x1dGV9LmNlLXBvcG92ZXItLW9wZW4tdG9wLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlcl9fY29udGFpbmVye3RvcDpjYWxjKHZhcigtLXRyaWdnZXItaXRlbS10b3ApIC0gdmFyKC0tcG9wb3Zlci1oZWlnaHQpICsgdmFyKC0taXRlbS1oZWlnaHQpICsgdmFyKC0tb2Zmc2V0LWZyb20tdGFyZ2V0KSArIHZhcigtLW5lc3RlZC1wb3BvdmVyLW92ZXJsYXApKX0uY2UtcG9wb3Zlci0tb3Blbi1sZWZ0IC5jZS1wb3BvdmVyLS1uZXN0ZWQgLmNlLXBvcG92ZXJfX2NvbnRhaW5lcnstLXBvcG92ZXItbGVmdDogY2FsYygtMSAqICh2YXIoLS1uZXN0aW5nLWxldmVsKSArIDEpICogdmFyKC0td2lkdGgpICsgMTAwJSl9LmNlLXBvcG92ZXItaXRlbS1zZXBhcmF0b3J7cGFkZGluZzo0cHggM3B4fS5jZS1wb3BvdmVyLWl0ZW0tc2VwYXJhdG9yLS1oaWRkZW57ZGlzcGxheTpub25lfS5jZS1wb3BvdmVyLWl0ZW0tc2VwYXJhdG9yX19saW5le2hlaWdodDoxcHg7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1ib3JkZXIpO3dpZHRoOjEwMCV9LmNlLXBvcG92ZXItaXRlbS1odG1sLS1oaWRkZW57ZGlzcGxheTpub25lfS5jZS1wb3BvdmVyLWl0ZW17LS1ib3JkZXItcmFkaXVzOiA2cHg7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWFsaWduOmNlbnRlcjstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6dmFyKC0taXRlbS1wYWRkaW5nKTtjb2xvcjp2YXIoLS1jb2xvci10ZXh0LXByaW1hcnkpOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItaXRlbXtwYWRkaW5nOjRweH19LmNlLXBvcG92ZXItaXRlbTpub3QoOmxhc3Qtb2YtdHlwZSl7bWFyZ2luLWJvdHRvbToxcHh9LmNlLXBvcG92ZXItaXRlbV9faWNvbnt3aWR0aDoyNnB4O2hlaWdodDoyNnB4O2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LXdlYmtpdC1ib3gtcGFjazpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uY2UtcG9wb3Zlci1pdGVtX19pY29uIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fUBtZWRpYSAobWF4LXdpZHRoOiA2NTBweCl7LmNlLXBvcG92ZXItaXRlbV9faWNvbnt3aWR0aDozNnB4O2hlaWdodDozNnB4O2JvcmRlci1yYWRpdXM6OHB4fS5jZS1wb3BvdmVyLWl0ZW1fX2ljb24gc3Zne3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHh9fS5jZS1wb3BvdmVyLWl0ZW1fX2ljb24tLXRvb2x7bWFyZ2luLXJpZ2h0OjRweH0uY2UtcG9wb3Zlci1pdGVtX190aXRsZXtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoyMHB4O2ZvbnQtd2VpZ2h0OjUwMDtvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6bm93cmFwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7bWFyZ2luLXJpZ2h0OmF1dG99QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci1pdGVtX190aXRsZXtmb250LXNpemU6MTZweH19LmNlLXBvcG92ZXItaXRlbV9fc2Vjb25kYXJ5LXRpdGxle2NvbG9yOnZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KTtmb250LXNpemU6MTJweDt3aGl0ZS1zcGFjZTpub3dyYXA7bGV0dGVyLXNwYWNpbmc6LS4xZW07cGFkZGluZy1yaWdodDo1cHg7b3BhY2l0eTouNn1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLWl0ZW1fX3NlY29uZGFyeS10aXRsZXtkaXNwbGF5Om5vbmV9fS5jZS1wb3BvdmVyLWl0ZW0tLWFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaWNvbi1hY3RpdmUpO2NvbG9yOnZhcigtLWNvbG9yLXRleHQtaWNvbi1hY3RpdmUpfS5jZS1wb3BvdmVyLWl0ZW0tLWRpc2FibGVke2NvbG9yOnZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KTtjdXJzb3I6ZGVmYXVsdDtwb2ludGVyLWV2ZW50czpub25lfS5jZS1wb3BvdmVyLWl0ZW0tLWZvY3VzZWQ6bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWZvY3VzKXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1mb2N1cykhaW1wb3J0YW50fS5jZS1wb3BvdmVyLWl0ZW0tLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIChob3ZlcjogaG92ZXIpey5jZS1wb3BvdmVyLWl0ZW06aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9LmNlLXBvcG92ZXItaXRlbTpob3Zlcjpub3QoLmNlLXBvcG92ZXItaXRlbS0tbm8taG92ZXIpe2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWhvdmVyKX19LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9ue2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm0pfS5jZS1wb3BvdmVyLWl0ZW0tLWNvbmZpcm1hdGlvbiAuY2UtcG9wb3Zlci1pdGVtX190aXRsZSwuY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb24gLmNlLXBvcG92ZXItaXRlbV9faWNvbntjb2xvcjojZmZmfUBtZWRpYSAoaG92ZXI6IGhvdmVyKXsuY2UtcG9wb3Zlci1pdGVtLS1jb25maXJtYXRpb246bm90KC5jZS1wb3BvdmVyLWl0ZW0tLW5vLWhvdmVyKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtaXRlbS1jb25maXJtLWhvdmVyKX19LmNlLXBvcG92ZXItaXRlbS0tY29uZmlybWF0aW9uOm5vdCguY2UtcG9wb3Zlci1pdGVtLS1uby1mb2N1cykuY2UtcG9wb3Zlci1pdGVtLS1mb2N1c2Vke2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZC1pdGVtLWNvbmZpcm0taG92ZXIpIWltcG9ydGFudH1ALXdlYmtpdC1rZXlmcmFtZXMgcGFuZWxTaG93aW5nezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMnB4KX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1Aa2V5ZnJhbWVzIHBhbmVsU2hvd2luZ3swJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtOHB4KSBzY2FsZSguOSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLThweCkgc2NhbGUoLjkpfTcwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgycHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QC13ZWJraXQta2V5ZnJhbWVzIHBhbmVsU2hvd2luZ01vYmlsZXswJXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxNHB4KSBzY2FsZSguOTgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCl9NzAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKC00cHgpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC00cHgpfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9fUBrZXlmcmFtZXMgcGFuZWxTaG93aW5nTW9iaWxlezAle29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDE0cHgpIHNjYWxlKC45OCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTRweCkgc2NhbGUoLjk4KX03MCV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTRweCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19LndvYmJsZXstd2Via2l0LWFuaW1hdGlvbi1uYW1lOndvYmJsZTthbmltYXRpb24tbmFtZTp3b2JibGU7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjRzO2FuaW1hdGlvbi1kdXJhdGlvbjouNHN9QC13ZWJraXQta2V5ZnJhbWVzIHdvYmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9MTUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtOSUsMCwwKX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKX00NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC00JSwwLDApfTYwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTElLDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfX1Aa2V5ZnJhbWVzIHdvYmJsZXswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCl9MTUley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC05JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtOSUsMCwwKX0zMCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoOSUsMCwwKX00NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTQlLDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC00JSwwLDApfTYwJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCg0JSwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMSUsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTElLDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApfX0uY2UtcG9wb3Zlci1oZWFkZXJ7bWFyZ2luLWJvdHRvbTo4cHg7bWFyZ2luLXRvcDo0cHg7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1hbGlnbjpjZW50ZXI7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2UtcG9wb3Zlci1oZWFkZXJfX3RleHR7Zm9udC1zaXplOjE4cHg7Zm9udC13ZWlnaHQ6NjAwfS5jZS1wb3BvdmVyLWhlYWRlcl9fYmFjay1idXR0b257Ym9yZGVyOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDt3aWR0aDozNnB4O2hlaWdodDozNnB4O2NvbG9yOnZhcigtLWNvbG9yLXRleHQtcHJpbWFyeSl9LmNlLXBvcG92ZXItaGVhZGVyX19iYWNrLWJ1dHRvbiBzdmd7ZGlzcGxheTpibG9jazt3aWR0aDoyOHB4O2hlaWdodDoyOHB4fS5jZS1wb3BvdmVyLS1pbmxpbmV7LS1oZWlnaHQ6IDM4cHg7LS1oZWlnaHQtbW9iaWxlOiA0NnB4Oy0tY29udGFpbmVyLXBhZGRpbmc6IDRweDtwb3NpdGlvbjpyZWxhdGl2ZX0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyX19jdXN0b20tY29udGVudHttYXJnaW4tYm90dG9tOjB9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlcl9faXRlbXN7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyX19jb250YWluZXJ7LXdlYmtpdC1ib3gtb3JpZW50Omhvcml6b250YWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdztwYWRkaW5nOnZhcigtLWNvbnRhaW5lci1wYWRkaW5nKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTt0b3A6MDttaW4td2lkdGg6LXdlYmtpdC1tYXgtY29udGVudDttaW4td2lkdGg6LW1vei1tYXgtY29udGVudDttaW4td2lkdGg6bWF4LWNvbnRlbnQ7d2lkdGg6LXdlYmtpdC1tYXgtY29udGVudDt3aWR0aDotbW96LW1heC1jb250ZW50O3dpZHRoOm1heC1jb250ZW50Oy13ZWJraXQtYW5pbWF0aW9uOm5vbmU7YW5pbWF0aW9uOm5vbmV9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyX19jb250YWluZXJ7aGVpZ2h0OnZhcigtLWhlaWdodC1tb2JpbGUpO3Bvc2l0aW9uOmFic29sdXRlfX0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLWl0ZW0tc2VwYXJhdG9ye3BhZGRpbmc6MCA0cHh9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVtLXNlcGFyYXRvcl9fbGluZXtoZWlnaHQ6MTAwJTt3aWR0aDoxcHh9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVte2JvcmRlci1yYWRpdXM6NHB4O3BhZGRpbmc6NHB4fS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItaXRlbV9faWNvbi0tdG9vbHstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDttYXJnaW4tcmlnaHQ6MH0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLWl0ZW1fX2ljb257d2lkdGg6YXV0bzt3aWR0aDppbml0aWFsO2hlaWdodDphdXRvO2hlaWdodDppbml0aWFsfS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItaXRlbV9faWNvbiBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItaXRlbV9faWNvbiBzdmd7d2lkdGg6MjhweDtoZWlnaHQ6MjhweH19LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVtOm5vdCg6bGFzdC1vZi10eXBlKXttYXJnaW4tYm90dG9tOjA7bWFyZ2luLWJvdHRvbTppbml0aWFsfS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItaXRlbS1odG1se2Rpc3BsYXk6LXdlYmtpdC1ib3g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci1pdGVtX19pY29uLS1jaGV2cm9uLXJpZ2h0ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci0tbmVzdGVkLWxldmVsLTEgLmNlLXBvcG92ZXJfX2NvbnRhaW5lcnstLW9mZnNldDogM3B4O2xlZnQ6MDt0b3A6Y2FsYyh2YXIoLS1oZWlnaHQpICsgdmFyKC0tb2Zmc2V0KSl9QG1lZGlhIChtYXgtd2lkdGg6IDY1MHB4KXsuY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLS1uZXN0ZWQtbGV2ZWwtMSAuY2UtcG9wb3Zlcl9fY29udGFpbmVye3RvcDpjYWxjKHZhcigtLWhlaWdodC1tb2JpbGUpICsgdmFyKC0tb2Zmc2V0KSl9fS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlcl9fY29udGFpbmVye21pbi13aWR0aDp2YXIoLS13aWR0aCk7d2lkdGg6dmFyKC0td2lkdGgpO2hlaWdodDotd2Via2l0LWZpdC1jb250ZW50O2hlaWdodDotbW96LWZpdC1jb250ZW50O2hlaWdodDpmaXQtY29udGVudDtwYWRkaW5nOjZweDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLS1uZXN0ZWQgLmNlLXBvcG92ZXJfX2l0ZW1ze2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJX0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLS1uZXN0ZWQgLmNlLXBvcG92ZXItaXRlbXtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjNweH1AbWVkaWEgKG1heC13aWR0aDogNjUwcHgpey5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlci1pdGVte3BhZGRpbmc6NHB4fX0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLS1uZXN0ZWQgLmNlLXBvcG92ZXItaXRlbV9faWNvbi0tdG9vbHttYXJnaW4tcmlnaHQ6NHB4fS5jZS1wb3BvdmVyLS1pbmxpbmUgLmNlLXBvcG92ZXItLW5lc3RlZCAuY2UtcG9wb3Zlci1pdGVtX19pY29ue3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHh9LmNlLXBvcG92ZXItLWlubGluZSAuY2UtcG9wb3Zlci0tbmVzdGVkIC5jZS1wb3BvdmVyLWl0ZW0tc2VwYXJhdG9ye3BhZGRpbmc6NHB4IDNweH0uY2UtcG9wb3Zlci0taW5saW5lIC5jZS1wb3BvdmVyLS1uZXN0ZWQgLmNlLXBvcG92ZXItaXRlbS1zZXBhcmF0b3JfX2xpbmV7d2lkdGg6MTAwJTtoZWlnaHQ6MXB4fS5jb2RleC1lZGl0b3IgW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OmJlZm9yZSwuY29kZXgtZWRpdG9yIFtkYXRhLXBsYWNlaG9sZGVyXVtkYXRhLWVtcHR5PXRydWVdOmJlZm9yZXtwb2ludGVyLWV2ZW50czpub25lO2NvbG9yOiM3MDc2ODQ7Y3Vyc29yOnRleHQ7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpfS5jb2RleC1lZGl0b3IgW2RhdGEtcGxhY2Vob2xkZXItYWN0aXZlXTplbXB0eTpiZWZvcmUsLmNvZGV4LWVkaXRvciBbZGF0YS1wbGFjZWhvbGRlci1hY3RpdmVdW2RhdGEtZW1wdHk9dHJ1ZV06YmVmb3Jle3BvaW50ZXItZXZlbnRzOm5vbmU7Y29sb3I6IzcwNzY4NDtjdXJzb3I6dGV4dH0uY29kZXgtZWRpdG9yIFtkYXRhLXBsYWNlaG9sZGVyLWFjdGl2ZV06ZW1wdHk6Zm9jdXM6YmVmb3JlLC5jb2RleC1lZGl0b3IgW2RhdGEtcGxhY2Vob2xkZXItYWN0aXZlXVtkYXRhLWVtcHR5PXRydWVdOmZvY3VzOmJlZm9yZXtjb250ZW50OmF0dHIoZGF0YS1wbGFjZWhvbGRlci1hY3RpdmUpfVxuYDtcbmNsYXNzIHlzIGV4dGVuZHMgeSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMuaXNNb2JpbGUgPSAhMSwgdGhpcy5jb250ZW50UmVjdENhY2hlID0gdm9pZCAwLCB0aGlzLnJlc2l6ZURlYm91bmNlciA9IHZ0KCgpID0+IHtcbiAgICAgIHRoaXMud2luZG93UmVzaXplKCk7XG4gICAgfSwgMjAwKTtcbiAgfVxuICAvKipcbiAgICogRWRpdG9yLmpzIFVJIENTUyBjbGFzcyBuYW1lc1xuICAgKlxuICAgKiBAcmV0dXJucyB7e2VkaXRvcldyYXBwZXI6IHN0cmluZywgZWRpdG9yWm9uZTogc3RyaW5nfX1cbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVkaXRvcldyYXBwZXI6IFwiY29kZXgtZWRpdG9yXCIsXG4gICAgICBlZGl0b3JXcmFwcGVyTmFycm93OiBcImNvZGV4LWVkaXRvci0tbmFycm93XCIsXG4gICAgICBlZGl0b3Jab25lOiBcImNvZGV4LWVkaXRvcl9fcmVkYWN0b3JcIixcbiAgICAgIGVkaXRvclpvbmVIaWRkZW46IFwiY29kZXgtZWRpdG9yX19yZWRhY3Rvci0taGlkZGVuXCIsXG4gICAgICBlZGl0b3JFbXB0eTogXCJjb2RleC1lZGl0b3ItLWVtcHR5XCIsXG4gICAgICBlZGl0b3JSdGxGaXg6IFwiY29kZXgtZWRpdG9yLS1ydGxcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBXaWR0aCBvZiBjZW50ZXIgY29sdW1uIG9mIEVkaXRvclxuICAgKlxuICAgKiBAcmV0dXJucyB7RE9NUmVjdH1cbiAgICovXG4gIGdldCBjb250ZW50UmVjdCgpIHtcbiAgICBpZiAodGhpcy5jb250ZW50UmVjdENhY2hlKVxuICAgICAgcmV0dXJuIHRoaXMuY29udGVudFJlY3RDYWNoZTtcbiAgICBjb25zdCBlID0gdGhpcy5ub2Rlcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoYC4ke0QuQ1NTLmNvbnRlbnR9YCk7XG4gICAgcmV0dXJuIGUgPyAodGhpcy5jb250ZW50UmVjdENhY2hlID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5jb250ZW50UmVjdENhY2hlKSA6IHtcbiAgICAgIHdpZHRoOiA2NTAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDBcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBNYWtpbmcgbWFpbiBpbnRlcmZhY2VcbiAgICovXG4gIGFzeW5jIHByZXBhcmUoKSB7XG4gICAgdGhpcy5zZXRJc01vYmlsZSgpLCB0aGlzLm1ha2UoKSwgdGhpcy5sb2FkU3R5bGVzKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZSByZWFkLW9ubHkgc3RhdGVcbiAgICpcbiAgICogSWYgcmVhZE9ubHkgaXMgdHJ1ZTpcbiAgICogIC0gcmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGZyb20gbWFpbiBVSSBtb2R1bGUgZWxlbWVudHNcbiAgICpcbiAgICogaWYgcmVhZE9ubHkgaXMgZmFsc2U6XG4gICAqICAtIGVuYWJsZXMgYWxsIGxpc3RlbmVycyB0byBVSSBtb2R1bGUgZWxlbWVudHNcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seUVuYWJsZWQgLSBcInJlYWQgb25seVwiIHN0YXRlXG4gICAqL1xuICB0b2dnbGVSZWFkT25seShlKSB7XG4gICAgZSA/IHRoaXMuZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkgOiB3aW5kb3cucmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZU1vZHVsZUJpbmRpbmdzKCk7XG4gICAgfSwge1xuICAgICAgdGltZW91dDogMmUzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIEVkaXRvciBpcyBlbXB0eSBhbmQgc2V0IENTUyBjbGFzcyB0byB3cmFwcGVyXG4gICAqL1xuICBjaGVja0VtcHRpbmVzcygpIHtcbiAgICBjb25zdCB7IEJsb2NrTWFuYWdlcjogZSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgdGhpcy5ub2Rlcy53cmFwcGVyLmNsYXNzTGlzdC50b2dnbGUodGhpcy5DU1MuZWRpdG9yRW1wdHksIGUuaXNFZGl0b3JFbXB0eSk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIG9uZSBvZiBUb29sYmFyIGlzIG9wZW5lZFxuICAgKiBVc2VkIHRvIHByZXZlbnQgZ2xvYmFsIGtleWRvd25zIChmb3IgZXhhbXBsZSwgRW50ZXIpIGNvbmZsaWN0cyB3aXRoIEVudGVyLW9uLXRvb2xiYXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgc29tZVRvb2xiYXJPcGVuZWQoKSB7XG4gICAgY29uc3QgeyBUb29sYmFyOiBlLCBCbG9ja1NldHRpbmdzOiB0LCBJbmxpbmVUb29sYmFyOiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICByZXR1cm4gISEodC5vcGVuZWQgfHwgby5vcGVuZWQgfHwgZS50b29sYm94Lm9wZW5lZCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGZvciBzb21lIEZsaXBwZXItYnV0dG9ucyBpcyB1bmRlciBmb2N1c1xuICAgKi9cbiAgZ2V0IHNvbWVGbGlwcGVyQnV0dG9uRm9jdXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5FZGl0b3IuVG9vbGJhci50b29sYm94Lmhhc0ZvY3VzKCkgPyAhMCA6IE9iamVjdC5lbnRyaWVzKHRoaXMuRWRpdG9yKS5maWx0ZXIoKFtlLCB0XSkgPT4gdC5mbGlwcGVyIGluc3RhbmNlb2YgbGUpLnNvbWUoKFtlLCB0XSkgPT4gdC5mbGlwcGVyLmhhc0ZvY3VzKCkpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhbiBlZGl0b3JgcyBVSVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm5vZGVzLmhvbGRlci5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSBhbGwgRWRpdG9yJ3MgdG9vbGJhcnNcbiAgICovXG4gIGNsb3NlQWxsVG9vbGJhcnMoKSB7XG4gICAgY29uc3QgeyBUb29sYmFyOiBlLCBCbG9ja1NldHRpbmdzOiB0LCBJbmxpbmVUb29sYmFyOiBvIH0gPSB0aGlzLkVkaXRvcjtcbiAgICB0LmNsb3NlKCksIG8uY2xvc2UoKSwgZS50b29sYm94LmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGZvciBtb2JpbGUgbW9kZSBhbmQgc2F2ZSB0aGUgcmVzdWx0XG4gICAqL1xuICBzZXRJc01vYmlsZSgpIHtcbiAgICBjb25zdCBlID0gd2luZG93LmlubmVyV2lkdGggPCBPdDtcbiAgICBlICE9PSB0aGlzLmlzTW9iaWxlICYmIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KHllLCB7XG4gICAgICBpc0VuYWJsZWQ6IHRoaXMuaXNNb2JpbGVcbiAgICB9KSwgdGhpcy5pc01vYmlsZSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2VzIEVkaXRvci5qcyBpbnRlcmZhY2VcbiAgICovXG4gIG1ha2UoKSB7XG4gICAgdGhpcy5ub2Rlcy5ob2xkZXIgPSBkLmdldEhvbGRlcih0aGlzLmNvbmZpZy5ob2xkZXIpLCB0aGlzLm5vZGVzLndyYXBwZXIgPSBkLm1ha2UoXCJkaXZcIiwgW1xuICAgICAgdGhpcy5DU1MuZWRpdG9yV3JhcHBlcixcbiAgICAgIC4uLnRoaXMuaXNSdGwgPyBbdGhpcy5DU1MuZWRpdG9yUnRsRml4XSA6IFtdXG4gICAgXSksIHRoaXMubm9kZXMucmVkYWN0b3IgPSBkLm1ha2UoXCJkaXZcIiwgdGhpcy5DU1MuZWRpdG9yWm9uZSksIHRoaXMubm9kZXMuaG9sZGVyLm9mZnNldFdpZHRoIDwgdGhpcy5jb250ZW50UmVjdC53aWR0aCAmJiB0aGlzLm5vZGVzLndyYXBwZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy5lZGl0b3JXcmFwcGVyTmFycm93KSwgdGhpcy5ub2Rlcy5yZWRhY3Rvci5zdHlsZS5wYWRkaW5nQm90dG9tID0gdGhpcy5jb25maWcubWluSGVpZ2h0ICsgXCJweFwiLCB0aGlzLm5vZGVzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5yZWRhY3RvciksIHRoaXMubm9kZXMuaG9sZGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMud3JhcHBlcik7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZHMgQ1NTXG4gICAqL1xuICBsb2FkU3R5bGVzKCkge1xuICAgIGNvbnN0IGUgPSBcImVkaXRvci1qcy1zdHlsZXNcIjtcbiAgICBpZiAoZC5nZXQoZSkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGQubWFrZShcInN0eWxlXCIsIG51bGwsIHtcbiAgICAgIGlkOiBlLFxuICAgICAgdGV4dENvbnRlbnQ6IHhzLnRvU3RyaW5nKClcbiAgICB9KTtcbiAgICB0aGlzLmNvbmZpZy5zdHlsZSAmJiAhVih0aGlzLmNvbmZpZy5zdHlsZSkgJiYgdGhpcy5jb25maWcuc3R5bGUubm9uY2UgJiYgdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCB0aGlzLmNvbmZpZy5zdHlsZS5ub25jZSksIGQucHJlcGVuZChkb2N1bWVudC5oZWFkLCB0KTtcbiAgfVxuICAvKipcbiAgICogQmluZCBldmVudHMgb24gdGhlIEVkaXRvci5qcyBpbnRlcmZhY2VcbiAgICovXG4gIGVuYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMucmVkYWN0b3IsIFwiY2xpY2tcIiwgKHQpID0+IHtcbiAgICAgIHRoaXMucmVkYWN0b3JDbGlja2VkKHQpO1xuICAgIH0sICExKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5yZWRhY3RvciwgXCJtb3VzZWRvd25cIiwgKHQpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRUb3VjaGVkKHQpO1xuICAgIH0sIHtcbiAgICAgIGNhcHR1cmU6ICEwLFxuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy5yZWRhY3RvciwgXCJ0b3VjaHN0YXJ0XCIsICh0KSA9PiB7XG4gICAgICB0aGlzLmRvY3VtZW50VG91Y2hlZCh0KTtcbiAgICB9LCB7XG4gICAgICBjYXB0dXJlOiAhMCxcbiAgICAgIHBhc3NpdmU6ICEwXG4gICAgfSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKGRvY3VtZW50LCBcImtleWRvd25cIiwgKHQpID0+IHtcbiAgICAgIHRoaXMuZG9jdW1lbnRLZXlkb3duKHQpO1xuICAgIH0sICEwKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24oZG9jdW1lbnQsIFwibW91c2Vkb3duXCIsICh0KSA9PiB7XG4gICAgICB0aGlzLmRvY3VtZW50Q2xpY2tlZCh0KTtcbiAgICB9LCAhMCk7XG4gICAgY29uc3QgZSA9IHZ0KCgpID0+IHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgIH0sIHNzKTtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbihkb2N1bWVudCwgXCJzZWxlY3Rpb25jaGFuZ2VcIiwgZSwgITApLCB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih3aW5kb3csIFwicmVzaXplXCIsICgpID0+IHtcbiAgICAgIHRoaXMucmVzaXplRGVib3VuY2VyKCk7XG4gICAgfSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KSwgdGhpcy53YXRjaEJsb2NrSG92ZXJlZEV2ZW50cygpLCB0aGlzLmVuYWJsZUlucHV0c0VtcHR5TWFyaygpO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0ZW4gcmVkYWN0b3IgbW91c2Vtb3ZlIHRvIGVtaXQgJ2Jsb2NrLWhvdmVyZWQnIGV2ZW50XG4gICAqL1xuICB3YXRjaEJsb2NrSG92ZXJlZEV2ZW50cygpIHtcbiAgICBsZXQgZTtcbiAgICB0aGlzLnJlYWRPbmx5TXV0YWJsZUxpc3RlbmVycy5vbih0aGlzLm5vZGVzLnJlZGFjdG9yLCBcIm1vdXNlbW92ZVwiLCBWZSgodCkgPT4ge1xuICAgICAgY29uc3QgbyA9IHQudGFyZ2V0LmNsb3Nlc3QoXCIuY2UtYmxvY2tcIik7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5hbnlCbG9ja1NlbGVjdGVkIHx8IG8gJiYgZSAhPT0gbyAmJiAoZSA9IG8sIHRoaXMuZXZlbnRzRGlzcGF0Y2hlci5lbWl0KG9vLCB7XG4gICAgICAgIGJsb2NrOiB0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuZ2V0QmxvY2tCeUNoaWxkTm9kZShvKVxuICAgICAgfSkpO1xuICAgIH0sIDIwKSwge1xuICAgICAgcGFzc2l2ZTogITBcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVW5iaW5kIGV2ZW50cyBvbiB0aGUgRWRpdG9yLmpzIGludGVyZmFjZVxuICAgKi9cbiAgZGlzYWJsZU1vZHVsZUJpbmRpbmdzKCkge1xuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLmNsZWFyQWxsKCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZSB3aW5kb3cgaGFuZGxlclxuICAgKi9cbiAgd2luZG93UmVzaXplKCkge1xuICAgIHRoaXMuY29udGVudFJlY3RDYWNoZSA9IG51bGwsIHRoaXMuc2V0SXNNb2JpbGUoKTtcbiAgfVxuICAvKipcbiAgICogQWxsIGtleWRvd25zIG9uIGRvY3VtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgZG9jdW1lbnRLZXlkb3duKGUpIHtcbiAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgY2FzZSB3LkVOVEVSOlxuICAgICAgICB0aGlzLmVudGVyUHJlc3NlZChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHcuQkFDS1NQQUNFOlxuICAgICAgY2FzZSB3LkRFTEVURTpcbiAgICAgICAgdGhpcy5iYWNrc3BhY2VQcmVzc2VkKGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2Ugdy5FU0M6XG4gICAgICAgIHRoaXMuZXNjYXBlUHJlc3NlZChlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLmRlZmF1bHRCZWhhdmlvdXIoZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSWdub3JlIGFsbCBvdGhlciBkb2N1bWVudCdzIGtleWRvd24gZXZlbnRzXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgZGVmYXVsdEJlaGF2aW91cihlKSB7XG4gICAgY29uc3QgeyBjdXJyZW50QmxvY2s6IHQgfSA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlciwgbyA9IGUudGFyZ2V0LmNsb3Nlc3QoYC4ke3RoaXMuQ1NTLmVkaXRvcldyYXBwZXJ9YCksIGkgPSBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuc2hpZnRLZXk7XG4gICAgaWYgKHQgIT09IHZvaWQgMCAmJiBvID09PSBudWxsKSB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja0V2ZW50cy5rZXlkb3duKGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvIHx8IHQgJiYgaSB8fCAodGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLnVuc2V0Q3VycmVudEJsb2NrKCksIHRoaXMuRWRpdG9yLlRvb2xiYXIuY2xvc2UoKSk7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlib2FyZCBldmVudFxuICAgKi9cbiAgYmFja3NwYWNlUHJlc3NlZChlKSB7XG4gICAgY29uc3QgeyBCbG9ja01hbmFnZXI6IHQsIEJsb2NrU2VsZWN0aW9uOiBvLCBDYXJldDogaSB9ID0gdGhpcy5FZGl0b3I7XG4gICAgaWYgKG8uYW55QmxvY2tTZWxlY3RlZCAmJiAhYi5pc1NlbGVjdGlvbkV4aXN0cykge1xuICAgICAgY29uc3QgcyA9IHQucmVtb3ZlU2VsZWN0ZWRCbG9ja3MoKSwgciA9IHQuaW5zZXJ0RGVmYXVsdEJsb2NrQXRJbmRleChzLCAhMCk7XG4gICAgICBpLnNldFRvQmxvY2sociwgaS5wb3NpdGlvbnMuU1RBUlQpLCBvLmNsZWFyU2VsZWN0aW9uKGUpLCBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCksIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFc2NhcGUgcHJlc3NlZFxuICAgKiBJZiBzb21lIG9mIFRvb2xiYXIgY29tcG9uZW50cyBhcmUgb3BlbmVkLCB0aGVuIGNsb3NlIGl0IG90aGVyd2lzZSBjbG9zZSBUb29sYmFyXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gZXNjYXBlIGtleWRvd24gZXZlbnRcbiAgICovXG4gIGVzY2FwZVByZXNzZWQoZSkge1xuICAgIHRoaXMuRWRpdG9yLkJsb2NrU2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKGUpLCB0aGlzLkVkaXRvci5Ub29sYmFyLnRvb2xib3gub3BlbmVkID8gKHRoaXMuRWRpdG9yLlRvb2xiYXIudG9vbGJveC5jbG9zZSgpLCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5jdXJyZW50QmxvY2ssIHRoaXMuRWRpdG9yLkNhcmV0LnBvc2l0aW9ucy5FTkQpKSA6IHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkID8gdGhpcy5FZGl0b3IuQmxvY2tTZXR0aW5ncy5jbG9zZSgpIDogdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5vcGVuZWQgPyB0aGlzLkVkaXRvci5JbmxpbmVUb29sYmFyLmNsb3NlKCkgOiB0aGlzLkVkaXRvci5Ub29sYmFyLmNsb3NlKCk7XG4gIH1cbiAgLyoqXG4gICAqIEVudGVyIHByZXNzZWQgb24gZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCAtIGtleWJvYXJkIGV2ZW50XG4gICAqL1xuICBlbnRlclByZXNzZWQoZSkge1xuICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiB0LCBCbG9ja1NlbGVjdGlvbjogbyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgaWYgKHRoaXMuc29tZVRvb2xiYXJPcGVuZWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaSA9IHQuY3VycmVudEJsb2NrSW5kZXggPj0gMDtcbiAgICBpZiAoby5hbnlCbG9ja1NlbGVjdGVkICYmICFiLmlzU2VsZWN0aW9uRXhpc3RzKSB7XG4gICAgICBvLmNsZWFyU2VsZWN0aW9uKGUpLCBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5zb21lVG9vbGJhck9wZW5lZCAmJiBpICYmIGUudGFyZ2V0LnRhZ05hbWUgPT09IFwiQk9EWVwiKSB7XG4gICAgICBjb25zdCBzID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmluc2VydCgpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb0Jsb2NrKHMpLCB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKHMpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgfVxuICAvKipcbiAgICogQWxsIGNsaWNrcyBvbiBkb2N1bWVudFxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gQ2xpY2sgZXZlbnRcbiAgICovXG4gIGRvY3VtZW50Q2xpY2tlZChlKSB7XG4gICAgdmFyIGwsIGE7XG4gICAgaWYgKCFlLmlzVHJ1c3RlZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gZS50YXJnZXQ7XG4gICAgdGhpcy5ub2Rlcy5ob2xkZXIuY29udGFpbnModCkgfHwgYi5pc0F0RWRpdG9yIHx8ICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIudW5zZXRDdXJyZW50QmxvY2soKSwgdGhpcy5FZGl0b3IuVG9vbGJhci5jbG9zZSgpKTtcbiAgICBjb25zdCBpID0gKGwgPSB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLm5vZGVzLndyYXBwZXIpID09IG51bGwgPyB2b2lkIDAgOiBsLmNvbnRhaW5zKHQpLCBzID0gKGEgPSB0aGlzLkVkaXRvci5Ub29sYmFyLm5vZGVzLnNldHRpbmdzVG9nZ2xlcikgPT0gbnVsbCA/IHZvaWQgMCA6IGEuY29udGFpbnModCksIHIgPSBpIHx8IHM7XG4gICAgaWYgKHRoaXMuRWRpdG9yLkJsb2NrU2V0dGluZ3Mub3BlbmVkICYmICFyKSB7XG4gICAgICB0aGlzLkVkaXRvci5CbG9ja1NldHRpbmdzLmNsb3NlKCk7XG4gICAgICBjb25zdCBjID0gdGhpcy5FZGl0b3IuQmxvY2tNYW5hZ2VyLmdldEJsb2NrQnlDaGlsZE5vZGUodCk7XG4gICAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKGMpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5CbG9ja1NlbGVjdGlvbi5jbGVhclNlbGVjdGlvbihlKTtcbiAgfVxuICAvKipcbiAgICogRmlyc3QgdG91Y2ggb24gZWRpdG9yXG4gICAqIEZpcmVkIGJlZm9yZSBjbGlja1xuICAgKlxuICAgKiBVc2VkIHRvIGNoYW5nZSBjdXJyZW50IGJsb2NrIFx1MjAxNCB3ZSBuZWVkIHRvIGRvIGl0IGJlZm9yZSAnc2VsZWN0aW9uQ2hhbmdlJyBldmVudC5cbiAgICogQWxzbzpcbiAgICogLSBNb3ZlIGFuZCBzaG93IHRoZSBUb29sYmFyXG4gICAqIC0gU2V0IGEgQ2FyZXRcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50IHwgVG91Y2hFdmVudH0gZXZlbnQgLSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgKi9cbiAgZG9jdW1lbnRUb3VjaGVkKGUpIHtcbiAgICBsZXQgdCA9IGUudGFyZ2V0O1xuICAgIGlmICh0ID09PSB0aGlzLm5vZGVzLnJlZGFjdG9yKSB7XG4gICAgICBjb25zdCBvID0gZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgPyBlLmNsaWVudFggOiBlLnRvdWNoZXNbMF0uY2xpZW50WCwgaSA9IGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ID8gZS5jbGllbnRZIDogZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB0ID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChvLCBpKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5zZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZSh0KTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHRoaXMuRWRpdG9yLlJlY3RhbmdsZVNlbGVjdGlvbi5pc1JlY3RBY3RpdmF0ZWQoKSB8fCB0aGlzLkVkaXRvci5DYXJldC5zZXRUb1RoZUxhc3RCbG9jaygpO1xuICAgIH1cbiAgICB0aGlzLkVkaXRvci5Ub29sYmFyLm1vdmVBbmRPcGVuKCk7XG4gIH1cbiAgLyoqXG4gICAqIEFsbCBjbGlja3Mgb24gdGhlIHJlZGFjdG9yIHpvbmVcbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIGNsaWNrIGV2ZW50XG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiAtIEJ5IGNsaWNrcyBvbiB0aGUgRWRpdG9yJ3MgYm90dG9tIHpvbmU6XG4gICAqICAgICAgLSBpZiBsYXN0IEJsb2NrIGlzIGVtcHR5LCBzZXQgYSBDYXJldCB0byB0aGlzXG4gICAqICAgICAgLSBvdGhlcndpc2UsIGFkZCBhIG5ldyBlbXB0eSBCbG9jayBhbmQgc2V0IGEgQ2FyZXQgdG8gdGhhdFxuICAgKi9cbiAgcmVkYWN0b3JDbGlja2VkKGUpIHtcbiAgICBpZiAoIWIuaXNDb2xsYXBzZWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdCA9IGUudGFyZ2V0LCBvID0gZS5tZXRhS2V5IHx8IGUuY3RybEtleTtcbiAgICBpZiAoZC5pc0FuY2hvcih0KSAmJiBvKSB7XG4gICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3QgaSA9IHQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSwgcyA9IFNvKGkpO1xuICAgICAgTW8ocyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucHJvY2Vzc0JvdHRvbVpvbmVDbGljayhlKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdXNlciBjbGlja3Mgb24gdGhlIEVkaXRvcidzIGJvdHRvbSB6b25lOlxuICAgKiAgLSBzZXQgY2FyZXQgdG8gdGhlIGxhc3QgYmxvY2tcbiAgICogIC0gb3IgYWRkIG5ldyBlbXB0eSBibG9ja1xuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgLSBjbGljayBldmVudFxuICAgKi9cbiAgcHJvY2Vzc0JvdHRvbVpvbmVDbGljayhlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5nZXRCbG9ja0J5SW5kZXgoLTEpLCBvID0gZC5vZmZzZXQodC5ob2xkZXIpLmJvdHRvbSwgaSA9IGUucGFnZVksIHsgQmxvY2tTZWxlY3Rpb246IHMgfSA9IHRoaXMuRWRpdG9yO1xuICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgZS50YXJnZXQuaXNFcXVhbE5vZGUodGhpcy5ub2Rlcy5yZWRhY3RvcikgJiYgLyoqXG4gICAgKiBJZiB0aGVyZSBpcyBjcm9zcyBibG9jayBzZWxlY3Rpb24gc3RhcnRlZCwgdGFyZ2V0IHdpbGwgYmUgZXF1YWwgdG8gcmVkYWN0b3Igc28gd2UgbmVlZCBhZGRpdGlvbmFsIGNoZWNrXG4gICAgKi9cbiAgICAhcy5hbnlCbG9ja1NlbGVjdGVkICYmIC8qKlxuICAgICogUHJldmVudCBjYXJldCBqdW1waW5nICh0byBsYXN0IGJsb2NrKSB3aGVuIGNsaWNraW5nIGJldHdlZW4gYmxvY2tzXG4gICAgKi9cbiAgICBvIDwgaSkge1xuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBsLCBDYXJldDogYSwgVG9vbGJhcjogYyB9ID0gdGhpcy5FZGl0b3I7XG4gICAgICAoIWwubGFzdEJsb2NrLnRvb2wuaXNEZWZhdWx0IHx8ICFsLmxhc3RCbG9jay5pc0VtcHR5KSAmJiBsLmluc2VydEF0RW5kKCksIGEuc2V0VG9UaGVMYXN0QmxvY2soKSwgYy5tb3ZlQW5kT3BlbihsLmxhc3RCbG9jayk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgc2VsZWN0aW9uIGNoYW5nZXMgb24gbW9iaWxlIGRldmljZXNcbiAgICogVXNlcyBmb3Igc2hvd2luZyB0aGUgSW5saW5lIFRvb2xiYXJcbiAgICovXG4gIHNlbGVjdGlvbkNoYW5nZWQoKSB7XG4gICAgY29uc3QgeyBDcm9zc0Jsb2NrU2VsZWN0aW9uOiBlLCBCbG9ja1NlbGVjdGlvbjogdCB9ID0gdGhpcy5FZGl0b3IsIG8gPSBiLmFuY2hvckVsZW1lbnQ7XG4gICAgaWYgKGUuaXNDcm9zc0Jsb2NrU2VsZWN0aW9uU3RhcnRlZCAmJiB0LmFueUJsb2NrU2VsZWN0ZWQgJiYgYi5nZXQoKS5yZW1vdmVBbGxSYW5nZXMoKSwgIW8pIHtcbiAgICAgIGIucmFuZ2UgfHwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpID0gby5jbG9zZXN0KGAuJHtELkNTUy5jb250ZW50fWApO1xuICAgIChpID09PSBudWxsIHx8IGkuY2xvc2VzdChgLiR7Yi5DU1MuZWRpdG9yV3JhcHBlcn1gKSAhPT0gdGhpcy5ub2Rlcy53cmFwcGVyKSAmJiAodGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jb250YWluc05vZGUobykgfHwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci5jbG9zZSgpLCAhKG8uZGF0YXNldC5pbmxpbmVUb29sYmFyID09PSBcInRydWVcIikpIHx8ICh0aGlzLkVkaXRvci5CbG9ja01hbmFnZXIuY3VycmVudEJsb2NrIHx8IHRoaXMuRWRpdG9yLkJsb2NrTWFuYWdlci5zZXRDdXJyZW50QmxvY2tCeUNoaWxkTm9kZShvKSwgdGhpcy5FZGl0b3IuSW5saW5lVG9vbGJhci50cnlUb1Nob3coITApKTtcbiAgfVxuICAvKipcbiAgICogRWRpdG9yLmpzIHByb3ZpZGVzIGFuZCBhYmlsaXR5IHRvIHNob3cgcGxhY2Vob2xkZXJzIGZvciBlbXB0eSBjb250ZW50ZWRpdGFibGUgZWxlbWVudHNcbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd2F0Y2hlcyBmb3IgaW5wdXQgYW5kIGZvY3VzIGV2ZW50cyBhbmQgdG9nZ2xlcyAnZGF0YS1lbXB0eScgYXR0cmlidXRlXG4gICAqIHRvIHdvcmthcm91ZCB0aGUgY2FzZSwgd2hlbiBpbnB1dHMgY29udGFpbnMgb25seSA8YnI+cyBhbmQgaGFzIG5vIHZpc2libGUgY29udGVudFxuICAgKiBUaGVuLCBDU1MgY291bGQgcmVseSBvbiB0aGlzIGF0dHJpYnV0ZSB0byBzaG93IHBsYWNlaG9sZGVyc1xuICAgKi9cbiAgZW5hYmxlSW5wdXRzRW1wdHlNYXJrKCkge1xuICAgIGZ1bmN0aW9uIGUodCkge1xuICAgICAgY29uc3QgbyA9IHQudGFyZ2V0O1xuICAgICAgTHQobyk7XG4gICAgfVxuICAgIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMud3JhcHBlciwgXCJpbnB1dFwiLCBlKSwgdGhpcy5yZWFkT25seU11dGFibGVMaXN0ZW5lcnMub24odGhpcy5ub2Rlcy53cmFwcGVyLCBcImZvY3VzaW5cIiwgZSksIHRoaXMucmVhZE9ubHlNdXRhYmxlTGlzdGVuZXJzLm9uKHRoaXMubm9kZXMud3JhcHBlciwgXCJmb2N1c291dFwiLCBlKTtcbiAgfVxufVxuY29uc3QgRXMgPSB7XG4gIC8vIEFQSSBNb2R1bGVzXG4gIEJsb2Nrc0FQSTogem8sXG4gIENhcmV0QVBJOiBqbyxcbiAgRXZlbnRzQVBJOiAkbyxcbiAgSTE4bkFQSTogb3QsXG4gIEFQSTogWW8sXG4gIElubGluZVRvb2xiYXJBUEk6IFdvLFxuICBMaXN0ZW5lcnNBUEk6IEtvLFxuICBOb3RpZmllckFQSTogWm8sXG4gIFJlYWRPbmx5QVBJOiBHbyxcbiAgU2FuaXRpemVyQVBJOiBzaSxcbiAgU2F2ZXJBUEk6IG5pLFxuICBTZWxlY3Rpb25BUEk6IHJpLFxuICBUb29sc0FQSTogbGksXG4gIFN0eWxlc0FQSTogYWksXG4gIFRvb2xiYXJBUEk6IGNpLFxuICBUb29sdGlwQVBJOiBmaSxcbiAgVWlBUEk6IGdpLFxuICAvLyBUb29sYmFyIE1vZHVsZXNcbiAgQmxvY2tTZXR0aW5nczogVWksXG4gIFRvb2xiYXI6IHFpLFxuICBJbmxpbmVUb29sYmFyOiBaaSxcbiAgLy8gTW9kdWxlc1xuICBCbG9ja0V2ZW50czogR2ksXG4gIEJsb2NrTWFuYWdlcjogZXMsXG4gIEJsb2NrU2VsZWN0aW9uOiB0cyxcbiAgQ2FyZXQ6IFJlLFxuICBDcm9zc0Jsb2NrU2VsZWN0aW9uOiBvcyxcbiAgRHJhZ05Ecm9wOiBpcyxcbiAgTW9kaWZpY2F0aW9uc09ic2VydmVyOiBycyxcbiAgUGFzdGU6IGxzLFxuICBSZWFkT25seTogYXMsXG4gIFJlY3RhbmdsZVNlbGVjdGlvbjogeGUsXG4gIFJlbmRlcmVyOiBjcyxcbiAgU2F2ZXI6IGRzLFxuICBUb29sczogZ28sXG4gIFVJOiB5c1xufTtcbmNsYXNzIEJzIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RWRpdG9yQ29uZmlnfSBjb25maWcgLSB1c2VyIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLm1vZHVsZUluc3RhbmNlcyA9IHt9LCB0aGlzLmV2ZW50c0Rpc3BhdGNoZXIgPSBuZXcgVGUoKTtcbiAgICBsZXQgdCwgbztcbiAgICB0aGlzLmlzUmVhZHkgPSBuZXcgUHJvbWlzZSgoaSwgcykgPT4ge1xuICAgICAgdCA9IGksIG8gPSBzO1xuICAgIH0pLCBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGUsIHRoaXMudmFsaWRhdGUoKSwgdGhpcy5pbml0KCksIGF3YWl0IHRoaXMuc3RhcnQoKSwgYXdhaXQgdGhpcy5yZW5kZXIoKTtcbiAgICAgIGNvbnN0IHsgQmxvY2tNYW5hZ2VyOiBpLCBDYXJldDogcywgVUk6IHIsIE1vZGlmaWNhdGlvbnNPYnNlcnZlcjogbCB9ID0gdGhpcy5tb2R1bGVJbnN0YW5jZXM7XG4gICAgICByLmNoZWNrRW1wdGluZXNzKCksIGwuZW5hYmxlKCksIHRoaXMuY29uZmlndXJhdGlvbi5hdXRvZm9jdXMgJiYgcy5zZXRUb0Jsb2NrKGkuYmxvY2tzWzBdLCBzLnBvc2l0aW9ucy5TVEFSVCksIHQoKTtcbiAgICB9KS5jYXRjaCgoaSkgPT4ge1xuICAgICAgSShgRWRpdG9yLmpzIGlzIG5vdCByZWFkeSBiZWNhdXNlIG9mICR7aX1gLCBcImVycm9yXCIpLCBvKGkpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXR0aW5nIGZvciBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7RWRpdG9yQ29uZmlnfHN0cmluZ30gY29uZmlnIC0gRWRpdG9yJ3MgY29uZmlnIHRvIHNldFxuICAgKi9cbiAgc2V0IGNvbmZpZ3VyYXRpb24oZSkge1xuICAgIHZhciBvLCBpO1xuICAgIFIoZSkgPyB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIC4uLmVcbiAgICB9IDogdGhpcy5jb25maWcgPSB7XG4gICAgICBob2xkZXI6IGVcbiAgICB9LCBaZSghIXRoaXMuY29uZmlnLmhvbGRlcklkLCBcImNvbmZpZy5ob2xkZXJJZFwiLCBcImNvbmZpZy5ob2xkZXJcIiksIHRoaXMuY29uZmlnLmhvbGRlcklkICYmICF0aGlzLmNvbmZpZy5ob2xkZXIgJiYgKHRoaXMuY29uZmlnLmhvbGRlciA9IHRoaXMuY29uZmlnLmhvbGRlcklkLCB0aGlzLmNvbmZpZy5ob2xkZXJJZCA9IG51bGwpLCB0aGlzLmNvbmZpZy5ob2xkZXIgPT0gbnVsbCAmJiAodGhpcy5jb25maWcuaG9sZGVyID0gXCJlZGl0b3Jqc1wiKSwgdGhpcy5jb25maWcubG9nTGV2ZWwgfHwgKHRoaXMuY29uZmlnLmxvZ0xldmVsID0gSXQuVkVSQk9TRSksIHhvKHRoaXMuY29uZmlnLmxvZ0xldmVsKSwgWmUoISF0aGlzLmNvbmZpZy5pbml0aWFsQmxvY2ssIFwiY29uZmlnLmluaXRpYWxCbG9ja1wiLCBcImNvbmZpZy5kZWZhdWx0QmxvY2tcIiksIHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayA9IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayB8fCB0aGlzLmNvbmZpZy5pbml0aWFsQmxvY2sgfHwgXCJwYXJhZ3JhcGhcIiwgdGhpcy5jb25maWcubWluSGVpZ2h0ID0gdGhpcy5jb25maWcubWluSGVpZ2h0ICE9PSB2b2lkIDAgPyB0aGlzLmNvbmZpZy5taW5IZWlnaHQgOiAzMDA7XG4gICAgY29uc3QgdCA9IHtcbiAgICAgIHR5cGU6IHRoaXMuY29uZmlnLmRlZmF1bHRCbG9jayxcbiAgICAgIGRhdGE6IHt9XG4gICAgfTtcbiAgICB0aGlzLmNvbmZpZy5wbGFjZWhvbGRlciA9IHRoaXMuY29uZmlnLnBsYWNlaG9sZGVyIHx8ICExLCB0aGlzLmNvbmZpZy5zYW5pdGl6ZXIgPSB0aGlzLmNvbmZpZy5zYW5pdGl6ZXIgfHwge1xuICAgICAgcDogITAsXG4gICAgICBiOiAhMCxcbiAgICAgIGE6ICEwXG4gICAgfSwgdGhpcy5jb25maWcuaGlkZVRvb2xiYXIgPSB0aGlzLmNvbmZpZy5oaWRlVG9vbGJhciA/IHRoaXMuY29uZmlnLmhpZGVUb29sYmFyIDogITEsIHRoaXMuY29uZmlnLnRvb2xzID0gdGhpcy5jb25maWcudG9vbHMgfHwge30sIHRoaXMuY29uZmlnLmkxOG4gPSB0aGlzLmNvbmZpZy5pMThuIHx8IHt9LCB0aGlzLmNvbmZpZy5kYXRhID0gdGhpcy5jb25maWcuZGF0YSB8fCB7IGJsb2NrczogW10gfSwgdGhpcy5jb25maWcub25SZWFkeSA9IHRoaXMuY29uZmlnLm9uUmVhZHkgfHwgKCgpID0+IHtcbiAgICB9KSwgdGhpcy5jb25maWcub25DaGFuZ2UgPSB0aGlzLmNvbmZpZy5vbkNoYW5nZSB8fCAoKCkgPT4ge1xuICAgIH0pLCB0aGlzLmNvbmZpZy5pbmxpbmVUb29sYmFyID0gdGhpcy5jb25maWcuaW5saW5lVG9vbGJhciAhPT0gdm9pZCAwID8gdGhpcy5jb25maWcuaW5saW5lVG9vbGJhciA6ICEwLCAoVih0aGlzLmNvbmZpZy5kYXRhKSB8fCAhdGhpcy5jb25maWcuZGF0YS5ibG9ja3MgfHwgdGhpcy5jb25maWcuZGF0YS5ibG9ja3MubGVuZ3RoID09PSAwKSAmJiAodGhpcy5jb25maWcuZGF0YSA9IHsgYmxvY2tzOiBbdF0gfSksIHRoaXMuY29uZmlnLnJlYWRPbmx5ID0gdGhpcy5jb25maWcucmVhZE9ubHkgfHwgITEsIChvID0gdGhpcy5jb25maWcuaTE4bikgIT0gbnVsbCAmJiBvLm1lc3NhZ2VzICYmIHouc2V0RGljdGlvbmFyeSh0aGlzLmNvbmZpZy5pMThuLm1lc3NhZ2VzKSwgdGhpcy5jb25maWcuaTE4bi5kaXJlY3Rpb24gPSAoKGkgPSB0aGlzLmNvbmZpZy5pMThuKSA9PSBudWxsID8gdm9pZCAwIDogaS5kaXJlY3Rpb24pIHx8IFwibHRyXCI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgKlxuICAgKiBAcmV0dXJucyB7RWRpdG9yQ29uZmlnfVxuICAgKi9cbiAgZ2V0IGNvbmZpZ3VyYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgZm9yIHJlcXVpcmVkIGZpZWxkcyBpbiBFZGl0b3IncyBjb25maWdcbiAgICovXG4gIHZhbGlkYXRlKCkge1xuICAgIGNvbnN0IHsgaG9sZGVySWQ6IGUsIGhvbGRlcjogdCB9ID0gdGhpcy5jb25maWc7XG4gICAgaWYgKGUgJiYgdClcbiAgICAgIHRocm93IEVycm9yKFwiXHUwMEFCaG9sZGVySWRcdTAwQkIgYW5kIFx1MDBBQmhvbGRlclx1MDBCQiBwYXJhbSBjYW4ndCBhc3NpZ24gYXQgdGhlIHNhbWUgdGltZS5cIik7XG4gICAgaWYgKFEodCkgJiYgIWQuZ2V0KHQpKVxuICAgICAgdGhyb3cgRXJyb3IoYGVsZW1lbnQgd2l0aCBJRCBcdTAwQUIke3R9XHUwMEJCIGlzIG1pc3NpbmcuIFBhc3MgY29ycmVjdCBob2xkZXIncyBJRC5gKTtcbiAgICBpZiAodCAmJiBSKHQpICYmICFkLmlzRWxlbWVudCh0KSlcbiAgICAgIHRocm93IEVycm9yKFwiXHUwMEFCaG9sZGVyXHUwMEJCIHZhbHVlIG11c3QgYmUgYW4gRWxlbWVudCBub2RlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBtb2R1bGVzOlxuICAgKiAgLSBtYWtlIGFuZCBzYXZlIGluc3RhbmNlc1xuICAgKiAgLSBjb25maWd1cmVcbiAgICovXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RNb2R1bGVzKCksIHRoaXMuY29uZmlndXJlTW9kdWxlcygpO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydCBFZGl0b3IhXG4gICAqXG4gICAqIEdldCBsaXN0IG9mIG1vZHVsZXMgdGhhdCBuZWVkcyB0byBiZSBwcmVwYXJlZCBhbmQgcmV0dXJuIGEgc2VxdWVuY2UgKFByb21pc2UpXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgYXN5bmMgc3RhcnQoKSB7XG4gICAgYXdhaXQgW1xuICAgICAgXCJUb29sc1wiLFxuICAgICAgXCJVSVwiLFxuICAgICAgXCJCbG9ja01hbmFnZXJcIixcbiAgICAgIFwiUGFzdGVcIixcbiAgICAgIFwiQmxvY2tTZWxlY3Rpb25cIixcbiAgICAgIFwiUmVjdGFuZ2xlU2VsZWN0aW9uXCIsXG4gICAgICBcIkNyb3NzQmxvY2tTZWxlY3Rpb25cIixcbiAgICAgIFwiUmVhZE9ubHlcIlxuICAgIF0ucmVkdWNlKFxuICAgICAgKHQsIG8pID0+IHQudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5tb2R1bGVJbnN0YW5jZXNbb10ucHJlcGFyZSgpO1xuICAgICAgICB9IGNhdGNoIChpKSB7XG4gICAgICAgICAgaWYgKGkgaW5zdGFuY2VvZiBQdClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihpLm1lc3NhZ2UpO1xuICAgICAgICAgIEkoYE1vZHVsZSAke299IHdhcyBza2lwcGVkIGJlY2F1c2Ugb2YgJW9gLCBcIndhcm5cIiwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgaW5pdGlhbCBkYXRhXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9kdWxlSW5zdGFuY2VzLlJlbmRlcmVyLnJlbmRlcih0aGlzLmNvbmZpZy5kYXRhLmJsb2Nrcyk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2UgbW9kdWxlcyBpbnN0YW5jZXMgYW5kIHNhdmUgaXQgdG8gdGhlIEBwcm9wZXJ0eSB0aGlzLm1vZHVsZUluc3RhbmNlc1xuICAgKi9cbiAgY29uc3RydWN0TW9kdWxlcygpIHtcbiAgICBPYmplY3QuZW50cmllcyhFcykuZm9yRWFjaCgoW2UsIHRdKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLm1vZHVsZUluc3RhbmNlc1tlXSA9IG5ldyB0KHtcbiAgICAgICAgICBjb25maWc6IHRoaXMuY29uZmlndXJhdGlvbixcbiAgICAgICAgICBldmVudHNEaXNwYXRjaGVyOiB0aGlzLmV2ZW50c0Rpc3BhdGNoZXJcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIEkoXCJbY29uc3RydWN0TW9kdWxlc11cIiwgYE1vZHVsZSAke2V9IHNraXBwZWQgYmVjYXVzZWAsIFwiZXJyb3JcIiwgbyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIE1vZHVsZXMgaW5zdGFuY2VzIGNvbmZpZ3VyYXRpb246XG4gICAqICAtIHBhc3Mgb3RoZXIgbW9kdWxlcyB0byB0aGUgJ3N0YXRlJyBwcm9wZXJ0eVxuICAgKiAgLSAuLi5cbiAgICovXG4gIGNvbmZpZ3VyZU1vZHVsZXMoKSB7XG4gICAgZm9yIChjb25zdCBlIGluIHRoaXMubW9kdWxlSW5zdGFuY2VzKVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMubW9kdWxlSW5zdGFuY2VzLCBlKSAmJiAodGhpcy5tb2R1bGVJbnN0YW5jZXNbZV0uc3RhdGUgPSB0aGlzLmdldE1vZHVsZXNEaWZmKGUpKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIG1vZHVsZXMgd2l0aG91dCBwYXNzZWQgbmFtZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIG1vZHVsZSBmb3Igd2l0Y2ggbW9kdWxlcyBkaWZmZXJlbmNlIHNob3VsZCBiZSBjYWxjdWxhdGVkXG4gICAqL1xuICBnZXRNb2R1bGVzRGlmZihlKSB7XG4gICAgY29uc3QgdCA9IHt9O1xuICAgIGZvciAoY29uc3QgbyBpbiB0aGlzLm1vZHVsZUluc3RhbmNlcylcbiAgICAgIG8gIT09IGUgJiYgKHRbb10gPSB0aGlzLm1vZHVsZUluc3RhbmNlc1tvXSk7XG4gICAgcmV0dXJuIHQ7XG4gIH1cbn1cbi8qKlxuICogRWRpdG9yLmpzXG4gKlxuICogQGxpY2Vuc2UgQXBhY2hlLTIuMFxuICogQHNlZSBFZGl0b3IuanMgPGh0dHBzOi8vZWRpdG9yanMuaW8+XG4gKiBAYXV0aG9yIENvZGVYIFRlYW0gPGh0dHBzOi8vY29kZXguc28+XG4gKi9cbmNsYXNzIFRzIHtcbiAgLyoqIEVkaXRvciB2ZXJzaW9uICovXG4gIHN0YXRpYyBnZXQgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gXCIyLjMwLjZcIjtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtFZGl0b3JDb25maWd8c3RyaW5nfHVuZGVmaW5lZH0gW2NvbmZpZ3VyYXRpb25dIC0gdXNlciBjb25maWd1cmF0aW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgbGV0IHQgPSAoKSA9PiB7XG4gICAgfTtcbiAgICBSKGUpICYmIE8oZS5vblJlYWR5KSAmJiAodCA9IGUub25SZWFkeSk7XG4gICAgY29uc3QgbyA9IG5ldyBCcyhlKTtcbiAgICB0aGlzLmlzUmVhZHkgPSBvLmlzUmVhZHkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmV4cG9ydEFQSShvKSwgdCgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgZXh0ZXJuYWwgQVBJIG1ldGhvZHNcbiAgICpcbiAgICogQHBhcmFtIHtDb3JlfSBlZGl0b3IgXHUyMDE0IEVkaXRvcidzIGluc3RhbmNlXG4gICAqL1xuICBleHBvcnRBUEkoZSkge1xuICAgIGNvbnN0IHQgPSBbXCJjb25maWd1cmF0aW9uXCJdLCBvID0gKCkgPT4ge1xuICAgICAgT2JqZWN0LnZhbHVlcyhlLm1vZHVsZUluc3RhbmNlcykuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICBPKHMuZGVzdHJveSkgJiYgcy5kZXN0cm95KCksIHMubGlzdGVuZXJzLnJlbW92ZUFsbCgpO1xuICAgICAgfSksIHBpKCksIGUgPSBudWxsO1xuICAgICAgZm9yIChjb25zdCBzIGluIHRoaXMpXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCBzKSAmJiBkZWxldGUgdGhpc1tzXTtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBudWxsKTtcbiAgICB9O1xuICAgIHQuZm9yRWFjaCgocykgPT4ge1xuICAgICAgdGhpc1tzXSA9IGVbc107XG4gICAgfSksIHRoaXMuZGVzdHJveSA9IG8sIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBlLm1vZHVsZUluc3RhbmNlcy5BUEkubWV0aG9kcyksIGRlbGV0ZSB0aGlzLmV4cG9ydEFQSSwgT2JqZWN0LmVudHJpZXMoe1xuICAgICAgYmxvY2tzOiB7XG4gICAgICAgIGNsZWFyOiBcImNsZWFyXCIsXG4gICAgICAgIHJlbmRlcjogXCJyZW5kZXJcIlxuICAgICAgfSxcbiAgICAgIGNhcmV0OiB7XG4gICAgICAgIGZvY3VzOiBcImZvY3VzXCJcbiAgICAgIH0sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgb246IFwib25cIixcbiAgICAgICAgb2ZmOiBcIm9mZlwiLFxuICAgICAgICBlbWl0OiBcImVtaXRcIlxuICAgICAgfSxcbiAgICAgIHNhdmVyOiB7XG4gICAgICAgIHNhdmU6IFwic2F2ZVwiXG4gICAgICB9XG4gICAgfSkuZm9yRWFjaCgoW3MsIHJdKSA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhyKS5mb3JFYWNoKChbbCwgYV0pID0+IHtcbiAgICAgICAgdGhpc1thXSA9IGUubW9kdWxlSW5zdGFuY2VzLkFQSS5tZXRob2RzW3NdW2xdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIFRzIGFzIGRlZmF1bHRcbn07XG4iLCAiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO28uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJy5pbWFnZS10b29sey0tYmctY29sb3I6ICNjZGQxZTA7LS1mcm9udC1jb2xvcjogIzM4OGFlNTstLWJvcmRlci1jb2xvcjogI2U4ZThlYn0uaW1hZ2UtdG9vbF9faW1hZ2V7Ym9yZGVyLXJhZGl1czozcHg7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbi1ib3R0b206MTBweH0uaW1hZ2UtdG9vbF9faW1hZ2UtcGljdHVyZXttYXgtd2lkdGg6MTAwJTt2ZXJ0aWNhbC1hbGlnbjpib3R0b207ZGlzcGxheTpibG9ja30uaW1hZ2UtdG9vbF9faW1hZ2UtcHJlbG9hZGVye3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZC1zaXplOmNvdmVyO21hcmdpbjphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQtY29sb3I6dmFyKC0tYmctY29sb3IpO2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGNlbnRlcn0uaW1hZ2UtdG9vbF9faW1hZ2UtcHJlbG9hZGVyOmFmdGVye2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjM7d2lkdGg6NjBweDtoZWlnaHQ6NjBweDtib3JkZXItcmFkaXVzOjUwJTtib3JkZXI6MnB4IHNvbGlkIHZhcigtLWJnLWNvbG9yKTtib3JkZXItdG9wLWNvbG9yOnZhcigtLWZyb250LWNvbG9yKTtsZWZ0OjUwJTt0b3A6NTAlO21hcmdpbi10b3A6LTMwcHg7bWFyZ2luLWxlZnQ6LTMwcHg7YW5pbWF0aW9uOmltYWdlLXByZWxvYWRlci1zcGluIDJzIGluZmluaXRlIGxpbmVhcjtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmltYWdlLXRvb2xfX2NhcHRpb25bY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO2NvbG9yOiM3MDc2ODQ7Zm9udC13ZWlnaHQ6NDAwO2Rpc3BsYXk6bm9uZX0uaW1hZ2UtdG9vbF9fY2FwdGlvbltjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06ZW1wdHk6YmVmb3Jle2Rpc3BsYXk6YmxvY2t9LmltYWdlLXRvb2xfX2NhcHRpb25bY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OmZvY3VzOmJlZm9yZXtkaXNwbGF5Om5vbmV9LmltYWdlLXRvb2wtLWVtcHR5IC5pbWFnZS10b29sX19pbWFnZSwuaW1hZ2UtdG9vbC0tZW1wdHkgLmltYWdlLXRvb2xfX2NhcHRpb24sLmltYWdlLXRvb2wtLWxvYWRpbmcgLmltYWdlLXRvb2xfX2NhcHRpb257ZGlzcGxheTpub25lfS5pbWFnZS10b29sIC5jZHgtYnV0dG9ue2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uaW1hZ2UtdG9vbCAuY2R4LWJ1dHRvbiBzdmd7aGVpZ2h0OmF1dG87bWFyZ2luOjAgNnB4IDAgMH0uaW1hZ2UtdG9vbC0tZmlsbGVkIC5jZHgtYnV0dG9uLC5pbWFnZS10b29sLS1maWxsZWQgLmltYWdlLXRvb2xfX2ltYWdlLXByZWxvYWRlcntkaXNwbGF5Om5vbmV9LmltYWdlLXRvb2wtLWxvYWRpbmcgLmltYWdlLXRvb2xfX2ltYWdle21pbi1oZWlnaHQ6MjAwcHg7ZGlzcGxheTpmbGV4O2JvcmRlcjoxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmltYWdlLXRvb2wtLWxvYWRpbmcgLmltYWdlLXRvb2xfX2ltYWdlLXBpY3R1cmUsLmltYWdlLXRvb2wtLWxvYWRpbmcgLmNkeC1idXR0b257ZGlzcGxheTpub25lfS5pbWFnZS10b29sLS13aXRoQm9yZGVyIC5pbWFnZS10b29sX19pbWFnZXtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcil9LmltYWdlLXRvb2wtLXdpdGhCYWNrZ3JvdW5kIC5pbWFnZS10b29sX19pbWFnZXtwYWRkaW5nOjE1cHg7YmFja2dyb3VuZDp2YXIoLS1iZy1jb2xvcil9LmltYWdlLXRvb2wtLXdpdGhCYWNrZ3JvdW5kIC5pbWFnZS10b29sX19pbWFnZS1waWN0dXJle21heC13aWR0aDo2MCU7bWFyZ2luOjAgYXV0b30uaW1hZ2UtdG9vbC0tc3RyZXRjaGVkIC5pbWFnZS10b29sX19pbWFnZS1waWN0dXJle3dpZHRoOjEwMCV9QGtleWZyYW1lcyBpbWFnZS1wcmVsb2FkZXItc3BpbnswJXt0cmFuc2Zvcm06cm90YXRlKDApfXRve3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19JykpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobyl9fWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIixlKX19KSgpO1xuY29uc3QgSCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMSAxOVYxOUM5LjEzNjIzIDE5IDguMjA0MzUgMTkgNy40NjkyNyAxOC42OTU1QzYuNDg5MTUgMTguMjg5NSA1LjcxMDQ2IDE3LjUxMDggNS4zMDQ0OCAxNi41MzA3QzUgMTUuNzk1NiA1IDE0Ljg2MzggNSAxM1YxMkM1IDkuMTkxMDggNSA3Ljc4NjYxIDUuNjc0MTIgNi43Nzc3MkM1Ljk2NTk2IDYuMzQwOTYgNi4zNDA5NiA1Ljk2NTk2IDYuNzc3NzIgNS42NzQxMkM3Ljc4NjYxIDUgOS4xOTEwOCA1IDEyIDVIMTMuNUMxNC44OTU2IDUgMTUuNTkzMyA1IDE2LjE2MTEgNS4xNzIyNEMxNy40Mzk1IDUuNTYwMDQgMTguNDQgNi41NjA0NiAxOC44Mjc4IDcuODM4ODZDMTkgOC40MDY2NiAxOSA5LjEwNDQ0IDE5IDEwLjVWMTAuNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTNWMTZNMTYgMTlWMTZNMTkgMTZIMTZNMTYgMTZIMTNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNi41IDE3LjVMMTcuNSA2LjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTguOTkxOSAxMC41SDE5LjAwMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAuOTkxOSAxOUgxMS4wMDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTNMMTMgNVwiLz48L3N2Zz4nLCBJID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE4Ljk5MTkgOS41SDE5LjAwMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuNSA1SDE0LjUwOTZcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0LjYyNSA1SDE1QzE3LjIwOTEgNSAxOSA2Ljc5MDg2IDE5IDlWOS4zNzVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS4zNzUgNUw5IDVDNi43OTA4NiA1IDUgNi43OTA4NiA1IDlWOS4zNzVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS4zNzI1IDVIOS4zODIwN1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDkuNUg1LjAwOTU3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMzc1IDE5SDlDNi43OTA4NiAxOSA1IDE3LjIwOTEgNSAxNVYxNC42MjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOS4zNzI1IDE5SDkuMzgyMDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxNC41NUg1LjAwOTU3XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxM1YxNk0xNiAxOVYxNk0xOSAxNkgxNk0xNiAxNkgxM1wiLz48L3N2Zz4nLCBMID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMTM5NjggMTUuMzJMOC42OTA1OCAxMS41NjYxQzkuMDI5MzQgMTEuMjAzNiA5LjQ4ODczIDExIDkuOTY3NzQgMTFDMTAuNDQ2NyAxMSAxMC45MDYxIDExLjIwMzYgMTEuMjQ0OSAxMS41NjYxTDE1LjM4NzEgMTZNMTMuNTgwNiAxNC4wNjY0TDE1LjAxMzIgMTIuNTMzQzE1LjM1MTkgMTIuMTcwNSAxNS44MTEzIDExLjk2NjggMTYuMjkwMyAxMS45NjY4QzE2Ljc2OTMgMTEuOTY2OCAxNy4yMjg3IDEyLjE3MDUgMTcuNTY3NSAxMi41MzNMMTguODQxIDEzLjk2MzRcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTMuNzc3OCA5LjMzMzMxSDEzLjc4NjdcIi8+PC9zdmc+JywgVSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyA5TDIwIDEyTDE3IDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDEySDIwXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgOUw0IDEyTDcgMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNCAxMkgxMFwiLz48L3N2Zz4nO1xuZnVuY3Rpb24gUyhDLCBhID0gbnVsbCwgciA9IHt9KSB7XG4gIGNvbnN0IGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KEMpO1xuICBBcnJheS5pc0FycmF5KGEpID8gYy5jbGFzc0xpc3QuYWRkKC4uLmEpIDogYSAhPT0gbnVsbCAmJiBjLmNsYXNzTGlzdC5hZGQoYSk7XG4gIGZvciAoY29uc3QgaSBpbiByKVxuICAgIHIuaGFzT3duUHJvcGVydHkoaSkgJiYgKGNbaV0gPSByW2ldKTtcbiAgcmV0dXJuIGM7XG59XG52YXIgRiA9IC8qIEBfX1BVUkVfXyAqLyAoKEMpID0+IChDLkVtcHR5ID0gXCJlbXB0eVwiLCBDLlVwbG9hZGluZyA9IFwidXBsb2FkaW5nXCIsIEMuRmlsbGVkID0gXCJmaWxsZWRcIiwgQykpKEYgfHwge30pO1xuY2xhc3MgeCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gdWkgLSBpbWFnZSB0b29sIFVpIG1vZHVsZVxuICAgKiBAcGFyYW0gdWkuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKiBAcGFyYW0gdWkuY29uZmlnIC0gdXNlciBjb25maWdcbiAgICogQHBhcmFtIHVpLm9uU2VsZWN0RmlsZSAtIGNhbGxiYWNrIGZvciBjbGlja3Mgb24gU2VsZWN0IGZpbGUgYnV0dG9uXG4gICAqIEBwYXJhbSB1aS5yZWFkT25seSAtIHJlYWQtb25seSBtb2RlIGZsYWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiBhLCBjb25maWc6IHIsIG9uU2VsZWN0RmlsZTogYywgcmVhZE9ubHk6IGkgfSkge1xuICAgIHRoaXMuYXBpID0gYSwgdGhpcy5jb25maWcgPSByLCB0aGlzLm9uU2VsZWN0RmlsZSA9IGMsIHRoaXMucmVhZE9ubHkgPSBpLCB0aGlzLm5vZGVzID0ge1xuICAgICAgd3JhcHBlcjogUyhcImRpdlwiLCBbdGhpcy5DU1MuYmFzZUNsYXNzLCB0aGlzLkNTUy53cmFwcGVyXSksXG4gICAgICBpbWFnZUNvbnRhaW5lcjogUyhcImRpdlwiLCBbdGhpcy5DU1MuaW1hZ2VDb250YWluZXJdKSxcbiAgICAgIGZpbGVCdXR0b246IHRoaXMuY3JlYXRlRmlsZUJ1dHRvbigpLFxuICAgICAgaW1hZ2VFbDogdm9pZCAwLFxuICAgICAgaW1hZ2VQcmVsb2FkZXI6IFMoXCJkaXZcIiwgdGhpcy5DU1MuaW1hZ2VQcmVsb2FkZXIpLFxuICAgICAgY2FwdGlvbjogUyhcImRpdlwiLCBbdGhpcy5DU1MuaW5wdXQsIHRoaXMuQ1NTLmNhcHRpb25dLCB7XG4gICAgICAgIGNvbnRlbnRFZGl0YWJsZTogIXRoaXMucmVhZE9ubHlcbiAgICAgIH0pXG4gICAgfSwgdGhpcy5ub2Rlcy5jYXB0aW9uLmRhdGFzZXQucGxhY2Vob2xkZXIgPSB0aGlzLmNvbmZpZy5jYXB0aW9uUGxhY2Vob2xkZXIsIHRoaXMubm9kZXMuaW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pbWFnZVByZWxvYWRlciksIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmltYWdlQ29udGFpbmVyKSwgdGhpcy5ub2Rlcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMubm9kZXMuY2FwdGlvbiksIHRoaXMubm9kZXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5vZGVzLmZpbGVCdXR0b24pO1xuICB9XG4gIC8qKlxuICAgKiBBcHBseSB2aXN1YWwgcmVwcmVzZW50YXRpb24gb2YgYWN0aXZhdGVkIHR1bmVcbiAgICogQHBhcmFtIHR1bmVOYW1lIC0gb25lIG9mIGF2YWlsYWJsZSB0dW5lcyB7QGxpbmsgVHVuZXMudHVuZXN9XG4gICAqIEBwYXJhbSBzdGF0dXMgLSB0cnVlIGZvciBlbmFibGUsIGZhbHNlIGZvciBkaXNhYmxlXG4gICAqL1xuICBhcHBseVR1bmUoYSwgcikge1xuICAgIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKGAke3RoaXMuQ1NTLndyYXBwZXJ9LS0ke2F9YCwgcik7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlcnMgdG9vbCBVSVxuICAgKiBAcGFyYW0gdG9vbERhdGEgLSBzYXZlZCB0b29sIGRhdGFcbiAgICovXG4gIHJlbmRlcihhKSB7XG4gICAgcmV0dXJuIGEuZmlsZSA9PT0gdm9pZCAwIHx8IE9iamVjdC5rZXlzKGEuZmlsZSkubGVuZ3RoID09PSAwID8gdGhpcy50b2dnbGVTdGF0dXMoXG4gICAgICBcImVtcHR5XCJcbiAgICAgIC8qIEVtcHR5ICovXG4gICAgKSA6IHRoaXMudG9nZ2xlU3RhdHVzKFxuICAgICAgXCJ1cGxvYWRpbmdcIlxuICAgICAgLyogVXBsb2FkaW5nICovXG4gICAgKSwgdGhpcy5ub2Rlcy53cmFwcGVyO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB1cGxvYWRpbmcgcHJlbG9hZGVyXG4gICAqIEBwYXJhbSBzcmMgLSBwcmV2aWV3IHNvdXJjZVxuICAgKi9cbiAgc2hvd1ByZWxvYWRlcihhKSB7XG4gICAgdGhpcy5ub2Rlcy5pbWFnZVByZWxvYWRlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YX0pYCwgdGhpcy50b2dnbGVTdGF0dXMoXG4gICAgICBcInVwbG9hZGluZ1wiXG4gICAgICAvKiBVcGxvYWRpbmcgKi9cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlIHVwbG9hZGluZyBwcmVsb2FkZXJcbiAgICovXG4gIGhpZGVQcmVsb2FkZXIoKSB7XG4gICAgdGhpcy5ub2Rlcy5pbWFnZVByZWxvYWRlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcIlwiLCB0aGlzLnRvZ2dsZVN0YXR1cyhcbiAgICAgIFwiZW1wdHlcIlxuICAgICAgLyogRW1wdHkgKi9cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyBhbiBpbWFnZVxuICAgKiBAcGFyYW0gdXJsIC0gaW1hZ2Ugc291cmNlXG4gICAqL1xuICBmaWxsSW1hZ2UoYSkge1xuICAgIGNvbnN0IHIgPSAvXFwubXA0JC8udGVzdChhKSA/IFwiVklERU9cIiA6IFwiSU1HXCIsIGMgPSB7XG4gICAgICBzcmM6IGFcbiAgICB9O1xuICAgIGxldCBpID0gXCJsb2FkXCI7XG4gICAgciA9PT0gXCJWSURFT1wiICYmIChjLmF1dG9wbGF5ID0gITAsIGMubG9vcCA9ICEwLCBjLm11dGVkID0gITAsIGMucGxheXNpbmxpbmUgPSAhMCwgaSA9IFwibG9hZGVkZGF0YVwiKSwgdGhpcy5ub2Rlcy5pbWFnZUVsID0gUyhyLCB0aGlzLkNTUy5pbWFnZUVsLCBjKSwgdGhpcy5ub2Rlcy5pbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoaSwgKCkgPT4ge1xuICAgICAgdGhpcy50b2dnbGVTdGF0dXMoXG4gICAgICAgIFwiZmlsbGVkXCJcbiAgICAgICAgLyogRmlsbGVkICovXG4gICAgICApLCB0aGlzLm5vZGVzLmltYWdlUHJlbG9hZGVyICE9PSB2b2lkIDAgJiYgKHRoaXMubm9kZXMuaW1hZ2VQcmVsb2FkZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJcIik7XG4gICAgfSksIHRoaXMubm9kZXMuaW1hZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5ub2Rlcy5pbWFnZUVsKTtcbiAgfVxuICAvKipcbiAgICogU2hvd3MgY2FwdGlvbiBpbnB1dFxuICAgKiBAcGFyYW0gdGV4dCAtIGNhcHRpb24gY29udGVudCB0ZXh0XG4gICAqL1xuICBmaWxsQ2FwdGlvbihhKSB7XG4gICAgdGhpcy5ub2Rlcy5jYXB0aW9uICE9PSB2b2lkIDAgJiYgKHRoaXMubm9kZXMuY2FwdGlvbi5pbm5lckhUTUwgPSBhKTtcbiAgfVxuICAvKipcbiAgICogQ1NTIGNsYXNzZXNcbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VDbGFzczogdGhpcy5hcGkuc3R5bGVzLmJsb2NrLFxuICAgICAgbG9hZGluZzogdGhpcy5hcGkuc3R5bGVzLmxvYWRlcixcbiAgICAgIGlucHV0OiB0aGlzLmFwaS5zdHlsZXMuaW5wdXQsXG4gICAgICBidXR0b246IHRoaXMuYXBpLnN0eWxlcy5idXR0b24sXG4gICAgICAvKipcbiAgICAgICAqIFRvb2wncyBjbGFzc2VzXG4gICAgICAgKi9cbiAgICAgIHdyYXBwZXI6IFwiaW1hZ2UtdG9vbFwiLFxuICAgICAgaW1hZ2VDb250YWluZXI6IFwiaW1hZ2UtdG9vbF9faW1hZ2VcIixcbiAgICAgIGltYWdlUHJlbG9hZGVyOiBcImltYWdlLXRvb2xfX2ltYWdlLXByZWxvYWRlclwiLFxuICAgICAgaW1hZ2VFbDogXCJpbWFnZS10b29sX19pbWFnZS1waWN0dXJlXCIsXG4gICAgICBjYXB0aW9uOiBcImltYWdlLXRvb2xfX2NhcHRpb25cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdXBsb2FkLWZpbGUgYnV0dG9uXG4gICAqL1xuICBjcmVhdGVGaWxlQnV0dG9uKCkge1xuICAgIGNvbnN0IGEgPSBTKFwiZGl2XCIsIFt0aGlzLkNTUy5idXR0b25dKTtcbiAgICByZXR1cm4gYS5pbm5lckhUTUwgPSB0aGlzLmNvbmZpZy5idXR0b25Db250ZW50ID8/IGAke0x9ICR7dGhpcy5hcGkuaTE4bi50KFwiU2VsZWN0IGFuIEltYWdlXCIpfWAsIGEuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMub25TZWxlY3RGaWxlKCk7XG4gICAgfSksIGE7XG4gIH1cbiAgLyoqXG4gICAqIENoYW5nZXMgVUkgc3RhdHVzXG4gICAqIEBwYXJhbSBzdGF0dXMgLSBzZWUge0BsaW5rIFVpLnN0YXR1c30gY29uc3RhbnRzXG4gICAqL1xuICB0b2dnbGVTdGF0dXMoYSkge1xuICAgIGZvciAoY29uc3QgciBpbiBGKVxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEYsIHIpICYmIHRoaXMubm9kZXMud3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKGAke3RoaXMuQ1NTLndyYXBwZXJ9LS0ke0Zbcl19YCwgYSA9PT0gRltyXSk7XG4gIH1cbn1cbmZ1bmN0aW9uIEQoQykge1xuICByZXR1cm4gQyAmJiBDLl9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEMsIFwiZGVmYXVsdFwiKSA/IEMuZGVmYXVsdCA6IEM7XG59XG52YXIgUiA9IHsgZXhwb3J0czoge30gfTtcbihmdW5jdGlvbihDLCBhKSB7XG4gIChmdW5jdGlvbihyLCBjKSB7XG4gICAgQy5leHBvcnRzID0gYygpO1xuICB9KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmdW5jdGlvbihyKSB7XG4gICAgICB2YXIgYyA9IHt9O1xuICAgICAgZnVuY3Rpb24gaShvKSB7XG4gICAgICAgIGlmIChjW29dKSByZXR1cm4gY1tvXS5leHBvcnRzO1xuICAgICAgICB2YXIgbiA9IGNbb10gPSB7IGk6IG8sIGw6ICExLCBleHBvcnRzOiB7fSB9O1xuICAgICAgICByZXR1cm4gcltvXS5jYWxsKG4uZXhwb3J0cywgbiwgbi5leHBvcnRzLCBpKSwgbi5sID0gITAsIG4uZXhwb3J0cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLm0gPSByLCBpLmMgPSBjLCBpLmQgPSBmdW5jdGlvbihvLCBuLCBkKSB7XG4gICAgICAgIGkubyhvLCBuKSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgbiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBkIH0pO1xuICAgICAgfSwgaS5yID0gZnVuY3Rpb24obykge1xuICAgICAgICB0eXBlb2YgU3ltYm9sIDwgXCJ1XCIgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG4gICAgICB9LCBpLnQgPSBmdW5jdGlvbihvLCBuKSB7XG4gICAgICAgIGlmICgxICYgbiAmJiAobyA9IGkobykpLCA4ICYgbiB8fCA0ICYgbiAmJiB0eXBlb2YgbyA9PSBcIm9iamVjdFwiICYmIG8gJiYgby5fX2VzTW9kdWxlKSByZXR1cm4gbztcbiAgICAgICAgdmFyIGQgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaWYgKGkucihkKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6ICEwLCB2YWx1ZTogbyB9KSwgMiAmIG4gJiYgdHlwZW9mIG8gIT0gXCJzdHJpbmdcIikgZm9yICh2YXIgYiBpbiBvKSBpLmQoZCwgYiwgKGZ1bmN0aW9uKHUpIHtcbiAgICAgICAgICByZXR1cm4gb1t1XTtcbiAgICAgICAgfSkuYmluZChudWxsLCBiKSk7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSwgaS5uID0gZnVuY3Rpb24obykge1xuICAgICAgICB2YXIgbiA9IG8gJiYgby5fX2VzTW9kdWxlID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIG8uZGVmYXVsdDtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaS5kKG4sIFwiYVwiLCBuKSwgbjtcbiAgICAgIH0sIGkubyA9IGZ1bmN0aW9uKG8sIG4pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBuKTtcbiAgICAgIH0sIGkucCA9IFwiXCIsIGkoaS5zID0gMyk7XG4gICAgfShbZnVuY3Rpb24ociwgYykge1xuICAgICAgdmFyIGk7XG4gICAgICBpID0gLyogQF9fUFVSRV9fICovIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0oKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGkgPSBpIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgdHlwZW9mIHdpbmRvdyA9PSBcIm9iamVjdFwiICYmIChpID0gd2luZG93KTtcbiAgICAgIH1cbiAgICAgIHIuZXhwb3J0cyA9IGk7XG4gICAgfSwgZnVuY3Rpb24ociwgYywgaSkge1xuICAgICAgKGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgdmFyIG4gPSBpKDIpLCBkID0gc2V0VGltZW91dDtcbiAgICAgICAgZnVuY3Rpb24gYigpIHtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB1KGUpIHtcbiAgICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgdSkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXdcIik7XG4gICAgICAgICAgaWYgKHR5cGVvZiBlICE9IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgIHRoaXMuX3N0YXRlID0gMCwgdGhpcy5faGFuZGxlZCA9ICExLCB0aGlzLl92YWx1ZSA9IHZvaWQgMCwgdGhpcy5fZGVmZXJyZWRzID0gW10sIHQoZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZihlLCBsKSB7XG4gICAgICAgICAgZm9yICg7IGUuX3N0YXRlID09PSAzOyApIGUgPSBlLl92YWx1ZTtcbiAgICAgICAgICBlLl9zdGF0ZSAhPT0gMCA/IChlLl9oYW5kbGVkID0gITAsIHUuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHMgPSBlLl9zdGF0ZSA9PT0gMSA/IGwub25GdWxmaWxsZWQgOiBsLm9uUmVqZWN0ZWQ7XG4gICAgICAgICAgICBpZiAocyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB2YXIgZztcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBnID0gcyhlLl92YWx1ZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKG0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCB5KGwucHJvbWlzZSwgbSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcChsLnByb21pc2UsIGcpO1xuICAgICAgICAgICAgfSBlbHNlIChlLl9zdGF0ZSA9PT0gMSA/IHAgOiB5KShsLnByb21pc2UsIGUuX3ZhbHVlKTtcbiAgICAgICAgICB9KSkgOiBlLl9kZWZlcnJlZHMucHVzaChsKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwKGUsIGwpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGwgPT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKTtcbiAgICAgICAgICAgIGlmIChsICYmICh0eXBlb2YgbCA9PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBsID09IFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgdmFyIHMgPSBsLnRoZW47XG4gICAgICAgICAgICAgIGlmIChsIGluc3RhbmNlb2YgdSkgcmV0dXJuIGUuX3N0YXRlID0gMywgZS5fdmFsdWUgPSBsLCB2b2lkIHcoZSk7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgcyA9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB2b2lkIHQoKGcgPSBzLCBtID0gbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZy5hcHBseShtLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICB9KSwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLl9zdGF0ZSA9IDEsIGUuX3ZhbHVlID0gbCwgdyhlKTtcbiAgICAgICAgICB9IGNhdGNoIChoKSB7XG4gICAgICAgICAgICB5KGUsIGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZywgbTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB5KGUsIGwpIHtcbiAgICAgICAgICBlLl9zdGF0ZSA9IDIsIGUuX3ZhbHVlID0gbCwgdyhlKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB3KGUpIHtcbiAgICAgICAgICBlLl9zdGF0ZSA9PT0gMiAmJiBlLl9kZWZlcnJlZHMubGVuZ3RoID09PSAwICYmIHUuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZS5faGFuZGxlZCB8fCB1Ll91bmhhbmRsZWRSZWplY3Rpb25GbihlLl92YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yICh2YXIgbCA9IDAsIHMgPSBlLl9kZWZlcnJlZHMubGVuZ3RoOyBsIDwgczsgbCsrKSBmKGUsIGUuX2RlZmVycmVkc1tsXSk7XG4gICAgICAgICAgZS5fZGVmZXJyZWRzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB2KGUsIGwsIHMpIHtcbiAgICAgICAgICB0aGlzLm9uRnVsZmlsbGVkID0gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiID8gZSA6IG51bGwsIHRoaXMub25SZWplY3RlZCA9IHR5cGVvZiBsID09IFwiZnVuY3Rpb25cIiA/IGwgOiBudWxsLCB0aGlzLnByb21pc2UgPSBzO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHQoZSwgbCkge1xuICAgICAgICAgIHZhciBzID0gITE7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGUoZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgICBzIHx8IChzID0gITAsIHAobCwgZykpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZykge1xuICAgICAgICAgICAgICBzIHx8IChzID0gITAsIHkobCwgZykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZykge1xuICAgICAgICAgICAgaWYgKHMpIHJldHVybjtcbiAgICAgICAgICAgIHMgPSAhMCwgeShsLCBnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBlKTtcbiAgICAgICAgfSwgdS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKGUsIGwpIHtcbiAgICAgICAgICB2YXIgcyA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGIpO1xuICAgICAgICAgIHJldHVybiBmKHRoaXMsIG5ldyB2KGUsIGwsIHMpKSwgcztcbiAgICAgICAgfSwgdS5wcm90b3R5cGUuZmluYWxseSA9IG4uYSwgdS5hbGwgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyB1KGZ1bmN0aW9uKGwsIHMpIHtcbiAgICAgICAgICAgIGlmICghZSB8fCBlLmxlbmd0aCA9PT0gdm9pZCAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheVwiKTtcbiAgICAgICAgICAgIHZhciBnID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSk7XG4gICAgICAgICAgICBpZiAoZy5sZW5ndGggPT09IDApIHJldHVybiBsKFtdKTtcbiAgICAgICAgICAgIHZhciBtID0gZy5sZW5ndGg7XG4gICAgICAgICAgICBmdW5jdGlvbiBoKFQsIEUpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoRSAmJiAodHlwZW9mIEUgPT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgRSA9PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgaiA9IEUudGhlbjtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaiA9PSBcImZ1bmN0aW9uXCIpIHJldHVybiB2b2lkIGouY2FsbChFLCBmdW5jdGlvbihNKSB7XG4gICAgICAgICAgICAgICAgICAgIGgoVCwgTSk7XG4gICAgICAgICAgICAgICAgICB9LCBzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ1tUXSA9IEUsIC0tbSA9PSAwICYmIGwoZyk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKE0pIHtcbiAgICAgICAgICAgICAgICBzKE0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGcubGVuZ3RoOyBrKyspIGgoaywgZ1trXSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIHUucmVzb2x2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICByZXR1cm4gZSAmJiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiICYmIGUuY29uc3RydWN0b3IgPT09IHUgPyBlIDogbmV3IHUoZnVuY3Rpb24obCkge1xuICAgICAgICAgICAgbChlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdS5yZWplY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyB1KGZ1bmN0aW9uKGwsIHMpIHtcbiAgICAgICAgICAgIHMoZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIHUucmFjZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IHUoZnVuY3Rpb24obCwgcykge1xuICAgICAgICAgICAgZm9yICh2YXIgZyA9IDAsIG0gPSBlLmxlbmd0aDsgZyA8IG07IGcrKykgZVtnXS50aGVuKGwsIHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCB1Ll9pbW1lZGlhdGVGbiA9IHR5cGVvZiBvID09IFwiZnVuY3Rpb25cIiAmJiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgbyhlKTtcbiAgICAgICAgfSB8fCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZChlLCAwKTtcbiAgICAgICAgfSwgdS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgdHlwZW9mIGNvbnNvbGUgPCBcInVcIiAmJiBjb25zb2xlICYmIGNvbnNvbGUud2FybihcIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjpcIiwgZSk7XG4gICAgICAgIH0sIGMuYSA9IHU7XG4gICAgICB9KS5jYWxsKHRoaXMsIGkoNSkuc2V0SW1tZWRpYXRlKTtcbiAgICB9LCBmdW5jdGlvbihyLCBjLCBpKSB7XG4gICAgICBjLmEgPSBmdW5jdGlvbihvKSB7XG4gICAgICAgIHZhciBuID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgcmV0dXJuIG4ucmVzb2x2ZShvKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHJldHVybiBuLnJlc29sdmUobygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG4ucmVqZWN0KGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSwgZnVuY3Rpb24ociwgYywgaSkge1xuICAgICAgZnVuY3Rpb24gbyh0KSB7XG4gICAgICAgIHJldHVybiAobyA9IHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGU7XG4gICAgICAgIH0gOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgcmV0dXJuIGUgJiYgdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgZS5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIGUgIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIGU7XG4gICAgICAgIH0pKHQpO1xuICAgICAgfVxuICAgICAgaSg0KTtcbiAgICAgIHZhciBuLCBkLCBiLCB1LCBmLCBwLCB5LCB3ID0gaSg4KSwgdiA9IChkID0gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSwgbCkge1xuICAgICAgICAgIHQgPSB1KHQpLCAodCA9IGYodCkpLmJlZm9yZVNlbmQgJiYgdC5iZWZvcmVTZW5kKCk7XG4gICAgICAgICAgdmFyIHMgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPyBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCkgOiBuZXcgd2luZG93LkFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKTtcbiAgICAgICAgICBzLm9wZW4odC5tZXRob2QsIHQudXJsKSwgcy5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLCBcIlhNTEh0dHBSZXF1ZXN0XCIpLCBPYmplY3Qua2V5cyh0LmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgdmFyIGggPSB0LmhlYWRlcnNbbV07XG4gICAgICAgICAgICBzLnNldFJlcXVlc3RIZWFkZXIobSwgaCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIGcgPSB0LnJhdGlvO1xuICAgICAgICAgIHMudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCBmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICB2YXIgaCA9IE1hdGgucm91bmQobS5sb2FkZWQgLyBtLnRvdGFsICogMTAwKSwgayA9IE1hdGguY2VpbChoICogZyAvIDEwMCk7XG4gICAgICAgICAgICB0LnByb2dyZXNzKE1hdGgubWluKGssIDEwMCkpO1xuICAgICAgICAgIH0sICExKSwgcy5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgdmFyIGggPSBNYXRoLnJvdW5kKG0ubG9hZGVkIC8gbS50b3RhbCAqIDEwMCksIGsgPSBNYXRoLmNlaWwoaCAqICgxMDAgLSBnKSAvIDEwMCkgKyBnO1xuICAgICAgICAgICAgdC5wcm9ncmVzcyhNYXRoLm1pbihrLCAxMDApKTtcbiAgICAgICAgICB9LCAhMSksIHMub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAocy5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgIHZhciBtID0gcy5yZXNwb25zZTtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBtID0gSlNPTi5wYXJzZShtKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGggPSB3LnBhcnNlSGVhZGVycyhzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSwgayA9IHsgYm9keTogbSwgY29kZTogcy5zdGF0dXMsIGhlYWRlcnM6IGggfTtcbiAgICAgICAgICAgICAgeShzLnN0YXR1cykgPyBlKGspIDogbChrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBzLnNlbmQodC5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBiID0gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5tZXRob2QgPSBcIlBPU1RcIiwgZCh0KTtcbiAgICAgIH0sIHUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgICBpZiAodC51cmwgJiYgdHlwZW9mIHQudXJsICE9IFwic3RyaW5nXCIpIHRocm93IG5ldyBFcnJvcihcIlVybCBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuICAgICAgICBpZiAodC51cmwgPSB0LnVybCB8fCBcIlwiLCB0Lm1ldGhvZCAmJiB0eXBlb2YgdC5tZXRob2QgIT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwiYG1ldGhvZGAgbXVzdCBiZSBhIHN0cmluZyBvciBudWxsXCIpO1xuICAgICAgICBpZiAodC5tZXRob2QgPSB0Lm1ldGhvZCA/IHQubWV0aG9kLnRvVXBwZXJDYXNlKCkgOiBcIkdFVFwiLCB0LmhlYWRlcnMgJiYgbyh0LmhlYWRlcnMpICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJgaGVhZGVyc2AgbXVzdCBiZSBhbiBvYmplY3Qgb3IgbnVsbFwiKTtcbiAgICAgICAgaWYgKHQuaGVhZGVycyA9IHQuaGVhZGVycyB8fCB7fSwgdC50eXBlICYmICh0eXBlb2YgdC50eXBlICE9IFwic3RyaW5nXCIgfHwgIU9iamVjdC52YWx1ZXMobikuaW5jbHVkZXModC50eXBlKSkpIHRocm93IG5ldyBFcnJvcihcImB0eXBlYCBtdXN0IGJlIHRha2VuIGZyb20gbW9kdWxlJ3MgXHUwMEFCY29udGVudFR5cGVcdTAwQkIgbGlicmFyeVwiKTtcbiAgICAgICAgaWYgKHQucHJvZ3Jlc3MgJiYgdHlwZW9mIHQucHJvZ3Jlc3MgIT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJgcHJvZ3Jlc3NgIG11c3QgYmUgYSBmdW5jdGlvbiBvciBudWxsXCIpO1xuICAgICAgICBpZiAodC5wcm9ncmVzcyA9IHQucHJvZ3Jlc3MgfHwgZnVuY3Rpb24oZSkge1xuICAgICAgICB9LCB0LmJlZm9yZVNlbmQgPSB0LmJlZm9yZVNlbmQgfHwgZnVuY3Rpb24oZSkge1xuICAgICAgICB9LCB0LnJhdGlvICYmIHR5cGVvZiB0LnJhdGlvICE9IFwibnVtYmVyXCIpIHRocm93IG5ldyBFcnJvcihcImByYXRpb2AgbXVzdCBiZSBhIG51bWJlclwiKTtcbiAgICAgICAgaWYgKHQucmF0aW8gPCAwIHx8IHQucmF0aW8gPiAxMDApIHRocm93IG5ldyBFcnJvcihcImByYXRpb2AgbXVzdCBiZSBpbiBhIDAtMTAwIGludGVydmFsXCIpO1xuICAgICAgICBpZiAodC5yYXRpbyA9IHQucmF0aW8gfHwgOTAsIHQuYWNjZXB0ICYmIHR5cGVvZiB0LmFjY2VwdCAhPSBcInN0cmluZ1wiKSB0aHJvdyBuZXcgRXJyb3IoXCJgYWNjZXB0YCBtdXN0IGJlIGEgc3RyaW5nIHdpdGggYSBsaXN0IG9mIGFsbG93ZWQgbWltZS10eXBlc1wiKTtcbiAgICAgICAgaWYgKHQuYWNjZXB0ID0gdC5hY2NlcHQgfHwgXCIqLypcIiwgdC5tdWx0aXBsZSAmJiB0eXBlb2YgdC5tdWx0aXBsZSAhPSBcImJvb2xlYW5cIikgdGhyb3cgbmV3IEVycm9yKFwiYG11bHRpcGxlYCBtdXN0IGJlIGEgdHJ1ZSBvciBmYWxzZVwiKTtcbiAgICAgICAgaWYgKHQubXVsdGlwbGUgPSB0Lm11bHRpcGxlIHx8ICExLCB0LmZpZWxkTmFtZSAmJiB0eXBlb2YgdC5maWVsZE5hbWUgIT0gXCJzdHJpbmdcIikgdGhyb3cgbmV3IEVycm9yKFwiYGZpZWxkTmFtZWAgbXVzdCBiZSBhIHN0cmluZ1wiKTtcbiAgICAgICAgcmV0dXJuIHQuZmllbGROYW1lID0gdC5maWVsZE5hbWUgfHwgXCJmaWxlc1wiLCB0O1xuICAgICAgfSwgZiA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgc3dpdGNoICh0Lm1ldGhvZCkge1xuICAgICAgICAgIGNhc2UgXCJHRVRcIjpcbiAgICAgICAgICAgIHZhciBlID0gcCh0LmRhdGEsIG4uVVJMRU5DT0RFRCk7XG4gICAgICAgICAgICBkZWxldGUgdC5kYXRhLCB0LnVybCA9IC9cXD8vLnRlc3QodC51cmwpID8gdC51cmwgKyBcIiZcIiArIGUgOiB0LnVybCArIFwiP1wiICsgZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJQT1NUXCI6XG4gICAgICAgICAgY2FzZSBcIlBVVFwiOlxuICAgICAgICAgIGNhc2UgXCJERUxFVEVcIjpcbiAgICAgICAgICBjYXNlIFwiVVBEQVRFXCI6XG4gICAgICAgICAgICB2YXIgbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gKGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge30pLnR5cGUgfHwgbi5KU09OO1xuICAgICAgICAgICAgfSh0KTtcbiAgICAgICAgICAgICh3LmlzRm9ybURhdGEodC5kYXRhKSB8fCB3LmlzRm9ybUVsZW1lbnQodC5kYXRhKSkgJiYgKGwgPSBuLkZPUk0pLCB0LmRhdGEgPSBwKHQuZGF0YSwgbCksIGwgIT09IHYuY29udGVudFR5cGUuRk9STSAmJiAodC5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdID0gbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgICB9LCBwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgMCkge1xuICAgICAgICAgIGNhc2Ugbi5VUkxFTkNPREVEOlxuICAgICAgICAgICAgcmV0dXJuIHcudXJsRW5jb2RlKHQpO1xuICAgICAgICAgIGNhc2Ugbi5KU09OOlxuICAgICAgICAgICAgcmV0dXJuIHcuanNvbkVuY29kZSh0KTtcbiAgICAgICAgICBjYXNlIG4uRk9STTpcbiAgICAgICAgICAgIHJldHVybiB3LmZvcm1FbmNvZGUodCk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICB9LCB5ID0gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdCA+PSAyMDAgJiYgdCA8IDMwMDtcbiAgICAgIH0sIHsgY29udGVudFR5cGU6IG4gPSB7IFVSTEVOQ09ERUQ6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PXV0Zi04XCIsIEZPUk06IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLCBKU09OOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIiB9LCByZXF1ZXN0OiBkLCBnZXQ6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQubWV0aG9kID0gXCJHRVRcIiwgZCh0KTtcbiAgICAgIH0sIHBvc3Q6IGIsIHRyYW5zcG9ydDogZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdCA9IHUodCksIHcuc2VsZWN0RmlsZXModCkudGhlbihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZm9yICh2YXIgbCA9IG5ldyBGb3JtRGF0YSgpLCBzID0gMDsgcyA8IGUubGVuZ3RoOyBzKyspIGwuYXBwZW5kKHQuZmllbGROYW1lLCBlW3NdLCBlW3NdLm5hbWUpO1xuICAgICAgICAgIHcuaXNPYmplY3QodC5kYXRhKSAmJiBPYmplY3Qua2V5cyh0LmRhdGEpLmZvckVhY2goZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgdmFyIGggPSB0LmRhdGFbbV07XG4gICAgICAgICAgICBsLmFwcGVuZChtLCBoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgZyA9IHQuYmVmb3JlU2VuZDtcbiAgICAgICAgICByZXR1cm4gdC5iZWZvcmVTZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZyhlKTtcbiAgICAgICAgICB9LCB0LmRhdGEgPSBsLCBiKHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIHNlbGVjdEZpbGVzOiBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiBkZWxldGUgKHQgPSB1KHQpKS5iZWZvcmVTZW5kLCB3LnNlbGVjdEZpbGVzKHQpO1xuICAgICAgfSB9KTtcbiAgICAgIHIuZXhwb3J0cyA9IHY7XG4gICAgfSwgZnVuY3Rpb24ociwgYywgaSkge1xuICAgICAgaS5yKGMpO1xuICAgICAgdmFyIG8gPSBpKDEpO1xuICAgICAgd2luZG93LlByb21pc2UgPSB3aW5kb3cuUHJvbWlzZSB8fCBvLmE7XG4gICAgfSwgZnVuY3Rpb24ociwgYywgaSkge1xuICAgICAgKGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgdmFyIG4gPSBvICE9PSB2b2lkIDAgJiYgbyB8fCB0eXBlb2Ygc2VsZiA8IFwidVwiICYmIHNlbGYgfHwgd2luZG93LCBkID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuICAgICAgICBmdW5jdGlvbiBiKHUsIGYpIHtcbiAgICAgICAgICB0aGlzLl9pZCA9IHUsIHRoaXMuX2NsZWFyRm4gPSBmO1xuICAgICAgICB9XG4gICAgICAgIGMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuZXcgYihkLmNhbGwoc2V0VGltZW91dCwgbiwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbiAgICAgICAgfSwgYy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBuZXcgYihkLmNhbGwoc2V0SW50ZXJ2YWwsIG4sIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xuICAgICAgICB9LCBjLmNsZWFyVGltZW91dCA9IGMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHUpIHtcbiAgICAgICAgICB1ICYmIHUuY2xvc2UoKTtcbiAgICAgICAgfSwgYi5wcm90b3R5cGUudW5yZWYgPSBiLnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgfSwgYi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB0aGlzLl9jbGVhckZuLmNhbGwobiwgdGhpcy5faWQpO1xuICAgICAgICB9LCBjLmVucm9sbCA9IGZ1bmN0aW9uKHUsIGYpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodS5faWRsZVRpbWVvdXRJZCksIHUuX2lkbGVUaW1lb3V0ID0gZjtcbiAgICAgICAgfSwgYy51bmVucm9sbCA9IGZ1bmN0aW9uKHUpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodS5faWRsZVRpbWVvdXRJZCksIHUuX2lkbGVUaW1lb3V0ID0gLTE7XG4gICAgICAgIH0sIGMuX3VucmVmQWN0aXZlID0gYy5hY3RpdmUgPSBmdW5jdGlvbih1KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHUuX2lkbGVUaW1lb3V0SWQpO1xuICAgICAgICAgIHZhciBmID0gdS5faWRsZVRpbWVvdXQ7XG4gICAgICAgICAgZiA+PSAwICYmICh1Ll9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHUuX29uVGltZW91dCAmJiB1Ll9vblRpbWVvdXQoKTtcbiAgICAgICAgICB9LCBmKSk7XG4gICAgICAgIH0sIGkoNiksIGMuc2V0SW1tZWRpYXRlID0gdHlwZW9mIHNlbGYgPCBcInVcIiAmJiBzZWxmLnNldEltbWVkaWF0ZSB8fCBvICE9PSB2b2lkIDAgJiYgby5zZXRJbW1lZGlhdGUgfHwgdGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSwgYy5jbGVhckltbWVkaWF0ZSA9IHR5cGVvZiBzZWxmIDwgXCJ1XCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSB8fCBvICE9PSB2b2lkIDAgJiYgby5jbGVhckltbWVkaWF0ZSB8fCB0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGU7XG4gICAgICB9KS5jYWxsKHRoaXMsIGkoMCkpO1xuICAgIH0sIGZ1bmN0aW9uKHIsIGMsIGkpIHtcbiAgICAgIChmdW5jdGlvbihvLCBuKSB7XG4gICAgICAgIChmdW5jdGlvbihkLCBiKSB7XG4gICAgICAgICAgaWYgKCFkLnNldEltbWVkaWF0ZSkge1xuICAgICAgICAgICAgdmFyIHUsIGYsIHAsIHksIHcsIHYgPSAxLCB0ID0ge30sIGUgPSAhMSwgbCA9IGQuZG9jdW1lbnQsIHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGQpO1xuICAgICAgICAgICAgcyA9IHMgJiYgcy5zZXRUaW1lb3V0ID8gcyA6IGQsIHt9LnRvU3RyaW5nLmNhbGwoZC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIgPyB1ID0gZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgICBuLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG0oaCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoZC5wb3N0TWVzc2FnZSAmJiAhZC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGggPSAhMCwgayA9IGQub25tZXNzYWdlO1xuICAgICAgICAgICAgICAgIHJldHVybiBkLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaCA9ICExO1xuICAgICAgICAgICAgICAgIH0sIGQucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpLCBkLm9ubWVzc2FnZSA9IGssIGg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0oKSA/ICh5ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCIsIHcgPSBmdW5jdGlvbihoKSB7XG4gICAgICAgICAgICAgIGguc291cmNlID09PSBkICYmIHR5cGVvZiBoLmRhdGEgPT0gXCJzdHJpbmdcIiAmJiBoLmRhdGEuaW5kZXhPZih5KSA9PT0gMCAmJiBtKCtoLmRhdGEuc2xpY2UoeS5sZW5ndGgpKTtcbiAgICAgICAgICAgIH0sIGQuYWRkRXZlbnRMaXN0ZW5lciA/IGQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdywgITEpIDogZC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCB3KSwgdSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgICAgZC5wb3N0TWVzc2FnZSh5ICsgaCwgXCIqXCIpO1xuICAgICAgICAgICAgfSkgOiBkLk1lc3NhZ2VDaGFubmVsID8gKChwID0gbmV3IE1lc3NhZ2VDaGFubmVsKCkpLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgICAgbShoLmRhdGEpO1xuICAgICAgICAgICAgfSwgdSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgICAgcC5wb3J0Mi5wb3N0TWVzc2FnZShoKTtcbiAgICAgICAgICAgIH0pIDogbCAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGwuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSA/IChmID0gbC5kb2N1bWVudEVsZW1lbnQsIHUgPSBmdW5jdGlvbihoKSB7XG4gICAgICAgICAgICAgIHZhciBrID0gbC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgICBrLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG0oaCksIGsub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbCwgZi5yZW1vdmVDaGlsZChrKSwgayA9IG51bGw7XG4gICAgICAgICAgICAgIH0sIGYuYXBwZW5kQ2hpbGQoayk7XG4gICAgICAgICAgICB9KSA6IHUgPSBmdW5jdGlvbihoKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQobSwgMCwgaCk7XG4gICAgICAgICAgICB9LCBzLnNldEltbWVkaWF0ZSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgICAgICAgdHlwZW9mIGggIT0gXCJmdW5jdGlvblwiICYmIChoID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBoKSk7XG4gICAgICAgICAgICAgIGZvciAodmFyIGsgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpLCBUID0gMDsgVCA8IGsubGVuZ3RoOyBUKyspIGtbVF0gPSBhcmd1bWVudHNbVCArIDFdO1xuICAgICAgICAgICAgICB2YXIgRSA9IHsgY2FsbGJhY2s6IGgsIGFyZ3M6IGsgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRbdl0gPSBFLCB1KHYpLCB2Kys7XG4gICAgICAgICAgICB9LCBzLmNsZWFySW1tZWRpYXRlID0gZztcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gZyhoKSB7XG4gICAgICAgICAgICBkZWxldGUgdFtoXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZnVuY3Rpb24gbShoKSB7XG4gICAgICAgICAgICBpZiAoZSkgc2V0VGltZW91dChtLCAwLCBoKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgayA9IHRbaF07XG4gICAgICAgICAgICAgIGlmIChrKSB7XG4gICAgICAgICAgICAgICAgZSA9ICEwO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oVCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgRSA9IFQuY2FsbGJhY2ssIGogPSBULmFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoai5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBFKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBFKGpbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgRShqWzBdLCBqWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIEUoalswXSwgalsxXSwgalsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgRS5hcHBseShiLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSkoayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgIGcoaCksIGUgPSAhMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pKHR5cGVvZiBzZWxmID4gXCJ1XCIgPyBvID09PSB2b2lkIDAgPyB0aGlzIDogbyA6IHNlbGYpO1xuICAgICAgfSkuY2FsbCh0aGlzLCBpKDApLCBpKDcpKTtcbiAgICB9LCBmdW5jdGlvbihyLCBjKSB7XG4gICAgICB2YXIgaSwgbywgbiA9IHIuZXhwb3J0cyA9IHt9O1xuICAgICAgZnVuY3Rpb24gZCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGIoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHUocykge1xuICAgICAgICBpZiAoaSA9PT0gc2V0VGltZW91dCkgcmV0dXJuIHNldFRpbWVvdXQocywgMCk7XG4gICAgICAgIGlmICgoaSA9PT0gZCB8fCAhaSkgJiYgc2V0VGltZW91dCkgcmV0dXJuIGkgPSBzZXRUaW1lb3V0LCBzZXRUaW1lb3V0KHMsIDApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBpKHMsIDApO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGkuY2FsbChudWxsLCBzLCAwKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBpLmNhbGwodGhpcywgcywgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaSA9IHR5cGVvZiBzZXRUaW1lb3V0ID09IFwiZnVuY3Rpb25cIiA/IHNldFRpbWVvdXQgOiBkO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICBpID0gZDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIG8gPSB0eXBlb2YgY2xlYXJUaW1lb3V0ID09IFwiZnVuY3Rpb25cIiA/IGNsZWFyVGltZW91dCA6IGI7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIG8gPSBiO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgICAgdmFyIGYsIHAgPSBbXSwgeSA9ICExLCB3ID0gLTE7XG4gICAgICBmdW5jdGlvbiB2KCkge1xuICAgICAgICB5ICYmIGYgJiYgKHkgPSAhMSwgZi5sZW5ndGggPyBwID0gZi5jb25jYXQocCkgOiB3ID0gLTEsIHAubGVuZ3RoICYmIHQoKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB0KCkge1xuICAgICAgICBpZiAoIXkpIHtcbiAgICAgICAgICB2YXIgcyA9IHUodik7XG4gICAgICAgICAgeSA9ICEwO1xuICAgICAgICAgIGZvciAodmFyIGcgPSBwLmxlbmd0aDsgZzsgKSB7XG4gICAgICAgICAgICBmb3IgKGYgPSBwLCBwID0gW107ICsrdyA8IGc7ICkgZiAmJiBmW3ddLnJ1bigpO1xuICAgICAgICAgICAgdyA9IC0xLCBnID0gcC5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGYgPSBudWxsLCB5ID0gITEsIGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgIGlmIChvID09PSBjbGVhclRpbWVvdXQpIHJldHVybiBjbGVhclRpbWVvdXQobSk7XG4gICAgICAgICAgICBpZiAoKG8gPT09IGIgfHwgIW8pICYmIGNsZWFyVGltZW91dCkgcmV0dXJuIG8gPSBjbGVhclRpbWVvdXQsIGNsZWFyVGltZW91dChtKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIG8obSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gby5jYWxsKG51bGwsIG0pO1xuICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gby5jYWxsKHRoaXMsIG0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfShzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZShzLCBnKSB7XG4gICAgICAgIHRoaXMuZnVuID0gcywgdGhpcy5hcnJheSA9IGc7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBsKCkge1xuICAgICAgfVxuICAgICAgbi5uZXh0VGljayA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdmFyIGcgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIGZvciAodmFyIG0gPSAxOyBtIDwgYXJndW1lbnRzLmxlbmd0aDsgbSsrKSBnW20gLSAxXSA9IGFyZ3VtZW50c1ttXTtcbiAgICAgICAgcC5wdXNoKG5ldyBlKHMsIGcpKSwgcC5sZW5ndGggIT09IDEgfHwgeSB8fCB1KHQpO1xuICAgICAgfSwgZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xuICAgICAgfSwgbi50aXRsZSA9IFwiYnJvd3NlclwiLCBuLmJyb3dzZXIgPSAhMCwgbi5lbnYgPSB7fSwgbi5hcmd2ID0gW10sIG4udmVyc2lvbiA9IFwiXCIsIG4udmVyc2lvbnMgPSB7fSwgbi5vbiA9IGwsIG4uYWRkTGlzdGVuZXIgPSBsLCBuLm9uY2UgPSBsLCBuLm9mZiA9IGwsIG4ucmVtb3ZlTGlzdGVuZXIgPSBsLCBuLnJlbW92ZUFsbExpc3RlbmVycyA9IGwsIG4uZW1pdCA9IGwsIG4ucHJlcGVuZExpc3RlbmVyID0gbCwgbi5wcmVwZW5kT25jZUxpc3RlbmVyID0gbCwgbi5saXN0ZW5lcnMgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH0sIG4uYmluZGluZyA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICB9LCBuLmN3ZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gXCIvXCI7XG4gICAgICB9LCBuLmNoZGlyID0gZnVuY3Rpb24ocykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICB9LCBuLnVtYXNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfTtcbiAgICB9LCBmdW5jdGlvbihyLCBjLCBpKSB7XG4gICAgICBmdW5jdGlvbiBvKGQsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgdSA9IDA7IHUgPCBiLmxlbmd0aDsgdSsrKSB7XG4gICAgICAgICAgdmFyIGYgPSBiW3VdO1xuICAgICAgICAgIGYuZW51bWVyYWJsZSA9IGYuZW51bWVyYWJsZSB8fCAhMSwgZi5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIGYgJiYgKGYud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCBmLmtleSwgZik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBuID0gaSg5KTtcbiAgICAgIHIuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBkKCkge1xuICAgICAgICAgIChmdW5jdGlvbihwLCB5KSB7XG4gICAgICAgICAgICBpZiAoIShwIGluc3RhbmNlb2YgeSkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgfSkodGhpcywgZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGIsIHUsIGY7XG4gICAgICAgIHJldHVybiBiID0gZCwgZiA9IFt7IGtleTogXCJ1cmxFbmNvZGVcIiwgdmFsdWU6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICByZXR1cm4gbihwKTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJqc29uRW5jb2RlXCIsIHZhbHVlOiBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHApO1xuICAgICAgICB9IH0sIHsga2V5OiBcImZvcm1FbmNvZGVcIiwgdmFsdWU6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICBpZiAodGhpcy5pc0Zvcm1EYXRhKHApKSByZXR1cm4gcDtcbiAgICAgICAgICBpZiAodGhpcy5pc0Zvcm1FbGVtZW50KHApKSByZXR1cm4gbmV3IEZvcm1EYXRhKHApO1xuICAgICAgICAgIGlmICh0aGlzLmlzT2JqZWN0KHApKSB7XG4gICAgICAgICAgICB2YXIgeSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHApLmZvckVhY2goZnVuY3Rpb24odykge1xuICAgICAgICAgICAgICB2YXIgdiA9IHBbd107XG4gICAgICAgICAgICAgIHkuYXBwZW5kKHcsIHYpO1xuICAgICAgICAgICAgfSksIHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImBkYXRhYCBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIE9iamVjdCwgRm9ybURhdGEgb3IgPEZPUk0+IEhUTUxFbGVtZW50XCIpO1xuICAgICAgICB9IH0sIHsga2V5OiBcImlzT2JqZWN0XCIsIHZhbHVlOiBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbiAgICAgICAgfSB9LCB7IGtleTogXCJpc0Zvcm1EYXRhXCIsIHZhbHVlOiBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgcmV0dXJuIHAgaW5zdGFuY2VvZiBGb3JtRGF0YTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJpc0Zvcm1FbGVtZW50XCIsIHZhbHVlOiBmdW5jdGlvbihwKSB7XG4gICAgICAgICAgcmV0dXJuIHAgaW5zdGFuY2VvZiBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgICAgIH0gfSwgeyBrZXk6IFwic2VsZWN0RmlsZXNcIiwgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBwID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oeSwgdykge1xuICAgICAgICAgICAgdmFyIHYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIik7XG4gICAgICAgICAgICB2LnR5cGUgPSBcImZpbGVcIiwgcC5tdWx0aXBsZSAmJiB2LnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIFwibXVsdGlwbGVcIiksIHAuYWNjZXB0ICYmIHYuc2V0QXR0cmlidXRlKFwiYWNjZXB0XCIsIHAuYWNjZXB0KSwgdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIsIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodiksIHYuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgIHZhciBlID0gdC50YXJnZXQuZmlsZXM7XG4gICAgICAgICAgICAgIHkoZSksIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodik7XG4gICAgICAgICAgICB9LCAhMSksIHYuY2xpY2soKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSB9LCB7IGtleTogXCJwYXJzZUhlYWRlcnNcIiwgdmFsdWU6IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICB2YXIgeSA9IHAudHJpbSgpLnNwbGl0KC9bXFxyXFxuXSsvKSwgdyA9IHt9O1xuICAgICAgICAgIHJldHVybiB5LmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICAgICAgdmFyIHQgPSB2LnNwbGl0KFwiOiBcIiksIGUgPSB0LnNoaWZ0KCksIGwgPSB0LmpvaW4oXCI6IFwiKTtcbiAgICAgICAgICAgIGUgJiYgKHdbZV0gPSBsKTtcbiAgICAgICAgICB9KSwgdztcbiAgICAgICAgfSB9XSwgKHUgPSBudWxsKSAmJiBvKGIucHJvdG90eXBlLCB1KSwgZiAmJiBvKGIsIGYpLCBkO1xuICAgICAgfSgpO1xuICAgIH0sIGZ1bmN0aW9uKHIsIGMpIHtcbiAgICAgIHZhciBpID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG4pLnJlcGxhY2UoL1shJygpKl0vZywgZXNjYXBlKS5yZXBsYWNlKC8lMjAvZywgXCIrXCIpO1xuICAgICAgfSwgbyA9IGZ1bmN0aW9uKG4sIGQsIGIsIHUpIHtcbiAgICAgICAgcmV0dXJuIGQgPSBkIHx8IG51bGwsIGIgPSBiIHx8IFwiJlwiLCB1ID0gdSB8fCBudWxsLCBuID8gZnVuY3Rpb24oZikge1xuICAgICAgICAgIGZvciAodmFyIHAgPSBuZXcgQXJyYXkoKSwgeSA9IDA7IHkgPCBmLmxlbmd0aDsgeSsrKSBmW3ldICYmIHAucHVzaChmW3ldKTtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfShPYmplY3Qua2V5cyhuKS5tYXAoZnVuY3Rpb24oZikge1xuICAgICAgICAgIHZhciBwLCB5LCB3ID0gZjtcbiAgICAgICAgICBpZiAodSAmJiAodyA9IHUgKyBcIltcIiArIHcgKyBcIl1cIiksIHR5cGVvZiBuW2ZdID09IFwib2JqZWN0XCIgJiYgbltmXSAhPT0gbnVsbCkgcCA9IG8obltmXSwgbnVsbCwgYiwgdyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkICYmICh5ID0gdywgdyA9ICFpc05hTihwYXJzZUZsb2F0KHkpKSAmJiBpc0Zpbml0ZSh5KSA/IGQgKyBOdW1iZXIodykgOiB3KTtcbiAgICAgICAgICAgIHZhciB2ID0gbltmXTtcbiAgICAgICAgICAgIHYgPSAodiA9ICh2ID0gKHYgPSB2ID09PSAhMCA/IFwiMVwiIDogdikgPT09ICExID8gXCIwXCIgOiB2KSA9PT0gMCA/IFwiMFwiIDogdikgfHwgXCJcIiwgcCA9IGkodykgKyBcIj1cIiArIGkodik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9KSkuam9pbihiKS5yZXBsYWNlKC9bIScoKSpdL2csIFwiXCIpIDogXCJcIjtcbiAgICAgIH07XG4gICAgICByLmV4cG9ydHMgPSBvO1xuICAgIH1dKTtcbiAgfSk7XG59KShSKTtcbnZhciBCID0gUi5leHBvcnRzO1xuY29uc3QgXyA9IC8qIEBfX1BVUkVfXyAqLyBEKEIpO1xuZnVuY3Rpb24gTyhDKSB7XG4gIHJldHVybiBDICE9PSB2b2lkIDAgJiYgdHlwZW9mIEMudGhlbiA9PSBcImZ1bmN0aW9uXCI7XG59XG5jbGFzcyBxIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBwYXJhbXMgLSB1cGxvYWRlciBtb2R1bGUgcGFyYW1zXG4gICAqIEBwYXJhbSBwYXJhbXMuY29uZmlnIC0gaW1hZ2UgdG9vbCBjb25maWdcbiAgICogQHBhcmFtIHBhcmFtcy5vblVwbG9hZCAtIG9uZSBjYWxsYmFjayBmb3IgYWxsIHVwbG9hZGluZyAoZmlsZSwgdXJsLCBkLW4tZCwgcGFzdGluZylcbiAgICogQHBhcmFtIHBhcmFtcy5vbkVycm9yIC0gY2FsbGJhY2sgZm9yIHVwbG9hZGluZyBlcnJvcnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgY29uZmlnOiBhLCBvblVwbG9hZDogciwgb25FcnJvcjogYyB9KSB7XG4gICAgdGhpcy5jb25maWcgPSBhLCB0aGlzLm9uVXBsb2FkID0gciwgdGhpcy5vbkVycm9yID0gYztcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGNsaWNrcyBvbiB0aGUgdXBsb2FkIGZpbGUgYnV0dG9uXG4gICAqIEZpcmVzIGFqYXgudHJhbnNwb3J0KClcbiAgICogQHBhcmFtIG9uUHJldmlldyAtIGNhbGxiYWNrIGZpcmVkIHdoZW4gcHJldmlldyBpcyByZWFkeVxuICAgKi9cbiAgdXBsb2FkU2VsZWN0ZWRGaWxlKHsgb25QcmV2aWV3OiBhIH0pIHtcbiAgICBjb25zdCByID0gZnVuY3Rpb24oaSkge1xuICAgICAgY29uc3QgbyA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICBvLnJlYWRBc0RhdGFVUkwoaSksIG8ub25sb2FkID0gKG4pID0+IHtcbiAgICAgICAgYShuLnRhcmdldC5yZXN1bHQpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGxldCBjO1xuICAgIGlmICh0aGlzLmNvbmZpZy51cGxvYWRlciAmJiB0eXBlb2YgdGhpcy5jb25maWcudXBsb2FkZXIudXBsb2FkQnlGaWxlID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29uc3QgaSA9IHRoaXMuY29uZmlnLnVwbG9hZGVyLnVwbG9hZEJ5RmlsZTtcbiAgICAgIGMgPSBfLnNlbGVjdEZpbGVzKHsgYWNjZXB0OiB0aGlzLmNvbmZpZy50eXBlcyA/PyBcImltYWdlLypcIiB9KS50aGVuKChvKSA9PiB7XG4gICAgICAgIHIob1swXSk7XG4gICAgICAgIGNvbnN0IG4gPSBpKG9bMF0pO1xuICAgICAgICByZXR1cm4gTyhuKSB8fCBjb25zb2xlLndhcm4oXCJDdXN0b20gdXBsb2FkZXIgbWV0aG9kIHVwbG9hZEJ5RmlsZSBzaG91bGQgcmV0dXJuIGEgUHJvbWlzZVwiKSwgbjtcbiAgICAgIH0pO1xuICAgIH0gZWxzZVxuICAgICAgYyA9IF8udHJhbnNwb3J0KHtcbiAgICAgICAgdXJsOiB0aGlzLmNvbmZpZy5lbmRwb2ludHMuYnlGaWxlLFxuICAgICAgICBkYXRhOiB0aGlzLmNvbmZpZy5hZGRpdGlvbmFsUmVxdWVzdERhdGEsXG4gICAgICAgIGFjY2VwdDogdGhpcy5jb25maWcudHlwZXMgPz8gXCJpbWFnZS8qXCIsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmFkZGl0aW9uYWxSZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgYmVmb3JlU2VuZDogKGkpID0+IHtcbiAgICAgICAgICByKGlbMF0pO1xuICAgICAgICB9LFxuICAgICAgICBmaWVsZE5hbWU6IHRoaXMuY29uZmlnLmZpZWxkID8/IFwiaW1hZ2VcIlxuICAgICAgfSkudGhlbigoaSkgPT4gaS5ib2R5KTtcbiAgICBjLnRoZW4oKGkpID0+IHtcbiAgICAgIHRoaXMub25VcGxvYWQoaSk7XG4gICAgfSkuY2F0Y2goKGkpID0+IHtcbiAgICAgIHRoaXMub25FcnJvcihpKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGNsaWNrcyBvbiB0aGUgdXBsb2FkIGZpbGUgYnV0dG9uXG4gICAqIEZpcmVzIGFqYXgucG9zdCgpXG4gICAqIEBwYXJhbSB1cmwgLSBpbWFnZSBzb3VyY2UgdXJsXG4gICAqL1xuICB1cGxvYWRCeVVybChhKSB7XG4gICAgbGV0IHI7XG4gICAgdGhpcy5jb25maWcudXBsb2FkZXIgJiYgdHlwZW9mIHRoaXMuY29uZmlnLnVwbG9hZGVyLnVwbG9hZEJ5VXJsID09IFwiZnVuY3Rpb25cIiA/IChyID0gdGhpcy5jb25maWcudXBsb2FkZXIudXBsb2FkQnlVcmwoYSksIE8ocikgfHwgY29uc29sZS53YXJuKFwiQ3VzdG9tIHVwbG9hZGVyIG1ldGhvZCB1cGxvYWRCeVVybCBzaG91bGQgcmV0dXJuIGEgUHJvbWlzZVwiKSkgOiByID0gXy5wb3N0KHtcbiAgICAgIHVybDogdGhpcy5jb25maWcuZW5kcG9pbnRzLmJ5VXJsLFxuICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHVybDogYVxuICAgICAgfSwgdGhpcy5jb25maWcuYWRkaXRpb25hbFJlcXVlc3REYXRhKSxcbiAgICAgIHR5cGU6IF8uY29udGVudFR5cGUuSlNPTixcbiAgICAgIGhlYWRlcnM6IHRoaXMuY29uZmlnLmFkZGl0aW9uYWxSZXF1ZXN0SGVhZGVyc1xuICAgIH0pLnRoZW4oKGMpID0+IGMuYm9keSksIHIudGhlbigoYykgPT4ge1xuICAgICAgdGhpcy5vblVwbG9hZChjKTtcbiAgICB9KS5jYXRjaCgoYykgPT4ge1xuICAgICAgdGhpcy5vbkVycm9yKGMpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgY2xpY2tzIG9uIHRoZSB1cGxvYWQgZmlsZSBidXR0b25cbiAgICogRmlyZXMgYWpheC5wb3N0KClcbiAgICogQHBhcmFtIGZpbGUgLSBmaWxlIHBhc3RlZCBieSBkcmFnLW4tZHJvcFxuICAgKiBAcGFyYW0gb25QcmV2aWV3IC0gZmlsZSBwYXN0ZWQgYnkgZHJhZy1uLWRyb3BcbiAgICovXG4gIHVwbG9hZEJ5RmlsZShhLCB7IG9uUHJldmlldzogciB9KSB7XG4gICAgY29uc3QgYyA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgYy5yZWFkQXNEYXRhVVJMKGEpLCBjLm9ubG9hZCA9IChvKSA9PiB7XG4gICAgICByKG8udGFyZ2V0LnJlc3VsdCk7XG4gICAgfTtcbiAgICBsZXQgaTtcbiAgICBpZiAodGhpcy5jb25maWcudXBsb2FkZXIgJiYgdHlwZW9mIHRoaXMuY29uZmlnLnVwbG9hZGVyLnVwbG9hZEJ5RmlsZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICBpID0gdGhpcy5jb25maWcudXBsb2FkZXIudXBsb2FkQnlGaWxlKGEpLCBPKGkpIHx8IGNvbnNvbGUud2FybihcIkN1c3RvbSB1cGxvYWRlciBtZXRob2QgdXBsb2FkQnlGaWxlIHNob3VsZCByZXR1cm4gYSBQcm9taXNlXCIpO1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgbyA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgby5hcHBlbmQodGhpcy5jb25maWcuZmllbGQgPz8gXCJpbWFnZVwiLCBhKSwgdGhpcy5jb25maWcuYWRkaXRpb25hbFJlcXVlc3REYXRhICYmIE9iamVjdC5rZXlzKHRoaXMuY29uZmlnLmFkZGl0aW9uYWxSZXF1ZXN0RGF0YSkubGVuZ3RoICYmIE9iamVjdC5lbnRyaWVzKHRoaXMuY29uZmlnLmFkZGl0aW9uYWxSZXF1ZXN0RGF0YSkuZm9yRWFjaCgoW24sIGRdKSA9PiB7XG4gICAgICAgIG8uYXBwZW5kKG4sIGQpO1xuICAgICAgfSksIGkgPSBfLnBvc3Qoe1xuICAgICAgICB1cmw6IHRoaXMuY29uZmlnLmVuZHBvaW50cy5ieUZpbGUsXG4gICAgICAgIGRhdGE6IG8sXG4gICAgICAgIHR5cGU6IF8uY29udGVudFR5cGUuSlNPTixcbiAgICAgICAgaGVhZGVyczogdGhpcy5jb25maWcuYWRkaXRpb25hbFJlcXVlc3RIZWFkZXJzXG4gICAgICB9KS50aGVuKChuKSA9PiBuLmJvZHkpO1xuICAgIH1cbiAgICBpLnRoZW4oKG8pID0+IHtcbiAgICAgIHRoaXMub25VcGxvYWQobyk7XG4gICAgfSkuY2F0Y2goKG8pID0+IHtcbiAgICAgIHRoaXMub25FcnJvcihvKTtcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBJbWFnZSBUb29sIGZvciB0aGUgRWRpdG9yLmpzXG4gKiBAYXV0aG9yIENvZGVYIDx0ZWFtQGNvZGV4LnNvPlxuICogQGxpY2Vuc2UgTUlUXG4gKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZWRpdG9yLWpzL2ltYWdlfVxuICpcbiAqIFRvIGRldmVsb3BlcnMuXG4gKiBUbyBzaW1wbGlmeSBUb29sIHN0cnVjdHVyZSwgd2Ugc3BsaXQgaXQgdG8gNCBwYXJ0czpcbiAqICAxKSBpbmRleC50cyBcdTIwMTQgbWFpbiBUb29sJ3MgaW50ZXJmYWNlLCBwdWJsaWMgQVBJIGFuZCBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggZGF0YVxuICogIDIpIHVwbG9hZGVyLnRzIFx1MjAxNCBtb2R1bGUgdGhhdCBoYXMgbWV0aG9kcyBmb3Igc2VuZGluZyBmaWxlcyB2aWEgQUpBWDogZnJvbSBkZXZpY2UsIGJ5IFVSTCBvciBGaWxlIHBhc3RpbmdcbiAqICAzKSB1aS50cyBcdTIwMTQgbW9kdWxlIGZvciBVSSBtYW5pcHVsYXRpb25zOiByZW5kZXIsIHNob3dpbmcgcHJlbG9hZGVyLCBldGNcbiAqICA0KSB0dW5lcy5qcyBcdTIwMTQgd29ya2luZyB3aXRoIEJsb2NrIFR1bmVzOiByZW5kZXIgYnV0dG9ucywgaGFuZGxlIGNsaWNrc1xuICpcbiAqIEZvciBkZWJ1ZyBwdXJwb3NlcyB0aGVyZSBpcyBhIHRlc3Rpbmcgc2VydmVyXG4gKiB0aGF0IGNhbiBzYXZlIHVwbG9hZGVkIGZpbGVzIGFuZCByZXR1cm4gYSBSZXNwb25zZSB7QGxpbmsgVXBsb2FkUmVzcG9uc2VGb3JtYXR9XG4gKlxuICogICAgICAgJCBub2RlIGRldi9zZXJ2ZXIuanNcbiAqXG4gKiBJdCB3aWxsIGV4cG9zZSA4MDA4IHBvcnQsIHNvIHlvdSBjYW4gcGFzcyBodHRwOi8vbG9jYWxob3N0OjgwMDggd2l0aCB0aGUgVG9vbHMgY29uZmlnOlxuICpcbiAqIGltYWdlOiB7XG4gKiAgIGNsYXNzOiBJbWFnZVRvb2wsXG4gKiAgIGNvbmZpZzoge1xuICogICAgIGVuZHBvaW50czoge1xuICogICAgICAgYnlGaWxlOiAnaHR0cDovL2xvY2FsaG9zdDo4MDA4L3VwbG9hZEZpbGUnLFxuICogICAgICAgYnlVcmw6ICdodHRwOi8vbG9jYWxob3N0OjgwMDgvZmV0Y2hVcmwnLFxuICogICAgIH1cbiAqICAgfSxcbiAqIH0sXG4gKi9cbmNsYXNzIFAge1xuICAvKipcbiAgICogQHBhcmFtIHRvb2wgLSB0b29sIHByb3BlcnRpZXMgZ290IGZyb20gZWRpdG9yLmpzXG4gICAqIEBwYXJhbSB0b29sLmRhdGEgLSBwcmV2aW91c2x5IHNhdmVkIGRhdGFcbiAgICogQHBhcmFtIHRvb2wuY29uZmlnIC0gdXNlciBjb25maWcgZm9yIFRvb2xcbiAgICogQHBhcmFtIHRvb2wuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKiBAcGFyYW0gdG9vbC5yZWFkT25seSAtIHJlYWQtb25seSBtb2RlIGZsYWdcbiAgICogQHBhcmFtIHRvb2wuYmxvY2sgLSBjdXJyZW50IEJsb2NrIEFQSVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBkYXRhOiBhLCBjb25maWc6IHIsIGFwaTogYywgcmVhZE9ubHk6IGksIGJsb2NrOiBvIH0pIHtcbiAgICB0aGlzLmFwaSA9IGMsIHRoaXMucmVhZE9ubHkgPSBpLCB0aGlzLmJsb2NrID0gbywgdGhpcy5jb25maWcgPSB7XG4gICAgICBlbmRwb2ludHM6IHIuZW5kcG9pbnRzLFxuICAgICAgYWRkaXRpb25hbFJlcXVlc3REYXRhOiByLmFkZGl0aW9uYWxSZXF1ZXN0RGF0YSxcbiAgICAgIGFkZGl0aW9uYWxSZXF1ZXN0SGVhZGVyczogci5hZGRpdGlvbmFsUmVxdWVzdEhlYWRlcnMsXG4gICAgICBmaWVsZDogci5maWVsZCxcbiAgICAgIHR5cGVzOiByLnR5cGVzLFxuICAgICAgY2FwdGlvblBsYWNlaG9sZGVyOiB0aGlzLmFwaS5pMThuLnQoci5jYXB0aW9uUGxhY2Vob2xkZXIgPz8gXCJDYXB0aW9uXCIpLFxuICAgICAgYnV0dG9uQ29udGVudDogci5idXR0b25Db250ZW50LFxuICAgICAgdXBsb2FkZXI6IHIudXBsb2FkZXIsXG4gICAgICBhY3Rpb25zOiByLmFjdGlvbnNcbiAgICB9LCB0aGlzLnVwbG9hZGVyID0gbmV3IHEoe1xuICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIG9uVXBsb2FkOiAobikgPT4gdGhpcy5vblVwbG9hZChuKSxcbiAgICAgIG9uRXJyb3I6IChuKSA9PiB0aGlzLnVwbG9hZGluZ0ZhaWxlZChuKVxuICAgIH0pLCB0aGlzLnVpID0gbmV3IHgoe1xuICAgICAgYXBpOiBjLFxuICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgIG9uU2VsZWN0RmlsZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnVwbG9hZGVyLnVwbG9hZFNlbGVjdGVkRmlsZSh7XG4gICAgICAgICAgb25QcmV2aWV3OiAobikgPT4ge1xuICAgICAgICAgICAgdGhpcy51aS5zaG93UHJlbG9hZGVyKG4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgcmVhZE9ubHk6IGlcbiAgICB9KSwgdGhpcy5fZGF0YSA9IHtcbiAgICAgIGNhcHRpb246IFwiXCIsXG4gICAgICB3aXRoQm9yZGVyOiAhMSxcbiAgICAgIHdpdGhCYWNrZ3JvdW5kOiAhMSxcbiAgICAgIHN0cmV0Y2hlZDogITEsXG4gICAgICBmaWxlOiB7XG4gICAgICAgIHVybDogXCJcIlxuICAgICAgfVxuICAgIH0sIHRoaXMuZGF0YSA9IGE7XG4gIH1cbiAgLyoqXG4gICAqIE5vdGlmeSBjb3JlIHRoYXQgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkXG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgVG9vbCB0b29sYm94IHNldHRpbmdzXG4gICAqIGljb24gLSBUb29sIGljb24ncyBTVkdcbiAgICogdGl0bGUgLSB0aXRsZSB0byBzaG93IGluIHRvb2xib3hcbiAgICovXG4gIHN0YXRpYyBnZXQgdG9vbGJveCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogTCxcbiAgICAgIHRpdGxlOiBcIkltYWdlXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBdmFpbGFibGUgaW1hZ2UgdG9vbHNcbiAgICovXG4gIHN0YXRpYyBnZXQgdHVuZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJ3aXRoQm9yZGVyXCIsXG4gICAgICAgIGljb246IEksXG4gICAgICAgIHRpdGxlOiBcIldpdGggYm9yZGVyXCIsXG4gICAgICAgIHRvZ2dsZTogITBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwic3RyZXRjaGVkXCIsXG4gICAgICAgIGljb246IFUsXG4gICAgICAgIHRpdGxlOiBcIlN0cmV0Y2ggaW1hZ2VcIixcbiAgICAgICAgdG9nZ2xlOiAhMFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJ3aXRoQmFja2dyb3VuZFwiLFxuICAgICAgICBpY29uOiBILFxuICAgICAgICB0aXRsZTogXCJXaXRoIGJhY2tncm91bmRcIixcbiAgICAgICAgdG9nZ2xlOiAhMFxuICAgICAgfVxuICAgIF07XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlcnMgQmxvY2sgY29udGVudFxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnVpLnJlbmRlcih0aGlzLmRhdGEpO1xuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBkYXRhOiBjaGVjayBpZiBJbWFnZSBleGlzdHNcbiAgICogQHBhcmFtIHNhdmVkRGF0YSBcdTIwMTQgZGF0YSByZWNlaXZlZCBhZnRlciBzYXZpbmdcbiAgICogQHJldHVybnMgZmFsc2UgaWYgc2F2ZWQgZGF0YSBpcyBub3QgY29ycmVjdCwgb3RoZXJ3aXNlIHRydWVcbiAgICovXG4gIHZhbGlkYXRlKGEpIHtcbiAgICByZXR1cm4gISFhLmZpbGUudXJsO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gQmxvY2sgZGF0YVxuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICBjb25zdCBhID0gdGhpcy51aS5ub2Rlcy5jYXB0aW9uO1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmNhcHRpb24gPSBhLmlubmVySFRNTCwgdGhpcy5kYXRhO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGNvbmZpZ3VyYXRpb24gZm9yIGJsb2NrIHR1bmVzOiBhZGQgYmFja2dyb3VuZCwgYWRkIGJvcmRlciwgc3RyZXRjaCBpbWFnZVxuICAgKiBAcmV0dXJucyBUdW5lc01lbnVDb25maWdcbiAgICovXG4gIHJlbmRlclNldHRpbmdzKCkge1xuICAgIHJldHVybiBQLnR1bmVzLmNvbmNhdCh0aGlzLmNvbmZpZy5hY3Rpb25zIHx8IFtdKS5tYXAoKHIpID0+ICh7XG4gICAgICBpY29uOiByLmljb24sXG4gICAgICBsYWJlbDogdGhpcy5hcGkuaTE4bi50KHIudGl0bGUpLFxuICAgICAgbmFtZTogci5uYW1lLFxuICAgICAgdG9nZ2xlOiByLnRvZ2dsZSxcbiAgICAgIGlzQWN0aXZlOiB0aGlzLmRhdGFbci5uYW1lXSxcbiAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiByLmFjdGlvbiA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByLmFjdGlvbihyLm5hbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR1bmVUb2dnbGVkKHIubmFtZSk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBGaXJlcyBhZnRlciBjbGlja3Mgb24gdGhlIFRvb2xib3ggSW1hZ2UgSWNvblxuICAgKiBJbml0aWF0ZXMgY2xpY2sgb24gdGhlIFNlbGVjdCBGaWxlIGJ1dHRvblxuICAgKi9cbiAgYXBwZW5kQ2FsbGJhY2soKSB7XG4gICAgdGhpcy51aS5ub2Rlcy5maWxlQnV0dG9uLmNsaWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNwZWNpZnkgcGFzdGUgc3Vic3RpdHV0ZXNcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2NvZGV4LXRlYW0vZWRpdG9yLmpzL2Jsb2IvbWFzdGVyL2RvY3MvdG9vbHMubWQjcGFzdGUtaGFuZGxpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFBhc3RlIEhUTUwgaW50byBFZGl0b3JcbiAgICAgICAqL1xuICAgICAgdGFnczogW1xuICAgICAgICB7XG4gICAgICAgICAgaW1nOiB7IHNyYzogITAgfVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgLyoqXG4gICAgICAgKiBQYXN0ZSBVUkwgb2YgaW1hZ2UgaW50byB0aGUgRWRpdG9yXG4gICAgICAgKi9cbiAgICAgIHBhdHRlcm5zOiB7XG4gICAgICAgIGltYWdlOiAvaHR0cHM/OlxcL1xcL1xcUytcXC4oZ2lmfGpwZT9nfHRpZmZ8cG5nfHN2Z3x3ZWJwKShcXD9bYS16MC05PV0qKT8kL2lcbiAgICAgIH0sXG4gICAgICAvKipcbiAgICAgICAqIERyYWcgbiBkcm9wIGZpbGUgZnJvbSBpbnRvIHRoZSBFZGl0b3JcbiAgICAgICAqL1xuICAgICAgZmlsZXM6IHtcbiAgICAgICAgbWltZVR5cGVzOiBbXCJpbWFnZS8qXCJdXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3BlY2lmeSBwYXN0ZSBoYW5kbGVyc1xuICAgKiBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vY29kZXgtdGVhbS9lZGl0b3IuanMvYmxvYi9tYXN0ZXIvZG9jcy90b29scy5tZCNwYXN0ZS1oYW5kbGluZ31cbiAgICogQHBhcmFtIGV2ZW50IC0gZWRpdG9yLmpzIGN1c3RvbSBwYXN0ZSBldmVudFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vY29kZXgtdGVhbS9lZGl0b3IuanMvYmxvYi9tYXN0ZXIvdHlwZXMvdG9vbHMvcGFzdGUtZXZlbnRzLmQudHN9XG4gICAqL1xuICBhc3luYyBvblBhc3RlKGEpIHtcbiAgICBzd2l0Y2ggKGEudHlwZSkge1xuICAgICAgY2FzZSBcInRhZ1wiOiB7XG4gICAgICAgIGNvbnN0IHIgPSBhLmRldGFpbC5kYXRhO1xuICAgICAgICBpZiAoL15ibG9iOi8udGVzdChyLnNyYykpIHtcbiAgICAgICAgICBjb25zdCBpID0gYXdhaXQgKGF3YWl0IGZldGNoKHIuc3JjKSkuYmxvYigpO1xuICAgICAgICAgIHRoaXMudXBsb2FkRmlsZShpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwbG9hZFVybChyLnNyYyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcInBhdHRlcm5cIjoge1xuICAgICAgICBjb25zdCByID0gYS5kZXRhaWwuZGF0YTtcbiAgICAgICAgdGhpcy51cGxvYWRVcmwocik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImZpbGVcIjoge1xuICAgICAgICBjb25zdCByID0gYS5kZXRhaWwuZmlsZTtcbiAgICAgICAgdGhpcy51cGxvYWRGaWxlKHIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFByaXZhdGUgbWV0aG9kc1xuICAgKiBcdTAzM0ZcdTAzM0YgXHUwMzNGXHUwMzNGIFx1MDMzRlx1MDMzRiBcdTAzM0YnXHUwMzNGJ1xcXHUwMzM1XHUwMzQ3XHUwMzNGXHUwMzNGXFxcdTA0Mzc9ICggXHUyNTgwIFx1MDM1Q1x1MDM1RVx1MDI5Nlx1MjU4MCkgPVx1MDNCNS9cdTAzMzVcdTAzNDdcdTAzM0ZcdTAzM0YvXHUyMDE5XHUwMzNGXHUyMDE5XHUwMzNGIFx1MDMzRiBcdTAzM0ZcdTAzM0YgXHUwMzNGXHUwMzNGIFx1MDMzRlx1MDMzRlxuICAgKi9cbiAgLyoqXG4gICAqIFN0b3JlcyBhbGwgVG9vbCdzIGRhdGFcbiAgICogQHBhcmFtIGRhdGEgLSBkYXRhIGluIEltYWdlIFRvb2wgZm9ybWF0XG4gICAqL1xuICBzZXQgZGF0YShhKSB7XG4gICAgdGhpcy5pbWFnZSA9IGEuZmlsZSwgdGhpcy5fZGF0YS5jYXB0aW9uID0gYS5jYXB0aW9uIHx8IFwiXCIsIHRoaXMudWkuZmlsbENhcHRpb24odGhpcy5fZGF0YS5jYXB0aW9uKSwgUC50dW5lcy5mb3JFYWNoKCh7IG5hbWU6IHIgfSkgPT4ge1xuICAgICAgY29uc3QgYyA9IHR5cGVvZiBhW3JdIDwgXCJ1XCIgPyBhW3JdID09PSAhMCB8fCBhW3JdID09PSBcInRydWVcIiA6ICExO1xuICAgICAgdGhpcy5zZXRUdW5lKHIsIGMpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gVG9vbCBkYXRhXG4gICAqL1xuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuICAvKipcbiAgICogU2V0IG5ldyBpbWFnZSBmaWxlXG4gICAqIEBwYXJhbSBmaWxlIC0gdXBsb2FkZWQgZmlsZSBkYXRhXG4gICAqL1xuICBzZXQgaW1hZ2UoYSkge1xuICAgIHRoaXMuX2RhdGEuZmlsZSA9IGEgfHwgeyB1cmw6IFwiXCIgfSwgYSAmJiBhLnVybCAmJiB0aGlzLnVpLmZpbGxJbWFnZShhLnVybCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbGUgdXBsb2FkaW5nIGNhbGxiYWNrXG4gICAqIEBwYXJhbSByZXNwb25zZSAtIHVwbG9hZGluZyBzZXJ2ZXIgcmVzcG9uc2VcbiAgICovXG4gIG9uVXBsb2FkKGEpIHtcbiAgICBhLnN1Y2Nlc3MgJiYgYS5maWxlID8gdGhpcy5pbWFnZSA9IGEuZmlsZSA6IHRoaXMudXBsb2FkaW5nRmFpbGVkKFwiaW5jb3JyZWN0IHJlc3BvbnNlOiBcIiArIEpTT04uc3RyaW5naWZ5KGEpKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIHVwbG9hZGVyIGVycm9yc1xuICAgKiBAcGFyYW0gZXJyb3JUZXh0IC0gdXBsb2FkaW5nIGVycm9yIGluZm9cbiAgICovXG4gIHVwbG9hZGluZ0ZhaWxlZChhKSB7XG4gICAgY29uc29sZS5sb2coXCJJbWFnZSBUb29sOiB1cGxvYWRpbmcgZmFpbGVkIGJlY2F1c2Ugb2ZcIiwgYSksIHRoaXMuYXBpLm5vdGlmaWVyLnNob3coe1xuICAgICAgbWVzc2FnZTogdGhpcy5hcGkuaTE4bi50KFwiQ291bGRuXHUyMDE5dCB1cGxvYWQgaW1hZ2UuIFBsZWFzZSB0cnkgYW5vdGhlci5cIiksXG4gICAgICBzdHlsZTogXCJlcnJvclwiXG4gICAgfSksIHRoaXMudWkuaGlkZVByZWxvYWRlcigpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIEJsb2NrIFR1bmUgaXMgYWN0aXZhdGVkXG4gICAqIEBwYXJhbSB0dW5lTmFtZSAtIHR1bmUgdGhhdCBoYXMgYmVlbiBjbGlja2VkXG4gICAqL1xuICB0dW5lVG9nZ2xlZChhKSB7XG4gICAgdGhpcy5zZXRUdW5lKGEsICF0aGlzLl9kYXRhW2FdKTtcbiAgfVxuICAvKipcbiAgICogU2V0IG9uZSB0dW5lXG4gICAqIEBwYXJhbSB0dW5lTmFtZSAtIHtAbGluayBUdW5lcy50dW5lc31cbiAgICogQHBhcmFtIHZhbHVlIC0gdHVuZSBzdGF0ZVxuICAgKi9cbiAgc2V0VHVuZShhLCByKSB7XG4gICAgdGhpcy5fZGF0YVthXSA9IHIsIHRoaXMudWkuYXBwbHlUdW5lKGEsIHIpLCBhID09PSBcInN0cmV0Y2hlZFwiICYmIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5ibG9jay5zdHJldGNoZWQgPSByO1xuICAgIH0pLmNhdGNoKChjKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGMpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTaG93IHByZWxvYWRlciBhbmQgdXBsb2FkIGltYWdlIGZpbGVcbiAgICogQHBhcmFtIGZpbGUgLSBmaWxlIHRoYXQgaXMgY3VycmVudGx5IHVwbG9hZGluZyAoZnJvbSBwYXN0ZSlcbiAgICovXG4gIHVwbG9hZEZpbGUoYSkge1xuICAgIHRoaXMudXBsb2FkZXIudXBsb2FkQnlGaWxlKGEsIHtcbiAgICAgIG9uUHJldmlldzogKHIpID0+IHtcbiAgICAgICAgdGhpcy51aS5zaG93UHJlbG9hZGVyKHIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTaG93IHByZWxvYWRlciBhbmQgdXBsb2FkIGltYWdlIGJ5IHRhcmdldCB1cmxcbiAgICogQHBhcmFtIHVybCAtIHVybCBwYXN0ZWRcbiAgICovXG4gIHVwbG9hZFVybChhKSB7XG4gICAgdGhpcy51aS5zaG93UHJlbG9hZGVyKGEpLCB0aGlzLnVwbG9hZGVyLnVwbG9hZEJ5VXJsKGEpO1xuICB9XG59XG5leHBvcnQge1xuICBQIGFzIGRlZmF1bHRcbn07XG4iLCAiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIuY2R4LWxpc3R7bWFyZ2luOjA7cGFkZGluZy1sZWZ0OjQwcHg7b3V0bGluZTpub25lfS5jZHgtbGlzdF9faXRlbXtwYWRkaW5nOjUuNXB4IDAgNS41cHggM3B4O2xpbmUtaGVpZ2h0OjEuNmVtfS5jZHgtbGlzdC0tdW5vcmRlcmVke2xpc3Qtc3R5bGU6ZGlzY30uY2R4LWxpc3QtLW9yZGVyZWR7bGlzdC1zdHlsZTpkZWNpbWFsfS5jZHgtbGlzdC1zZXR0aW5nc3tkaXNwbGF5OmZsZXh9LmNkeC1saXN0LXNldHRpbmdzIC5jZHgtc2V0dGluZ3MtYnV0dG9ue3dpZHRoOjUwJX1cIikpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSl9fWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIix0KX19KSgpO1xuY29uc3QgYSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48bGluZSB4MT1cIjlcIiB4Mj1cIjE5XCIgeTE9XCI3XCIgeTI9XCI3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCI5XCIgeDI9XCIxOVwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCI5XCIgeDI9XCIxOVwiIHkxPVwiMTdcIiB5Mj1cIjE3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUuMDAwMDEgMTdINC45OTAwMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNS4wMDAwMSAxMkg0Ljk5MDAyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01LjAwMDAxIDdINC45OTAwMlwiLz48L3N2Zz4nLCBvID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjE5XCIgeTE9XCI3XCIgeTI9XCI3XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PGxpbmUgeDE9XCIxMlwiIHgyPVwiMTlcIiB5MT1cIjEyXCIgeTI9XCIxMlwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIHgxPVwiMTJcIiB4Mj1cIjE5XCIgeTE9XCIxN1wiIHkyPVwiMTdcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNy43OTk5OSAxNEw3Ljc5OTk5IDcuMjEzNUM3Ljc5OTk5IDcuMTI4NzIgNy43MDExIDcuMDgyNCA3LjYzNTk3IDcuMTM2NjhMNC43OTk5OSA5LjVcIi8+PC9zdmc+JztcbmNsYXNzIGQge1xuICAvKipcbiAgICogTm90aWZ5IGNvcmUgdGhhdCByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyB0byB1c2UgbmF0aXZlIEVudGVyIGJlaGF2aW91clxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGdldCBlbmFibGVMaW5lQnJlYWtzKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogR2V0IFRvb2wgdG9vbGJveCBzZXR0aW5nc1xuICAgKiBpY29uIC0gVG9vbCBpY29uJ3MgU1ZHXG4gICAqIHRpdGxlIC0gdGl0bGUgdG8gc2hvdyBpbiB0b29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHt7aWNvbjogc3RyaW5nLCB0aXRsZTogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgdG9vbGJveCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogYSxcbiAgICAgIHRpdGxlOiBcIkxpc3RcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSB0b29sIGNvbnN0cnVjdG9yIG9wdGlvbnNcbiAgICogQHBhcmFtIHtMaXN0RGF0YX0gcGFyYW1zLmRhdGEgLSBwcmV2aW91c2x5IHNhdmVkIGRhdGFcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcy5jb25maWcgLSB1c2VyIGNvbmZpZyBmb3IgVG9vbFxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zLmFwaSAtIEVkaXRvci5qcyBBUElcbiAgICogQHBhcmFtIHtib29sZWFufSBwYXJhbXMucmVhZE9ubHkgLSByZWFkLW9ubHkgbW9kZSBmbGFnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGRhdGE6IGUsIGNvbmZpZzogdCwgYXBpOiByLCByZWFkT25seTogcyB9KSB7XG4gICAgdGhpcy5fZWxlbWVudHMgPSB7XG4gICAgICB3cmFwcGVyOiBudWxsXG4gICAgfSwgdGhpcy5hcGkgPSByLCB0aGlzLnJlYWRPbmx5ID0gcywgdGhpcy5zZXR0aW5ncyA9IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJ1bm9yZGVyZWRcIixcbiAgICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChcIlVub3JkZXJlZFwiKSxcbiAgICAgICAgaWNvbjogYSxcbiAgICAgICAgZGVmYXVsdDogdC5kZWZhdWx0U3R5bGUgPT09IFwidW5vcmRlcmVkXCIgfHwgITFcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwib3JkZXJlZFwiLFxuICAgICAgICBsYWJlbDogdGhpcy5hcGkuaTE4bi50KFwiT3JkZXJlZFwiKSxcbiAgICAgICAgaWNvbjogbyxcbiAgICAgICAgZGVmYXVsdDogdC5kZWZhdWx0U3R5bGUgPT09IFwib3JkZXJlZFwiIHx8ICEwXG4gICAgICB9XG4gICAgXSwgdGhpcy5fZGF0YSA9IHtcbiAgICAgIHN0eWxlOiB0aGlzLnNldHRpbmdzLmZpbmQoKGkpID0+IGkuZGVmYXVsdCA9PT0gITApLm5hbWUsXG4gICAgICBpdGVtczogW11cbiAgICB9LCB0aGlzLmRhdGEgPSBlO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGxpc3QgdGFnIHdpdGggaXRlbXNcbiAgICpcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudHMud3JhcHBlciA9IHRoaXMubWFrZU1haW5UYWcodGhpcy5fZGF0YS5zdHlsZSksIHRoaXMuX2RhdGEuaXRlbXMubGVuZ3RoID8gdGhpcy5fZGF0YS5pdGVtcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICB0aGlzLl9lbGVtZW50cy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuX21ha2UoXCJsaVwiLCB0aGlzLkNTUy5pdGVtLCB7XG4gICAgICAgIGlubmVySFRNTDogZVxuICAgICAgfSkpO1xuICAgIH0pIDogdGhpcy5fZWxlbWVudHMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLl9tYWtlKFwibGlcIiwgdGhpcy5DU1MuaXRlbSkpLCB0aGlzLnJlYWRPbmx5IHx8IHRoaXMuX2VsZW1lbnRzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICAgIGNvbnN0IFt0LCByXSA9IFsxMywgOF07XG4gICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICBjYXNlIHQ6XG4gICAgICAgICAgdGhpcy5nZXRPdXRvZkxpc3QoZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgcjpcbiAgICAgICAgICB0aGlzLmJhY2tzcGFjZShlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9LCAhMSksIHRoaXMuX2VsZW1lbnRzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtMaXN0RGF0YX1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2F2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyBMaXN0IFRvb2wgdG8gYmUgY29udmVydGVkIHRvL2Zyb20gb3RoZXIgYmxvY2tcbiAgICpcbiAgICogQHJldHVybnMge3tleHBvcnQ6IEZ1bmN0aW9uLCBpbXBvcnQ6IEZ1bmN0aW9ufX1cbiAgICovXG4gIHN0YXRpYyBnZXQgY29udmVyc2lvbkNvbmZpZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBUbyBjcmVhdGUgZXhwb3J0ZWQgc3RyaW5nIGZyb20gbGlzdCwgY29uY2F0ZW5hdGUgaXRlbXMgYnkgZG90LXN5bWJvbC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0xpc3REYXRhfSBkYXRhIC0gbGlzdCBkYXRhIHRvIGNyZWF0ZSBhIHN0cmluZyBmcm9tIHRoYXRzXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICBleHBvcnQ6IChlKSA9PiBlLml0ZW1zLmpvaW4oXCIuIFwiKSxcbiAgICAgIC8qKlxuICAgICAgICogVG8gY3JlYXRlIGEgbGlzdCBmcm9tIG90aGVyIGJsb2NrJ3Mgc3RyaW5nLCBqdXN0IHB1dCBpdCBhdCB0aGUgZmlyc3QgaXRlbVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgLSBzdHJpbmcgdG8gY3JlYXRlIGxpc3QgdG9vbCBkYXRhIGZyb20gdGhhdFxuICAgICAgICogQHJldHVybnMge0xpc3REYXRhfVxuICAgICAgICovXG4gICAgICBpbXBvcnQ6IChlKSA9PiAoe1xuICAgICAgICBpdGVtczogW2VdLFxuICAgICAgICBzdHlsZTogXCJ1bm9yZGVyZWRcIlxuICAgICAgfSlcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgcnVsZXNcbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH1cbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0eWxlOiB7fSxcbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIGJyOiAhMFxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNldHRpbmdzXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgcmVuZGVyU2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFwKChlKSA9PiAoe1xuICAgICAgLi4uZSxcbiAgICAgIGlzQWN0aXZlOiB0aGlzLl9kYXRhLnN0eWxlID09PSBlLm5hbWUsXG4gICAgICBjbG9zZU9uQWN0aXZhdGU6ICEwLFxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy50b2dnbGVUdW5lKGUubmFtZSlcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIE9uIHBhc3RlIGNhbGxiYWNrIHRoYXQgaXMgZmlyZWQgZnJvbSBFZGl0b3JcbiAgICpcbiAgICogQHBhcmFtIHtQYXN0ZUV2ZW50fSBldmVudCAtIGV2ZW50IHdpdGggcGFzdGVkIGRhdGFcbiAgICovXG4gIG9uUGFzdGUoZSkge1xuICAgIGNvbnN0IHQgPSBlLmRldGFpbC5kYXRhO1xuICAgIHRoaXMuZGF0YSA9IHRoaXMucGFzdGVIYW5kbGVyKHQpO1xuICB9XG4gIC8qKlxuICAgKiBMaXN0IFRvb2wgb24gcGFzdGUgY29uZmlndXJhdGlvblxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YWdzOiBbXCJPTFwiLCBcIlVMXCIsIFwiTElcIl1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIG1haW4gPHVsPiBvciA8b2w+IHRhZyBkZXBlbmRlZCBvbiBzdHlsZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUgLSAnb3JkZXJlZCcgb3IgJ3Vub3JkZXJlZCdcbiAgICogQHJldHVybnMge0hUTUxPTGlzdEVsZW1lbnR8SFRNTFVMaXN0RWxlbWVudH1cbiAgICovXG4gIG1ha2VNYWluVGFnKGUpIHtcbiAgICBjb25zdCB0ID0gZSA9PT0gXCJvcmRlcmVkXCIgPyB0aGlzLkNTUy53cmFwcGVyT3JkZXJlZCA6IHRoaXMuQ1NTLndyYXBwZXJVbm9yZGVyZWQsIHIgPSBlID09PSBcIm9yZGVyZWRcIiA/IFwib2xcIiA6IFwidWxcIjtcbiAgICByZXR1cm4gdGhpcy5fbWFrZShyLCBbdGhpcy5DU1MuYmFzZUJsb2NrLCB0aGlzLkNTUy53cmFwcGVyLCB0XSwge1xuICAgICAgY29udGVudEVkaXRhYmxlOiAhdGhpcy5yZWFkT25seVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBUb2dnbGVzIExpc3Qgc3R5bGVcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlIC0gJ29yZGVyZWQnfCd1bm9yZGVyZWQnXG4gICAqL1xuICB0b2dnbGVUdW5lKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5tYWtlTWFpblRhZyhlKTtcbiAgICBmb3IgKDsgdGhpcy5fZWxlbWVudHMud3JhcHBlci5oYXNDaGlsZE5vZGVzKCk7IClcbiAgICAgIHQuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudHMud3JhcHBlci5maXJzdENoaWxkKTtcbiAgICB0aGlzLl9lbGVtZW50cy53cmFwcGVyLnJlcGxhY2VXaXRoKHQpLCB0aGlzLl9lbGVtZW50cy53cmFwcGVyID0gdCwgdGhpcy5fZGF0YS5zdHlsZSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIFN0eWxlc1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmFzZUJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNkeC1saXN0XCIsXG4gICAgICB3cmFwcGVyT3JkZXJlZDogXCJjZHgtbGlzdC0tb3JkZXJlZFwiLFxuICAgICAgd3JhcHBlclVub3JkZXJlZDogXCJjZHgtbGlzdC0tdW5vcmRlcmVkXCIsXG4gICAgICBpdGVtOiBcImNkeC1saXN0X19pdGVtXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBMaXN0IGRhdGEgc2V0dGVyXG4gICAqXG4gICAqIEBwYXJhbSB7TGlzdERhdGF9IGxpc3REYXRhXG4gICAqL1xuICBzZXQgZGF0YShlKSB7XG4gICAgZSB8fCAoZSA9IHt9KSwgdGhpcy5fZGF0YS5zdHlsZSA9IGUuc3R5bGUgfHwgdGhpcy5zZXR0aW5ncy5maW5kKChyKSA9PiByLmRlZmF1bHQgPT09ICEwKS5uYW1lLCB0aGlzLl9kYXRhLml0ZW1zID0gZS5pdGVtcyB8fCBbXTtcbiAgICBjb25zdCB0ID0gdGhpcy5fZWxlbWVudHMud3JhcHBlcjtcbiAgICB0ICYmIHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy5yZW5kZXIoKSwgdCk7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBMaXN0IGRhdGFcbiAgICpcbiAgICogQHJldHVybnMge0xpc3REYXRhfVxuICAgKi9cbiAgZ2V0IGRhdGEoKSB7XG4gICAgdGhpcy5fZGF0YS5pdGVtcyA9IFtdO1xuICAgIGNvbnN0IGUgPSB0aGlzLl9lbGVtZW50cy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuQ1NTLml0ZW19YCk7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKVxuICAgICAgZVt0XS5pbm5lckhUTUwucmVwbGFjZShcIjxicj5cIiwgXCIgXCIpLnRyaW0oKSAmJiB0aGlzLl9kYXRhLml0ZW1zLnB1c2goZVt0XS5pbm5lckhUTUwpO1xuICAgIHJldHVybiB0aGlzLl9kYXRhO1xuICB9XG4gIC8qKlxuICAgKiBIZWxwZXIgZm9yIG1ha2luZyBFbGVtZW50cyB3aXRoIGF0dHJpYnV0ZXNcbiAgICpcbiAgICogQHBhcmFtICB7c3RyaW5nfSB0YWdOYW1lICAgICAgICAgICAtIG5ldyBFbGVtZW50IHRhZyBuYW1lXG4gICAqIEBwYXJhbSAge0FycmF5fHN0cmluZ30gY2xhc3NOYW1lcyAgLSBsaXN0IG9yIG5hbWUgb2YgQ1NTIGNsYXNzbmFtZShzKVxuICAgKiBAcGFyYW0gIHtvYmplY3R9IGF0dHJpYnV0ZXMgICAgICAgIC0gYW55IGF0dHJpYnV0ZXNcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBfbWFrZShlLCB0ID0gbnVsbCwgciA9IHt9KSB7XG4gICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7XG4gICAgQXJyYXkuaXNBcnJheSh0KSA/IHMuY2xhc3NMaXN0LmFkZCguLi50KSA6IHQgJiYgcy5jbGFzc0xpc3QuYWRkKHQpO1xuICAgIGZvciAoY29uc3QgaSBpbiByKVxuICAgICAgc1tpXSA9IHJbaV07XG4gICAgcmV0dXJuIHM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgY3VycmVudCBMaXN0IGl0ZW0gYnkgdGhlIGNhcmV0IHBvc2l0aW9uXG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRJdGVtKCkge1xuICAgIGxldCBlID0gd2luZG93LmdldFNlbGVjdGlvbigpLmFuY2hvck5vZGU7XG4gICAgcmV0dXJuIGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIChlID0gZS5wYXJlbnROb2RlKSwgZS5jbG9zZXN0KGAuJHt0aGlzLkNTUy5pdGVtfWApO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3V0IGZyb20gTGlzdCBUb29sXG4gICAqIGJ5IEVudGVyIG9uIHRoZSBlbXB0eSBsYXN0IGl0ZW1cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxuICAgKi9cbiAgZ2V0T3V0b2ZMaXN0KGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5fZWxlbWVudHMud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiICsgdGhpcy5DU1MuaXRlbSk7XG4gICAgaWYgKHQubGVuZ3RoIDwgMilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCByID0gdFt0Lmxlbmd0aCAtIDFdLCBzID0gdGhpcy5jdXJyZW50SXRlbTtcbiAgICBzID09PSByICYmICFyLnRleHRDb250ZW50LnRyaW0oKS5sZW5ndGggJiYgKHMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChzKSwgdGhpcy5hcGkuYmxvY2tzLmluc2VydCgpLCB0aGlzLmFwaS5jYXJldC5zZXRUb0Jsb2NrKHRoaXMuYXBpLmJsb2Nrcy5nZXRDdXJyZW50QmxvY2tJbmRleCgpKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIGJhY2tzcGFjZVxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqL1xuICBiYWNrc3BhY2UoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLl9lbGVtZW50cy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuXCIgKyB0aGlzLkNTUy5pdGVtKSwgciA9IHRbMF07XG4gICAgciAmJiB0Lmxlbmd0aCA8IDIgJiYgIXIuaW5uZXJIVE1MLnJlcGxhY2UoXCI8YnI+XCIsIFwiIFwiKS50cmltKCkgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIC8qKlxuICAgKiBTZWxlY3QgTEkgY29udGVudCBieSBDTUQrQVxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50XG4gICAqL1xuICBzZWxlY3RJdGVtKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKSwgciA9IHQuYW5jaG9yTm9kZS5wYXJlbnROb2RlLCBzID0gci5jbG9zZXN0KFwiLlwiICsgdGhpcy5DU1MuaXRlbSksIGkgPSBuZXcgUmFuZ2UoKTtcbiAgICBpLnNlbGVjdE5vZGVDb250ZW50cyhzKSwgdC5yZW1vdmVBbGxSYW5nZXMoKSwgdC5hZGRSYW5nZShpKTtcbiAgfVxuICAvKipcbiAgICogSGFuZGxlIFVMLCBPTCBhbmQgTEkgdGFncyBwYXN0ZSBhbmQgcmV0dXJucyBMaXN0IGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MVUxpc3RFbGVtZW50fEhUTUxPTGlzdEVsZW1lbnR8SFRNTExJRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJucyB7TGlzdERhdGF9XG4gICAqL1xuICBwYXN0ZUhhbmRsZXIoZSkge1xuICAgIGNvbnN0IHsgdGFnTmFtZTogdCB9ID0gZTtcbiAgICBsZXQgcjtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgIGNhc2UgXCJPTFwiOlxuICAgICAgICByID0gXCJvcmRlcmVkXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIlVMXCI6XG4gICAgICBjYXNlIFwiTElcIjpcbiAgICAgICAgciA9IFwidW5vcmRlcmVkXCI7XG4gICAgfVxuICAgIGNvbnN0IHMgPSB7XG4gICAgICBzdHlsZTogcixcbiAgICAgIGl0ZW1zOiBbXVxuICAgIH07XG4gICAgaWYgKHQgPT09IFwiTElcIilcbiAgICAgIHMuaXRlbXMgPSBbZS5pbm5lckhUTUxdO1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgaSA9IEFycmF5LmZyb20oZS5xdWVyeVNlbGVjdG9yQWxsKFwiTElcIikpO1xuICAgICAgcy5pdGVtcyA9IGkubWFwKChuKSA9PiBuLmlubmVySFRNTCkuZmlsdGVyKChuKSA9PiAhIW4udHJpbSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIGQgYXMgZGVmYXVsdFxufTtcbiIsICIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZS1oZWFkZXJ7cGFkZGluZzouNmVtIDAgM3B4O21hcmdpbjowO2xpbmUtaGVpZ2h0OjEuMjVlbTtvdXRsaW5lOm5vbmV9LmNlLWhlYWRlciBwLC5jZS1oZWFkZXIgZGl2e3BhZGRpbmc6MCFpbXBvcnRhbnQ7bWFyZ2luOjAhaW1wb3J0YW50fVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2gobil7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLG4pfX0pKCk7XG5jb25zdCBhID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk02IDdMNiAxMk02IDE3TDYgMTJNNiAxMkwxMiAxMk0xMiA3VjEyTTEyIDE3TDEyIDEyXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOSAxN1YxMC4yMTM1QzE5IDEwLjEyODcgMTguOTAxMSAxMC4wODI0IDE4LjgzNiAxMC4xMzY3TDE2IDEyLjVcIi8+PC9zdmc+JywgbCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTFDMTYgMTAgMTkgOS41IDE5IDEyQzE5IDEzLjk3NzEgMTYuMDY4NCAxMy45OTk3IDE2LjAwMTIgMTYuODk4MUMxNS45OTk5IDE2Ljk1MzMgMTYuMDQ0OCAxNyAxNi4xIDE3TDE5LjMgMTdcIi8+PC9zdmc+JywgbyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTFDMTYgMTAuNSAxNi44MzIzIDEwIDE3LjYgMTBDMTguMzY3NyAxMCAxOS41IDEwLjMxMSAxOS41IDExLjVDMTkuNSAxMi41MzE1IDE4Ljc0NzQgMTIuOTAyMiAxOC41NDggMTIuOTgyM0MxOC41Mzc4IDEyLjk4NjQgMTguNTM5NSAxMy4wMDQ3IDE4LjU1MDMgMTMuMDA2M0MxOC44MTE1IDEzLjA0NTYgMjAgMTMuMzA2NSAyMCAxNC44QzIwIDE2IDE5LjUgMTcgMTcuOCAxN0MxNy44IDE3IDE2IDE3IDE2IDE2LjNcIi8+PC9zdmc+JywgaCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTggMTBMMTUuMjgzNCAxNC44NTExQzE1LjI0NiAxNC45MTc4IDE1LjI5NCAxNSAxNS4zNzA0IDE1QzE2Ljg0ODkgMTUgMTguNzU2MSAxNSAyMC4yIDE1TTE5IDE3QzE5IDE1LjcxODcgMTkgMTQuODgxMyAxOSAxMy42XCIvPjwvc3ZnPicsIGQgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTYgN0w2IDEyTTYgMTdMNiAxMk02IDEyTDEyIDEyTTEyIDdWMTJNMTIgMTdMMTIgMTJcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2IDE1LjlDMTYgMTUuOSAxNi4zNzY4IDE3IDE3LjggMTdDMTkuNSAxNyAyMCAxNS42MTk5IDIwIDE0LjdDMjAgMTIuNzMyMyAxNy42NzQ1IDEyLjA0ODYgMTYuMTYzNSAxMi45ODk0QzE2LjA5NCAxMy4wMzI3IDE2IDEyLjk4NDYgMTYgMTIuOTAyN1YxMC4xQzE2IDEwLjA0NDggMTYuMDQ0OCAxMCAxNi4xIDEwSDE5LjhcIi8+PC9zdmc+JywgdSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNiA3TDYgMTJNNiAxN0w2IDEyTTYgMTJMMTIgMTJNMTIgN1YxMk0xMiAxN0wxMiAxMlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTkuNSAxMEMxNi41IDEwLjUgMTYgMTMuMzI4NSAxNiAxNU0xNiAxNVYxNUMxNiAxNi4xMDQ2IDE2Ljg5NTQgMTcgMTggMTdIMTguMzI0NkMxOS4zMjUxIDE3IDIwLjMxOTEgMTYuMzQ5MiAyMC4yNTIyIDE1LjM1MDlDMjAuMDYxMiAxMi40OTU4IDE2IDEyLjY2MTEgMTYgMTVaXCIvPjwvc3ZnPicsIGcgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgN0w5IDEyTTkgMTdWMTJNOSAxMkwxNSAxMk0xNSA3VjEyTTE1IDE3TDE1IDEyXCIvPjwvc3ZnPic7XG4vKipcbiAqIEhlYWRlciBibG9jayBmb3IgdGhlIEVkaXRvci5qcy5cbiAqXG4gKiBAYXV0aG9yIENvZGVYICh0ZWFtQGlmbW8uc3UpXG4gKiBAY29weXJpZ2h0IENvZGVYIDIwMThcbiAqIEBsaWNlbnNlIE1JVFxuICogQHZlcnNpb24gMi4wLjBcbiAqL1xuY2xhc3MgdiB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogZSwgY29uZmlnOiB0LCBhcGk6IHMsIHJlYWRPbmx5OiByIH0pIHtcbiAgICB0aGlzLmFwaSA9IHMsIHRoaXMucmVhZE9ubHkgPSByLCB0aGlzLl9zZXR0aW5ncyA9IHQsIHRoaXMuX2RhdGEgPSB0aGlzLm5vcm1hbGl6ZURhdGEoZSksIHRoaXMuX2VsZW1lbnQgPSB0aGlzLmdldFRhZygpO1xuICB9XG4gIC8qKlxuICAgKiBTdHlsZXNcbiAgICovXG4gIGdldCBfQ1NTKCkge1xuICAgIHJldHVybiB7XG4gICAgICBibG9jazogdGhpcy5hcGkuc3R5bGVzLmJsb2NrLFxuICAgICAgd3JhcHBlcjogXCJjZS1oZWFkZXJcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGRhdGEgaXMgdmFsaWRcbiAgICogXG4gICAqIEBwYXJhbSB7YW55fSBkYXRhIC0gZGF0YSB0byBjaGVja1xuICAgKiBAcmV0dXJucyB7ZGF0YSBpcyBIZWFkZXJEYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNIZWFkZXJEYXRhKGUpIHtcbiAgICByZXR1cm4gZS50ZXh0ICE9PSB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBpbnB1dCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7SGVhZGVyRGF0YX0gZGF0YSAtIHNhdmVkIGRhdGEgdG8gcHJvY2Vzc1xuICAgKlxuICAgKiBAcmV0dXJucyB7SGVhZGVyRGF0YX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIG5vcm1hbGl6ZURhdGEoZSkge1xuICAgIGNvbnN0IHQgPSB7IHRleHQ6IFwiXCIsIGxldmVsOiB0aGlzLmRlZmF1bHRMZXZlbC5udW1iZXIgfTtcbiAgICByZXR1cm4gdGhpcy5pc0hlYWRlckRhdGEoZSkgJiYgKHQudGV4dCA9IGUudGV4dCB8fCBcIlwiLCBlLmxldmVsICE9PSB2b2lkIDAgJiYgIWlzTmFOKHBhcnNlSW50KGUubGV2ZWwudG9TdHJpbmcoKSkpICYmICh0LmxldmVsID0gcGFyc2VJbnQoZS5sZXZlbC50b1N0cmluZygpKSkpLCB0O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gVG9vbCdzIHZpZXdcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxIZWFkaW5nRWxlbWVudH1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGhlYWRlciBibG9jayB0dW5lcyBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgcmVuZGVyU2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMubGV2ZWxzLm1hcCgoZSkgPT4gKHtcbiAgICAgIGljb246IGUuc3ZnLFxuICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChgSGVhZGluZyAke2UubnVtYmVyfWApLFxuICAgICAgb25BY3RpdmF0ZTogKCkgPT4gdGhpcy5zZXRMZXZlbChlLm51bWJlciksXG4gICAgICBjbG9zZU9uQWN0aXZhdGU6ICEwLFxuICAgICAgaXNBY3RpdmU6IHRoaXMuY3VycmVudExldmVsLm51bWJlciA9PT0gZS5udW1iZXIsXG4gICAgICByZW5kZXI6ICgpID0+IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciBCbG9jaydzIHNldHRpbmdzIGJ1dHRvbnNcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gbGV2ZWwgdG8gc2V0XG4gICAqL1xuICBzZXRMZXZlbChlKSB7XG4gICAgdGhpcy5kYXRhID0ge1xuICAgICAgbGV2ZWw6IGUsXG4gICAgICB0ZXh0OiB0aGlzLmRhdGEudGV4dFxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIE1ldGhvZCB0aGF0IHNwZWNpZmllZCBob3cgdG8gbWVyZ2UgdHdvIFRleHQgYmxvY2tzLlxuICAgKiBDYWxsZWQgYnkgRWRpdG9yLmpzIGJ5IGJhY2tzcGFjZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBCbG9ja1xuICAgKlxuICAgKiBAcGFyYW0ge0hlYWRlckRhdGF9IGRhdGEgLSBzYXZlZCBkYXRhIHRvIG1lcmdlciB3aXRoIGN1cnJlbnQgYmxvY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgbWVyZ2UoZSkge1xuICAgIHRoaXMuX2VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGUudGV4dCk7XG4gIH1cbiAgLyoqXG4gICAqIFZhbGlkYXRlIFRleHQgYmxvY2sgZGF0YTpcbiAgICogLSBjaGVjayBmb3IgZW1wdGluZXNzXG4gICAqXG4gICAqIEBwYXJhbSB7SGVhZGVyRGF0YX0gYmxvY2tEYXRhIFx1MjAxNCBkYXRhIHJlY2VpdmVkIGFmdGVyIHNhdmluZ1xuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gZmFsc2UgaWYgc2F2ZWQgZGF0YSBpcyBub3QgY29ycmVjdCwgb3RoZXJ3aXNlIHRydWVcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdmFsaWRhdGUoZSkge1xuICAgIHJldHVybiBlLnRleHQudHJpbSgpICE9PSBcIlwiO1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0IFRvb2wncyBkYXRhIGZyb20gdGhlIHZpZXdcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MSGVhZGluZ0VsZW1lbnR9IHRvb2xzQ29udGVudCAtIFRleHQgdG9vbHMgcmVuZGVyZWQgdmlld1xuICAgKiBAcmV0dXJucyB7SGVhZGVyRGF0YX0gLSBzYXZlZCBkYXRhXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNhdmUoZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBlLmlubmVySFRNTCxcbiAgICAgIGxldmVsOiB0aGlzLmN1cnJlbnRMZXZlbC5udW1iZXJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyBIZWFkZXIgdG8gYmUgY29udmVydGVkIHRvL2Zyb20gb3RoZXIgYmxvY2tzXG4gICAqL1xuICBzdGF0aWMgZ2V0IGNvbnZlcnNpb25Db25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cG9ydDogXCJ0ZXh0XCIsXG4gICAgICAvLyB1c2UgJ3RleHQnIHByb3BlcnR5IGZvciBvdGhlciBibG9ja3NcbiAgICAgIGltcG9ydDogXCJ0ZXh0XCJcbiAgICAgIC8vIGZpbGwgJ3RleHQnIHByb3BlcnR5IGZyb20gb3RoZXIgYmxvY2sncyBleHBvcnQgc3RyaW5nXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2FuaXRpemVyIFJ1bGVzXG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsZXZlbDogITEsXG4gICAgICB0ZXh0OiB7fVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSB0byBub3RpZnkgY29yZSB0aGF0IHJlYWQtb25seSBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCBUb29sc2BzIGRhdGFcbiAgICpcbiAgICogQHJldHVybnMge0hlYWRlckRhdGF9IEN1cnJlbnQgZGF0YVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEudGV4dCA9IHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MLCB0aGlzLl9kYXRhLmxldmVsID0gdGhpcy5jdXJyZW50TGV2ZWwubnVtYmVyLCB0aGlzLl9kYXRhO1xuICB9XG4gIC8qKlxuICAgKiBTdG9yZSBkYXRhIGluIHBsdWdpbjpcbiAgICogLSBhdCB0aGUgdGhpcy5fZGF0YSBwcm9wZXJ0eVxuICAgKiAtIGF0IHRoZSBIVE1MXG4gICAqXG4gICAqIEBwYXJhbSB7SGVhZGVyRGF0YX0gZGF0YSBcdTIwMTQgZGF0YSB0byBzZXRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldCBkYXRhKGUpIHtcbiAgICBpZiAodGhpcy5fZGF0YSA9IHRoaXMubm9ybWFsaXplRGF0YShlKSwgZS5sZXZlbCAhPT0gdm9pZCAwICYmIHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgY29uc3QgdCA9IHRoaXMuZ2V0VGFnKCk7XG4gICAgICB0LmlubmVySFRNTCA9IHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MLCB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHQsIHRoaXMuX2VsZW1lbnQpLCB0aGlzLl9lbGVtZW50ID0gdDtcbiAgICB9XG4gICAgZS50ZXh0ICE9PSB2b2lkIDAgJiYgKHRoaXMuX2VsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5fZGF0YS50ZXh0IHx8IFwiXCIpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGFnIGZvciB0YXJnZXQgbGV2ZWxcbiAgICogQnkgZGVmYXVsdCByZXR1cm5zIHNlY29uZC1sZXZlbGVkIGhlYWRlclxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXRUYWcoKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5jdXJyZW50TGV2ZWwudGFnKTtcbiAgICByZXR1cm4gZS5pbm5lckhUTUwgPSB0aGlzLl9kYXRhLnRleHQgfHwgXCJcIiwgZS5jbGFzc0xpc3QuYWRkKHRoaXMuX0NTUy53cmFwcGVyKSwgZS5jb250ZW50RWRpdGFibGUgPSB0aGlzLnJlYWRPbmx5ID8gXCJmYWxzZVwiIDogXCJ0cnVlXCIsIGUuZGF0YXNldC5wbGFjZWhvbGRlciA9IHRoaXMuYXBpLmkxOG4udCh0aGlzLl9zZXR0aW5ncy5wbGFjZWhvbGRlciB8fCBcIlwiKSwgZTtcbiAgfVxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgbGV2ZWxcbiAgICpcbiAgICogQHJldHVybnMge2xldmVsfVxuICAgKi9cbiAgZ2V0IGN1cnJlbnRMZXZlbCgpIHtcbiAgICBsZXQgZSA9IHRoaXMubGV2ZWxzLmZpbmQoKHQpID0+IHQubnVtYmVyID09PSB0aGlzLl9kYXRhLmxldmVsKTtcbiAgICByZXR1cm4gZSB8fCAoZSA9IHRoaXMuZGVmYXVsdExldmVsKSwgZTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGRlZmF1bHQgbGV2ZWxcbiAgICpcbiAgICogQHJldHVybnMge2xldmVsfVxuICAgKi9cbiAgZ2V0IGRlZmF1bHRMZXZlbCgpIHtcbiAgICBpZiAodGhpcy5fc2V0dGluZ3MuZGVmYXVsdExldmVsKSB7XG4gICAgICBjb25zdCBlID0gdGhpcy5sZXZlbHMuZmluZCgodCkgPT4gdC5udW1iZXIgPT09IHRoaXMuX3NldHRpbmdzLmRlZmF1bHRMZXZlbCk7XG4gICAgICBpZiAoZSlcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICBjb25zb2xlLndhcm4oXCIoXHUwRTA3J1x1MDMwMC0nXHUwMzAxKVx1MEUwNyBIZWFkaW5nIFRvb2w6IHRoZSBkZWZhdWx0IGxldmVsIHNwZWNpZmllZCB3YXMgbm90IGZvdW5kIGluIGF2YWlsYWJsZSBsZXZlbHNcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxldmVsc1sxXTtcbiAgfVxuICAvKipcbiAgICogQHR5cGVkZWYge29iamVjdH0gbGV2ZWxcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IG51bWJlciAtIGxldmVsIG51bWJlclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gdGFnIC0gdGFnIGNvcnJlc3BvbmRzIHdpdGggbGV2ZWwgbnVtYmVyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdmcgLSBpY29uXG4gICAqL1xuICAvKipcbiAgICogQXZhaWxhYmxlIGhlYWRlciBsZXZlbHNcbiAgICpcbiAgICogQHJldHVybnMge2xldmVsW119XG4gICAqL1xuICBnZXQgbGV2ZWxzKCkge1xuICAgIGNvbnN0IGUgPSBbXG4gICAgICB7XG4gICAgICAgIG51bWJlcjogMSxcbiAgICAgICAgdGFnOiBcIkgxXCIsXG4gICAgICAgIHN2ZzogYVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbnVtYmVyOiAyLFxuICAgICAgICB0YWc6IFwiSDJcIixcbiAgICAgICAgc3ZnOiBsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBudW1iZXI6IDMsXG4gICAgICAgIHRhZzogXCJIM1wiLFxuICAgICAgICBzdmc6IG9cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG51bWJlcjogNCxcbiAgICAgICAgdGFnOiBcIkg0XCIsXG4gICAgICAgIHN2ZzogaFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbnVtYmVyOiA1LFxuICAgICAgICB0YWc6IFwiSDVcIixcbiAgICAgICAgc3ZnOiBkXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBudW1iZXI6IDYsXG4gICAgICAgIHRhZzogXCJINlwiLFxuICAgICAgICBzdmc6IHVcbiAgICAgIH1cbiAgICBdO1xuICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncy5sZXZlbHMgPyBlLmZpbHRlcihcbiAgICAgICh0KSA9PiB0aGlzLl9zZXR0aW5ncy5sZXZlbHMuaW5jbHVkZXModC5udW1iZXIpXG4gICAgKSA6IGU7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBIMS1INiB0YWdzIG9uIHBhc3RlIHRvIHN1YnN0aXR1dGUgaXQgd2l0aCBoZWFkZXIgVG9vbFxuICAgKlxuICAgKiBAcGFyYW0ge1Bhc3RlRXZlbnR9IGV2ZW50IC0gZXZlbnQgd2l0aCBwYXN0ZWQgY29udGVudFxuICAgKi9cbiAgb25QYXN0ZShlKSB7XG4gICAgY29uc3QgdCA9IGUuZGV0YWlsO1xuICAgIGlmIChcImRhdGFcIiBpbiB0KSB7XG4gICAgICBjb25zdCBzID0gdC5kYXRhO1xuICAgICAgbGV0IHIgPSB0aGlzLmRlZmF1bHRMZXZlbC5udW1iZXI7XG4gICAgICBzd2l0Y2ggKHMudGFnTmFtZSkge1xuICAgICAgICBjYXNlIFwiSDFcIjpcbiAgICAgICAgICByID0gMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkgyXCI6XG4gICAgICAgICAgciA9IDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJIM1wiOlxuICAgICAgICAgIHIgPSAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiSDRcIjpcbiAgICAgICAgICByID0gNDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkg1XCI6XG4gICAgICAgICAgciA9IDU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJINlwiOlxuICAgICAgICAgIHIgPSA2O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2V0dGluZ3MubGV2ZWxzICYmIChyID0gdGhpcy5fc2V0dGluZ3MubGV2ZWxzLnJlZHVjZSgobiwgaSkgPT4gTWF0aC5hYnMoaSAtIHIpIDwgTWF0aC5hYnMobiAtIHIpID8gaSA6IG4pKSwgdGhpcy5kYXRhID0ge1xuICAgICAgICBsZXZlbDogcixcbiAgICAgICAgdGV4dDogcy5pbm5lckhUTUxcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVc2VkIGJ5IEVkaXRvci5qcyBwYXN0ZSBoYW5kbGluZyBBUEkuXG4gICAqIFByb3ZpZGVzIGNvbmZpZ3VyYXRpb24gdG8gaGFuZGxlIEgxLUg2IHRhZ3MuXG4gICAqXG4gICAqIEByZXR1cm5zIHt7aGFuZGxlcjogKGZ1bmN0aW9uKEhUTUxFbGVtZW50KToge3RleHQ6IHN0cmluZ30pLCB0YWdzOiBzdHJpbmdbXX19XG4gICAqL1xuICBzdGF0aWMgZ2V0IHBhc3RlQ29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0YWdzOiBbXCJIMVwiLCBcIkgyXCIsIFwiSDNcIiwgXCJINFwiLCBcIkg1XCIsIFwiSDZcIl1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgVG9vbCB0b29sYm94IHNldHRpbmdzXG4gICAqIGljb24gLSBUb29sIGljb24ncyBTVkdcbiAgICogdGl0bGUgLSB0aXRsZSB0byBzaG93IGluIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge3tpY29uOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBnLFxuICAgICAgdGl0bGU6IFwiSGVhZGluZ1wiXG4gICAgfTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgdiBhcyBkZWZhdWx0XG59O1xuIiwgImltcG9ydCBFZGl0b3JKUyBmcm9tICdAZWRpdG9yanMvZWRpdG9yanMnXG5pbXBvcnQgSW1hZ2VUb29sIGZyb20gJ0BlZGl0b3Jqcy9pbWFnZSdcbmltcG9ydCBMaXN0IGZyb20gJ0BlZGl0b3Jqcy9saXN0J1xuaW1wb3J0IEhlYWRlciBmcm9tICdAZWRpdG9yanMvaGVhZGVyJ1xuaW1wb3J0IFVuZGVybGluZSBmcm9tICdAZWRpdG9yanMvdW5kZXJsaW5lJ1xuaW1wb3J0IENvZGUgZnJvbSAnQGVkaXRvcmpzL2NvZGUnXG5pbXBvcnQgSW5saW5lQ29kZSBmcm9tICdAZWRpdG9yanMvaW5saW5lLWNvZGUnXG5pbXBvcnQgUXVvdGUgZnJvbSAnQGVkaXRvcmpzL3F1b3RlJ1xuaW1wb3J0IFRhYmxlIGZyb20gJ0BlZGl0b3Jqcy90YWJsZSdcbmltcG9ydCBSYXdUb29sIGZyb20gJ0BlZGl0b3Jqcy9yYXcnXG5pbXBvcnQgRGVsaW1pdGVyIGZyb20gJ0BlZGl0b3Jqcy9kZWxpbWl0ZXInXG5pbXBvcnQgeyBTdHlsZUlubGluZVRvb2wgfSBmcm9tICdlZGl0b3Jqcy1zdHlsZSdcbmltcG9ydCBEcmFnRHJvcCBmcm9tICdlZGl0b3Jqcy1kcmFnLWRyb3AnXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJhbHBpbmU6aW5pdFwiLCAoKSA9PiB7XG4gICAgQWxwaW5lLmRhdGEoXG4gICAgICAgIFwiZWRpdG9yanNcIixcbiAgICAgICAgKHsgc3RhdGUsIHN0YXRlUGF0aCwgcGxhY2Vob2xkZXIsIHJlYWRPbmx5LCB0b29scywgbWluSGVpZ2h0LCB1cGxvYWRCeUZpbGVVc2luZyB9KSA9PiAoe1xuICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICB0b29sczogdG9vbHMsXG5cbiAgICAgICAgICAgIGluaXQoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuYWJsZWRUb29scyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG9vbHMuaW5jbHVkZXMoXCJoZWFkZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZFRvb2xzLmhlYWRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBIZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVUb29sYmFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvb2xzLmluY2x1ZGVzKFwiaW1hZ2VcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZFRvb2xzLmltYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IEltYWdlVG9vbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jIHVwbG9hZEJ5RmlsZShmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwbG9hZEJ5RmlsZVVzaW5nKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlc3VsdC5maWxlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi4ocmVzdWx0LmZpbGUubmFtZSAmJiB7IG5hbWU6IHJlc3VsdC5maWxlLm5hbWUgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKHJlc3VsdC5maWxlLnNpemUgJiYgeyBzaXplOiByZXN1bHQuZmlsZS5zaXplIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbWFnZSB1cGxvYWQgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG9vbHMuaW5jbHVkZXMoXCJkZWxpbWl0ZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZFRvb2xzLmRlbGltaXRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBEZWxpbWl0ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVUb29sYmFyOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvb2xzLmluY2x1ZGVzKFwibGlzdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkVG9vbHMubGlzdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lVG9vbGJhcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b29scy5pbmNsdWRlcyhcInVuZGVybGluZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkVG9vbHMudW5kZXJsaW5lID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFVuZGVybGluZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0OiAnQ01EK1UnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG9vbHMuaW5jbHVkZXMoXCJxdW90ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkVG9vbHMucXVvdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogUXVvdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVUb29sYmFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXQ6ICdDTUQrU0hJRlQrTydcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b29scy5pbmNsdWRlcyhcInRhYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWRUb29scy50YWJsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBUYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZVRvb2xiYXI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b29scy5pbmNsdWRlcyhcInJhd1wiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkVG9vbHMucmF3ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFJhd1Rvb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0VudGVyIHJhdyBIVE1MIGhlcmUuLi4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG9vbHMuaW5jbHVkZXMoXCJjb2RlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWRUb29scy5jb2RlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IENvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG9ydGN1dDogJ0NNRCtTSElGVCtDJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvb2xzLmluY2x1ZGVzKFwiaW5saW5lLWNvZGVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZFRvb2xzLmlubGluZUNvZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogSW5saW5lQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0Y3V0OiAnQ01EK1NISUZUK0knXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG9vbHMuaW5jbHVkZXMoXCJzdHlsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkVG9vbHMuc3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogU3R5bGVJbmxpbmVUb29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEJhY2tncm91bmQ6ICcjRkZGRkZGJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERlc3Ryb3kgZXhpc3RpbmcgaW5zdGFuY2UgaWYgYW55XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBFZGl0b3JKUyh7XG4gICAgICAgICAgICAgICAgICAgIGhvbGRlcjogdGhpcy4kZWwuaWQgfHwgdGhpcy4kZWwsXG4gICAgICAgICAgICAgICAgICAgIG1pbkhlaWdodDogbWluSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiByZWFkT25seSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHM6IGVuYWJsZWRUb29scyxcblxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5zYXZlKCkudGhlbigob3V0cHV0RGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBvdXRwdXREYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRWRpdG9yLmpzIHNhdmUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgb25SZWFkeTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBkcmFnIGFuZCBkcm9wXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEcmFnRHJvcCh0aGlzLmluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdEcmFnRHJvcCBpbml0aWFsaXphdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICk7XG59KTtcbiIsICIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZS1jb2RlX190ZXh0YXJlYXttaW4taGVpZ2h0OjIwMHB4O2ZvbnQtZmFtaWx5Ok1lbmxvLE1vbmFjbyxDb25zb2xhcyxDb3VyaWVyIE5ldyxtb25vc3BhY2U7Y29sb3I6IzQxMzE0ZTtsaW5lLWhlaWdodDoxLjZlbTtmb250LXNpemU6MTJweDtiYWNrZ3JvdW5kOiNmOGY3ZmE7Ym9yZGVyOjFweCBzb2xpZCAjZjFmMWY0O2JveC1zaGFkb3c6bm9uZTt3aGl0ZS1zcGFjZTpwcmU7d29yZC13cmFwOm5vcm1hbDtvdmVyZmxvdy14OmF1dG87cmVzaXplOnZlcnRpY2FsfVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2gobyl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLG8pfX0pKCk7XG5mdW5jdGlvbiBsKGMsIHQpIHtcbiAgbGV0IGEgPSBcIlwiO1xuICBmb3IgKDsgYSAhPT0gYFxuYCAmJiB0ID4gMDsgKVxuICAgIHQgPSB0IC0gMSwgYSA9IGMuc3Vic3RyKHQsIDEpO1xuICByZXR1cm4gYSA9PT0gYFxuYCAmJiAodCArPSAxKSwgdDtcbn1cbmNvbnN0IGggPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOSA4TDUgMTJMOSAxNlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNSA4TDE5IDEyTDE1IDE2XCIvPjwvc3ZnPic7XG4vKipcbiAqIENvZGVUb29sIGZvciBFZGl0b3IuanNcbiAqIEB2ZXJzaW9uIDIuMC4wXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuY2xhc3MgZCB7XG4gIC8qKlxuICAgKiBOb3RpZnkgY29yZSB0aGF0IHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZFxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHJlYWQtb25seSBtb2RlIGlzIHN1cHBvcnRlZFxuICAgKi9cbiAgc3RhdGljIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQWxsb3dzIHByZXNzaW5nIEVudGVyIGtleSB0byBjcmVhdGUgbGluZSBicmVha3MgaW5zaWRlIHRoZSBDb2RlVG9vbCB0ZXh0YXJlYVxuICAgKiBUaGlzIGVuYWJsZXMgbXVsdGktbGluZSBpbnB1dCB3aXRoaW4gdGhlIGNvZGUgZWRpdG9yLlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIGxpbmUgYnJlYWtzIGFyZSBhbGxvd2VkIGluIHRoZSB0ZXh0YXJlYVxuICAgKi9cbiAgc3RhdGljIGdldCBlbmFibGVMaW5lQnJlYWtzKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogUmVuZGVyIHBsdWdpbmBzIG1haW4gRWxlbWVudCBhbmQgZmlsbCBpdCB3aXRoIHNhdmVkIGRhdGFcbiAgICogQHBhcmFtIG9wdGlvbnMgLSB0b29sIGNvbnN0cmljdGluZyBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmRhdGEgXHUyMDE0IHByZXZpb3VzbHkgc2F2ZWQgcGx1Z2luIGNvZGVcbiAgICogQHBhcmFtIG9wdGlvbnMuY29uZmlnIC0gdXNlciBjb25maWcgZm9yIFRvb2xcbiAgICogQHBhcmFtIG9wdGlvbnMuYXBpIC0gRWRpdG9yLmpzIEFQSVxuICAgKiBAcGFyYW0gb3B0aW9ucy5yZWFkT25seSAtIHJlYWQgb25seSBtb2RlIGZsYWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogdCwgY29uZmlnOiBlLCBhcGk6IGEsIHJlYWRPbmx5OiByIH0pIHtcbiAgICB0aGlzLmFwaSA9IGEsIHRoaXMucmVhZE9ubHkgPSByLCB0aGlzLnBsYWNlaG9sZGVyID0gdGhpcy5hcGkuaTE4bi50KGUucGxhY2Vob2xkZXIgfHwgZC5ERUZBVUxUX1BMQUNFSE9MREVSKSwgdGhpcy5DU1MgPSB7XG4gICAgICBiYXNlQ2xhc3M6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIGlucHV0OiB0aGlzLmFwaS5zdHlsZXMuaW5wdXQsXG4gICAgICB3cmFwcGVyOiBcImNlLWNvZGVcIixcbiAgICAgIHRleHRhcmVhOiBcImNlLWNvZGVfX3RleHRhcmVhXCJcbiAgICB9LCB0aGlzLm5vZGVzID0ge1xuICAgICAgaG9sZGVyOiBudWxsLFxuICAgICAgdGV4dGFyZWE6IG51bGxcbiAgICB9LCB0aGlzLmRhdGEgPSB7XG4gICAgICBjb2RlOiB0LmNvZGUgPz8gXCJcIlxuICAgIH0sIHRoaXMubm9kZXMuaG9sZGVyID0gdGhpcy5kcmF3VmlldygpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gVG9vbCdzIHZpZXdcbiAgICogQHJldHVybnMgdGhpcy5ub2Rlcy5ob2xkZXIgLSBDb2RlJ3Mgd3JhcHBlclxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmhvbGRlcjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqIEBwYXJhbSBjb2RlV3JhcHBlciAtIENvZGVUb29sJ3Mgd3JhcHBlciwgY29udGFpbmluZyB0ZXh0YXJlYSB3aXRoIGNvZGVcbiAgICogQHJldHVybnMgLSBzYXZlZCBwbHVnaW4gY29kZVxuICAgKi9cbiAgc2F2ZSh0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6IHQucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpLnZhbHVlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogb25QYXN0ZSBjYWxsYmFjayBmaXJlZCBmcm9tIEVkaXRvcmBzIGNvcmVcbiAgICogQHBhcmFtIGV2ZW50IC0gZXZlbnQgd2l0aCBwYXN0ZWQgY29udGVudFxuICAgKi9cbiAgb25QYXN0ZSh0KSB7XG4gICAgY29uc3QgZSA9IHQuZGV0YWlsO1xuICAgIGlmIChcImRhdGFcIiBpbiBlKSB7XG4gICAgICBjb25zdCBhID0gZS5kYXRhO1xuICAgICAgdGhpcy5kYXRhID0ge1xuICAgICAgICBjb2RlOiBhIHx8IFwiXCJcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIFRvb2xgcyBkYXRhIGZyb20gcHJpdmF0ZSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgZ2V0IGRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBUb29sYHMgZGF0YSB0byBwcml2YXRlIHByb3BlcnR5IGFuZCB1cGRhdGUgdmlld1xuICAgKiBAcGFyYW0gZGF0YSAtIHNhdmVkIHRvb2wgZGF0YVxuICAgKi9cbiAgc2V0IGRhdGEodCkge1xuICAgIHRoaXMuX2RhdGEgPSB0LCB0aGlzLm5vZGVzLnRleHRhcmVhICYmICh0aGlzLm5vZGVzLnRleHRhcmVhLnRleHRDb250ZW50ID0gdC5jb2RlKTtcbiAgfVxuICAvKipcbiAgICogR2V0IFRvb2wgdG9vbGJveCBzZXR0aW5ncy5cbiAgICogUHJvdmlkZXMgdGhlIGljb24gYW5kIHRpdGxlIHRvIGRpc3BsYXkgaW4gdGhlIHRvb2xib3ggZm9yIHRoZSBDb2RlVG9vbC5cbiAgICogQHJldHVybnMgQW4gb2JqZWN0IGNvbnRhaW5pbmc6XG4gICAqIC0gaWNvbjogU1ZHIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBUb29sJ3MgaWNvblxuICAgKiAtIHRpdGxlOiBUaXRsZSB0byBzaG93IGluIHRoZSB0b29sYm94XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IGgsXG4gICAgICB0aXRsZTogXCJDb2RlXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBEZWZhdWx0IHBsYWNlaG9sZGVyIGZvciBDb2RlVG9vbCdzIHRleHRhcmVhXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfUExBQ0VIT0xERVIoKSB7XG4gICAgcmV0dXJuIFwiRW50ZXIgYSBjb2RlXCI7XG4gIH1cbiAgLyoqXG4gICAqICBVc2VkIGJ5IEVkaXRvci5qcyBwYXN0ZSBoYW5kbGluZyBBUEkuXG4gICAqICBQcm92aWRlcyBjb25maWd1cmF0aW9uIHRvIGhhbmRsZSBDT0RFIHRhZy5cbiAgICogQHJldHVybnNcbiAgICovXG4gIHN0YXRpYyBnZXQgcGFzdGVDb25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhZ3M6IFtcInByZVwiXVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEF1dG9tYXRpYyBzYW5pdGl6ZSBjb25maWdcbiAgICogQHJldHVybnNcbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6ICEwXG4gICAgICAvLyBBbGxvdyBIVE1MIHRhZ3NcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBIYW5kbGVzIFRhYiBrZXkgcHJlc3NpbmcgKGFkZHMvcmVtb3ZlcyBpbmRlbnRhdGlvbnMpXG4gICAqIEBwYXJhbSBldmVudCAtIGtleWRvd25cbiAgICovXG4gIHRhYkhhbmRsZXIodCkge1xuICAgIHQuc3RvcFByb3BhZ2F0aW9uKCksIHQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBlID0gdC50YXJnZXQsIGEgPSB0LnNoaWZ0S2V5LCByID0gZS5zZWxlY3Rpb25TdGFydCwgcyA9IGUudmFsdWUsIG4gPSBcIiAgXCI7XG4gICAgbGV0IGk7XG4gICAgaWYgKCFhKVxuICAgICAgaSA9IHIgKyBuLmxlbmd0aCwgZS52YWx1ZSA9IHMuc3Vic3RyaW5nKDAsIHIpICsgbiArIHMuc3Vic3RyaW5nKHIpO1xuICAgIGVsc2Uge1xuICAgICAgY29uc3QgbyA9IGwocywgcik7XG4gICAgICBpZiAocy5zdWJzdHIobywgbi5sZW5ndGgpICE9PSBuKVxuICAgICAgICByZXR1cm47XG4gICAgICBlLnZhbHVlID0gcy5zdWJzdHJpbmcoMCwgbykgKyBzLnN1YnN0cmluZyhvICsgbi5sZW5ndGgpLCBpID0gciAtIG4ubGVuZ3RoO1xuICAgIH1cbiAgICBlLnNldFNlbGVjdGlvblJhbmdlKGksIGkpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgVG9vbCdzIHZpZXdcbiAgICogQHJldHVybnNcbiAgICovXG4gIGRyYXdWaWV3KCkge1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgIHJldHVybiB0LmNsYXNzTGlzdC5hZGQodGhpcy5DU1MuYmFzZUNsYXNzLCB0aGlzLkNTUy53cmFwcGVyKSwgZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLnRleHRhcmVhLCB0aGlzLkNTUy5pbnB1dCksIGUudGV4dENvbnRlbnQgPSB0aGlzLmRhdGEuY29kZSwgZS5wbGFjZWhvbGRlciA9IHRoaXMucGxhY2Vob2xkZXIsIHRoaXMucmVhZE9ubHkgJiYgKGUuZGlzYWJsZWQgPSAhMCksIHQuYXBwZW5kQ2hpbGQoZSksIGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGEpID0+IHtcbiAgICAgIHN3aXRjaCAoYS5jb2RlKSB7XG4gICAgICAgIGNhc2UgXCJUYWJcIjpcbiAgICAgICAgICB0aGlzLnRhYkhhbmRsZXIoYSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSksIHRoaXMubm9kZXMudGV4dGFyZWEgPSBlLCB0O1xuICB9XG59XG5leHBvcnQge1xuICBkIGFzIGRlZmF1bHRcbn07XG4iLCAiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIuaW5saW5lLWNvZGV7YmFja2dyb3VuZDpyZ2JhKDI1MCwyMzksMjQwLC43OCk7Y29sb3I6I2I0NDQzNztwYWRkaW5nOjNweCA0cHg7Ym9yZGVyLXJhZGl1czo1cHg7bWFyZ2luOjAgMXB4O2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOi44NmVtO2ZvbnQtd2VpZ2h0OjUwMDtsZXR0ZXItc3BhY2luZzouM3B4fVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2gobil7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLG4pfX0pKCk7XG5jb25zdCBhID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkgOEw1IDEyTDkgMTZcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUgOEwxOSAxMkwxNSAxNlwiLz48L3N2Zz4nO1xuY2xhc3MgcyB7XG4gIGNvbnN0cnVjdG9yKHsgYXBpOiB0IH0pIHtcbiAgICB0aGlzLnRhZyA9IFwiQ09ERVwiLCB0aGlzLmFwaSA9IHQsIHRoaXMuYnV0dG9uID0gbnVsbCwgdGhpcy5pY29uQ2xhc3NlcyA9IHtcbiAgICAgIGJhc2U6IHRoaXMuYXBpLnN0eWxlcy5pbmxpbmVUb29sQnV0dG9uLFxuICAgICAgYWN0aXZlOiB0aGlzLmFwaS5zdHlsZXMuaW5saW5lVG9vbEJ1dHRvbkFjdGl2ZVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENsYXNzIG5hbWUgZm9yIHRlcm0tdGFnXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4gXCJpbmxpbmUtY29kZVwiO1xuICB9XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgVG9vbCBhcyBJbmxpbmUgVG9vbGJhciBUb29sXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzSW5saW5lKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGJ1dHRvbiBlbGVtZW50IGZvciBUb29sYmFyXG4gICAqXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLmJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksIHRoaXMuYnV0dG9uLnR5cGUgPSBcImJ1dHRvblwiLCB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuaWNvbkNsYXNzZXMuYmFzZSksIHRoaXMuYnV0dG9uLmlubmVySFRNTCA9IHRoaXMudG9vbGJveEljb24sIHRoaXMuYnV0dG9uO1xuICB9XG4gIC8qKlxuICAgKiBXcmFwL1Vud3JhcCBzZWxlY3RlZCBmcmFnbWVudFxuICAgKlxuICAgKiBAcGFyYW0ge1JhbmdlfSByYW5nZSAtIHNlbGVjdGVkIGZyYWdtZW50XG4gICAqL1xuICBzdXJyb3VuZCh0KSB7XG4gICAgaWYgKCF0KVxuICAgICAgcmV0dXJuO1xuICAgIGxldCBlID0gdGhpcy5hcGkuc2VsZWN0aW9uLmZpbmRQYXJlbnRUYWcodGhpcy50YWcsIHMuQ1NTKTtcbiAgICBlID8gdGhpcy51bndyYXAoZSkgOiB0aGlzLndyYXAodCk7XG4gIH1cbiAgLyoqXG4gICAqIFdyYXAgc2VsZWN0aW9uIHdpdGggdGVybS10YWdcbiAgICpcbiAgICogQHBhcmFtIHtSYW5nZX0gcmFuZ2UgLSBzZWxlY3RlZCBmcmFnbWVudFxuICAgKi9cbiAgd3JhcCh0KSB7XG4gICAgbGV0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMudGFnKTtcbiAgICBlLmNsYXNzTGlzdC5hZGQocy5DU1MpLCBlLmFwcGVuZENoaWxkKHQuZXh0cmFjdENvbnRlbnRzKCkpLCB0Lmluc2VydE5vZGUoZSksIHRoaXMuYXBpLnNlbGVjdGlvbi5leHBhbmRUb1RhZyhlKTtcbiAgfVxuICAvKipcbiAgICogVW53cmFwIHRlcm0tdGFnXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRlcm1XcmFwcGVyIC0gdGVybSB3cmFwcGVyIHRhZ1xuICAgKi9cbiAgdW53cmFwKHQpIHtcbiAgICB2YXIgaTtcbiAgICB0aGlzLmFwaS5zZWxlY3Rpb24uZXhwYW5kVG9UYWcodCk7XG4gICAgY29uc3QgZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbiA9IGUuZ2V0UmFuZ2VBdCgwKSwgbyA9IG4uZXh0cmFjdENvbnRlbnRzKCk7XG4gICAgKGkgPSB0LnBhcmVudE5vZGUpID09IG51bGwgfHwgaS5yZW1vdmVDaGlsZCh0KSwgbi5pbnNlcnROb2RlKG8pLCBlLnJlbW92ZUFsbFJhbmdlcygpLCBlLmFkZFJhbmdlKG4pO1xuICB9XG4gIC8qKlxuICAgKiBDaGVjayBhbmQgY2hhbmdlIFRlcm0ncyBzdGF0ZSBmb3IgY3VycmVudCBzZWxlY3Rpb25cbiAgICogXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBjaGVja1N0YXRlKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmFwaS5zZWxlY3Rpb24uZmluZFBhcmVudFRhZyh0aGlzLnRhZywgcy5DU1MpO1xuICAgIHJldHVybiB0aGlzLmJ1dHRvbiAmJiB0aGlzLmJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKHRoaXMuaWNvbkNsYXNzZXMuYWN0aXZlLCAhIXQpLCAhIXQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBUb29sIGljb24ncyBTVkdcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0IHRvb2xib3hJY29uKCkge1xuICAgIHJldHVybiBhO1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgcnVsZVxuICAgKiBAcmV0dXJuIHtTYW5pdGl6ZXJDb25maWd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IHNhbml0aXplKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2RlOiB7XG4gICAgICAgIGNsYXNzOiBzLkNTU1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cbmV4cG9ydCB7XG4gIHMgYXMgZGVmYXVsdFxufTtcbiIsICIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIi5jZHgtcXVvdGUtaWNvbiBzdmd7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfS5jZHgtcXVvdGV7bWFyZ2luOjB9LmNkeC1xdW90ZV9fdGV4dHttaW4taGVpZ2h0OjE1OHB4O21hcmdpbi1ib3R0b206MTBweH0uY2R4LXF1b3RlIFtjb250ZW50RWRpdGFibGU9dHJ1ZV1bZGF0YS1wbGFjZWhvbGRlcl06YmVmb3Jle3Bvc2l0aW9uOmFic29sdXRlO2NvbnRlbnQ6YXR0cihkYXRhLXBsYWNlaG9sZGVyKTtjb2xvcjojNzA3Njg0O2ZvbnQtd2VpZ2h0OjQwMDtvcGFjaXR5OjB9LmNkeC1xdW90ZSBbY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OmJlZm9yZXtvcGFjaXR5OjF9LmNkeC1xdW90ZSBbY29udGVudEVkaXRhYmxlPXRydWVdW2RhdGEtcGxhY2Vob2xkZXJdOmVtcHR5OmZvY3VzOmJlZm9yZXtvcGFjaXR5OjB9LmNkeC1xdW90ZS1zZXR0aW5nc3tkaXNwbGF5OmZsZXh9LmNkeC1xdW90ZS1zZXR0aW5ncyAuY2R4LXNldHRpbmdzLWJ1dHRvbnt3aWR0aDo1MCV9XCIpKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQpfX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsZSl9fSkoKTtcbmNvbnN0IERlID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOCA3TDYgN1wiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTggMTdINlwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTYgMTJMOCAxMlwiLz48L3N2Zz4nLCBIZSA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTcgN0w1IDdcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3IDE3SDVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEzIDEyTDUgMTJcIi8+PC9zdmc+JywgUmUgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTAgMTAuODE4Mkw5IDEwLjgxODJDOC44MDIyMiAxMC44MTgyIDguNjA4ODggMTAuNzY0OSA4LjQ0NDQzIDEwLjY2NUM4LjI3OTk4IDEwLjU2NTEgOC4xNTE4MSAxMC40MjMxIDguMDc2MTIgMTAuMjU3QzguMDAwNDMgMTAuMDkwOSA3Ljk4MDYzIDkuOTA4MDggOC4wMTkyMiA5LjczMTc0QzguMDU3OCA5LjU1NTM5IDguMTUzMDQgOS4zOTM0MSA4LjI5Mjg5IDkuMjY2MjdDOC40MzI3NSA5LjEzOTEzIDguNjEwOTMgOS4wNTI1NSA4LjgwNDkxIDkuMDE3NDdDOC45OTg4OSA4Ljk4MjM5IDkuMTk5OTYgOS4wMDAzOSA5LjM4MjY4IDkuMDY5MkM5LjU2NTQxIDkuMTM4MDEgOS43MjE1OSA5LjI1NDUzIDkuODMxNDcgOS40MDQwM0M5Ljk0MTM1IDkuNTUzNTMgMTAgOS43MjkyOSAxMCA5LjkwOTA5TDEwIDEyLjE4MThDMTAgMTIuNjY0IDkuNzg5MjkgMTMuMTI2NSA5LjQxNDIxIDEzLjQ2NzVDOS4wMzkxNCAxMy44MDg0IDguNTMwNDMgMTQgOCAxNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiAxMC44MTgyTDE1IDEwLjgxODJDMTQuODAyMiAxMC44MTgyIDE0LjYwODkgMTAuNzY0OSAxNC40NDQ0IDEwLjY2NUMxNC4yOCAxMC41NjUxIDE0LjE1MTggMTAuNDIzMSAxNC4wNzYxIDEwLjI1N0MxNC4wMDA0IDEwLjA5MDkgMTMuOTgwNiA5LjkwODA4IDE0LjAxOTIgOS43MzE3NEMxNC4wNTc4IDkuNTU1MzkgMTQuMTUzIDkuMzkzNDEgMTQuMjkyOSA5LjI2NjI3QzE0LjQzMjcgOS4xMzkxMyAxNC42MTA5IDkuMDUyNTUgMTQuODA0OSA5LjAxNzQ3QzE0Ljk5ODkgOC45ODIzOSAxNS4yIDkuMDAwMzkgMTUuMzgyNyA5LjA2OTJDMTUuNTY1NCA5LjEzODAxIDE1LjcyMTYgOS4yNTQ1MyAxNS44MzE1IDkuNDA0MDNDMTUuOTQxNCA5LjU1MzUzIDE2IDkuNzI5MjkgMTYgOS45MDkwOUwxNiAxMi4xODE4QzE2IDEyLjY2NCAxNS43ODkzIDEzLjEyNjUgMTUuNDE0MiAxMy40Njc1QzE1LjAzOTEgMTMuODA4NCAxNC41MzA0IDE0IDE0IDE0XCIvPjwvc3ZnPic7XG52YXIgYiA9IHR5cGVvZiBnbG9iYWxUaGlzIDwgXCJ1XCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyA8IFwidVwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCA8IFwidVwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgPCBcInVcIiA/IHNlbGYgOiB7fTtcbmZ1bmN0aW9uIEZlKGUpIHtcbiAgaWYgKGUuX19lc01vZHVsZSlcbiAgICByZXR1cm4gZTtcbiAgdmFyIHQgPSBlLmRlZmF1bHQ7XG4gIGlmICh0eXBlb2YgdCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgbiA9IGZ1bmN0aW9uIHIoKSB7XG4gICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHIgPyBSZWZsZWN0LmNvbnN0cnVjdCh0LCBhcmd1bWVudHMsIHRoaXMuY29uc3RydWN0b3IpIDogdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgbi5wcm90b3R5cGUgPSB0LnByb3RvdHlwZTtcbiAgfSBlbHNlXG4gICAgbiA9IHt9O1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihyKSB7XG4gICAgdmFyIGkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCByLCBpLmdldCA/IGkgOiB7XG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBlW3JdO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSwgbjtcbn1cbnZhciBnID0ge30sIFAgPSB7fSwgaiA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGosIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbmouYWxsSW5wdXRzU2VsZWN0b3IgPSBXZTtcbmZ1bmN0aW9uIFdlKCkge1xuICB2YXIgZSA9IFtcInRleHRcIiwgXCJwYXNzd29yZFwiLCBcImVtYWlsXCIsIFwibnVtYmVyXCIsIFwic2VhcmNoXCIsIFwidGVsXCIsIFwidXJsXCJdO1xuICByZXR1cm4gXCJbY29udGVudGVkaXRhYmxlPXRydWVdLCB0ZXh0YXJlYSwgaW5wdXQ6bm90KFt0eXBlXSksIFwiICsgZS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHJldHVybiAnaW5wdXRbdHlwZT1cIicuY29uY2F0KHQsICdcIl0nKTtcbiAgfSkuam9pbihcIiwgXCIpO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5hbGxJbnB1dHNTZWxlY3RvciA9IHZvaWQgMDtcbiAgdmFyIHQgPSBqO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJhbGxJbnB1dHNTZWxlY3RvclwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmFsbElucHV0c1NlbGVjdG9yO1xuICB9IH0pO1xufSkoUCk7XG52YXIgcyA9IHt9LCBUID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVCwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuVC5pc05hdGl2ZUlucHV0ID0gVWU7XG5mdW5jdGlvbiBVZShlKSB7XG4gIHZhciB0ID0gW1xuICAgIFwiSU5QVVRcIixcbiAgICBcIlRFWFRBUkVBXCJcbiAgXTtcbiAgcmV0dXJuIGUgJiYgZS50YWdOYW1lID8gdC5pbmNsdWRlcyhlLnRhZ05hbWUpIDogITE7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmlzTmF0aXZlSW5wdXQgPSB2b2lkIDA7XG4gIHZhciB0ID0gVDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNOYXRpdmVJbnB1dFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzTmF0aXZlSW5wdXQ7XG4gIH0gfSk7XG59KShzKTtcbnZhciBpZSA9IHt9LCBTID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuUy5hcHBlbmQgPSBxZTtcbmZ1bmN0aW9uIHFlKGUsIHQpIHtcbiAgQXJyYXkuaXNBcnJheSh0KSA/IHQuZm9yRWFjaChmdW5jdGlvbihuKSB7XG4gICAgZS5hcHBlbmRDaGlsZChuKTtcbiAgfSkgOiBlLmFwcGVuZENoaWxkKHQpO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5hcHBlbmQgPSB2b2lkIDA7XG4gIHZhciB0ID0gUztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiYXBwZW5kXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuYXBwZW5kO1xuICB9IH0pO1xufSkoaWUpO1xudmFyIEMgPSB7fSwgTCA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEwsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbkwuYmxvY2tFbGVtZW50cyA9IHplO1xuZnVuY3Rpb24gemUoKSB7XG4gIHJldHVybiBbXG4gICAgXCJhZGRyZXNzXCIsXG4gICAgXCJhcnRpY2xlXCIsXG4gICAgXCJhc2lkZVwiLFxuICAgIFwiYmxvY2txdW90ZVwiLFxuICAgIFwiY2FudmFzXCIsXG4gICAgXCJkaXZcIixcbiAgICBcImRsXCIsXG4gICAgXCJkdFwiLFxuICAgIFwiZmllbGRzZXRcIixcbiAgICBcImZpZ2NhcHRpb25cIixcbiAgICBcImZpZ3VyZVwiLFxuICAgIFwiZm9vdGVyXCIsXG4gICAgXCJmb3JtXCIsXG4gICAgXCJoMVwiLFxuICAgIFwiaDJcIixcbiAgICBcImgzXCIsXG4gICAgXCJoNFwiLFxuICAgIFwiaDVcIixcbiAgICBcImg2XCIsXG4gICAgXCJoZWFkZXJcIixcbiAgICBcImhncm91cFwiLFxuICAgIFwiaHJcIixcbiAgICBcImxpXCIsXG4gICAgXCJtYWluXCIsXG4gICAgXCJuYXZcIixcbiAgICBcIm5vc2NyaXB0XCIsXG4gICAgXCJvbFwiLFxuICAgIFwib3V0cHV0XCIsXG4gICAgXCJwXCIsXG4gICAgXCJwcmVcIixcbiAgICBcInJ1YnlcIixcbiAgICBcInNlY3Rpb25cIixcbiAgICBcInRhYmxlXCIsXG4gICAgXCJ0Ym9keVwiLFxuICAgIFwidGhlYWRcIixcbiAgICBcInRyXCIsXG4gICAgXCJ0Zm9vdFwiLFxuICAgIFwidWxcIixcbiAgICBcInZpZGVvXCJcbiAgXTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuYmxvY2tFbGVtZW50cyA9IHZvaWQgMDtcbiAgdmFyIHQgPSBMO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJibG9ja0VsZW1lbnRzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuYmxvY2tFbGVtZW50cztcbiAgfSB9KTtcbn0pKEMpO1xudmFyIGFlID0ge30sIE0gPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5NLmNhbGN1bGF0ZUJhc2VsaW5lID0gR2U7XG5mdW5jdGlvbiBHZShlKSB7XG4gIHZhciB0ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZSksIG4gPSBwYXJzZUZsb2F0KHQuZm9udFNpemUpLCByID0gcGFyc2VGbG9hdCh0LmxpbmVIZWlnaHQpIHx8IG4gKiAxLjIsIGkgPSBwYXJzZUZsb2F0KHQucGFkZGluZ1RvcCksIGEgPSBwYXJzZUZsb2F0KHQuYm9yZGVyVG9wV2lkdGgpLCBsID0gcGFyc2VGbG9hdCh0Lm1hcmdpblRvcCksIHUgPSBuICogMC44LCBkID0gKHIgLSBuKSAvIDIsIGMgPSBsICsgYSArIGkgKyBkICsgdTtcbiAgcmV0dXJuIGM7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmNhbGN1bGF0ZUJhc2VsaW5lID0gdm9pZCAwO1xuICB2YXIgdCA9IE07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImNhbGN1bGF0ZUJhc2VsaW5lXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuY2FsY3VsYXRlQmFzZWxpbmU7XG4gIH0gfSk7XG59KShhZSk7XG52YXIgbGUgPSB7fSwgayA9IHt9LCB3ID0ge30sIE4gPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShOLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5OLmlzQ29udGVudEVkaXRhYmxlID0gS2U7XG5mdW5jdGlvbiBLZShlKSB7XG4gIHJldHVybiBlLmNvbnRlbnRFZGl0YWJsZSA9PT0gXCJ0cnVlXCI7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmlzQ29udGVudEVkaXRhYmxlID0gdm9pZCAwO1xuICB2YXIgdCA9IE47XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzQ29udGVudEVkaXRhYmxlXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuaXNDb250ZW50RWRpdGFibGU7XG4gIH0gfSk7XG59KSh3KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShrLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5rLmNhblNldENhcmV0ID0gUWU7XG52YXIgWGUgPSBzLCBZZSA9IHc7XG5mdW5jdGlvbiBRZShlKSB7XG4gIHZhciB0ID0gITA7XG4gIGlmICgoMCwgWGUuaXNOYXRpdmVJbnB1dCkoZSkpXG4gICAgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgIGNhc2UgXCJyYWRpb1wiOlxuICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgY2FzZSBcInN1Ym1pdFwiOlxuICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgdCA9ICExO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIGVsc2VcbiAgICB0ID0gKDAsIFllLmlzQ29udGVudEVkaXRhYmxlKShlKTtcbiAgcmV0dXJuIHQ7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmNhblNldENhcmV0ID0gdm9pZCAwO1xuICB2YXIgdCA9IGs7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImNhblNldENhcmV0XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuY2FuU2V0Q2FyZXQ7XG4gIH0gfSk7XG59KShsZSk7XG52YXIgXyA9IHt9LCBJID0ge307XG5mdW5jdGlvbiBWZShlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSBuLnZhbHVlICE9PSB2b2lkIDAgPyBcInZhbHVlXCIgOiBcImdldFwiLCBpID0gbltyXSwgYSA9IGAjJHt0fUNhY2hlYDtcbiAgaWYgKG5bcl0gPSBmdW5jdGlvbiguLi5sKSB7XG4gICAgcmV0dXJuIHRoaXNbYV0gPT09IHZvaWQgMCAmJiAodGhpc1thXSA9IGkuYXBwbHkodGhpcywgbCkpLCB0aGlzW2FdO1xuICB9LCByID09PSBcImdldFwiICYmIG4uc2V0KSB7XG4gICAgY29uc3QgbCA9IG4uc2V0O1xuICAgIG4uc2V0ID0gZnVuY3Rpb24odSkge1xuICAgICAgZGVsZXRlIGVbYV0sIGwuYXBwbHkodGhpcywgdSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIHVlKCkge1xuICBjb25zdCBlID0ge1xuICAgIHdpbjogITEsXG4gICAgbWFjOiAhMSxcbiAgICB4MTE6ICExLFxuICAgIGxpbnV4OiAhMVxuICB9LCB0ID0gT2JqZWN0LmtleXMoZSkuZmluZCgobikgPT4gd2luZG93Lm5hdmlnYXRvci5hcHBWZXJzaW9uLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihuKSAhPT0gLTEpO1xuICByZXR1cm4gdCAhPT0gdm9pZCAwICYmIChlW3RdID0gITApLCBlO1xufVxuZnVuY3Rpb24gQShlKSB7XG4gIHJldHVybiBlICE9IG51bGwgJiYgZSAhPT0gXCJcIiAmJiAodHlwZW9mIGUgIT0gXCJvYmplY3RcIiB8fCBPYmplY3Qua2V5cyhlKS5sZW5ndGggPiAwKTtcbn1cbmZ1bmN0aW9uIFplKGUpIHtcbiAgcmV0dXJuICFBKGUpO1xufVxuY29uc3QgSmUgPSAoKSA9PiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgd2luZG93Lm5hdmlnYXRvciAhPT0gbnVsbCAmJiBBKHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0pICYmICgvaVAoYWR8aG9uZXxvZCkvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSkgfHwgd2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gXCJNYWNJbnRlbFwiICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxKTtcbmZ1bmN0aW9uIHhlKGUpIHtcbiAgY29uc3QgdCA9IHVlKCk7XG4gIHJldHVybiBlID0gZS5yZXBsYWNlKC9zaGlmdC9naSwgXCJcdTIxRTdcIikucmVwbGFjZSgvYmFja3NwYWNlL2dpLCBcIlx1MjMyQlwiKS5yZXBsYWNlKC9lbnRlci9naSwgXCJcdTIzQ0VcIikucmVwbGFjZSgvdXAvZ2ksIFwiXHUyMTkxXCIpLnJlcGxhY2UoL2xlZnQvZ2ksIFwiXHUyMTkyXCIpLnJlcGxhY2UoL2Rvd24vZ2ksIFwiXHUyMTkzXCIpLnJlcGxhY2UoL3JpZ2h0L2dpLCBcIlx1MjE5MFwiKS5yZXBsYWNlKC9lc2NhcGUvZ2ksIFwiXHUyMzhCXCIpLnJlcGxhY2UoL2luc2VydC9naSwgXCJJbnNcIikucmVwbGFjZSgvZGVsZXRlL2dpLCBcIlx1MjQyMVwiKS5yZXBsYWNlKC9cXCsvZ2ksIFwiK1wiKSwgdC5tYWMgPyBlID0gZS5yZXBsYWNlKC9jdHJsfGNtZC9naSwgXCJcdTIzMThcIikucmVwbGFjZSgvYWx0L2dpLCBcIlx1MjMyNVwiKSA6IGUgPSBlLnJlcGxhY2UoL2NtZC9naSwgXCJDdHJsXCIpLnJlcGxhY2UoL3dpbmRvd3MvZ2ksIFwiV0lOXCIpLCBlO1xufVxuZnVuY3Rpb24gZXQoZSkge1xuICByZXR1cm4gZVswXS50b1VwcGVyQ2FzZSgpICsgZS5zbGljZSgxKTtcbn1cbmZ1bmN0aW9uIHR0KGUpIHtcbiAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCIsIHQuc3R5bGUubGVmdCA9IFwiLTk5OXB4XCIsIHQuc3R5bGUuYm90dG9tID0gXCItOTk5cHhcIiwgdC5pbm5lckhUTUwgPSBlLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpO1xuICBjb25zdCBuID0gd2luZG93LmdldFNlbGVjdGlvbigpLCByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgaWYgKHIuc2VsZWN0Tm9kZSh0KSwgbiA9PT0gbnVsbClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29weSB0ZXh0IHRvIGNsaXBib2FyZFwiKTtcbiAgbi5yZW1vdmVBbGxSYW5nZXMoKSwgbi5hZGRSYW5nZShyKSwgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpLCBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpO1xufVxuZnVuY3Rpb24gbnQoZSwgdCwgbikge1xuICBsZXQgcjtcbiAgcmV0dXJuICguLi5pKSA9PiB7XG4gICAgY29uc3QgYSA9IHRoaXMsIGwgPSAoKSA9PiB7XG4gICAgICByID0gdm9pZCAwLCBuICE9PSAhMCAmJiBlLmFwcGx5KGEsIGkpO1xuICAgIH0sIHUgPSBuID09PSAhMCAmJiByICE9PSB2b2lkIDA7XG4gICAgd2luZG93LmNsZWFyVGltZW91dChyKSwgciA9IHdpbmRvdy5zZXRUaW1lb3V0KGwsIHQpLCB1ICYmIGUuYXBwbHkoYSwgaSk7XG4gIH07XG59XG5mdW5jdGlvbiBvKGUpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5tYXRjaCgvXFxzKFthLXpBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gcnQoZSkge1xuICByZXR1cm4gbyhlKSA9PT0gXCJib29sZWFuXCI7XG59XG5mdW5jdGlvbiBvZShlKSB7XG4gIHJldHVybiBvKGUpID09PSBcImZ1bmN0aW9uXCIgfHwgbyhlKSA9PT0gXCJhc3luY2Z1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBpdChlKSB7XG4gIHJldHVybiBvZShlKSAmJiAvXlxccypjbGFzc1xccysvLnRlc3QoZS50b1N0cmluZygpKTtcbn1cbmZ1bmN0aW9uIGF0KGUpIHtcbiAgcmV0dXJuIG8oZSkgPT09IFwibnVtYmVyXCI7XG59XG5mdW5jdGlvbiB2KGUpIHtcbiAgcmV0dXJuIG8oZSkgPT09IFwib2JqZWN0XCI7XG59XG5mdW5jdGlvbiBsdChlKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoZSkgPT09IGU7XG59XG5mdW5jdGlvbiB1dChlKSB7XG4gIHJldHVybiBvKGUpID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gb3QoZSkge1xuICByZXR1cm4gbyhlKSA9PT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIE8oZSwgLi4udCkge1xuICBpZiAoIXQubGVuZ3RoKVxuICAgIHJldHVybiBlO1xuICBjb25zdCBuID0gdC5zaGlmdCgpO1xuICBpZiAodihlKSAmJiB2KG4pKVxuICAgIGZvciAoY29uc3QgciBpbiBuKVxuICAgICAgdihuW3JdKSA/IChlW3JdID09PSB2b2lkIDAgJiYgT2JqZWN0LmFzc2lnbihlLCB7IFtyXToge30gfSksIE8oZVtyXSwgbltyXSkpIDogT2JqZWN0LmFzc2lnbihlLCB7IFtyXTogbltyXSB9KTtcbiAgcmV0dXJuIE8oZSwgLi4udCk7XG59XG5mdW5jdGlvbiBjdChlLCB0LCBuKSB7XG4gIGNvbnN0IHIgPSBgXHUwMEFCJHt0fVx1MDBCQiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHVzZSB0aGUgXHUwMEFCJHtufVx1MDBCQiBpbnN0ZWFkLmA7XG4gIGUgJiYgY29uc29sZS53YXJuKHIpO1xufVxuZnVuY3Rpb24gc3QoZSkge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVVJMKGUpLmhyZWY7XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBlLnN1YnN0cmluZygwLCAyKSA9PT0gXCIvL1wiID8gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgZSA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyBlO1xufVxuZnVuY3Rpb24gZHQoZSkge1xuICByZXR1cm4gZSA+IDQ3ICYmIGUgPCA1OCB8fCBlID09PSAzMiB8fCBlID09PSAxMyB8fCBlID09PSAyMjkgfHwgZSA+IDY0ICYmIGUgPCA5MSB8fCBlID4gOTUgJiYgZSA8IDExMiB8fCBlID4gMTg1ICYmIGUgPCAxOTMgfHwgZSA+IDIxOCAmJiBlIDwgMjIzO1xufVxuY29uc3QgZnQgPSB7XG4gIEJBQ0tTUEFDRTogOCxcbiAgVEFCOiA5LFxuICBFTlRFUjogMTMsXG4gIFNISUZUOiAxNixcbiAgQ1RSTDogMTcsXG4gIEFMVDogMTgsXG4gIEVTQzogMjcsXG4gIFNQQUNFOiAzMixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgRE9XTjogNDAsXG4gIFJJR0hUOiAzOSxcbiAgREVMRVRFOiA0NixcbiAgTUVUQTogOTEsXG4gIFNMQVNIOiAxOTFcbn0sIHB0ID0ge1xuICBMRUZUOiAwLFxuICBXSEVFTDogMSxcbiAgUklHSFQ6IDIsXG4gIEJBQ0tXQVJEOiAzLFxuICBGT1JXQVJEOiA0XG59O1xuY2xhc3MgZ3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbXBsZXRlZCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgbmV3IHByb21pc2UgdG8gcXVldWVcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIHByb21pc2Ugc2hvdWxkIGJlIGFkZGVkIHRvIHF1ZXVlXG4gICAqL1xuICBhZGQodCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgobiwgcikgPT4ge1xuICAgICAgdGhpcy5jb21wbGV0ZWQgPSB0aGlzLmNvbXBsZXRlZC50aGVuKHQpLnRoZW4obikuY2F0Y2gocik7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZ0KGUsIHQsIG4gPSB2b2lkIDApIHtcbiAgbGV0IHIsIGksIGEsIGwgPSBudWxsLCB1ID0gMDtcbiAgbiB8fCAobiA9IHt9KTtcbiAgY29uc3QgZCA9IGZ1bmN0aW9uKCkge1xuICAgIHUgPSBuLmxlYWRpbmcgPT09ICExID8gMCA6IERhdGUubm93KCksIGwgPSBudWxsLCBhID0gZS5hcHBseShyLCBpKSwgbCA9PT0gbnVsbCAmJiAociA9IGkgPSBudWxsKTtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGMgPSBEYXRlLm5vdygpO1xuICAgICF1ICYmIG4ubGVhZGluZyA9PT0gITEgJiYgKHUgPSBjKTtcbiAgICBjb25zdCBmID0gdCAtIChjIC0gdSk7XG4gICAgcmV0dXJuIHIgPSB0aGlzLCBpID0gYXJndW1lbnRzLCBmIDw9IDAgfHwgZiA+IHQgPyAobCAmJiAoY2xlYXJUaW1lb3V0KGwpLCBsID0gbnVsbCksIHUgPSBjLCBhID0gZS5hcHBseShyLCBpKSwgbCA9PT0gbnVsbCAmJiAociA9IGkgPSBudWxsKSkgOiAhbCAmJiBuLnRyYWlsaW5nICE9PSAhMSAmJiAobCA9IHNldFRpbWVvdXQoZCwgZikpLCBhO1xuICB9O1xufVxuY29uc3QgbXQgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBQcm9taXNlUXVldWU6IGd0LFxuICBiZWF1dGlmeVNob3J0Y3V0OiB4ZSxcbiAgY2FjaGVhYmxlOiBWZSxcbiAgY2FwaXRhbGl6ZTogZXQsXG4gIGNvcHlUZXh0VG9DbGlwYm9hcmQ6IHR0LFxuICBkZWJvdW5jZTogbnQsXG4gIGRlZXBNZXJnZTogTyxcbiAgZGVwcmVjYXRpb25Bc3NlcnQ6IGN0LFxuICBnZXRVc2VyT1M6IHVlLFxuICBnZXRWYWxpZFVybDogc3QsXG4gIGlzQm9vbGVhbjogcnQsXG4gIGlzQ2xhc3M6IGl0LFxuICBpc0VtcHR5OiBaZSxcbiAgaXNGdW5jdGlvbjogb2UsXG4gIGlzSW9zRGV2aWNlOiBKZSxcbiAgaXNOdW1iZXI6IGF0LFxuICBpc09iamVjdDogdixcbiAgaXNQcmludGFibGVLZXk6IGR0LFxuICBpc1Byb21pc2U6IGx0LFxuICBpc1N0cmluZzogdXQsXG4gIGlzVW5kZWZpbmVkOiBvdCxcbiAga2V5Q29kZXM6IGZ0LFxuICBtb3VzZUJ1dHRvbnM6IHB0LFxuICBub3RFbXB0eTogQSxcbiAgdGhyb3R0bGU6IHZ0LFxuICB0eXBlT2Y6IG9cbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksICQgPSAvKiBAX19QVVJFX18gKi8gRmUobXQpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEksIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbkkuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMgPSB5dDtcbnZhciBidCA9ICQsIF90ID0gQztcbmZ1bmN0aW9uIHl0KGUpIHtcbiAgdmFyIHQ7XG4gICgwLCBidC5pc1N0cmluZykoZSkgPyAodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHQuaW5uZXJIVE1MID0gZSkgOiB0ID0gZTtcbiAgdmFyIG4gPSBmdW5jdGlvbihyKSB7XG4gICAgcmV0dXJuICEoMCwgX3QuYmxvY2tFbGVtZW50cykoKS5pbmNsdWRlcyhyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgJiYgQXJyYXkuZnJvbShyLmNoaWxkcmVuKS5ldmVyeShuKTtcbiAgfTtcbiAgcmV0dXJuIEFycmF5LmZyb20odC5jaGlsZHJlbikuZXZlcnkobik7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzID0gdm9pZCAwO1xuICB2YXIgdCA9IEk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHM7XG4gIH0gfSk7XG59KShfKTtcbnZhciBjZSA9IHt9LCBCID0ge30sIHkgPSB7fSwgRCA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEQsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbkQubWFrZSA9IGh0O1xuZnVuY3Rpb24gaHQoZSwgdCwgbikge1xuICB2YXIgcjtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gbnVsbCksIG4gPT09IHZvaWQgMCAmJiAobiA9IHt9KTtcbiAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO1xuICBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgIHZhciBhID0gdC5maWx0ZXIoZnVuY3Rpb24odSkge1xuICAgICAgcmV0dXJuIHUgIT09IHZvaWQgMDtcbiAgICB9KTtcbiAgICAociA9IGkuY2xhc3NMaXN0KS5hZGQuYXBwbHkociwgYSk7XG4gIH0gZWxzZVxuICAgIHQgIT09IG51bGwgJiYgaS5jbGFzc0xpc3QuYWRkKHQpO1xuICBmb3IgKHZhciBsIGluIG4pXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIGwpICYmIChpW2xdID0gbltsXSk7XG4gIHJldHVybiBpO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5tYWtlID0gdm9pZCAwO1xuICB2YXIgdCA9IEQ7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIm1ha2VcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5tYWtlO1xuICB9IH0pO1xufSkoeSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuQi5mcmFnbWVudFRvU3RyaW5nID0gT3Q7XG52YXIgRXQgPSB5O1xuZnVuY3Rpb24gT3QoZSkge1xuICB2YXIgdCA9ICgwLCBFdC5tYWtlKShcImRpdlwiKTtcbiAgcmV0dXJuIHQuYXBwZW5kQ2hpbGQoZSksIHQuaW5uZXJIVE1MO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5mcmFnbWVudFRvU3RyaW5nID0gdm9pZCAwO1xuICB2YXIgdCA9IEI7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImZyYWdtZW50VG9TdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5mcmFnbWVudFRvU3RyaW5nO1xuICB9IH0pO1xufSkoY2UpO1xudmFyIHNlID0ge30sIEggPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShILCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5ILmdldENvbnRlbnRMZW5ndGggPSBqdDtcbnZhciBQdCA9IHM7XG5mdW5jdGlvbiBqdChlKSB7XG4gIHZhciB0LCBuO1xuICByZXR1cm4gKDAsIFB0LmlzTmF0aXZlSW5wdXQpKGUpID8gZS52YWx1ZS5sZW5ndGggOiBlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSA/IGUubGVuZ3RoIDogKG4gPSAodCA9IGUudGV4dENvbnRlbnQpID09PSBudWxsIHx8IHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHQubGVuZ3RoKSAhPT0gbnVsbCAmJiBuICE9PSB2b2lkIDAgPyBuIDogMDtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuZ2V0Q29udGVudExlbmd0aCA9IHZvaWQgMDtcbiAgdmFyIHQgPSBIO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJnZXRDb250ZW50TGVuZ3RoXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuZ2V0Q29udGVudExlbmd0aDtcbiAgfSB9KTtcbn0pKHNlKTtcbnZhciBSID0ge30sIEYgPSB7fSwgcmUgPSBiICYmIGIuX19zcHJlYWRBcnJheSB8fCBmdW5jdGlvbihlLCB0LCBuKSB7XG4gIGlmIChuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpXG4gICAgZm9yICh2YXIgciA9IDAsIGkgPSB0Lmxlbmd0aCwgYTsgciA8IGk7IHIrKylcbiAgICAgIChhIHx8ICEociBpbiB0KSkgJiYgKGEgfHwgKGEgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LCAwLCByKSksIGFbcl0gPSB0W3JdKTtcbiAgcmV0dXJuIGUuY29uY2F0KGEgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShGLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5GLmdldERlZXBlc3RCbG9ja0VsZW1lbnRzID0gZGU7XG52YXIgVHQgPSBfO1xuZnVuY3Rpb24gZGUoZSkge1xuICByZXR1cm4gKDAsIFR0LmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzKShlKSA/IFtlXSA6IEFycmF5LmZyb20oZS5jaGlsZHJlbikucmVkdWNlKGZ1bmN0aW9uKHQsIG4pIHtcbiAgICByZXR1cm4gcmUocmUoW10sIHQsICEwKSwgZGUobiksICEwKTtcbiAgfSwgW10pO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5nZXREZWVwZXN0QmxvY2tFbGVtZW50cyA9IHZvaWQgMDtcbiAgdmFyIHQgPSBGO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJnZXREZWVwZXN0QmxvY2tFbGVtZW50c1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmdldERlZXBlc3RCbG9ja0VsZW1lbnRzO1xuICB9IH0pO1xufSkoUik7XG52YXIgZmUgPSB7fSwgVyA9IHt9LCBoID0ge30sIFUgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShVLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5VLmlzTGluZUJyZWFrVGFnID0gU3Q7XG5mdW5jdGlvbiBTdChlKSB7XG4gIHJldHVybiBbXG4gICAgXCJCUlwiLFxuICAgIFwiV0JSXCJcbiAgXS5pbmNsdWRlcyhlLnRhZ05hbWUpO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc0xpbmVCcmVha1RhZyA9IHZvaWQgMDtcbiAgdmFyIHQgPSBVO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0xpbmVCcmVha1RhZ1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzTGluZUJyZWFrVGFnO1xuICB9IH0pO1xufSkoaCk7XG52YXIgRSA9IHt9LCBxID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkocSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xucS5pc1NpbmdsZVRhZyA9IEN0O1xuZnVuY3Rpb24gQ3QoZSkge1xuICByZXR1cm4gW1xuICAgIFwiQVJFQVwiLFxuICAgIFwiQkFTRVwiLFxuICAgIFwiQlJcIixcbiAgICBcIkNPTFwiLFxuICAgIFwiQ09NTUFORFwiLFxuICAgIFwiRU1CRURcIixcbiAgICBcIkhSXCIsXG4gICAgXCJJTUdcIixcbiAgICBcIklOUFVUXCIsXG4gICAgXCJLRVlHRU5cIixcbiAgICBcIkxJTktcIixcbiAgICBcIk1FVEFcIixcbiAgICBcIlBBUkFNXCIsXG4gICAgXCJTT1VSQ0VcIixcbiAgICBcIlRSQUNLXCIsXG4gICAgXCJXQlJcIlxuICBdLmluY2x1ZGVzKGUudGFnTmFtZSk7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmlzU2luZ2xlVGFnID0gdm9pZCAwO1xuICB2YXIgdCA9IHE7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzU2luZ2xlVGFnXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuaXNTaW5nbGVUYWc7XG4gIH0gfSk7XG59KShFKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5XLmdldERlZXBlc3ROb2RlID0gcGU7XG52YXIgTHQgPSBzLCBNdCA9IGgsIGt0ID0gRTtcbmZ1bmN0aW9uIHBlKGUsIHQpIHtcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gITEpO1xuICB2YXIgbiA9IHQgPyBcImxhc3RDaGlsZFwiIDogXCJmaXJzdENoaWxkXCIsIHIgPSB0ID8gXCJwcmV2aW91c1NpYmxpbmdcIiA6IFwibmV4dFNpYmxpbmdcIjtcbiAgaWYgKGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGVbbl0pIHtcbiAgICB2YXIgaSA9IGVbbl07XG4gICAgaWYgKCgwLCBrdC5pc1NpbmdsZVRhZykoaSkgJiYgISgwLCBMdC5pc05hdGl2ZUlucHV0KShpKSAmJiAhKDAsIE10LmlzTGluZUJyZWFrVGFnKShpKSlcbiAgICAgIGlmIChpW3JdKVxuICAgICAgICBpID0gaVtyXTtcbiAgICAgIGVsc2UgaWYgKGkucGFyZW50Tm9kZSAhPT0gbnVsbCAmJiBpLnBhcmVudE5vZGVbcl0pXG4gICAgICAgIGkgPSBpLnBhcmVudE5vZGVbcl07XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBpLnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIHBlKGksIHQpO1xuICB9XG4gIHJldHVybiBlO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5nZXREZWVwZXN0Tm9kZSA9IHZvaWQgMDtcbiAgdmFyIHQgPSBXO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJnZXREZWVwZXN0Tm9kZVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmdldERlZXBlc3ROb2RlO1xuICB9IH0pO1xufSkoZmUpO1xudmFyIGdlID0ge30sIHogPSB7fSwgcCA9IGIgJiYgYi5fX3NwcmVhZEFycmF5IHx8IGZ1bmN0aW9uKGUsIHQsIG4pIHtcbiAgaWYgKG4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMilcbiAgICBmb3IgKHZhciByID0gMCwgaSA9IHQubGVuZ3RoLCBhOyByIDwgaTsgcisrKVxuICAgICAgKGEgfHwgIShyIGluIHQpKSAmJiAoYSB8fCAoYSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQsIDAsIHIpKSwgYVtyXSA9IHRbcl0pO1xuICByZXR1cm4gZS5jb25jYXQoYSB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHosIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbnouZmluZEFsbElucHV0cyA9ICR0O1xudmFyIHd0ID0gXywgTnQgPSBSLCBJdCA9IFAsIEF0ID0gcztcbmZ1bmN0aW9uICR0KGUpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oZS5xdWVyeVNlbGVjdG9yQWxsKCgwLCBJdC5hbGxJbnB1dHNTZWxlY3RvcikoKSkpLnJlZHVjZShmdW5jdGlvbih0LCBuKSB7XG4gICAgcmV0dXJuICgwLCBBdC5pc05hdGl2ZUlucHV0KShuKSB8fCAoMCwgd3QuY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHMpKG4pID8gcChwKFtdLCB0LCAhMCksIFtuXSwgITEpIDogcChwKFtdLCB0LCAhMCksICgwLCBOdC5nZXREZWVwZXN0QmxvY2tFbGVtZW50cykobiksICEwKTtcbiAgfSwgW10pO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5maW5kQWxsSW5wdXRzID0gdm9pZCAwO1xuICB2YXIgdCA9IHo7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImZpbmRBbGxJbnB1dHNcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5maW5kQWxsSW5wdXRzO1xuICB9IH0pO1xufSkoZ2UpO1xudmFyIHZlID0ge30sIEcgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShHLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5HLmlzQ29sbGFwc2VkV2hpdGVzcGFjZXMgPSBCdDtcbmZ1bmN0aW9uIEJ0KGUpIHtcbiAgcmV0dXJuICEvW15cXHRcXG5cXHIgXS8udGVzdChlKTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUuaXNDb2xsYXBzZWRXaGl0ZXNwYWNlcyA9IHZvaWQgMDtcbiAgdmFyIHQgPSBHO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0NvbGxhcHNlZFdoaXRlc3BhY2VzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuaXNDb2xsYXBzZWRXaGl0ZXNwYWNlcztcbiAgfSB9KTtcbn0pKHZlKTtcbnZhciBLID0ge30sIFggPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShYLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5YLmlzRWxlbWVudCA9IEh0O1xudmFyIER0ID0gJDtcbmZ1bmN0aW9uIEh0KGUpIHtcbiAgcmV0dXJuICgwLCBEdC5pc051bWJlcikoZSkgPyAhMSA6ICEhZSAmJiAhIWUubm9kZVR5cGUgJiYgZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREU7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmlzRWxlbWVudCA9IHZvaWQgMDtcbiAgdmFyIHQgPSBYO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0VsZW1lbnRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5pc0VsZW1lbnQ7XG4gIH0gfSk7XG59KShLKTtcbnZhciBtZSA9IHt9LCBZID0ge30sIFEgPSB7fSwgViA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFYsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcblYuaXNMZWFmID0gUnQ7XG5mdW5jdGlvbiBSdChlKSB7XG4gIHJldHVybiBlID09PSBudWxsID8gITEgOiBlLmNoaWxkTm9kZXMubGVuZ3RoID09PSAwO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc0xlYWYgPSB2b2lkIDA7XG4gIHZhciB0ID0gVjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNMZWFmXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHQuaXNMZWFmO1xuICB9IH0pO1xufSkoUSk7XG52YXIgWiA9IHt9LCBKID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuSi5pc05vZGVFbXB0eSA9IHp0O1xudmFyIEZ0ID0gaCwgV3QgPSBLLCBVdCA9IHMsIHF0ID0gRTtcbmZ1bmN0aW9uIHp0KGUsIHQpIHtcbiAgdmFyIG4gPSBcIlwiO1xuICByZXR1cm4gKDAsIHF0LmlzU2luZ2xlVGFnKShlKSAmJiAhKDAsIEZ0LmlzTGluZUJyZWFrVGFnKShlKSA/ICExIDogKCgwLCBXdC5pc0VsZW1lbnQpKGUpICYmICgwLCBVdC5pc05hdGl2ZUlucHV0KShlKSA/IG4gPSBlLnZhbHVlIDogZS50ZXh0Q29udGVudCAhPT0gbnVsbCAmJiAobiA9IGUudGV4dENvbnRlbnQucmVwbGFjZShcIlx1MjAwQlwiLCBcIlwiKSksIHQgIT09IHZvaWQgMCAmJiAobiA9IG4ucmVwbGFjZShuZXcgUmVnRXhwKHQsIFwiZ1wiKSwgXCJcIikpLCBuLnRyaW0oKS5sZW5ndGggPT09IDApO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc05vZGVFbXB0eSA9IHZvaWQgMDtcbiAgdmFyIHQgPSBKO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc05vZGVFbXB0eVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzTm9kZUVtcHR5O1xuICB9IH0pO1xufSkoWik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoWSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuWS5pc0VtcHR5ID0gWHQ7XG52YXIgR3QgPSBRLCBLdCA9IFo7XG5mdW5jdGlvbiBYdChlLCB0KSB7XG4gIGUubm9ybWFsaXplKCk7XG4gIGZvciAodmFyIG4gPSBbZV07IG4ubGVuZ3RoID4gMDsgKSB7XG4gICAgdmFyIHIgPSBuLnNoaWZ0KCk7XG4gICAgaWYgKHIpIHtcbiAgICAgIGlmIChlID0gciwgKDAsIEd0LmlzTGVhZikoZSkgJiYgISgwLCBLdC5pc05vZGVFbXB0eSkoZSwgdCkpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIG4ucHVzaC5hcHBseShuLCBBcnJheS5mcm9tKGUuY2hpbGROb2RlcykpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLmlzRW1wdHkgPSB2b2lkIDA7XG4gIHZhciB0ID0gWTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNFbXB0eVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzRW1wdHk7XG4gIH0gfSk7XG59KShtZSk7XG52YXIgYmUgPSB7fSwgeCA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHgsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbnguaXNGcmFnbWVudCA9IFF0O1xudmFyIFl0ID0gJDtcbmZ1bmN0aW9uIFF0KGUpIHtcbiAgcmV0dXJuICgwLCBZdC5pc051bWJlcikoZSkgPyAhMSA6ICEhZSAmJiAhIWUubm9kZVR5cGUgJiYgZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc0ZyYWdtZW50ID0gdm9pZCAwO1xuICB2YXIgdCA9IHg7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzRnJhZ21lbnRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdC5pc0ZyYWdtZW50O1xuICB9IH0pO1xufSkoYmUpO1xudmFyIF9lID0ge30sIGVlID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZWUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbmVlLmlzSFRNTFN0cmluZyA9IFp0O1xudmFyIFZ0ID0geTtcbmZ1bmN0aW9uIFp0KGUpIHtcbiAgdmFyIHQgPSAoMCwgVnQubWFrZSkoXCJkaXZcIik7XG4gIHJldHVybiB0LmlubmVySFRNTCA9IGUsIHQuY2hpbGRFbGVtZW50Q291bnQgPiAwO1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5pc0hUTUxTdHJpbmcgPSB2b2lkIDA7XG4gIHZhciB0ID0gZWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzSFRNTFN0cmluZ1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmlzSFRNTFN0cmluZztcbiAgfSB9KTtcbn0pKF9lKTtcbnZhciB5ZSA9IHt9LCB0ZSA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHRlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG50ZS5vZmZzZXQgPSBKdDtcbmZ1bmN0aW9uIEp0KGUpIHtcbiAgdmFyIHQgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBuID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LCByID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsIGkgPSB0LnRvcCArIHIsIGEgPSB0LmxlZnQgKyBuO1xuICByZXR1cm4ge1xuICAgIHRvcDogaSxcbiAgICBsZWZ0OiBhLFxuICAgIGJvdHRvbTogaSArIHQuaGVpZ2h0LFxuICAgIHJpZ2h0OiBhICsgdC53aWR0aFxuICB9O1xufVxuKGZ1bmN0aW9uKGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgZS5vZmZzZXQgPSB2b2lkIDA7XG4gIHZhciB0ID0gdGU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIm9mZnNldFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0Lm9mZnNldDtcbiAgfSB9KTtcbn0pKHllKTtcbnZhciBoZSA9IHt9LCBuZSA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KG5lLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5uZS5wcmVwZW5kID0geHQ7XG5mdW5jdGlvbiB4dChlLCB0KSB7XG4gIEFycmF5LmlzQXJyYXkodCkgPyAodCA9IHQucmV2ZXJzZSgpLCB0LmZvckVhY2goZnVuY3Rpb24obikge1xuICAgIHJldHVybiBlLnByZXBlbmQobik7XG4gIH0pKSA6IGUucHJlcGVuZCh0KTtcbn1cbihmdW5jdGlvbihlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIGUucHJlcGVuZCA9IHZvaWQgMDtcbiAgdmFyIHQgPSBuZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJlcGVuZFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LnByZXBlbmQ7XG4gIH0gfSk7XG59KShoZSk7XG4oZnVuY3Rpb24oZSkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBlLnByZXBlbmQgPSBlLm9mZnNldCA9IGUubWFrZSA9IGUuaXNMaW5lQnJlYWtUYWcgPSBlLmlzU2luZ2xlVGFnID0gZS5pc05vZGVFbXB0eSA9IGUuaXNMZWFmID0gZS5pc0hUTUxTdHJpbmcgPSBlLmlzRnJhZ21lbnQgPSBlLmlzRW1wdHkgPSBlLmlzRWxlbWVudCA9IGUuaXNDb250ZW50RWRpdGFibGUgPSBlLmlzQ29sbGFwc2VkV2hpdGVzcGFjZXMgPSBlLmZpbmRBbGxJbnB1dHMgPSBlLmlzTmF0aXZlSW5wdXQgPSBlLmFsbElucHV0c1NlbGVjdG9yID0gZS5nZXREZWVwZXN0Tm9kZSA9IGUuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHMgPSBlLmdldENvbnRlbnRMZW5ndGggPSBlLmZyYWdtZW50VG9TdHJpbmcgPSBlLmNvbnRhaW5zT25seUlubGluZUVsZW1lbnRzID0gZS5jYW5TZXRDYXJldCA9IGUuY2FsY3VsYXRlQmFzZWxpbmUgPSBlLmJsb2NrRWxlbWVudHMgPSBlLmFwcGVuZCA9IHZvaWQgMDtcbiAgdmFyIHQgPSBQO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJhbGxJbnB1dHNTZWxlY3RvclwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0LmFsbElucHV0c1NlbGVjdG9yO1xuICB9IH0pO1xuICB2YXIgbiA9IHM7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzTmF0aXZlSW5wdXRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbi5pc05hdGl2ZUlucHV0O1xuICB9IH0pO1xuICB2YXIgciA9IGllO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJhcHBlbmRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gci5hcHBlbmQ7XG4gIH0gfSk7XG4gIHZhciBpID0gQztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiYmxvY2tFbGVtZW50c1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpLmJsb2NrRWxlbWVudHM7XG4gIH0gfSk7XG4gIHZhciBhID0gYWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImNhbGN1bGF0ZUJhc2VsaW5lXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGEuY2FsY3VsYXRlQmFzZWxpbmU7XG4gIH0gfSk7XG4gIHZhciBsID0gbGU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImNhblNldENhcmV0XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGwuY2FuU2V0Q2FyZXQ7XG4gIH0gfSk7XG4gIHZhciB1ID0gXztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiY29udGFpbnNPbmx5SW5saW5lRWxlbWVudHNcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdS5jb250YWluc09ubHlJbmxpbmVFbGVtZW50cztcbiAgfSB9KTtcbiAgdmFyIGQgPSBjZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiZnJhZ21lbnRUb1N0cmluZ1wiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkLmZyYWdtZW50VG9TdHJpbmc7XG4gIH0gfSk7XG4gIHZhciBjID0gc2U7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImdldENvbnRlbnRMZW5ndGhcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYy5nZXRDb250ZW50TGVuZ3RoO1xuICB9IH0pO1xuICB2YXIgZiA9IFI7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImdldERlZXBlc3RCbG9ja0VsZW1lbnRzXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGYuZ2V0RGVlcGVzdEJsb2NrRWxlbWVudHM7XG4gIH0gfSk7XG4gIHZhciBPZSA9IGZlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJnZXREZWVwZXN0Tm9kZVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBPZS5nZXREZWVwZXN0Tm9kZTtcbiAgfSB9KTtcbiAgdmFyIFBlID0gZ2U7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImZpbmRBbGxJbnB1dHNcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gUGUuZmluZEFsbElucHV0cztcbiAgfSB9KTtcbiAgdmFyIGplID0gdmU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzQ29sbGFwc2VkV2hpdGVzcGFjZXNcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gamUuaXNDb2xsYXBzZWRXaGl0ZXNwYWNlcztcbiAgfSB9KTtcbiAgdmFyIFRlID0gdztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNDb250ZW50RWRpdGFibGVcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVGUuaXNDb250ZW50RWRpdGFibGU7XG4gIH0gfSk7XG4gIHZhciBTZSA9IEs7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzRWxlbWVudFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBTZS5pc0VsZW1lbnQ7XG4gIH0gfSk7XG4gIHZhciBDZSA9IG1lO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0VtcHR5XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIENlLmlzRW1wdHk7XG4gIH0gfSk7XG4gIHZhciBMZSA9IGJlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0ZyYWdtZW50XCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIExlLmlzRnJhZ21lbnQ7XG4gIH0gfSk7XG4gIHZhciBNZSA9IF9lO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0hUTUxTdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTWUuaXNIVE1MU3RyaW5nO1xuICB9IH0pO1xuICB2YXIga2UgPSBRO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc0xlYWZcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ga2UuaXNMZWFmO1xuICB9IH0pO1xuICB2YXIgd2UgPSBaO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJpc05vZGVFbXB0eVwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB3ZS5pc05vZGVFbXB0eTtcbiAgfSB9KTtcbiAgdmFyIE5lID0gaDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwiaXNMaW5lQnJlYWtUYWdcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gTmUuaXNMaW5lQnJlYWtUYWc7XG4gIH0gfSk7XG4gIHZhciBJZSA9IEU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlzU2luZ2xlVGFnXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEllLmlzU2luZ2xlVGFnO1xuICB9IH0pO1xuICB2YXIgQWUgPSB5O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJtYWtlXCIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEFlLm1ha2U7XG4gIH0gfSk7XG4gIHZhciAkZSA9IHllO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJvZmZzZXRcIiwgeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGUub2Zmc2V0O1xuICB9IH0pO1xuICB2YXIgQmUgPSBoZTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFwicHJlcGVuZFwiLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBCZS5wcmVwZW5kO1xuICB9IH0pO1xufSkoZyk7XG52YXIgRWUgPSAvKiBAX19QVVJFX18gKi8gKChlKSA9PiAoZS5MZWZ0ID0gXCJsZWZ0XCIsIGUuQ2VudGVyID0gXCJjZW50ZXJcIiwgZSkpKEVlIHx8IHt9KTtcbmNsYXNzIG0ge1xuICAvKipcbiAgICogUmVuZGVyIHBsdWdpbmBzIG1haW4gRWxlbWVudCBhbmQgZmlsbCBpdCB3aXRoIHNhdmVkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyAtIGNvbnN0cnVjdG9yIHBhcmFtc1xuICAgKiBAcGFyYW0ge1F1b3RlRGF0YX0gcGFyYW1zLmRhdGEgLSBwcmV2aW91c2x5IHNhdmVkIGRhdGFcbiAgICogQHBhcmFtIHtRdW90ZUNvbmZpZ30gcGFyYW1zLmNvbmZpZyAtIHVzZXIgY29uZmlnIGZvciBUb29sXG4gICAqIEBwYXJhbSB7QVBJfSBwYXJhbXMuYXBpIC0gZWRpdG9yLmpzIGFwaVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHBhcmFtcy5yZWFkT25seSAtIHJlYWQgb25seSBtb2RlIGZsYWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogdCwgY29uZmlnOiBuLCBhcGk6IHIsIHJlYWRPbmx5OiBpLCBibG9jazogYSB9KSB7XG4gICAgY29uc3QgeyBERUZBVUxUX0FMSUdOTUVOVDogbCB9ID0gbTtcbiAgICB0aGlzLmFwaSA9IHIsIHRoaXMucmVhZE9ubHkgPSBpLCB0aGlzLl9xdW90ZVBsYWNlaG9sZGVyID0gbi5xdW90ZVBsYWNlaG9sZGVyIHx8IG0uREVGQVVMVF9RVU9URV9QTEFDRUhPTERFUiwgdGhpcy5fY2FwdGlvblBsYWNlaG9sZGVyID0gbi5jYXB0aW9uUGxhY2Vob2xkZXIgfHwgbS5ERUZBVUxUX0NBUFRJT05fUExBQ0VIT0xERVIsIHRoaXMuX2RhdGEgPSB7XG4gICAgICB0ZXh0OiB0LnRleHQgfHwgXCJcIixcbiAgICAgIGNhcHRpb246IHQuY2FwdGlvbiB8fCBcIlwiLFxuICAgICAgYWxpZ25tZW50OiBPYmplY3QudmFsdWVzKEVlKS5pbmNsdWRlcyh0LmFsaWdubWVudCkgJiYgdC5hbGlnbm1lbnQgfHwgbi5kZWZhdWx0QWxpZ25tZW50IHx8IGxcbiAgICB9LCB0aGlzLl9DU1MgPSB7XG4gICAgICBiYXNlQ2xhc3M6IHRoaXMuYXBpLnN0eWxlcy5ibG9jayxcbiAgICAgIHdyYXBwZXI6IFwiY2R4LXF1b3RlXCIsXG4gICAgICB0ZXh0OiBcImNkeC1xdW90ZV9fdGV4dFwiLFxuICAgICAgaW5wdXQ6IHRoaXMuYXBpLnN0eWxlcy5pbnB1dCxcbiAgICAgIGNhcHRpb246IFwiY2R4LXF1b3RlX19jYXB0aW9uXCJcbiAgICB9LCB0aGlzLl9ibG9jayA9IGE7XG4gIH1cbiAgLyoqXG4gICAqIE5vdGlmeSBjb3JlIHRoYXQgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBpc1JlYWRPbmx5U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogR2V0IFRvb2wgdG9vbGJveCBzZXR0aW5nc1xuICAgKiBpY29uIC0gVG9vbCBpY29uJ3MgU1ZHXG4gICAqIHRpdGxlIC0gdGl0bGUgdG8gc2hvdyBpbiB0b29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHt7aWNvbjogc3RyaW5nLCB0aXRsZTogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgdG9vbGJveCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogUmUsXG4gICAgICB0aXRsZTogXCJRdW90ZVwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRW1wdHkgUXVvdGUgaXMgbm90IGVtcHR5IEJsb2NrXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGNvbnRlbnRsZXNzKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgdG8gcHJlc3MgRW50ZXIgaW5zaWRlIHRoZSBRdW90ZVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBlbmFibGVMaW5lQnJlYWtzKCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogRGVmYXVsdCBwbGFjZWhvbGRlciBmb3IgcXVvdGUgdGV4dFxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfUVVPVEVfUExBQ0VIT0xERVIoKSB7XG4gICAgcmV0dXJuIFwiRW50ZXIgYSBxdW90ZVwiO1xuICB9XG4gIC8qKlxuICAgKiBEZWZhdWx0IHBsYWNlaG9sZGVyIGZvciBxdW90ZSBjYXB0aW9uXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgREVGQVVMVF9DQVBUSU9OX1BMQUNFSE9MREVSKCkge1xuICAgIHJldHVybiBcIkVudGVyIGEgY2FwdGlvblwiO1xuICB9XG4gIC8qKlxuICAgKiBEZWZhdWx0IHF1b3RlIGFsaWdubWVudFxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfQUxJR05NRU5UKCkge1xuICAgIHJldHVybiBcImxlZnRcIjtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgUXVvdGUgdG8gYmUgY29udmVydGVkIHRvL2Zyb20gb3RoZXIgYmxvY2tzXG4gICAqL1xuICBzdGF0aWMgZ2V0IGNvbnZlcnNpb25Db25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVG8gY3JlYXRlIFF1b3RlIGRhdGEgZnJvbSBzdHJpbmcsIHNpbXBsZSBmaWxsICd0ZXh0JyBwcm9wZXJ0eVxuICAgICAgICovXG4gICAgICBpbXBvcnQ6IFwidGV4dFwiLFxuICAgICAgLyoqXG4gICAgICAgKiBUbyBjcmVhdGUgc3RyaW5nIGZyb20gUXVvdGUgZGF0YSwgY29uY2F0ZW5hdGUgdGV4dCBhbmQgY2FwdGlvblxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7UXVvdGVEYXRhfSBxdW90ZURhdGFcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgIGV4cG9ydDogZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5jYXB0aW9uID8gYCR7dC50ZXh0fSBcdTIwMTQgJHt0LmNhcHRpb259YCA6IHQudGV4dDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBUb29sYHMgc3R5bGVzXG4gICAqXG4gICAqIEByZXR1cm5zIHtRdW90ZUNTU31cbiAgICovXG4gIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2VDbGFzczogdGhpcy5hcGkuc3R5bGVzLmJsb2NrLFxuICAgICAgd3JhcHBlcjogXCJjZHgtcXVvdGVcIixcbiAgICAgIHRleHQ6IFwiY2R4LXF1b3RlX190ZXh0XCIsXG4gICAgICBpbnB1dDogdGhpcy5hcGkuc3R5bGVzLmlucHV0LFxuICAgICAgY2FwdGlvbjogXCJjZHgtcXVvdGVfX2NhcHRpb25cIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFRvb2xgcyBzZXR0aW5ncyBwcm9wZXJ0aWVzXG4gICAqXG4gICAqIEByZXR1cm5zIHsqW119XG4gICAqL1xuICBnZXQgc2V0dGluZ3MoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJsZWZ0XCIsXG4gICAgICAgIGljb246IEhlXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcImNlbnRlclwiLFxuICAgICAgICBpY29uOiBEZVxuICAgICAgfVxuICAgIF07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBRdW90ZSBUb29sIGNvbnRhaW5lciB3aXRoIGlucHV0c1xuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0ID0gZy5tYWtlKFwiYmxvY2txdW90ZVwiLCBbXG4gICAgICB0aGlzLl9DU1MuYmFzZUNsYXNzLFxuICAgICAgdGhpcy5fQ1NTLndyYXBwZXJcbiAgICBdKSwgbiA9IGcubWFrZShcImRpdlwiLCBbdGhpcy5fQ1NTLmlucHV0LCB0aGlzLl9DU1MudGV4dF0sIHtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZTogIXRoaXMucmVhZE9ubHksXG4gICAgICBpbm5lckhUTUw6IHRoaXMuX2RhdGEudGV4dFxuICAgIH0pLCByID0gZy5tYWtlKFwiZGl2XCIsIFt0aGlzLl9DU1MuaW5wdXQsIHRoaXMuX0NTUy5jYXB0aW9uXSwge1xuICAgICAgY29udGVudEVkaXRhYmxlOiAhdGhpcy5yZWFkT25seSxcbiAgICAgIGlubmVySFRNTDogdGhpcy5fZGF0YS5jYXB0aW9uXG4gICAgfSk7XG4gICAgcmV0dXJuIG4uZGF0YXNldC5wbGFjZWhvbGRlciA9IHRoaXMuX3F1b3RlUGxhY2Vob2xkZXIsIHIuZGF0YXNldC5wbGFjZWhvbGRlciA9IHRoaXMuX2NhcHRpb25QbGFjZWhvbGRlciwgdC5hcHBlbmRDaGlsZChuKSwgdC5hcHBlbmRDaGlsZChyKSwgdDtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBRdW90ZSBkYXRhIGZyb20gUXVvdGUgVG9vbCBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHF1b3RlRWxlbWVudCAtIGVsZW1lbnQgdG8gc2F2ZVxuICAgKiBAcmV0dXJucyB7UXVvdGVEYXRhfVxuICAgKi9cbiAgc2F2ZSh0KSB7XG4gICAgY29uc3QgbiA9IHQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5fQ1NTLnRleHR9YCksIHIgPSB0LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuX0NTUy5jYXB0aW9ufWApO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsIHtcbiAgICAgIHRleHQ6IChuID09IG51bGwgPyB2b2lkIDAgOiBuLmlubmVySFRNTCkgPz8gXCJcIixcbiAgICAgIGNhcHRpb246IChyID09IG51bGwgPyB2b2lkIDAgOiByLmlubmVySFRNTCkgPz8gXCJcIlxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZXIgcnVsZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IHtcbiAgICAgICAgYnI6ICEwXG4gICAgICB9LFxuICAgICAgY2FwdGlvbjoge1xuICAgICAgICBicjogITBcbiAgICAgIH0sXG4gICAgICBhbGlnbm1lbnQ6IHt9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIHdyYXBwZXIgZm9yIFRvb2xgcyBzZXR0aW5ncyBidXR0b25zOlxuICAgKiAxLiBMZWZ0IGFsaWdubWVudFxuICAgKiAyLiBDZW50ZXIgYWxpZ25tZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtNZW51Q29uZmlnfVxuICAgKlxuICAgKi9cbiAgcmVuZGVyU2V0dGluZ3MoKSB7XG4gICAgY29uc3QgdCA9IChuKSA9PiBuICYmIG5bMF0udG9VcHBlckNhc2UoKSArIG4uc2xpY2UoMSk7XG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFwKChuKSA9PiAoe1xuICAgICAgaWNvbjogbi5pY29uLFxuICAgICAgbGFiZWw6IHRoaXMuYXBpLmkxOG4udChgQWxpZ24gJHt0KG4ubmFtZSl9YCksXG4gICAgICBvbkFjdGl2YXRlOiAoKSA9PiB0aGlzLl90b2dnbGVUdW5lKG4ubmFtZSksXG4gICAgICBpc0FjdGl2ZTogdGhpcy5fZGF0YS5hbGlnbm1lbnQgPT09IG4ubmFtZSxcbiAgICAgIGNsb3NlT25BY3RpdmF0ZTogITBcbiAgICB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZSBxdW90ZWBzIGFsaWdubWVudFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHVuZSAtIGFsaWdubWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3RvZ2dsZVR1bmUodCkge1xuICAgIHRoaXMuX2RhdGEuYWxpZ25tZW50ID0gdCwgdGhpcy5fYmxvY2suZGlzcGF0Y2hDaGFuZ2UoKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgbSBhcyBkZWZhdWx0XG59O1xuIiwgIihmdW5jdGlvbigpe3ZhciByO1widXNlIHN0cmljdFwiO3RyeXtpZih0eXBlb2YgZG9jdW1lbnQ8XCJ1XCIpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtvLm5vbmNlPShyPWRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihcIm1ldGFbcHJvcGVydHk9Y3NwLW5vbmNlXVwiKSk9PW51bGw/dm9pZCAwOnIuY29udGVudCxvLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcudGMtd3JhcHstLWNvbG9yLWJhY2tncm91bmQ6I2Y5ZjlmYjstLWNvbG9yLXRleHQtc2Vjb25kYXJ5OiM3YjdlODk7LS1jb2xvci1ib3JkZXI6I2U4ZThlYjstLWNlbGwtc2l6ZTozNHB4Oy0tdG9vbGJveC1pY29uLXNpemU6MThweDstLXRvb2xib3gtcGFkZGluZzo2cHg7LS10b29sYm94LWFpbWluZy1maWVsZC1zaXplOmNhbGModmFyKC0tdG9vbGJveC1pY29uLXNpemUpICsgdmFyKC0tdG9vbGJveC1wYWRkaW5nKSoyKTtib3JkZXItbGVmdDowO3Bvc2l0aW9uOnJlbGF0aXZlO2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7bWFyZ2luLXRvcDp2YXIoLS10b29sYm94LWljb24tc2l6ZSk7Ym94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6Y2FsYygxMDAlIC0gdmFyKC0tY2VsbC1zaXplKSkgdmFyKC0tY2VsbC1zaXplKX0udGMtd3JhcC0tcmVhZG9ubHl7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjEwMCUgdmFyKC0tY2VsbC1zaXplKX0udGMtd3JhcCBzdmd7dmVydGljYWwtYWxpZ246dG9wfUBtZWRpYSBwcmludHsudGMtd3JhcHtib3JkZXItbGVmdC1jb2xvcjp2YXIoLS1jb2xvci1ib3JkZXIpO2JvcmRlci1sZWZ0LXN0eWxlOnNvbGlkO2JvcmRlci1sZWZ0LXdpZHRoOjFweDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6MTAwJSB2YXIoLS1jZWxsLXNpemUpfX1AbWVkaWEgcHJpbnR7LnRjLXdyYXAgLnRjLXJvdzphZnRlcntkaXNwbGF5Om5vbmV9fS50Yy10YWJsZXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6Z3JpZDtmb250LXNpemU6MTRweDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpO2xpbmUtaGVpZ2h0OjEuNH0udGMtdGFibGU6YWZ0ZXJ7d2lkdGg6Y2FsYyh2YXIoLS1jZWxsLXNpemUpKTtoZWlnaHQ6MTAwJTtsZWZ0OmNhbGModmFyKC0tY2VsbC1zaXplKSotMSk7dG9wOjB9LnRjLXRhYmxlOmFmdGVyLC50Yy10YWJsZTpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7Y29udGVudDpcIlwifS50Yy10YWJsZTpiZWZvcmV7d2lkdGg6MTAwJTtoZWlnaHQ6dmFyKC0tdG9vbGJveC1haW1pbmctZmllbGQtc2l6ZSk7dG9wOmNhbGModmFyKC0tdG9vbGJveC1haW1pbmctZmllbGQtc2l6ZSkqLTEpO2xlZnQ6MH0udGMtdGFibGUtLWhlYWRpbmcgLnRjLXJvdzpmaXJzdC1jaGlsZHtmb250LXdlaWdodDo2MDA7Ym9yZGVyLWJvdHRvbToycHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKX0udGMtdGFibGUtLWhlYWRpbmcgLnRjLXJvdzpmaXJzdC1jaGlsZCBbY29udGVudGVkaXRhYmxlXTplbXB0eTpiZWZvcmV7Y29udGVudDphdHRyKGhlYWRpbmcpO2NvbG9yOnZhcigtLWNvbG9yLXRleHQtc2Vjb25kYXJ5KX0udGMtdGFibGUtLWhlYWRpbmcgLnRjLXJvdzpmaXJzdC1jaGlsZDphZnRlcntib3R0b206LTJweDtib3JkZXItYm90dG9tOjJweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpfS50Yy1hZGQtY29sdW1uLC50Yy1hZGQtcm93e2Rpc3BsYXk6ZmxleDtjb2xvcjp2YXIoLS1jb2xvci10ZXh0LXNlY29uZGFyeSl9QG1lZGlhIHByaW50ey50Yy1hZGR7ZGlzcGxheTpub25lfX0udGMtYWRkLWNvbHVtbntwYWRkaW5nOjRweCAwO2p1c3RpZnktY29udGVudDpjZW50ZXI7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKX0udGMtYWRkLWNvbHVtbi0tZGlzYWJsZWR7dmlzaWJpbGl0eTpoaWRkZW59QG1lZGlhIHByaW50ey50Yy1hZGQtY29sdW1ue2Rpc3BsYXk6bm9uZX19LnRjLWFkZC1yb3d7aGVpZ2h0OnZhcigtLWNlbGwtc2l6ZSk7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmctbGVmdDo0cHg7cG9zaXRpb246cmVsYXRpdmV9LnRjLWFkZC1yb3ctLWRpc2FibGVke2Rpc3BsYXk6bm9uZX0udGMtYWRkLXJvdzpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OmNhbGModmFyKC0tY2VsbC1zaXplKSotMSk7d2lkdGg6dmFyKC0tY2VsbC1zaXplKTtoZWlnaHQ6MTAwJX1AbWVkaWEgcHJpbnR7LnRjLWFkZC1yb3d7ZGlzcGxheTpub25lfX0udGMtYWRkLWNvbHVtbiwudGMtYWRkLXJvd3t0cmFuc2l0aW9uOjBzO2N1cnNvcjpwb2ludGVyO3dpbGwtY2hhbmdlOmJhY2tncm91bmQtY29sb3J9LnRjLWFkZC1jb2x1bW46aG92ZXIsLnRjLWFkZC1yb3c6aG92ZXJ7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4xcyBlYXNlO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItYmFja2dyb3VuZCl9LnRjLWFkZC1yb3d7bWFyZ2luLXRvcDoxcHh9LnRjLWFkZC1yb3c6aG92ZXI6YmVmb3Jle3RyYW5zaXRpb246LjFzO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItYmFja2dyb3VuZCl9LnRjLXJvd3tkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdChhdXRvLWZpdCxtaW5tYXgoMTBweCwxZnIpKTtwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpfS50Yy1yb3c6YWZ0ZXJ7Y29udGVudDpcIlwiO3BvaW50ZXItZXZlbnRzOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6dmFyKC0tY2VsbC1zaXplKTtoZWlnaHQ6MTAwJTtib3R0b206LTFweDtyaWdodDpjYWxjKHZhcigtLWNlbGwtc2l6ZSkqLTEpO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcil9LnRjLXJvdy0tc2VsZWN0ZWR7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKX0udGMtcm93LS1zZWxlY3RlZDphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQpfS50Yy1jZWxse2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKTtwYWRkaW5nOjZweCAxMnB4O292ZXJmbG93OmhpZGRlbjtvdXRsaW5lOm5vbmU7bGluZS1icmVhazpub3JtYWx9LnRjLWNlbGwtLXNlbGVjdGVke2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYmFja2dyb3VuZCl9LnRjLXdyYXAtLXJlYWRvbmx5IC50Yy1yb3c6YWZ0ZXJ7ZGlzcGxheTpub25lfS50Yy10b29sYm94ey0tdG9vbGJveC1wYWRkaW5nOjZweDstLXBvcG92ZXItbWFyZ2luOjMwcHg7LS10b2dnbGVyLWNsaWNrLXpvbmUtc2l6ZTozMHB4Oy0tdG9nZ2xlci1kb3RzLWNvbG9yOiM3YjdlODk7LS10b2dnbGVyLWRvdHMtY29sb3ItaG92ZXJlZDojMWQyMDJiO3Bvc2l0aW9uOmFic29sdXRlO2N1cnNvcjpwb2ludGVyO3otaW5kZXg6MTtvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IC4xczt3aWxsLWNoYW5nZTpsZWZ0LG9wYWNpdHl9LnRjLXRvb2xib3gtLWNvbHVtbnt0b3A6Y2FsYyh2YXIoLS10b2dnbGVyLWNsaWNrLXpvbmUtc2l6ZSkqLTEpO3RyYW5zZm9ybTp0cmFuc2xhdGUoY2FsYyh2YXIoLS10b2dnbGVyLWNsaWNrLXpvbmUtc2l6ZSkqLTEvMikpO3dpbGwtY2hhbmdlOmxlZnQsb3BhY2l0eX0udGMtdG9vbGJveC0tcm93e2xlZnQ6Y2FsYyh2YXIoLS1wb3BvdmVyLW1hcmdpbikqLTEpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKGNhbGModmFyKC0tdG9nZ2xlci1jbGljay16b25lLXNpemUpKi0xLzIpKTttYXJnaW4tdG9wOi0xcHg7d2lsbC1jaGFuZ2U6dG9wLG9wYWNpdHl9LnRjLXRvb2xib3gtLXNob3dlZHtvcGFjaXR5OjF9LnRjLXRvb2xib3ggLnRjLXBvcG92ZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDp2YXIoLS1wb3BvdmVyLW1hcmdpbil9LnRjLXRvb2xib3hfX3RvZ2dsZXJ7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOnZhcigtLXRvZ2dsZXItY2xpY2stem9uZS1zaXplKTtoZWlnaHQ6dmFyKC0tdG9nZ2xlci1jbGljay16b25lLXNpemUpO2NvbG9yOnZhcigtLXRvZ2dsZXItZG90cy1jb2xvcik7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuMTVzIGVhc2U7d2lsbC1jaGFuZ2U6b3BhY2l0eX0udGMtdG9vbGJveF9fdG9nZ2xlcjpob3Zlcntjb2xvcjp2YXIoLS10b2dnbGVyLWRvdHMtY29sb3ItaG92ZXJlZCl9LnRjLXRvb2xib3hfX3RvZ2dsZXIgc3Zne2ZpbGw6Y3VycmVudENvbG9yfS50Yy13cmFwOmhvdmVyIC50Yy10b29sYm94X190b2dnbGVye29wYWNpdHk6MX0udGMtc2V0dGluZ3MgLmNkeC1zZXR0aW5ncy1idXR0b257d2lkdGg6NTAlO21hcmdpbjowfS50Yy1wb3BvdmVyey0tY29sb3ItYm9yZGVyOiNlYWVhZWE7LS1jb2xvci1iYWNrZ3JvdW5kOiNmZmY7LS1jb2xvci1iYWNrZ3JvdW5kLWhvdmVyOnJnYmEoMjMyLDIzMiwyMzUsLjQ5KTstLWNvbG9yLWJhY2tncm91bmQtY29uZmlybTojZTI0YTRhOy0tY29sb3ItYmFja2dyb3VuZC1jb25maXJtLWhvdmVyOiNkNTQwNDA7LS1jb2xvci10ZXh0LWNvbmZpcm06I2ZmZjtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQpO2JvcmRlcjoxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKTtib3gtc2hhZG93OjAgM3B4IDE1cHggLTNweCAjMGQxNDIxMjE7Ym9yZGVyLXJhZGl1czo2cHg7cGFkZGluZzo2cHg7ZGlzcGxheTpub25lO3dpbGwtY2hhbmdlOm9wYWNpdHksdHJhbnNmb3JtfS50Yy1wb3BvdmVyLS1vcGVuZWR7ZGlzcGxheTpibG9jazthbmltYXRpb246bWVudVNob3dpbmcgLjFzIGN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpIGZvcndhcmRzfS50Yy1wb3BvdmVyX19pdGVte2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzoycHggMTRweCAycHggMnB4O2JvcmRlci1yYWRpdXM6NXB4O2N1cnNvcjpwb2ludGVyO3doaXRlLXNwYWNlOm5vd3JhcDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnRjLXBvcG92ZXJfX2l0ZW06aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWhvdmVyKX0udGMtcG9wb3Zlcl9faXRlbTpub3QoOmxhc3Qtb2YtdHlwZSl7bWFyZ2luLWJvdHRvbToycHh9LnRjLXBvcG92ZXJfX2l0ZW0taWNvbntkaXNwbGF5OmlubGluZS1mbGV4O3dpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtib3JkZXItcmFkaXVzOjVweDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcik7bWFyZ2luLXJpZ2h0OjhweH0udGMtcG9wb3Zlcl9faXRlbS1sYWJlbHtsaW5lLWhlaWdodDoyMnB4O2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMH0udGMtcG9wb3Zlcl9faXRlbS0tY29uZmlybXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtY29uZmlybSk7Y29sb3I6dmFyKC0tY29sb3ItdGV4dC1jb25maXJtKX0udGMtcG9wb3Zlcl9faXRlbS0tY29uZmlybTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLWJhY2tncm91bmQtY29uZmlybS1ob3Zlcil9LnRjLXBvcG92ZXJfX2l0ZW0tLWNvbmZpcm0gLnRjLXBvcG92ZXJfX2l0ZW0taWNvbntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWJhY2tncm91bmQtY29uZmlybSk7Ym9yZGVyLWNvbG9yOiMwMDAwMDAxYX0udGMtcG9wb3Zlcl9faXRlbS0tY29uZmlybSAudGMtcG9wb3Zlcl9faXRlbS1pY29uIHN2Z3t0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMnMgZWFzZS1pbjt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKSBzY2FsZSgxLjIpfS50Yy1wb3BvdmVyX19pdGVtLS1oaWRkZW57ZGlzcGxheTpub25lfUBrZXlmcmFtZXMgbWVudVNob3dpbmd7MCV7b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC04cHgpIHNjYWxlKC45KX03MCV7b3BhY2l0eToxO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDJweCl9dG97dHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9fScpKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG8pfX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsZSl9fSkoKTtcbmZ1bmN0aW9uIGMoZCwgdCwgZSA9IHt9KSB7XG4gIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpO1xuICBBcnJheS5pc0FycmF5KHQpID8gby5jbGFzc0xpc3QuYWRkKC4uLnQpIDogdCAmJiBvLmNsYXNzTGlzdC5hZGQodCk7XG4gIGZvciAoY29uc3QgaSBpbiBlKVxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBpKSAmJiAob1tpXSA9IGVbaV0pO1xuICByZXR1cm4gbztcbn1cbmZ1bmN0aW9uIGYoZCkge1xuICBjb25zdCB0ID0gZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIHtcbiAgICB5MTogTWF0aC5mbG9vcih0LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCksXG4gICAgeDE6IE1hdGguZmxvb3IodC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0KSxcbiAgICB4MjogTWF0aC5mbG9vcih0LnJpZ2h0ICsgd2luZG93LnBhZ2VYT2Zmc2V0KSxcbiAgICB5MjogTWF0aC5mbG9vcih0LmJvdHRvbSArIHdpbmRvdy5wYWdlWU9mZnNldClcbiAgfTtcbn1cbmZ1bmN0aW9uIGcoZCwgdCkge1xuICBjb25zdCBlID0gZihkKSwgbyA9IGYodCk7XG4gIHJldHVybiB7XG4gICAgZnJvbVRvcEJvcmRlcjogby55MSAtIGUueTEsXG4gICAgZnJvbUxlZnRCb3JkZXI6IG8ueDEgLSBlLngxLFxuICAgIGZyb21SaWdodEJvcmRlcjogZS54MiAtIG8ueDIsXG4gICAgZnJvbUJvdHRvbUJvcmRlcjogZS55MiAtIG8ueTJcbiAgfTtcbn1cbmZ1bmN0aW9uIGsoZCwgdCkge1xuICBjb25zdCBlID0gZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgeyB3aWR0aDogbywgaGVpZ2h0OiBpLCB4OiBuLCB5OiByIH0gPSBlLCB7IGNsaWVudFg6IGgsIGNsaWVudFk6IGwgfSA9IHQ7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IG8sXG4gICAgaGVpZ2h0OiBpLFxuICAgIHg6IGggLSBuLFxuICAgIHk6IGwgLSByXG4gIH07XG59XG5mdW5jdGlvbiBtKGQsIHQpIHtcbiAgcmV0dXJuIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZCwgdCk7XG59XG5mdW5jdGlvbiBDKGQsIHQgPSAhMCkge1xuICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwgbyA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgZS5zZWxlY3ROb2RlQ29udGVudHMoZCksIGUuY29sbGFwc2UodCksIG8ucmVtb3ZlQWxsUmFuZ2VzKCksIG8uYWRkUmFuZ2UoZSk7XG59XG5jbGFzcyBhIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gY29uc3RydWN0b3Igb3B0aW9uc1xuICAgKiBAcGFyYW0ge1BvcG92ZXJJdGVtW119IG9wdGlvbnMuaXRlbXMgLSBjb25zdHJ1Y3RvciBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zOiB0IH0pIHtcbiAgICB0aGlzLml0ZW1zID0gdCwgdGhpcy53cmFwcGVyID0gdm9pZCAwLCB0aGlzLml0ZW1FbHMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogU2V0IG9mIENTUyBjbGFzc25hbWVzIHVzZWQgaW4gcG9wb3ZlclxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgKi9cbiAgc3RhdGljIGdldCBDU1MoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBvcG92ZXI6IFwidGMtcG9wb3ZlclwiLFxuICAgICAgcG9wb3Zlck9wZW5lZDogXCJ0Yy1wb3BvdmVyLS1vcGVuZWRcIixcbiAgICAgIGl0ZW06IFwidGMtcG9wb3Zlcl9faXRlbVwiLFxuICAgICAgaXRlbUhpZGRlbjogXCJ0Yy1wb3BvdmVyX19pdGVtLS1oaWRkZW5cIixcbiAgICAgIGl0ZW1Db25maXJtU3RhdGU6IFwidGMtcG9wb3Zlcl9faXRlbS0tY29uZmlybVwiLFxuICAgICAgaXRlbUljb246IFwidGMtcG9wb3Zlcl9faXRlbS1pY29uXCIsXG4gICAgICBpdGVtTGFiZWw6IFwidGMtcG9wb3Zlcl9faXRlbS1sYWJlbFwiXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcG9wb3ZlciBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLndyYXBwZXIgPSBjKFwiZGl2XCIsIGEuQ1NTLnBvcG92ZXIpLCB0aGlzLml0ZW1zLmZvckVhY2goKHQsIGUpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBjKFwiZGl2XCIsIGEuQ1NTLml0ZW0pLCBpID0gYyhcImRpdlwiLCBhLkNTUy5pdGVtSWNvbiwge1xuICAgICAgICBpbm5lckhUTUw6IHQuaWNvblxuICAgICAgfSksIG4gPSBjKFwiZGl2XCIsIGEuQ1NTLml0ZW1MYWJlbCwge1xuICAgICAgICB0ZXh0Q29udGVudDogdC5sYWJlbFxuICAgICAgfSk7XG4gICAgICBvLmRhdGFzZXQuaW5kZXggPSBlLCBvLmFwcGVuZENoaWxkKGkpLCBvLmFwcGVuZENoaWxkKG4pLCB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQobyksIHRoaXMuaXRlbUVscy5wdXNoKG8pO1xuICAgIH0pLCB0aGlzLndyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICh0KSA9PiB7XG4gICAgICB0aGlzLnBvcG92ZXJDbGlja2VkKHQpO1xuICAgIH0pLCB0aGlzLndyYXBwZXI7XG4gIH1cbiAgLyoqXG4gICAqIFBvcG92ZXIgd3JhcHBlciBjbGljayBsaXN0ZW5lclxuICAgKiBVc2VkIHRvIGRlbGVnYXRlIGNsaWNrcyBpbiBpdGVtc1xuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHBvcG92ZXJDbGlja2VkKHQpIHtcbiAgICBjb25zdCBlID0gdC50YXJnZXQuY2xvc2VzdChgLiR7YS5DU1MuaXRlbX1gKTtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbyA9IGUuZGF0YXNldC5pbmRleCwgaSA9IHRoaXMuaXRlbXNbb107XG4gICAgaWYgKGkuY29uZmlybWF0aW9uUmVxdWlyZWQgJiYgIXRoaXMuaGFzQ29uZmlybWF0aW9uU3RhdGUoZSkpIHtcbiAgICAgIHRoaXMuc2V0Q29uZmlybWF0aW9uU3RhdGUoZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGkub25DbGljaygpO1xuICB9XG4gIC8qKlxuICAgKiBFbmFibGUgdGhlIGNvbmZpcm1hdGlvbiBzdGF0ZSBvbiBwYXNzZWQgaXRlbVxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHNldENvbmZpcm1hdGlvblN0YXRlKHQpIHtcbiAgICB0LmNsYXNzTGlzdC5hZGQoYS5DU1MuaXRlbUNvbmZpcm1TdGF0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc2FibGUgdGhlIGNvbmZpcm1hdGlvbiBzdGF0ZSBvbiBwYXNzZWQgaXRlbVxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGNsZWFyQ29uZmlybWF0aW9uU3RhdGUodCkge1xuICAgIHQuY2xhc3NMaXN0LnJlbW92ZShhLkNTUy5pdGVtQ29uZmlybVN0YXRlKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgcGFzc2VkIGl0ZW0gaGFzIHRoZSBjb25maXJtYXRpb24gc3RhdGVcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNDb25maXJtYXRpb25TdGF0ZSh0KSB7XG4gICAgcmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKGEuQ1NTLml0ZW1Db25maXJtU3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gb3BlbmluZyBzdGF0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBvcGVuZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoYS5DU1MucG9wb3Zlck9wZW5lZCk7XG4gIH1cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBwb3BvdmVyXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgb3BlbigpIHtcbiAgICB0aGlzLml0ZW1zLmZvckVhY2goKHQsIGUpID0+IHtcbiAgICAgIHR5cGVvZiB0LmhpZGVJZiA9PSBcImZ1bmN0aW9uXCIgJiYgdGhpcy5pdGVtRWxzW2VdLmNsYXNzTGlzdC50b2dnbGUoYS5DU1MuaXRlbUhpZGRlbiwgdC5oaWRlSWYoKSk7XG4gICAgfSksIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKGEuQ1NTLnBvcG92ZXJPcGVuZWQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHBvcG92ZXJcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLndyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShhLkNTUy5wb3BvdmVyT3BlbmVkKSwgdGhpcy5pdGVtRWxzLmZvckVhY2goKHQpID0+IHtcbiAgICAgIHRoaXMuY2xlYXJDb25maXJtYXRpb25TdGF0ZSh0KTtcbiAgICB9KTtcbiAgfVxufVxuY29uc3QgUiA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk03IDlMMTAgMTJNMTAgMTJMNyAxNU0xMCAxMkg0XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE3IDlMMTQgMTJNMTQgMTJMMTcgMTVNMTQgMTJIMjBcIi8+PC9zdmc+JywgYiA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNOCA4TDEyIDEyTTEyIDEyTDE2IDE2TTEyIDEyTDE2IDhNMTIgMTJMOCAxNlwiLz48L3N2Zz4nLCB4ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0Ljg4MzMgOS4xNjY2NkwxOC4yMTY3IDEyLjVNMTguMjE2NyAxMi41TDE0Ljg4MzMgMTUuODMzM00xOC4yMTY3IDEyLjVIMTAuMDVDOS4xNjU5NCAxMi41IDguMzE4MDkgMTIuMTQ4OCA3LjY5Mjk3IDExLjUyMzdDNy4wNjc4NSAxMC44OTg2IDYuNzE2NjYgMTAuMDUwNyA2LjcxNjY2IDkuMTY2NjZcIi8+PC9zdmc+JywgUyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNC45MTY3IDE0LjkxNjdMMTEuNTgzMyAxOC4yNU0xMS41ODMzIDE4LjI1TDguMjUgMTQuOTE2N00xMS41ODMzIDE4LjI1TDExLjU4MzMgMTAuMDgzM0MxMS41ODMzIDkuMTk5MjggMTEuOTM0NSA4LjM1MTQzIDEyLjU1OTYgNy43MjYzMUMxMy4xODQ4IDcuMTAxMTkgMTQuMDMyNiA2Ljc1IDE0LjkxNjcgNi43NVwiLz48L3N2Zz4nLCB5ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTkuMTMzMzMgMTQuOTE2N0wxMi40NjY3IDE4LjI1TTEyLjQ2NjcgMTguMjVMMTUuOCAxNC45MTY3TTEyLjQ2NjcgMTguMjVMMTIuNDY2NyAxMC4wODMzQzEyLjQ2NjcgOS4xOTkyOCAxMi4xMTU1IDguMzUxNDMgMTEuNDkwNCA3LjcyNjMxQzEwLjg2NTIgNy4xMDExOSAxMC4wMTc0IDYuNzUgOS4xMzMzMyA2Ljc1XCIvPjwvc3ZnPicsIEwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQuODgzMyAxNS44MzMzTDE4LjIxNjcgMTIuNU0xOC4yMTY3IDEyLjVMMTQuODgzMyA5LjE2NjY3TTE4LjIxNjcgMTIuNUwxMC4wNSAxMi41QzkuMTY1OTUgMTIuNSA4LjMxODExIDEyLjg1MTIgNy42OTI5OSAxMy40NzYzQzcuMDY3ODcgMTQuMTAxNCA2LjcxNjY3IDE0Ljk0OTMgNi43MTY2NyAxNS44MzMzXCIvPjwvc3ZnPicsIE0gPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS40MSA5LjY2SDkuNFwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMi42XCIgZD1cIk0xNC42IDkuNjZIMTQuNTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNOS4zMSAxNC4zNkg5LjNcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjIuNlwiIGQ9XCJNMTQuNiAxNC4zNkgxNC41OVwiLz48L3N2Zz4nLCB2ID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMiA3VjEyTTEyIDE3VjEyTTE3IDEySDEyTTEyIDEySDdcIi8+PC9zdmc+JywgTyA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNyA5TDIwIDEyTDE3IDE1XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE0IDEySDIwXCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTcgOUw0IDEyTDcgMTVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNCAxMkgxMFwiLz48L3N2Zz4nLCBUID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTBIMTlcIi8+PHJlY3Qgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgeD1cIjVcIiB5PVwiNVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiByeD1cIjRcIi8+PC9zdmc+JywgSCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xMCA1VjE4LjVcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTQgNVYxOC41XCIvPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTUgMTBIMTlcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNNSAxNEgxOVwiLz48cmVjdCB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB4PVwiNVwiIHk9XCI1XCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHJ4PVwiNFwiLz48L3N2Zz4nLCBBID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTEwIDVWMTguNVwiLz48cGF0aCBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk01IDEwSDE5XCIvPjxyZWN0IHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHg9XCI1XCIgeT1cIjVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgcng9XCI0XCIvPjwvc3ZnPic7XG5jbGFzcyB3IHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgdG9vbGJveCBidXR0b25zIGFuZCB0b29sYm94IG1lbnVzXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBhcGkgLSBFZGl0b3IuanMgYXBpXG4gICAqIEBwYXJhbSB7UG9wb3Zlckl0ZW1bXX0gaXRlbXMgLSBFZGl0b3IuanMgYXBpXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uT3BlbiAtIGNhbGxiYWNrIGZpcmVkIHdoZW4gdGhlIFBvcG92ZXIgaXMgb3BlbmluZ1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbkNsb3NlIC0gY2FsbGJhY2sgZmlyZWQgd2hlbiB0aGUgUG9wb3ZlciBpcyBjbG9zaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbY3NzTW9kaWZpZXJdIC0gdGhlIG1vZGlmaWVyIGZvciB0aGUgVG9vbGJveC4gQWxsb3dzIHRvIGFkZCBzb21lIHNwZWNpZmljIHN0eWxlcy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpOiB0LCBpdGVtczogZSwgb25PcGVuOiBvLCBvbkNsb3NlOiBpLCBjc3NNb2RpZmllcjogbiA9IFwiXCIgfSkge1xuICAgIHRoaXMuYXBpID0gdCwgdGhpcy5pdGVtcyA9IGUsIHRoaXMub25PcGVuID0gbywgdGhpcy5vbkNsb3NlID0gaSwgdGhpcy5jc3NNb2RpZmllciA9IG4sIHRoaXMucG9wb3ZlciA9IG51bGwsIHRoaXMud3JhcHBlciA9IHRoaXMuY3JlYXRlVG9vbGJveCgpO1xuICB9XG4gIC8qKlxuICAgKiBTdHlsZSBjbGFzc2VzXG4gICAqL1xuICBzdGF0aWMgZ2V0IENTUygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9vbGJveDogXCJ0Yy10b29sYm94XCIsXG4gICAgICB0b29sYm94U2hvd2VkOiBcInRjLXRvb2xib3gtLXNob3dlZFwiLFxuICAgICAgdG9nZ2xlcjogXCJ0Yy10b29sYm94X190b2dnbGVyXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHJlbmRlcmVkIFRvb2xib3ggZWxlbWVudFxuICAgKi9cbiAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRpbmcgYSB0b29sYm94IHRvIG9wZW4gbWVudSBmb3IgYSBtYW5pcHVsYXRpbmcgY29sdW1uc1xuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIGNyZWF0ZVRvb2xib3goKSB7XG4gICAgY29uc3QgdCA9IGMoXCJkaXZcIiwgW1xuICAgICAgdy5DU1MudG9vbGJveCxcbiAgICAgIHRoaXMuY3NzTW9kaWZpZXIgPyBgJHt3LkNTUy50b29sYm94fS0tJHt0aGlzLmNzc01vZGlmaWVyfWAgOiBcIlwiXG4gICAgXSk7XG4gICAgdC5kYXRhc2V0Lm11dGF0aW9uRnJlZSA9IFwidHJ1ZVwiO1xuICAgIGNvbnN0IGUgPSB0aGlzLmNyZWF0ZVBvcG92ZXIoKSwgbyA9IHRoaXMuY3JlYXRlVG9nZ2xlcigpO1xuICAgIHJldHVybiB0LmFwcGVuZENoaWxkKG8pLCB0LmFwcGVuZENoaWxkKGUpLCB0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBUb2dnbGVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgY3JlYXRlVG9nZ2xlcigpIHtcbiAgICBjb25zdCB0ID0gYyhcImRpdlwiLCB3LkNTUy50b2dnbGVyLCB7XG4gICAgICBpbm5lckhUTUw6IE1cbiAgICB9KTtcbiAgICByZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy50b2dnbGVyQ2xpY2tlZCgpO1xuICAgIH0pLCB0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBQb3BvdmVyIGluc3RhbmNlIGFuZCByZW5kZXIgaXRcbiAgICpcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICBjcmVhdGVQb3BvdmVyKCkge1xuICAgIHJldHVybiB0aGlzLnBvcG92ZXIgPSBuZXcgYSh7XG4gICAgICBpdGVtczogdGhpcy5pdGVtc1xuICAgIH0pLCB0aGlzLnBvcG92ZXIucmVuZGVyKCk7XG4gIH1cbiAgLyoqXG4gICAqIFRvZ2dsZXIgY2xpY2sgaGFuZGxlci4gT3BlbnMvQ2xvc2VzIHRoZSBwb3BvdmVyXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgdG9nZ2xlckNsaWNrZWQoKSB7XG4gICAgdGhpcy5wb3BvdmVyLm9wZW5lZCA/ICh0aGlzLnBvcG92ZXIuY2xvc2UoKSwgdGhpcy5vbkNsb3NlKCkpIDogKHRoaXMucG9wb3Zlci5vcGVuKCksIHRoaXMub25PcGVuKCkpO1xuICB9XG4gIC8qKlxuICAgKiBTaG93cyB0aGUgVG9vbGJveFxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb21wdXRlUG9zaXRpb25NZXRob2QgLSBtZXRob2QgdGhhdCByZXR1cm5zIHRoZSBwb3NpdGlvbiBjb29yZGluYXRlXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgc2hvdyh0KSB7XG4gICAgY29uc3QgZSA9IHQoKTtcbiAgICBPYmplY3QuZW50cmllcyhlKS5mb3JFYWNoKChbbywgaV0pID0+IHtcbiAgICAgIHRoaXMud3JhcHBlci5zdHlsZVtvXSA9IGk7XG4gICAgfSksIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHcuQ1NTLnRvb2xib3hTaG93ZWQpO1xuICB9XG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgVG9vbGJveFxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5wb3BvdmVyLmNsb3NlKCksIHRoaXMud3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKHcuQ1NTLnRvb2xib3hTaG93ZWQpO1xuICB9XG59XG5mdW5jdGlvbiBCKGQsIHQpIHtcbiAgbGV0IGUgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24oLi4ubykge1xuICAgIGNvbnN0IGkgPSAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICBpZiAoIShpIC0gZSA8IGQpKVxuICAgICAgcmV0dXJuIGUgPSBpLCB0KC4uLm8pO1xuICB9O1xufVxuY29uc3QgcyA9IHtcbiAgd3JhcHBlcjogXCJ0Yy13cmFwXCIsXG4gIHdyYXBwZXJSZWFkT25seTogXCJ0Yy13cmFwLS1yZWFkb25seVwiLFxuICB0YWJsZTogXCJ0Yy10YWJsZVwiLFxuICByb3c6IFwidGMtcm93XCIsXG4gIHdpdGhIZWFkaW5nczogXCJ0Yy10YWJsZS0taGVhZGluZ1wiLFxuICByb3dTZWxlY3RlZDogXCJ0Yy1yb3ctLXNlbGVjdGVkXCIsXG4gIGNlbGw6IFwidGMtY2VsbFwiLFxuICBjZWxsU2VsZWN0ZWQ6IFwidGMtY2VsbC0tc2VsZWN0ZWRcIixcbiAgYWRkUm93OiBcInRjLWFkZC1yb3dcIixcbiAgYWRkUm93RGlzYWJsZWQ6IFwidGMtYWRkLXJvdy0tZGlzYWJsZWRcIixcbiAgYWRkQ29sdW1uOiBcInRjLWFkZC1jb2x1bW5cIixcbiAgYWRkQ29sdW1uRGlzYWJsZWQ6IFwidGMtYWRkLWNvbHVtbi0tZGlzYWJsZWRcIlxufTtcbmNsYXNzIEUge1xuICAvKipcbiAgICogQ3JlYXRlc1xuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seSAtIHJlYWQtb25seSBtb2RlIGZsYWdcbiAgICogQHBhcmFtIHtvYmplY3R9IGFwaSAtIEVkaXRvci5qcyBBUElcbiAgICogQHBhcmFtIHtUYWJsZURhdGF9IGRhdGEgLSBFZGl0b3IuanMgQVBJXG4gICAqIEBwYXJhbSB7VGFibGVDb25maWd9IGNvbmZpZyAtIEVkaXRvci5qcyBBUElcbiAgICovXG4gIGNvbnN0cnVjdG9yKHQsIGUsIG8sIGkpIHtcbiAgICB0aGlzLnJlYWRPbmx5ID0gdCwgdGhpcy5hcGkgPSBlLCB0aGlzLmRhdGEgPSBvLCB0aGlzLmNvbmZpZyA9IGksIHRoaXMud3JhcHBlciA9IG51bGwsIHRoaXMudGFibGUgPSBudWxsLCB0aGlzLnRvb2xib3hDb2x1bW4gPSB0aGlzLmNyZWF0ZUNvbHVtblRvb2xib3goKSwgdGhpcy50b29sYm94Um93ID0gdGhpcy5jcmVhdGVSb3dUb29sYm94KCksIHRoaXMuY3JlYXRlVGFibGVXcmFwcGVyKCksIHRoaXMuaG92ZXJlZFJvdyA9IDAsIHRoaXMuaG92ZXJlZENvbHVtbiA9IDAsIHRoaXMuc2VsZWN0ZWRSb3cgPSAwLCB0aGlzLnNlbGVjdGVkQ29sdW1uID0gMCwgdGhpcy50dW5lcyA9IHtcbiAgICAgIHdpdGhIZWFkaW5nczogITFcbiAgICB9LCB0aGlzLnJlc2l6ZSgpLCB0aGlzLmZpbGwoKSwgdGhpcy5mb2N1c2VkQ2VsbCA9IHtcbiAgICAgIHJvdzogMCxcbiAgICAgIGNvbHVtbjogMFxuICAgIH0sIHRoaXMuZG9jdW1lbnRDbGlja2VkID0gKG4pID0+IHtcbiAgICAgIGNvbnN0IHIgPSBuLnRhcmdldC5jbG9zZXN0KGAuJHtzLnRhYmxlfWApICE9PSBudWxsLCBoID0gbi50YXJnZXQuY2xvc2VzdChgLiR7cy53cmFwcGVyfWApID09PSBudWxsO1xuICAgICAgKHIgfHwgaCkgJiYgdGhpcy5oaWRlVG9vbGJveGVzKCk7XG4gICAgICBjb25zdCB1ID0gbi50YXJnZXQuY2xvc2VzdChgLiR7cy5hZGRSb3d9YCksIHAgPSBuLnRhcmdldC5jbG9zZXN0KGAuJHtzLmFkZENvbHVtbn1gKTtcbiAgICAgIHUgJiYgdS5wYXJlbnROb2RlID09PSB0aGlzLndyYXBwZXIgPyAodGhpcy5hZGRSb3codm9pZCAwLCAhMCksIHRoaXMuaGlkZVRvb2xib3hlcygpKSA6IHAgJiYgcC5wYXJlbnROb2RlID09PSB0aGlzLndyYXBwZXIgJiYgKHRoaXMuYWRkQ29sdW1uKHZvaWQgMCwgITApLCB0aGlzLmhpZGVUb29sYm94ZXMoKSk7XG4gICAgfSwgdGhpcy5yZWFkT25seSB8fCB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVuZGVyZWQgdGFibGUgd3JhcHBlclxuICAgKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIGdldFdyYXBwZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcbiAgfVxuICAvKipcbiAgICogSGFuZ3MgdGhlIG5lY2Vzc2FyeSBoYW5kbGVycyB0byBldmVudHNcbiAgICovXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGlja2VkKSwgdGhpcy50YWJsZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIEIoMTUwLCAodCkgPT4gdGhpcy5vbk1vdXNlTW92ZUluVGFibGUodCkpLCB7IHBhc3NpdmU6ICEwIH0pLCB0aGlzLnRhYmxlLm9ua2V5cHJlc3MgPSAodCkgPT4gdGhpcy5vbktleVByZXNzTGlzdGVuZXIodCksIHRoaXMudGFibGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKHQpID0+IHRoaXMub25LZXlEb3duTGlzdGVuZXIodCkpLCB0aGlzLnRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsICh0KSA9PiB0aGlzLmZvY3VzSW5UYWJsZUxpc3RlbmVyKHQpKTtcbiAgfVxuICAvKipcbiAgICogQ29uZmlndXJlcyBhbmQgY3JlYXRlcyB0aGUgdG9vbGJveCBmb3IgbWFuaXB1bGF0aW5nIHdpdGggY29sdW1uc1xuICAgKlxuICAgKiBAcmV0dXJucyB7VG9vbGJveH1cbiAgICovXG4gIGNyZWF0ZUNvbHVtblRvb2xib3goKSB7XG4gICAgcmV0dXJuIG5ldyB3KHtcbiAgICAgIGFwaTogdGhpcy5hcGksXG4gICAgICBjc3NNb2RpZmllcjogXCJjb2x1bW5cIixcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogdGhpcy5hcGkuaTE4bi50KFwiQWRkIGNvbHVtbiB0byBsZWZ0XCIpLFxuICAgICAgICAgIGljb246IFMsXG4gICAgICAgICAgaGlkZUlmOiAoKSA9PiB0aGlzLm51bWJlck9mQ29sdW1ucyA9PT0gdGhpcy5jb25maWcubWF4Y29scyxcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbHVtbih0aGlzLnNlbGVjdGVkQ29sdW1uLCAhMCksIHRoaXMuaGlkZVRvb2xib3hlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJBZGQgY29sdW1uIHRvIHJpZ2h0XCIpLFxuICAgICAgICAgIGljb246IHksXG4gICAgICAgICAgaGlkZUlmOiAoKSA9PiB0aGlzLm51bWJlck9mQ29sdW1ucyA9PT0gdGhpcy5jb25maWcubWF4Y29scyxcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZENvbHVtbih0aGlzLnNlbGVjdGVkQ29sdW1uICsgMSwgITApLCB0aGlzLmhpZGVUb29sYm94ZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogdGhpcy5hcGkuaTE4bi50KFwiRGVsZXRlIGNvbHVtblwiKSxcbiAgICAgICAgICBpY29uOiBiLFxuICAgICAgICAgIGhpZGVJZjogKCkgPT4gdGhpcy5udW1iZXJPZkNvbHVtbnMgPT09IDEsXG4gICAgICAgICAgY29uZmlybWF0aW9uUmVxdWlyZWQ6ICEwLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlQ29sdW1uKHRoaXMuc2VsZWN0ZWRDb2x1bW4pLCB0aGlzLmhpZGVUb29sYm94ZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBvbk9wZW46ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZWxlY3RDb2x1bW4odGhpcy5ob3ZlcmVkQ29sdW1uKSwgdGhpcy5oaWRlUm93VG9vbGJveCgpO1xuICAgICAgfSxcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgdGhpcy51bnNlbGVjdENvbHVtbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDb25maWd1cmVzIGFuZCBjcmVhdGVzIHRoZSB0b29sYm94IGZvciBtYW5pcHVsYXRpbmcgd2l0aCByb3dzXG4gICAqXG4gICAqIEByZXR1cm5zIHtUb29sYm94fVxuICAgKi9cbiAgY3JlYXRlUm93VG9vbGJveCgpIHtcbiAgICByZXR1cm4gbmV3IHcoe1xuICAgICAgYXBpOiB0aGlzLmFwaSxcbiAgICAgIGNzc01vZGlmaWVyOiBcInJvd1wiLFxuICAgICAgaXRlbXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJBZGQgcm93IGFib3ZlXCIpLFxuICAgICAgICAgIGljb246IEwsXG4gICAgICAgICAgaGlkZUlmOiAoKSA9PiB0aGlzLm51bWJlck9mUm93cyA9PT0gdGhpcy5jb25maWcubWF4cm93cyxcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFJvdyh0aGlzLnNlbGVjdGVkUm93LCAhMCksIHRoaXMuaGlkZVRvb2xib3hlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJBZGQgcm93IGJlbG93XCIpLFxuICAgICAgICAgIGljb246IHgsXG4gICAgICAgICAgaGlkZUlmOiAoKSA9PiB0aGlzLm51bWJlck9mUm93cyA9PT0gdGhpcy5jb25maWcubWF4cm93cyxcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFJvdyh0aGlzLnNlbGVjdGVkUm93ICsgMSwgITApLCB0aGlzLmhpZGVUb29sYm94ZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogdGhpcy5hcGkuaTE4bi50KFwiRGVsZXRlIHJvd1wiKSxcbiAgICAgICAgICBpY29uOiBiLFxuICAgICAgICAgIGhpZGVJZjogKCkgPT4gdGhpcy5udW1iZXJPZlJvd3MgPT09IDEsXG4gICAgICAgICAgY29uZmlybWF0aW9uUmVxdWlyZWQ6ICEwLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlUm93KHRoaXMuc2VsZWN0ZWRSb3cpLCB0aGlzLmhpZGVUb29sYm94ZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBvbk9wZW46ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZWxlY3RSb3codGhpcy5ob3ZlcmVkUm93KSwgdGhpcy5oaWRlQ29sdW1uVG9vbGJveCgpO1xuICAgICAgfSxcbiAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgdGhpcy51bnNlbGVjdFJvdygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHlvdSBwcmVzcyBlbnRlciBpdCBtb3ZlcyB0aGUgY3Vyc29yIGRvd24gdG8gdGhlIG5leHQgcm93XG4gICAqIG9yIGNyZWF0ZXMgaXQgaWYgdGhlIGNsaWNrIG9jY3VycmVkIG9uIHRoZSBsYXN0IG9uZVxuICAgKi9cbiAgbW92ZUN1cnNvclRvTmV4dFJvdygpIHtcbiAgICB0aGlzLmZvY3VzZWRDZWxsLnJvdyAhPT0gdGhpcy5udW1iZXJPZlJvd3MgPyAodGhpcy5mb2N1c2VkQ2VsbC5yb3cgKz0gMSwgdGhpcy5mb2N1c0NlbGwodGhpcy5mb2N1c2VkQ2VsbCkpIDogKHRoaXMuYWRkUm93KCksIHRoaXMuZm9jdXNlZENlbGwucm93ICs9IDEsIHRoaXMuZm9jdXNDZWxsKHRoaXMuZm9jdXNlZENlbGwpLCB0aGlzLnVwZGF0ZVRvb2xib3hlc1Bvc2l0aW9uKDAsIDApKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRhYmxlIGNlbGwgYnkgcm93IGFuZCBjb2wgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJvdyAtIGNlbGwgcm93IGNvb3JkaW5hdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbiAtIGNlbGwgY29sdW1uIGNvb3JkaW5hdGVcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0Q2VsbCh0LCBlKSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGUucXVlcnlTZWxlY3RvckFsbChgLiR7cy5yb3d9Om50aC1jaGlsZCgke3R9KSAuJHtzLmNlbGx9YClbZSAtIDFdO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGFibGUgcm93IGJ5IGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3cgLSByb3cgY29vcmRpbmF0ZVxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gICAqL1xuICBnZXRSb3codCkge1xuICAgIHJldHVybiB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoYC4ke3Mucm93fTpudGgtY2hpbGQoJHt0fSlgKTtcbiAgfVxuICAvKipcbiAgICogVGhlIHBhcmVudCBvZiB0aGUgY2VsbCB3aGljaCBpcyB0aGUgcm93XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNlbGwgLSBjZWxsIGVsZW1lbnRcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgZ2V0Um93QnlDZWxsKHQpIHtcbiAgICByZXR1cm4gdC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIC8qKlxuICAgKiBHZXIgcm93J3MgZmlyc3QgY2VsbFxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHJvdyAtIHJvdyB0byBmaW5kIGl0cyBmaXJzdCBjZWxsXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fVxuICAgKi9cbiAgZ2V0Um93Rmlyc3RDZWxsKHQpIHtcbiAgICByZXR1cm4gdC5xdWVyeVNlbGVjdG9yKGAuJHtzLmNlbGx9OmZpcnN0LWNoaWxkYCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgc2VsbCdzIGNvbnRlbnQgYnkgcm93IGFuZCBjb2x1bW4gbnVtYmVyc1xuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gcm93IC0gY2VsbCByb3cgY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uIC0gY2VsbCBjb2x1bW4gY29vcmRpbmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIGNlbGwgSFRNTCBjb250ZW50XG4gICAqL1xuICBzZXRDZWxsQ29udGVudCh0LCBlLCBvKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuZ2V0Q2VsbCh0LCBlKTtcbiAgICBpLmlubmVySFRNTCA9IG87XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBjb2x1bW4gaW4gdGFibGUgb24gaW5kZXggcGxhY2VcbiAgICogQWRkIGNlbGxzIGluIGVhY2ggcm93XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5JbmRleCAtIG51bWJlciBpbiB0aGUgYXJyYXkgb2YgY29sdW1ucywgd2hlcmUgbmV3IGNvbHVtbiB0byBpbnNlcnQsIC0xIGlmIGluc2VydCBhdCB0aGUgZW5kXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NldEZvY3VzXSAtIHBhc3MgdHJ1ZSB0byBmb2N1cyB0aGUgZmlyc3QgY2VsbFxuICAgKi9cbiAgYWRkQ29sdW1uKHQgPSAtMSwgZSA9ICExKSB7XG4gICAgdmFyIG47XG4gICAgbGV0IG8gPSB0aGlzLm51bWJlck9mQ29sdW1ucztcbiAgICBpZiAodGhpcy5jb25maWcgJiYgdGhpcy5jb25maWcubWF4Y29scyAmJiB0aGlzLm51bWJlck9mQ29sdW1ucyA+PSB0aGlzLmNvbmZpZy5tYXhjb2xzKVxuICAgICAgcmV0dXJuO1xuICAgIGZvciAobGV0IHIgPSAxOyByIDw9IHRoaXMubnVtYmVyT2ZSb3dzOyByKyspIHtcbiAgICAgIGxldCBoO1xuICAgICAgY29uc3QgbCA9IHRoaXMuY3JlYXRlQ2VsbCgpO1xuICAgICAgaWYgKHQgPiAwICYmIHQgPD0gbyA/IChoID0gdGhpcy5nZXRDZWxsKHIsIHQpLCBtKGwsIGgpKSA6IGggPSB0aGlzLmdldFJvdyhyKS5hcHBlbmRDaGlsZChsKSwgciA9PT0gMSkge1xuICAgICAgICBjb25zdCB1ID0gdGhpcy5nZXRDZWxsKHIsIHQgPiAwID8gdCA6IG8gKyAxKTtcbiAgICAgICAgdSAmJiBlICYmIEModSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGkgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcihgLiR7cy5hZGRDb2x1bW59YCk7XG4gICAgKG4gPSB0aGlzLmNvbmZpZykgIT0gbnVsbCAmJiBuLm1heGNvbHMgJiYgdGhpcy5udW1iZXJPZkNvbHVtbnMgPiB0aGlzLmNvbmZpZy5tYXhjb2xzIC0gMSAmJiBpICYmIGkuY2xhc3NMaXN0LmFkZChzLmFkZENvbHVtbkRpc2FibGVkKSwgdGhpcy5hZGRIZWFkaW5nQXR0clRvRmlyc3RSb3coKTtcbiAgfVxuICAvKipcbiAgICogQWRkIHJvdyBpbiB0YWJsZSBvbiBpbmRleCBwbGFjZVxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBudW1iZXIgaW4gdGhlIGFycmF5IG9mIHJvd3MsIHdoZXJlIG5ldyBjb2x1bW4gdG8gaW5zZXJ0LCAtMSBpZiBpbnNlcnQgYXQgdGhlIGVuZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzZXRGb2N1c10gLSBwYXNzIHRydWUgdG8gZm9jdXMgdGhlIGluc2VydGVkIHJvd1xuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IHJvd1xuICAgKi9cbiAgYWRkUm93KHQgPSAtMSwgZSA9ICExKSB7XG4gICAgbGV0IG8sIGkgPSBjKFwiZGl2XCIsIHMucm93KTtcbiAgICB0aGlzLnR1bmVzLndpdGhIZWFkaW5ncyAmJiB0aGlzLnJlbW92ZUhlYWRpbmdBdHRyRnJvbUZpcnN0Um93KCk7XG4gICAgbGV0IG4gPSB0aGlzLm51bWJlck9mQ29sdW1ucztcbiAgICBpZiAodGhpcy5jb25maWcgJiYgdGhpcy5jb25maWcubWF4cm93cyAmJiB0aGlzLm51bWJlck9mUm93cyA+PSB0aGlzLmNvbmZpZy5tYXhyb3dzICYmIGgpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHQgPiAwICYmIHQgPD0gdGhpcy5udW1iZXJPZlJvd3MpIHtcbiAgICAgIGxldCBsID0gdGhpcy5nZXRSb3codCk7XG4gICAgICBvID0gbShpLCBsKTtcbiAgICB9IGVsc2VcbiAgICAgIG8gPSB0aGlzLnRhYmxlLmFwcGVuZENoaWxkKGkpO1xuICAgIHRoaXMuZmlsbFJvdyhvLCBuKSwgdGhpcy50dW5lcy53aXRoSGVhZGluZ3MgJiYgdGhpcy5hZGRIZWFkaW5nQXR0clRvRmlyc3RSb3coKTtcbiAgICBjb25zdCByID0gdGhpcy5nZXRSb3dGaXJzdENlbGwobyk7XG4gICAgciAmJiBlICYmIEMocik7XG4gICAgY29uc3QgaCA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGAuJHtzLmFkZFJvd31gKTtcbiAgICByZXR1cm4gdGhpcy5jb25maWcgJiYgdGhpcy5jb25maWcubWF4cm93cyAmJiB0aGlzLm51bWJlck9mUm93cyA+PSB0aGlzLmNvbmZpZy5tYXhyb3dzICYmIGggJiYgaC5jbGFzc0xpc3QuYWRkKHMuYWRkUm93RGlzYWJsZWQpLCBvO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBjb2x1bW4gYnkgaW5kZXhcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqL1xuICBkZWxldGVDb2x1bW4odCkge1xuICAgIGZvciAobGV0IG8gPSAxOyBvIDw9IHRoaXMubnVtYmVyT2ZSb3dzOyBvKyspIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLmdldENlbGwobywgdCk7XG4gICAgICBpZiAoIWkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGkucmVtb3ZlKCk7XG4gICAgfVxuICAgIGNvbnN0IGUgPSB0aGlzLndyYXBwZXIucXVlcnlTZWxlY3RvcihgLiR7cy5hZGRDb2x1bW59YCk7XG4gICAgZSAmJiBlLmNsYXNzTGlzdC5yZW1vdmUocy5hZGRDb2x1bW5EaXNhYmxlZCk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHJvdyBieSBpbmRleFxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICovXG4gIGRlbGV0ZVJvdyh0KSB7XG4gICAgdGhpcy5nZXRSb3codCkucmVtb3ZlKCk7XG4gICAgY29uc3QgZSA9IHRoaXMud3JhcHBlci5xdWVyeVNlbGVjdG9yKGAuJHtzLmFkZFJvd31gKTtcbiAgICBlICYmIGUuY2xhc3NMaXN0LnJlbW92ZShzLmFkZFJvd0Rpc2FibGVkKSwgdGhpcy5hZGRIZWFkaW5nQXR0clRvRmlyc3RSb3coKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgd3JhcHBlciBjb250YWluaW5nIGEgdGFibGUsIHRvb2xib3hlc1xuICAgKiBhbmQgYnV0dG9ucyBmb3IgYWRkaW5nIHJvd3MgYW5kIGNvbHVtbnNcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSB3cmFwcGVyIC0gd2hlcmUgYWxsIGJ1dHRvbnMgZm9yIGEgdGFibGUgYW5kIHRoZSB0YWJsZSBpdHNlbGYgd2lsbCBiZVxuICAgKi9cbiAgY3JlYXRlVGFibGVXcmFwcGVyKCkge1xuICAgIGlmICh0aGlzLndyYXBwZXIgPSBjKFwiZGl2XCIsIHMud3JhcHBlciksIHRoaXMudGFibGUgPSBjKFwiZGl2XCIsIHMudGFibGUpLCB0aGlzLnJlYWRPbmx5ICYmIHRoaXMud3JhcHBlci5jbGFzc0xpc3QuYWRkKHMud3JhcHBlclJlYWRPbmx5KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMudG9vbGJveFJvdy5lbGVtZW50KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMudG9vbGJveENvbHVtbi5lbGVtZW50KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMudGFibGUpLCAhdGhpcy5yZWFkT25seSkge1xuICAgICAgY29uc3QgdCA9IGMoXCJkaXZcIiwgcy5hZGRDb2x1bW4sIHtcbiAgICAgICAgaW5uZXJIVE1MOiB2XG4gICAgICB9KSwgZSA9IGMoXCJkaXZcIiwgcy5hZGRSb3csIHtcbiAgICAgICAgaW5uZXJIVE1MOiB2XG4gICAgICB9KTtcbiAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0KSwgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKGUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgdGFibGUgYmFzZWQgb24gaW5pdGlhbCBkYXRhIG9yIGNvbmZpZyBcInNpemVcIiBwcm9wZXJ0eVxuICAgKlxuICAgKiBAcmV0dXJuIHt7cm93czogbnVtYmVyLCBjb2xzOiBudW1iZXJ9fSAtIG51bWJlciBvZiBjb2xzIGFuZCByb3dzXG4gICAqL1xuICBjb21wdXRlSW5pdGlhbFNpemUoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEuY29udGVudCwgZSA9IEFycmF5LmlzQXJyYXkodCksIG8gPSBlID8gdC5sZW5ndGggOiAhMSwgaSA9IGUgPyB0Lmxlbmd0aCA6IHZvaWQgMCwgbiA9IG8gPyB0WzBdLmxlbmd0aCA6IHZvaWQgMCwgciA9IE51bWJlci5wYXJzZUludCh0aGlzLmNvbmZpZyAmJiB0aGlzLmNvbmZpZy5yb3dzKSwgaCA9IE51bWJlci5wYXJzZUludCh0aGlzLmNvbmZpZyAmJiB0aGlzLmNvbmZpZy5jb2xzKSwgbCA9ICFpc05hTihyKSAmJiByID4gMCA/IHIgOiB2b2lkIDAsIHUgPSAhaXNOYU4oaCkgJiYgaCA+IDAgPyBoIDogdm9pZCAwO1xuICAgIHJldHVybiB7XG4gICAgICByb3dzOiBpIHx8IGwgfHwgMixcbiAgICAgIGNvbHM6IG4gfHwgdSB8fCAyXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmVzaXplIHRhYmxlIHRvIG1hdGNoIGNvbmZpZyBzaXplIG9yIHRyYW5zbWl0dGVkIGRhdGEgc2l6ZVxuICAgKlxuICAgKiBAcmV0dXJuIHt7cm93czogbnVtYmVyLCBjb2xzOiBudW1iZXJ9fSAtIG51bWJlciBvZiBjb2xzIGFuZCByb3dzXG4gICAqL1xuICByZXNpemUoKSB7XG4gICAgY29uc3QgeyByb3dzOiB0LCBjb2xzOiBlIH0gPSB0aGlzLmNvbXB1dGVJbml0aWFsU2l6ZSgpO1xuICAgIGZvciAobGV0IG8gPSAwOyBvIDwgdDsgbysrKVxuICAgICAgdGhpcy5hZGRSb3coKTtcbiAgICBmb3IgKGxldCBvID0gMDsgbyA8IGU7IG8rKylcbiAgICAgIHRoaXMuYWRkQ29sdW1uKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbGxzIHRoZSB0YWJsZSB3aXRoIGRhdGEgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZpbGwoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMuZGF0YTtcbiAgICBpZiAodCAmJiB0LmNvbnRlbnQpXG4gICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHQuY29udGVudC5sZW5ndGg7IGUrKylcbiAgICAgICAgZm9yIChsZXQgbyA9IDA7IG8gPCB0LmNvbnRlbnRbZV0ubGVuZ3RoOyBvKyspXG4gICAgICAgICAgdGhpcy5zZXRDZWxsQ29udGVudChlICsgMSwgbyArIDEsIHQuY29udGVudFtlXVtvXSk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbGxzIGEgcm93IHdpdGggY2VsbHNcbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcm93IC0gcm93IHRvIGZpbGxcbiAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlck9mQ29sdW1ucyAtIGhvdyBtYW55IGNlbGxzIHNob3VsZCBiZSBpbiBhIHJvd1xuICAgKi9cbiAgZmlsbFJvdyh0LCBlKSB7XG4gICAgZm9yIChsZXQgbyA9IDE7IG8gPD0gZTsgbysrKSB7XG4gICAgICBjb25zdCBpID0gdGhpcy5jcmVhdGVDZWxsKCk7XG4gICAgICB0LmFwcGVuZENoaWxkKGkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRpbmcgYSBjZWxsIGVsZW1lbnRcbiAgICpcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICovXG4gIGNyZWF0ZUNlbGwoKSB7XG4gICAgcmV0dXJuIGMoXCJkaXZcIiwgcy5jZWxsLCB7XG4gICAgICBjb250ZW50RWRpdGFibGU6ICF0aGlzLnJlYWRPbmx5XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBudW1iZXIgb2Ygcm93cyBpbiB0aGUgdGFibGVcbiAgICovXG4gIGdldCBudW1iZXJPZlJvd3MoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGUuY2hpbGRFbGVtZW50Q291bnQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBudW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgdGFibGVcbiAgICovXG4gIGdldCBudW1iZXJPZkNvbHVtbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubnVtYmVyT2ZSb3dzID8gdGhpcy50YWJsZS5xdWVyeVNlbGVjdG9yQWxsKGAuJHtzLnJvd306Zmlyc3QtY2hpbGQgLiR7cy5jZWxsfWApLmxlbmd0aCA6IDA7XG4gIH1cbiAgLyoqXG4gICAqIElzIHRoZSBjb2x1bW4gdG9vbGJveCBtZW51IGRpc3BsYXllZCBvciBub3RcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBnZXQgaXNDb2x1bW5NZW51U2hvd2luZygpIHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZENvbHVtbiAhPT0gMDtcbiAgfVxuICAvKipcbiAgICogSXMgdGhlIHJvdyB0b29sYm94IG1lbnUgZGlzcGxheWVkIG9yIG5vdFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc1Jvd01lbnVTaG93aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkUm93ICE9PSAwO1xuICB9XG4gIC8qKlxuICAgKiBSZWNhbGN1bGF0ZSBwb3NpdGlvbiBvZiB0b29sYm94IGljb25zXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gbW91c2UgbW92ZSBldmVudFxuICAgKi9cbiAgb25Nb3VzZU1vdmVJblRhYmxlKHQpIHtcbiAgICBjb25zdCB7IHJvdzogZSwgY29sdW1uOiBvIH0gPSB0aGlzLmdldEhvdmVyZWRDZWxsKHQpO1xuICAgIHRoaXMuaG92ZXJlZENvbHVtbiA9IG8sIHRoaXMuaG92ZXJlZFJvdyA9IGUsIHRoaXMudXBkYXRlVG9vbGJveGVzUG9zaXRpb24oKTtcbiAgfVxuICAvKipcbiAgICogUHJldmVudHMgZGVmYXVsdCBFbnRlciBiZWhhdmlvcnNcbiAgICogQWRkcyBTaGlmdCtFbnRlciBwcm9jZXNzaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgLSBrZXlwcmVzcyBldmVudFxuICAgKi9cbiAgb25LZXlQcmVzc0xpc3RlbmVyKHQpIHtcbiAgICBpZiAodC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgaWYgKHQuc2hpZnRLZXkpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIHRoaXMubW92ZUN1cnNvclRvTmV4dFJvdygpO1xuICAgIH1cbiAgICByZXR1cm4gdC5rZXkgIT09IFwiRW50ZXJcIjtcbiAgfVxuICAvKipcbiAgICogUHJldmVudHMgdGFiIGtleWRvd24gZXZlbnQgZnJvbSBidWJibGluZ1xuICAgKiBzbyB0aGF0IGl0IG9ubHkgd29ya3MgaW5zaWRlIHRoZSB0YWJsZVxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IC0ga2V5ZG93biBldmVudFxuICAgKi9cbiAgb25LZXlEb3duTGlzdGVuZXIodCkge1xuICAgIHQua2V5ID09PSBcIlRhYlwiICYmIHQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGNlbGwgdGhhdCB0aGUgZm9jdXMgaGFzIG1vdmVkIHRvXG4gICAqXG4gICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZXZlbnQgLSBmb2N1c2luIGV2ZW50XG4gICAqL1xuICBmb2N1c0luVGFibGVMaXN0ZW5lcih0KSB7XG4gICAgY29uc3QgZSA9IHQudGFyZ2V0LCBvID0gdGhpcy5nZXRSb3dCeUNlbGwoZSk7XG4gICAgdGhpcy5mb2N1c2VkQ2VsbCA9IHtcbiAgICAgIHJvdzogQXJyYXkuZnJvbSh0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3Mucm93fWApKS5pbmRleE9mKG8pICsgMSxcbiAgICAgIGNvbHVtbjogQXJyYXkuZnJvbShvLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3MuY2VsbH1gKSkuaW5kZXhPZihlKSArIDFcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBVbnNlbGVjdCByb3cvY29sdW1uXG4gICAqIENsb3NlIHRvb2xib3ggbWVudVxuICAgKiBIaWRlIHRvb2xib3hlc1xuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGhpZGVUb29sYm94ZXMoKSB7XG4gICAgdGhpcy5oaWRlUm93VG9vbGJveCgpLCB0aGlzLmhpZGVDb2x1bW5Ub29sYm94KCksIHRoaXMudXBkYXRlVG9vbGJveGVzUG9zaXRpb24oKTtcbiAgfVxuICAvKipcbiAgICogVW5zZWxlY3Qgcm93LCBjbG9zZSB0b29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgaGlkZVJvd1Rvb2xib3goKSB7XG4gICAgdGhpcy51bnNlbGVjdFJvdygpLCB0aGlzLnRvb2xib3hSb3cuaGlkZSgpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNlbGVjdCBjb2x1bW4sIGNsb3NlIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBoaWRlQ29sdW1uVG9vbGJveCgpIHtcbiAgICB0aGlzLnVuc2VsZWN0Q29sdW1uKCksIHRoaXMudG9vbGJveENvbHVtbi5oaWRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCB0aGUgY3Vyc29yIGZvY3VzIHRvIHRoZSBmb2N1c2VkIGNlbGxcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb2N1c0NlbGwoKSB7XG4gICAgdGhpcy5mb2N1c2VkQ2VsbEVsZW0uZm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgZm9jdXNlZCBlbGVtZW50XG4gICAqXG4gICAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gLSBmb2N1c2VkIGNlbGxcbiAgICovXG4gIGdldCBmb2N1c2VkQ2VsbEVsZW0oKSB7XG4gICAgY29uc3QgeyByb3c6IHQsIGNvbHVtbjogZSB9ID0gdGhpcy5mb2N1c2VkQ2VsbDtcbiAgICByZXR1cm4gdGhpcy5nZXRDZWxsKHQsIGUpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgdG9vbGJveGVzIHBvc2l0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByb3cgLSBob3ZlcmVkIHJvd1xuICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uIC0gaG92ZXJlZCBjb2x1bW5cbiAgICovXG4gIHVwZGF0ZVRvb2xib3hlc1Bvc2l0aW9uKHQgPSB0aGlzLmhvdmVyZWRSb3csIGUgPSB0aGlzLmhvdmVyZWRDb2x1bW4pIHtcbiAgICB0aGlzLmlzQ29sdW1uTWVudVNob3dpbmcgfHwgZSA+IDAgJiYgZSA8PSB0aGlzLm51bWJlck9mQ29sdW1ucyAmJiB0aGlzLnRvb2xib3hDb2x1bW4uc2hvdygoKSA9PiAoe1xuICAgICAgbGVmdDogYGNhbGMoKDEwMCUgLSB2YXIoLS1jZWxsLXNpemUpKSAvICgke3RoaXMubnVtYmVyT2ZDb2x1bW5zfSAqIDIpICogKDEgKyAoJHtlfSAtIDEpICogMikpYFxuICAgIH0pKSwgdGhpcy5pc1Jvd01lbnVTaG93aW5nIHx8IHQgPiAwICYmIHQgPD0gdGhpcy5udW1iZXJPZlJvd3MgJiYgdGhpcy50b29sYm94Um93LnNob3coKCkgPT4ge1xuICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0Um93KHQpLCB7IGZyb21Ub3BCb3JkZXI6IGkgfSA9IGcodGhpcy50YWJsZSwgbyksIHsgaGVpZ2h0OiBuIH0gPSBvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiBgJHtNYXRoLmNlaWwoaSArIG4gLyAyKX1weGBcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2VzIHRoZSBmaXJzdCByb3cgaGVhZGluZ3NcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB3aXRoSGVhZGluZ3MgLSB1c2UgaGVhZGluZ3Mgcm93IG9yIG5vdFxuICAgKi9cbiAgc2V0SGVhZGluZ3NTZXR0aW5nKHQpIHtcbiAgICB0aGlzLnR1bmVzLndpdGhIZWFkaW5ncyA9IHQsIHQgPyAodGhpcy50YWJsZS5jbGFzc0xpc3QuYWRkKHMud2l0aEhlYWRpbmdzKSwgdGhpcy5hZGRIZWFkaW5nQXR0clRvRmlyc3RSb3coKSkgOiAodGhpcy50YWJsZS5jbGFzc0xpc3QucmVtb3ZlKHMud2l0aEhlYWRpbmdzKSwgdGhpcy5yZW1vdmVIZWFkaW5nQXR0ckZyb21GaXJzdFJvdygpKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhbiBhdHRyaWJ1dGUgZm9yIGRpc3BsYXlpbmcgdGhlIHBsYWNlaG9sZGVyIGluIHRoZSBjZWxsXG4gICAqL1xuICBhZGRIZWFkaW5nQXR0clRvRmlyc3RSb3coKSB7XG4gICAgZm9yIChsZXQgdCA9IDE7IHQgPD0gdGhpcy5udW1iZXJPZkNvbHVtbnM7IHQrKykge1xuICAgICAgbGV0IGUgPSB0aGlzLmdldENlbGwoMSwgdCk7XG4gICAgICBlICYmIGUuc2V0QXR0cmlidXRlKFwiaGVhZGluZ1wiLCB0aGlzLmFwaS5pMThuLnQoXCJIZWFkaW5nXCIpKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gYXR0cmlidXRlIGZvciBkaXNwbGF5aW5nIHRoZSBwbGFjZWhvbGRlciBpbiB0aGUgY2VsbFxuICAgKi9cbiAgcmVtb3ZlSGVhZGluZ0F0dHJGcm9tRmlyc3RSb3coKSB7XG4gICAgZm9yIChsZXQgdCA9IDE7IHQgPD0gdGhpcy5udW1iZXJPZkNvbHVtbnM7IHQrKykge1xuICAgICAgbGV0IGUgPSB0aGlzLmdldENlbGwoMSwgdCk7XG4gICAgICBlICYmIGUucmVtb3ZlQXR0cmlidXRlKFwiaGVhZGluZ1wiKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBlZmZlY3Qgb2YgYSBzZWxlY3RlZCByb3dcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gICAqL1xuICBzZWxlY3RSb3codCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmdldFJvdyh0KTtcbiAgICBlICYmICh0aGlzLnNlbGVjdGVkUm93ID0gdCwgZS5jbGFzc0xpc3QuYWRkKHMucm93U2VsZWN0ZWQpKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGVmZmVjdCBvZiBhIHNlbGVjdGVkIHJvd1xuICAgKi9cbiAgdW5zZWxlY3RSb3coKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRSb3cgPD0gMClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ID0gdGhpcy50YWJsZS5xdWVyeVNlbGVjdG9yKGAuJHtzLnJvd1NlbGVjdGVkfWApO1xuICAgIHQgJiYgdC5jbGFzc0xpc3QucmVtb3ZlKHMucm93U2VsZWN0ZWQpLCB0aGlzLnNlbGVjdGVkUm93ID0gMDtcbiAgfVxuICAvKipcbiAgICogQWRkIGVmZmVjdCBvZiBhIHNlbGVjdGVkIGNvbHVtblxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXhcbiAgICovXG4gIHNlbGVjdENvbHVtbih0KSB7XG4gICAgZm9yIChsZXQgZSA9IDE7IGUgPD0gdGhpcy5udW1iZXJPZlJvd3M7IGUrKykge1xuICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0Q2VsbChlLCB0KTtcbiAgICAgIG8gJiYgby5jbGFzc0xpc3QuYWRkKHMuY2VsbFNlbGVjdGVkKTtcbiAgICB9XG4gICAgdGhpcy5zZWxlY3RlZENvbHVtbiA9IHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBlZmZlY3Qgb2YgYSBzZWxlY3RlZCBjb2x1bW5cbiAgICovXG4gIHVuc2VsZWN0Q29sdW1uKCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkQ29sdW1uIDw9IDApXG4gICAgICByZXR1cm47XG4gICAgbGV0IHQgPSB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3MuY2VsbFNlbGVjdGVkfWApO1xuICAgIEFycmF5LmZyb20odCkuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5jbGFzc0xpc3QucmVtb3ZlKHMuY2VsbFNlbGVjdGVkKTtcbiAgICB9KSwgdGhpcy5zZWxlY3RlZENvbHVtbiA9IDA7XG4gIH1cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIHJvdyBhbmQgY29sdW1uIHRoYXQgdGhlIGN1cnNvciBpcyBjdXJyZW50bHkgaG92ZXJpbmcgb3ZlclxuICAgKiBUaGUgc2VhcmNoIHdhcyBvcHRpbWl6ZWQgZnJvbSBPKG4pIHRvIE8gKGxvZyBuKSB2aWEgYmluIHNlYXJjaCB0byByZWR1Y2UgdGhlIG51bWJlciBvZiBjYWxjdWxhdGlvbnNcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBtb3VzZW1vdmUgZXZlbnRcbiAgICogQHJldHVybnMgaG92ZXJlZCBjZWxsIGNvb3JkaW5hdGVzIGFzIGFuIGludGVnZXIgcm93IGFuZCBjb2x1bW5cbiAgICovXG4gIGdldEhvdmVyZWRDZWxsKHQpIHtcbiAgICBsZXQgZSA9IHRoaXMuaG92ZXJlZFJvdywgbyA9IHRoaXMuaG92ZXJlZENvbHVtbjtcbiAgICBjb25zdCB7IHdpZHRoOiBpLCBoZWlnaHQ6IG4sIHg6IHIsIHk6IGggfSA9IGsodGhpcy50YWJsZSwgdCk7XG4gICAgcmV0dXJuIHIgPj0gMCAmJiAobyA9IHRoaXMuYmluU2VhcmNoKFxuICAgICAgdGhpcy5udW1iZXJPZkNvbHVtbnMsXG4gICAgICAobCkgPT4gdGhpcy5nZXRDZWxsKDEsIGwpLFxuICAgICAgKHsgZnJvbUxlZnRCb3JkZXI6IGwgfSkgPT4gciA8IGwsXG4gICAgICAoeyBmcm9tUmlnaHRCb3JkZXI6IGwgfSkgPT4gciA+IGkgLSBsXG4gICAgKSksIGggPj0gMCAmJiAoZSA9IHRoaXMuYmluU2VhcmNoKFxuICAgICAgdGhpcy5udW1iZXJPZlJvd3MsXG4gICAgICAobCkgPT4gdGhpcy5nZXRDZWxsKGwsIDEpLFxuICAgICAgKHsgZnJvbVRvcEJvcmRlcjogbCB9KSA9PiBoIDwgbCxcbiAgICAgICh7IGZyb21Cb3R0b21Cb3JkZXI6IGwgfSkgPT4gaCA+IG4gLSBsXG4gICAgKSksIHtcbiAgICAgIHJvdzogZSB8fCB0aGlzLmhvdmVyZWRSb3csXG4gICAgICBjb2x1bW46IG8gfHwgdGhpcy5ob3ZlcmVkQ29sdW1uXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogTG9va3MgZm9yIHRoZSBpbmRleCBvZiB0aGUgY2VsbCB0aGUgbW91c2UgaXMgaG92ZXJpbmcgb3Zlci5cbiAgICogQ2VsbHMgY2FuIGJlIHJlcHJlc2VudGVkIGFzIG9yZGVyZWQgaW50ZXJ2YWxzIHdpdGggbGVmdCBhbmRcbiAgICogcmlnaHQgKHVwcGVyIGFuZCBsb3dlciBmb3Igcm93cykgYm9yZGVycyBpbnNpZGUgdGhlIHRhYmxlLCBpZiB0aGUgbW91c2UgZW50ZXJzIGl0LCB0aGVuIHRoaXMgaXMgb3VyIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXJPZkNlbGxzIC0gdXBwZXIgYm91bmQgb2YgYmluYXJ5IHNlYXJjaFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBnZXRDZWxsIC0gZnVuY3Rpb24gdG8gdGFrZSB0aGUgY3VycmVudGx5IHZpZXdlZCBjZWxsXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGJlZm9yZVRoZUxlZnRCb3JkZXIgLSBkZXRlcm1pbmVzIHRoZSBjdXJzb3IgcG9zaXRpb24sIHRvIHRoZSBsZWZ0IG9mIHRoZSBjZWxsIG9yIG5vdFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBhZnRlclRoZVJpZ2h0Qm9yZGVyIC0gZGV0ZXJtaW5lcyB0aGUgY3Vyc29yIHBvc2l0aW9uLCB0byB0aGUgcmlnaHQgb2YgdGhlIGNlbGwgb3Igbm90XG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBiaW5TZWFyY2godCwgZSwgbywgaSkge1xuICAgIGxldCBuID0gMCwgciA9IHQgKyAxLCBoID0gMCwgbDtcbiAgICBmb3IgKDsgbiA8IHIgLSAxICYmIGggPCAxMDsgKSB7XG4gICAgICBsID0gTWF0aC5jZWlsKChuICsgcikgLyAyKTtcbiAgICAgIGNvbnN0IHUgPSBlKGwpLCBwID0gZyh0aGlzLnRhYmxlLCB1KTtcbiAgICAgIGlmIChvKHApKVxuICAgICAgICByID0gbDtcbiAgICAgIGVsc2UgaWYgKGkocCkpXG4gICAgICAgIG4gPSBsO1xuICAgICAgZWxzZVxuICAgICAgICBicmVhaztcbiAgICAgIGgrKztcbiAgICB9XG4gICAgcmV0dXJuIGw7XG4gIH1cbiAgLyoqXG4gICAqIENvbGxlY3RzIGRhdGEgZnJvbSBjZWxscyBpbnRvIGEgdHdvLWRpbWVuc2lvbmFsIGFycmF5XG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmdbXVtdfVxuICAgKi9cbiAgZ2V0RGF0YSgpIHtcbiAgICBjb25zdCB0ID0gW107XG4gICAgZm9yIChsZXQgZSA9IDE7IGUgPD0gdGhpcy5udW1iZXJPZlJvd3M7IGUrKykge1xuICAgICAgY29uc3QgbyA9IHRoaXMudGFibGUucXVlcnlTZWxlY3RvcihgLiR7cy5yb3d9Om50aC1jaGlsZCgke2V9KWApLCBpID0gQXJyYXkuZnJvbShvLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3MuY2VsbH1gKSk7XG4gICAgICBpLmV2ZXJ5KChyKSA9PiAhci50ZXh0Q29udGVudC50cmltKCkpIHx8IHQucHVzaChpLm1hcCgocikgPT4gci5pbm5lckhUTUwpKTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSBsaXN0ZW5lcnMgb24gdGhlIGRvY3VtZW50XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2tlZCk7XG4gIH1cbn1cbmNsYXNzIEYge1xuICAvKipcbiAgICogTm90aWZ5IGNvcmUgdGhhdCByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyB0byBwcmVzcyBFbnRlciBpbnNpZGUgdGhlIENvZGVUb29sIHRleHRhcmVhXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgZ2V0IGVuYWJsZUxpbmVCcmVha3MoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgcGx1Z2luYHMgbWFpbiBFbGVtZW50IGFuZCBmaWxsIGl0IHdpdGggc2F2ZWQgZGF0YVxuICAgKlxuICAgKiBAcGFyYW0ge1RhYmxlQ29uc3RydWN0b3J9IGluaXRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogdCwgY29uZmlnOiBlLCBhcGk6IG8sIHJlYWRPbmx5OiBpLCBibG9jazogbiB9KSB7XG4gICAgdGhpcy5hcGkgPSBvLCB0aGlzLnJlYWRPbmx5ID0gaSwgdGhpcy5jb25maWcgPSBlLCB0aGlzLmRhdGEgPSB7XG4gICAgICB3aXRoSGVhZGluZ3M6IHRoaXMuZ2V0Q29uZmlnKFwid2l0aEhlYWRpbmdzXCIsICExLCB0KSxcbiAgICAgIHN0cmV0Y2hlZDogdGhpcy5nZXRDb25maWcoXCJzdHJldGNoZWRcIiwgITEsIHQpLFxuICAgICAgY29udGVudDogdCAmJiB0LmNvbnRlbnQgPyB0LmNvbnRlbnQgOiBbXVxuICAgIH0sIHRoaXMudGFibGUgPSBudWxsLCB0aGlzLmJsb2NrID0gbjtcbiAgfVxuICAvKipcbiAgICogR2V0IFRvb2wgdG9vbGJveCBzZXR0aW5nc1xuICAgKiBpY29uIC0gVG9vbCBpY29uJ3MgU1ZHXG4gICAqIHRpdGxlIC0gdGl0bGUgdG8gc2hvdyBpbiB0b29sYm94XG4gICAqXG4gICAqIEByZXR1cm5zIHt7aWNvbjogc3RyaW5nLCB0aXRsZTogc3RyaW5nfX1cbiAgICovXG4gIHN0YXRpYyBnZXQgdG9vbGJveCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogQSxcbiAgICAgIHRpdGxlOiBcIlRhYmxlXCJcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gVG9vbCdzIHZpZXdcbiAgICpcbiAgICogQHJldHVybnMge0hUTUxEaXZFbGVtZW50fVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnRhYmxlID0gbmV3IEUodGhpcy5yZWFkT25seSwgdGhpcy5hcGksIHRoaXMuZGF0YSwgdGhpcy5jb25maWcpLCB0aGlzLmNvbnRhaW5lciA9IGMoXCJkaXZcIiwgdGhpcy5hcGkuc3R5bGVzLmJsb2NrKSwgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50YWJsZS5nZXRXcmFwcGVyKCkpLCB0aGlzLnRhYmxlLnNldEhlYWRpbmdzU2V0dGluZyh0aGlzLmRhdGEud2l0aEhlYWRpbmdzKSwgdGhpcy5jb250YWluZXI7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgcGx1Z2luIHNldHRpbmdzXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICovXG4gIHJlbmRlclNldHRpbmdzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJXaXRoIGhlYWRpbmdzXCIpLFxuICAgICAgICBpY29uOiBULFxuICAgICAgICBpc0FjdGl2ZTogdGhpcy5kYXRhLndpdGhIZWFkaW5ncyxcbiAgICAgICAgY2xvc2VPbkFjdGl2YXRlOiAhMCxcbiAgICAgICAgdG9nZ2xlOiAhMCxcbiAgICAgICAgb25BY3RpdmF0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YS53aXRoSGVhZGluZ3MgPSAhMCwgdGhpcy50YWJsZS5zZXRIZWFkaW5nc1NldHRpbmcodGhpcy5kYXRhLndpdGhIZWFkaW5ncyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGxhYmVsOiB0aGlzLmFwaS5pMThuLnQoXCJXaXRob3V0IGhlYWRpbmdzXCIpLFxuICAgICAgICBpY29uOiBILFxuICAgICAgICBpc0FjdGl2ZTogIXRoaXMuZGF0YS53aXRoSGVhZGluZ3MsXG4gICAgICAgIGNsb3NlT25BY3RpdmF0ZTogITAsXG4gICAgICAgIHRvZ2dsZTogITAsXG4gICAgICAgIG9uQWN0aXZhdGU6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEud2l0aEhlYWRpbmdzID0gITEsIHRoaXMudGFibGUuc2V0SGVhZGluZ3NTZXR0aW5nKHRoaXMuZGF0YS53aXRoSGVhZGluZ3MpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYWJlbDogdGhpcy5kYXRhLnN0cmV0Y2hlZCA/IHRoaXMuYXBpLmkxOG4udChcIkNvbGxhcHNlXCIpIDogdGhpcy5hcGkuaTE4bi50KFwiU3RyZXRjaFwiKSxcbiAgICAgICAgaWNvbjogdGhpcy5kYXRhLnN0cmV0Y2hlZCA/IFIgOiBPLFxuICAgICAgICBjbG9zZU9uQWN0aXZhdGU6ICEwLFxuICAgICAgICB0b2dnbGU6ICEwLFxuICAgICAgICBvbkFjdGl2YXRlOiAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhLnN0cmV0Y2hlZCA9ICF0aGlzLmRhdGEuc3RyZXRjaGVkLCB0aGlzLmJsb2NrLnN0cmV0Y2hlZCA9IHRoaXMuZGF0YS5zdHJldGNoZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICB9XG4gIC8qKlxuICAgKiBFeHRyYWN0IHRhYmxlIGRhdGEgZnJvbSB0aGUgdmlld1xuICAgKlxuICAgKiBAcmV0dXJucyB7VGFibGVEYXRhfSAtIHNhdmVkIGRhdGFcbiAgICovXG4gIHNhdmUoKSB7XG4gICAgY29uc3QgdCA9IHRoaXMudGFibGUuZ2V0RGF0YSgpO1xuICAgIHJldHVybiB7XG4gICAgICB3aXRoSGVhZGluZ3M6IHRoaXMuZGF0YS53aXRoSGVhZGluZ3MsXG4gICAgICBzdHJldGNoZWQ6IHRoaXMuZGF0YS5zdHJldGNoZWQsXG4gICAgICBjb250ZW50OiB0XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUGx1Z2luIGRlc3Ryb3llclxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50YWJsZS5kZXN0cm95KCk7XG4gIH1cbiAgLyoqXG4gICAqIEEgaGVscGVyIHRvIGdldCBjb25maWcgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWdOYW1lIC0gdGhlIGtleSB0byBnZXQgZnJvbSB0aGUgY29uZmlnLlxuICAgKiBAcGFyYW0ge2FueX0gZGVmYXVsdFZhbHVlIC0gZGVmYXVsdCB2YWx1ZSBpZiBjb25maWcgZG9lc24ndCBoYXZlIHBhc3NlZCBrZXlcbiAgICogQHBhcmFtIHtvYmplY3R9IHNhdmVkRGF0YSAtIHByZXZpb3VzbHkgc2F2ZWQgZGF0YS4gSWYgcGFzc2VkLCB0aGUga2V5IHdpbGwgYmUgZ290IGZyb20gdGhlcmUsIG90aGVyd2lzZSBmcm9tIHRoZSBjb25maWdcbiAgICogQHJldHVybnMge2FueX0gLSBjb25maWcgdmFsdWUuXG4gICAqL1xuICBnZXRDb25maWcodCwgZSA9IHZvaWQgMCwgbyA9IHZvaWQgMCkge1xuICAgIGNvbnN0IGkgPSB0aGlzLmRhdGEgfHwgbztcbiAgICByZXR1cm4gaSA/IGlbdF0gPyBpW3RdIDogZSA6IHRoaXMuY29uZmlnICYmIHRoaXMuY29uZmlnW3RdID8gdGhpcy5jb25maWdbdF0gOiBlO1xuICB9XG4gIC8qKlxuICAgKiBUYWJsZSBvblBhc3RlIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGdldCBwYXN0ZUNvbmZpZygpIHtcbiAgICByZXR1cm4geyB0YWdzOiBbXCJUQUJMRVwiLCBcIlRSXCIsIFwiVEhcIiwgXCJURFwiXSB9O1xuICB9XG4gIC8qKlxuICAgKiBPbiBwYXN0ZSBjYWxsYmFjayB0aGF0IGlzIGZpcmVkIGZyb20gRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBkYXRhXG4gICAqL1xuICBvblBhc3RlKHQpIHtcbiAgICBjb25zdCBlID0gdC5kZXRhaWwuZGF0YSwgbyA9IGUucXVlcnlTZWxlY3RvcihcIjpzY29wZSA+IHRoZWFkLCB0cjpmaXJzdC1vZi10eXBlIHRoXCIpLCBuID0gQXJyYXkuZnJvbShlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0clwiKSkubWFwKChyKSA9PiBBcnJheS5mcm9tKHIucXVlcnlTZWxlY3RvckFsbChcInRoLCB0ZFwiKSkubWFwKChsKSA9PiBsLmlubmVySFRNTCkpO1xuICAgIHRoaXMuZGF0YSA9IHtcbiAgICAgIHdpdGhIZWFkaW5nczogbyAhPT0gbnVsbCxcbiAgICAgIGNvbnRlbnQ6IG5cbiAgICB9LCB0aGlzLnRhYmxlLndyYXBwZXIgJiYgdGhpcy50YWJsZS53cmFwcGVyLnJlcGxhY2VXaXRoKHRoaXMucmVuZGVyKCkpO1xuICB9XG59XG5leHBvcnQge1xuICBGIGFzIGRlZmF1bHRcbn07XG4iLCAiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIuY2UtcmF3dG9vbF9fdGV4dGFyZWF7bWluLWhlaWdodDoyMDBweDtyZXNpemU6dmVydGljYWw7Ym9yZGVyLXJhZGl1czo4cHg7Ym9yZGVyOjA7YmFja2dyb3VuZC1jb2xvcjojMWUyMTI4O2ZvbnQtZmFtaWx5Ok1lbmxvLE1vbmFjbyxDb25zb2xhcyxDb3VyaWVyIE5ldyxtb25vc3BhY2U7Zm9udC1zaXplOjEycHg7bGluZS1oZWlnaHQ6MS42O2xldHRlci1zcGFjaW5nOi0uMnB4O2NvbG9yOiNhMWE3YjY7b3ZlcnNjcm9sbC1iZWhhdmlvcjpjb250YWlufVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlKX19Y2F0Y2gobyl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLG8pfX0pKCk7XG5jb25zdCBhID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIiBkPVwiTTE2LjY5NTQgNUMxNy45MTIgNSAxOC44NDY4IDYuMDc3MTYgMTguNjc1NSA3LjI4MTY1TDE3LjQyNiAxNi4wNjU5QzE3LjMxODMgMTYuODIyOSAxNi43ODg1IDE3LjQ1MjIgMTYuMDYxIDE3LjY4NzNMMTIuNjE1MSAxOC44MDEyQzEyLjIxNTIgMTguOTMwNCAxMS43ODQ4IDE4LjkzMDQgMTEuMzg0OSAxOC44MDEyTDcuOTM4OTggMTcuNjg3M0M3LjIxMTQ4IDE3LjQ1MjIgNi42ODE3IDE2LjgyMjkgNi41NzQwMyAxNi4wNjU5TDUuMzI0NTQgNy4yODE2NUM1LjE1MzIyIDYuMDc3MTYgNi4wODggNSA3LjMwNDYxIDVIMTYuNjk1NFpcIi8+PHBhdGggc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMTUgOC40SDlMOS40Mjg1NyAxMS43OTM5SDE0LjU3MTRMMTQuMzU3MSAxMy4yNzg4TDE0LjE0MjkgMTQuNzYzNkwxMiAxNS40TDkuODU3MTQgMTQuNzYzNkw5Ljc3MTQzIDE0LjMzOTRcIi8+PC9zdmc+Jztcbi8qKlxuICogUmF3IEhUTUwgVG9vbCBmb3IgQ29kZVggRWRpdG9yXG4gKlxuICogQGF1dGhvciBDb2RlWCAodGVhbUBjb2RleC5zbylcbiAqIEBjb3B5cmlnaHQgQ29kZVggMjAxOFxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKi9cbmNsYXNzIHIge1xuICAvKipcbiAgICogTm90aWZ5IGNvcmUgdGhhdCByZWFkLW9ubHkgbW9kZSBpcyBzdXBwb3J0ZWRcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBTaG91bGQgdGhpcyB0b29sIGJlIGRpc3BsYXllZCBhdCB0aGUgRWRpdG9yJ3MgVG9vbGJveFxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGdldCBkaXNwbGF5SW5Ub29sYm94KCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICAvKipcbiAgICogQWxsb3cgdG8gcHJlc3MgRW50ZXIgaW5zaWRlIHRoZSBSYXdUb29sIHRleHRhcmVhXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHVibGljXG4gICAqL1xuICBzdGF0aWMgZ2V0IGVuYWJsZUxpbmVCcmVha3MoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgVG9vbCB0b29sYm94IHNldHRpbmdzXG4gICAqIGljb24gLSBUb29sIGljb24ncyBTVkdcbiAgICogdGl0bGUgLSB0aXRsZSB0byBzaG93IGluIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybnMge3tpY29uOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmd9fVxuICAgKi9cbiAgc3RhdGljIGdldCB0b29sYm94KCkge1xuICAgIHJldHVybiB7XG4gICAgICBpY29uOiBhLFxuICAgICAgdGl0bGU6IFwiUmF3IEhUTUxcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IFJhd0RhdGEgXHUyMDE0IHBsdWdpbiBzYXZlZCBkYXRhXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIC0gcHJldmlvdXNseSBzYXZlZCBIVE1MIGNvZGVcbiAgICogQHByb3BlcnR5XG4gICAqL1xuICAvKipcbiAgICogUmVuZGVyIHBsdWdpbmBzIG1haW4gRWxlbWVudCBhbmQgZmlsbCBpdCB3aXRoIHNhdmVkIGRhdGFcbiAgICpcbiAgICogQHBhcmFtIHtSYXdEYXRhfSBkYXRhIFx1MjAxNCBwcmV2aW91c2x5IHNhdmVkIEhUTUwgZGF0YVxuICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gdXNlciBjb25maWcgZm9yIFRvb2xcbiAgICogQHBhcmFtIHtvYmplY3R9IGFwaSAtIENvZGVYIEVkaXRvciBBUElcbiAgICogQHBhcmFtIHtib29sZWFufSByZWFkT25seSAtIHJlYWQtb25seSBtb2RlIGZsYWdcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgZGF0YTogdCwgY29uZmlnOiBlLCBhcGk6IHMsIHJlYWRPbmx5OiBpIH0pIHtcbiAgICB0aGlzLmFwaSA9IHMsIHRoaXMucmVhZE9ubHkgPSBpLCB0aGlzLnBsYWNlaG9sZGVyID0gZS5wbGFjZWhvbGRlciB8fCByLkRFRkFVTFRfUExBQ0VIT0xERVIsIHRoaXMuQ1NTID0ge1xuICAgICAgYmFzZUNsYXNzOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICBpbnB1dDogdGhpcy5hcGkuc3R5bGVzLmlucHV0LFxuICAgICAgd3JhcHBlcjogXCJjZS1yYXd0b29sXCIsXG4gICAgICB0ZXh0YXJlYTogXCJjZS1yYXd0b29sX190ZXh0YXJlYVwiXG4gICAgfSwgdGhpcy5kYXRhID0ge1xuICAgICAgaHRtbDogdC5odG1sIHx8IFwiXCJcbiAgICB9LCB0aGlzLnRleHRhcmVhID0gbnVsbCwgdGhpcy5yZXNpemVEZWJvdW5jZSA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBUb29sJ3Mgdmlld1xuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9IHRoaXMuZWxlbWVudCAtIFJhd1Rvb2wncyB3cmFwcGVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgZSA9IDEwMDtcbiAgICByZXR1cm4gdGhpcy50ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKSwgdC5jbGFzc0xpc3QuYWRkKHRoaXMuQ1NTLmJhc2VDbGFzcywgdGhpcy5DU1Mud3JhcHBlciksIHRoaXMudGV4dGFyZWEuY2xhc3NMaXN0LmFkZCh0aGlzLkNTUy50ZXh0YXJlYSwgdGhpcy5DU1MuaW5wdXQpLCB0aGlzLnRleHRhcmVhLnRleHRDb250ZW50ID0gdGhpcy5kYXRhLmh0bWwsIHRoaXMudGV4dGFyZWEucGxhY2Vob2xkZXIgPSB0aGlzLnBsYWNlaG9sZGVyLCB0aGlzLnJlYWRPbmx5ID8gdGhpcy50ZXh0YXJlYS5kaXNhYmxlZCA9ICEwIDogdGhpcy50ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5vbklucHV0KCk7XG4gICAgfSksIHQuYXBwZW5kQ2hpbGQodGhpcy50ZXh0YXJlYSksIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICB9LCBlKSwgdDtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHJhd1Rvb2xzV3JhcHBlciAtIFJhd1Rvb2wncyB3cmFwcGVyLCBjb250YWluaW5nIHRleHRhcmVhIHdpdGggcmF3IEhUTUwgY29kZVxuICAgKiBAcmV0dXJucyB7UmF3RGF0YX0gLSByYXcgSFRNTCBjb2RlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNhdmUodCkge1xuICAgIHJldHVybiB7XG4gICAgICBodG1sOiB0LnF1ZXJ5U2VsZWN0b3IoXCJ0ZXh0YXJlYVwiKS52YWx1ZVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERlZmF1bHQgcGxhY2Vob2xkZXIgZm9yIFJhd1Rvb2wncyB0ZXh0YXJlYVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IERFRkFVTFRfUExBQ0VIT0xERVIoKSB7XG4gICAgcmV0dXJuIFwiRW50ZXIgSFRNTCBjb2RlXCI7XG4gIH1cbiAgLyoqXG4gICAqIEF1dG9tYXRpYyBzYW5pdGl6ZSBjb25maWdcbiAgICovXG4gIHN0YXRpYyBnZXQgc2FuaXRpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGh0bWw6ICEwXG4gICAgICAvLyBBbGxvdyBIVE1MIHRhZ3NcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBUZXh0YXJlYSBjaGFuZ2UgZXZlbnRcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBvbklucHV0KCkge1xuICAgIHRoaXMucmVzaXplRGVib3VuY2UgJiYgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplRGVib3VuY2UpLCB0aGlzLnJlc2l6ZURlYm91bmNlID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgIH0sIDIwMCk7XG4gIH1cbiAgLyoqXG4gICAqIFJlc2l6ZSB0ZXh0YXJlYSB0byBmaXQgd2hvbGUgaGVpZ2h0XG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgcmVzaXplKCkge1xuICAgIHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCIsIHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gdGhpcy50ZXh0YXJlYS5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gIH1cbn1cbmV4cG9ydCB7XG4gIHIgYXMgZGVmYXVsdFxufTtcbiIsICIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt0cnl7aWYodHlwZW9mIGRvY3VtZW50PFwidVwiKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnLmNlLWRlbGltaXRlcntsaW5lLWhlaWdodDoxLjZlbTt3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyfS5jZS1kZWxpbWl0ZXI6YmVmb3Jle2Rpc3BsYXk6aW5saW5lLWJsb2NrO2NvbnRlbnQ6XCIqKipcIjtmb250LXNpemU6MzBweDtsaW5lLWhlaWdodDo2NXB4O2hlaWdodDozMHB4O2xldHRlci1zcGFjaW5nOi4yZW19JykpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSl9fWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJ2aXRlLXBsdWdpbi1jc3MtaW5qZWN0ZWQtYnktanNcIix0KX19KSgpO1xuY29uc3QgciA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48bGluZSB4MT1cIjZcIiB4Mj1cIjEwXCIgeTE9XCIxMlwiIHkyPVwiMTJcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSB4MT1cIjE0XCIgeDI9XCIxOFwiIHkxPVwiMTJcIiB5Mj1cIjEyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIi8+PC9zdmc+Jztcbi8qKlxuICogRGVsaW1pdGVyIEJsb2NrIGZvciB0aGUgRWRpdG9yLmpzLlxuICpcbiAqIEBhdXRob3IgQ29kZVggKHRlYW1AaWZtby5zdSlcbiAqIEBjb3B5cmlnaHQgQ29kZVggMjAxOFxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiBAdmVyc2lvbiAyLjAuMFxuICovXG5jbGFzcyBuIHtcbiAgLyoqXG4gICAqIE5vdGlmeSBjb3JlIHRoYXQgcmVhZC1vbmx5IG1vZGUgaXMgc3VwcG9ydGVkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgZ2V0IGlzUmVhZE9ubHlTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIC8qKlxuICAgKiBBbGxvdyBUb29sIHRvIGhhdmUgbm8gY29udGVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGdldCBjb250ZW50bGVzcygpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLyoqXG4gICAqIFJlbmRlciBwbHVnaW5gcyBtYWluIEVsZW1lbnQgYW5kIGZpbGwgaXQgd2l0aCBzYXZlZCBkYXRhXG4gICAqXG4gICAqIEBwYXJhbSB7e2RhdGE6IERlbGltaXRlckRhdGEsIGNvbmZpZzogb2JqZWN0LCBhcGk6IG9iamVjdH19XG4gICAqICAgZGF0YSBcdTIwMTQgcHJldmlvdXNseSBzYXZlZCBkYXRhXG4gICAqICAgY29uZmlnIC0gdXNlciBjb25maWcgZm9yIFRvb2xcbiAgICogICBhcGkgLSBFZGl0b3IuanMgQVBJXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGRhdGE6IHQsIGNvbmZpZzogcywgYXBpOiBlIH0pIHtcbiAgICB0aGlzLmFwaSA9IGUsIHRoaXMuX0NTUyA9IHtcbiAgICAgIGJsb2NrOiB0aGlzLmFwaS5zdHlsZXMuYmxvY2ssXG4gICAgICB3cmFwcGVyOiBcImNlLWRlbGltaXRlclwiXG4gICAgfSwgdGhpcy5fZWxlbWVudCA9IHRoaXMuZHJhd1ZpZXcoKSwgdGhpcy5kYXRhID0gdDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIFRvb2wncyB2aWV3XG4gICAqIEByZXR1cm4ge0hUTUxEaXZFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZHJhd1ZpZXcoKSB7XG4gICAgbGV0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHJldHVybiB0LmNsYXNzTGlzdC5hZGQodGhpcy5fQ1NTLndyYXBwZXIsIHRoaXMuX0NTUy5ibG9jayksIHQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBUb29sJ3Mgdmlld1xuICAgKiBAcmV0dXJucyB7SFRNTERpdkVsZW1lbnR9XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdCBUb29sJ3MgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAqIEBwYXJhbSB7SFRNTERpdkVsZW1lbnR9IHRvb2xzQ29udGVudCAtIFBhcmFncmFwaCB0b29scyByZW5kZXJlZCB2aWV3XG4gICAqIEByZXR1cm5zIHtEZWxpbWl0ZXJEYXRhfSAtIHNhdmVkIGRhdGFcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc2F2ZSh0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgVG9vbCB0b29sYm94IHNldHRpbmdzXG4gICAqIGljb24gLSBUb29sIGljb24ncyBTVkdcbiAgICogdGl0bGUgLSB0aXRsZSB0byBzaG93IGluIHRvb2xib3hcbiAgICpcbiAgICogQHJldHVybiB7e2ljb246IHN0cmluZywgdGl0bGU6IHN0cmluZ319XG4gICAqL1xuICBzdGF0aWMgZ2V0IHRvb2xib3goKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHIsXG4gICAgICB0aXRsZTogXCJEZWxpbWl0ZXJcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERlbGltaXRlciBvblBhc3RlIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgc3RhdGljIGdldCBwYXN0ZUNvbmZpZygpIHtcbiAgICByZXR1cm4geyB0YWdzOiBbXCJIUlwiXSB9O1xuICB9XG4gIC8qKlxuICAgKiBPbiBwYXN0ZSBjYWxsYmFjayB0aGF0IGlzIGZpcmVkIGZyb20gRWRpdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7UGFzdGVFdmVudH0gZXZlbnQgLSBldmVudCB3aXRoIHBhc3RlZCBkYXRhXG4gICAqL1xuICBvblBhc3RlKHQpIHtcbiAgICB0aGlzLmRhdGEgPSB7fTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgbiBhcyBkZWZhdWx0XG59O1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBLEtBQUMsU0FBUyxHQUFFLEdBQUU7QUFBQyxrQkFBVSxPQUFPLFdBQVMsWUFBVSxPQUFPLFNBQU8sT0FBTyxVQUFRLEVBQUUsSUFBRSxjQUFZLE9BQU8sVUFBUSxPQUFPLE1BQUksT0FBTyxDQUFDLEdBQUUsQ0FBQyxJQUFFLFlBQVUsT0FBTyxVQUFRLFFBQVEsWUFBVSxFQUFFLElBQUUsRUFBRSxZQUFVLEVBQUU7QUFBQSxJQUFDLEVBQUUsUUFBUSxXQUFVO0FBQUMsYUFBTyxTQUFTLEdBQUU7QUFBQyxZQUFJLElBQUUsQ0FBQztBQUFFLGlCQUFTQSxHQUFFQyxJQUFFO0FBQUMsY0FBRyxFQUFFQSxFQUFDO0FBQUUsbUJBQU8sRUFBRUEsRUFBQyxFQUFFO0FBQVEsY0FBSUMsS0FBRSxFQUFFRCxFQUFDLElBQUUsRUFBQyxHQUFFQSxJQUFFLEdBQUUsT0FBRyxTQUFRLENBQUMsRUFBQztBQUFFLGlCQUFPLEVBQUVBLEVBQUMsRUFBRSxLQUFLQyxHQUFFLFNBQVFBLElBQUVBLEdBQUUsU0FBUUYsRUFBQyxHQUFFRSxHQUFFLElBQUUsTUFBR0EsR0FBRTtBQUFBLFFBQU87QUFBQyxlQUFPRixHQUFFLElBQUUsR0FBRUEsR0FBRSxJQUFFLEdBQUVBLEdBQUUsSUFBRSxTQUFTRyxJQUFFQyxJQUFFSCxJQUFFO0FBQUMsVUFBQUQsR0FBRSxFQUFFRyxJQUFFQyxFQUFDLEtBQUcsT0FBTyxlQUFlRCxJQUFFQyxJQUFFLEVBQUMsWUFBVyxNQUFHLEtBQUlILEdBQUMsQ0FBQztBQUFBLFFBQUMsR0FBRUQsR0FBRSxJQUFFLFNBQVNHLElBQUU7QUFBQyx5QkFBYSxPQUFPLFVBQVEsT0FBTyxlQUFhLE9BQU8sZUFBZUEsSUFBRSxPQUFPLGFBQVksRUFBQyxPQUFNLFNBQVEsQ0FBQyxHQUFFLE9BQU8sZUFBZUEsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUM7QUFBQSxRQUFDLEdBQUVILEdBQUUsSUFBRSxTQUFTRyxJQUFFQyxJQUFFO0FBQUMsY0FBRyxJQUFFQSxPQUFJRCxLQUFFSCxHQUFFRyxFQUFDLElBQUcsSUFBRUM7QUFBRSxtQkFBT0Q7QUFBRSxjQUFHLElBQUVDLE1BQUcsWUFBVSxPQUFPRCxNQUFHQSxNQUFHQSxHQUFFO0FBQVcsbUJBQU9BO0FBQUUsY0FBSUYsS0FBRSx1QkFBTyxPQUFPLElBQUk7QUFBRSxjQUFHRCxHQUFFLEVBQUVDLEVBQUMsR0FBRSxPQUFPLGVBQWVBLElBQUUsV0FBVSxFQUFDLFlBQVcsTUFBRyxPQUFNRSxHQUFDLENBQUMsR0FBRSxJQUFFQyxNQUFHLFlBQVUsT0FBT0Q7QUFBRSxxQkFBUUQsTUFBS0M7QUFBRSxjQUFBSCxHQUFFLEVBQUVDLElBQUVDLElBQUUsU0FBU0UsSUFBRTtBQUFDLHVCQUFPRCxHQUFFQyxFQUFDO0FBQUEsY0FBQyxFQUFFLEtBQUssTUFBS0YsRUFBQyxDQUFDO0FBQUUsaUJBQU9EO0FBQUEsUUFBQyxHQUFFRCxHQUFFLElBQUUsU0FBU0csSUFBRTtBQUFDLGNBQUlDLEtBQUVELE1BQUdBLEdBQUUsYUFBVyxXQUFVO0FBQUMsbUJBQU9BLEdBQUU7QUFBQSxVQUFPLElBQUUsV0FBVTtBQUFDLG1CQUFPQTtBQUFBLFVBQUM7QUFBRSxpQkFBT0gsR0FBRSxFQUFFSSxJQUFFLEtBQUlBLEVBQUMsR0FBRUE7QUFBQSxRQUFDLEdBQUVKLEdBQUUsSUFBRSxTQUFTRyxJQUFFQyxJQUFFO0FBQUMsaUJBQU8sT0FBTyxVQUFVLGVBQWUsS0FBS0QsSUFBRUMsRUFBQztBQUFBLFFBQUMsR0FBRUosR0FBRSxJQUFFLEtBQUlBLEdBQUVBLEdBQUUsSUFBRSxDQUFDO0FBQUEsTUFBQyxFQUFFLENBQUMsU0FBUyxHQUFFLEdBQUVBLElBQUU7QUFBQyxZQUFJQyxLQUFFRCxHQUFFLENBQUMsR0FBRUUsS0FBRUYsR0FBRSxDQUFDO0FBQUUsb0JBQVUsUUFBT0UsS0FBRUEsR0FBRSxhQUFXQSxHQUFFLFVBQVFBLFFBQUtBLEtBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRUEsSUFBRSxFQUFFLENBQUM7QUFBRyxZQUFJLElBQUUsRUFBQyxRQUFPLFFBQU8sV0FBVSxNQUFFO0FBQUUsUUFBQUQsR0FBRUMsSUFBRSxDQUFDO0FBQUUsVUFBRSxVQUFRQSxHQUFFLFVBQVEsQ0FBQztBQUFBLE1BQUMsR0FBRSxTQUFTLEdBQUUsR0FBRUYsSUFBRTtBQUFDO0FBQWEsWUFBSUMsSUFBRUMsS0FBRSxXQUFVO0FBQUMsaUJBQU8sV0FBU0QsT0FBSUEsS0FBRSxRQUFRLFVBQVEsWUFBVSxTQUFTLE9BQUssQ0FBQyxPQUFPLElBQUksSUFBR0E7QUFBQSxRQUFDLEdBQUUsSUFBRSwyQkFBVTtBQUFDLGNBQUlFLEtBQUUsQ0FBQztBQUFFLGlCQUFPLFNBQVNDLElBQUU7QUFBQyxnQkFBRyxXQUFTRCxHQUFFQyxFQUFDLEdBQUU7QUFBQyxrQkFBSUosS0FBRSxTQUFTLGNBQWNJLEVBQUM7QUFBRSxrQkFBRyxPQUFPLHFCQUFtQkosY0FBYSxPQUFPO0FBQWtCLG9CQUFHO0FBQUMsa0JBQUFBLEtBQUVBLEdBQUUsZ0JBQWdCO0FBQUEsZ0JBQUksU0FBT0csSUFBRTtBQUFDLGtCQUFBSCxLQUFFO0FBQUEsZ0JBQUk7QUFBQyxjQUFBRyxHQUFFQyxFQUFDLElBQUVKO0FBQUEsWUFBQztBQUFDLG1CQUFPRyxHQUFFQyxFQUFDO0FBQUEsVUFBQztBQUFBLFFBQUMsRUFBRSxHQUFFQyxLQUFFLENBQUM7QUFBRSxpQkFBU0MsR0FBRUgsSUFBRTtBQUFDLG1CQUFRQyxLQUFFLElBQUdKLEtBQUUsR0FBRUEsS0FBRUssR0FBRSxRQUFPTDtBQUFJLGdCQUFHSyxHQUFFTCxFQUFDLEVBQUUsZUFBYUcsSUFBRTtBQUFDLGNBQUFDLEtBQUVKO0FBQUU7QUFBQSxZQUFLO0FBQUMsaUJBQU9JO0FBQUEsUUFBQztBQUFDLGlCQUFTRyxHQUFFSixJQUFFQyxJQUFFO0FBQUMsbUJBQVFKLEtBQUUsQ0FBQyxHQUFFQyxLQUFFLENBQUMsR0FBRUMsS0FBRSxHQUFFQSxLQUFFQyxHQUFFLFFBQU9ELE1BQUk7QUFBQyxnQkFBSU0sS0FBRUwsR0FBRUQsRUFBQyxHQUFFSyxLQUFFSCxHQUFFLE9BQUtJLEdBQUUsQ0FBQyxJQUFFSixHQUFFLE9BQUtJLEdBQUUsQ0FBQyxHQUFFQyxLQUFFVCxHQUFFTyxFQUFDLEtBQUcsR0FBRUcsS0FBRSxHQUFHLE9BQU9ILElBQUUsR0FBRyxFQUFFLE9BQU9FLEVBQUM7QUFBRSxZQUFBVCxHQUFFTyxFQUFDLElBQUVFLEtBQUU7QUFBRSxnQkFBSUUsS0FBRUwsR0FBRUksRUFBQyxHQUFFRSxLQUFFLEVBQUMsS0FBSUosR0FBRSxDQUFDLEdBQUUsT0FBTUEsR0FBRSxDQUFDLEdBQUUsV0FBVUEsR0FBRSxDQUFDLEVBQUM7QUFBRSxtQkFBS0csTUFBR04sR0FBRU0sRUFBQyxFQUFFLGNBQWFOLEdBQUVNLEVBQUMsRUFBRSxRQUFRQyxFQUFDLEtBQUdQLEdBQUUsS0FBSyxFQUFDLFlBQVdLLElBQUUsU0FBUUcsR0FBRUQsSUFBRVIsRUFBQyxHQUFFLFlBQVcsRUFBQyxDQUFDLEdBQUVILEdBQUUsS0FBS1MsRUFBQztBQUFBLFVBQUM7QUFBQyxpQkFBT1Q7QUFBQSxRQUFDO0FBQUMsaUJBQVNRLEdBQUVOLElBQUU7QUFBQyxjQUFJQyxLQUFFLFNBQVMsY0FBYyxPQUFPLEdBQUVILEtBQUVFLEdBQUUsY0FBWSxDQUFDO0FBQUUsY0FBRyxXQUFTRixHQUFFLE9BQU07QUFBQyxnQkFBSUMsS0FBRUYsR0FBRTtBQUFHLFlBQUFFLE9BQUlELEdBQUUsUUFBTUM7QUFBQSxVQUFFO0FBQUMsY0FBRyxPQUFPLEtBQUtELEVBQUMsRUFBRSxRQUFTLFNBQVNFLElBQUU7QUFBQyxZQUFBQyxHQUFFLGFBQWFELElBQUVGLEdBQUVFLEVBQUMsQ0FBQztBQUFBLFVBQUMsQ0FBRSxHQUFFLGNBQVksT0FBT0EsR0FBRTtBQUFPLFlBQUFBLEdBQUUsT0FBT0MsRUFBQztBQUFBLGVBQU07QUFBQyxnQkFBSUMsS0FBRSxFQUFFRixHQUFFLFVBQVEsTUFBTTtBQUFFLGdCQUFHLENBQUNFO0FBQUUsb0JBQU0sSUFBSSxNQUFNLHlHQUF5RztBQUFFLFlBQUFBLEdBQUUsWUFBWUQsRUFBQztBQUFBLFVBQUM7QUFBQyxpQkFBT0E7QUFBQSxRQUFDO0FBQUMsWUFBSU0sSUFBRUMsTUFBR0QsS0FBRSxDQUFDLEdBQUUsU0FBU1AsSUFBRUMsSUFBRTtBQUFDLGlCQUFPTSxHQUFFUCxFQUFDLElBQUVDLElBQUVNLEdBQUUsT0FBTyxPQUFPLEVBQUUsS0FBSyxJQUFJO0FBQUEsUUFBQztBQUFHLGlCQUFTRSxHQUFFVCxJQUFFQyxJQUFFSixJQUFFQyxJQUFFO0FBQUMsY0FBSUMsS0FBRUYsS0FBRSxLQUFHQyxHQUFFLFFBQU0sVUFBVSxPQUFPQSxHQUFFLE9BQU0sSUFBSSxFQUFFLE9BQU9BLEdBQUUsS0FBSSxHQUFHLElBQUVBLEdBQUU7QUFBSSxjQUFHRSxHQUFFO0FBQVcsWUFBQUEsR0FBRSxXQUFXLFVBQVFRLEdBQUVQLElBQUVGLEVBQUM7QUFBQSxlQUFNO0FBQUMsZ0JBQUlNLEtBQUUsU0FBUyxlQUFlTixFQUFDLEdBQUVHLEtBQUVGLEdBQUU7QUFBVyxZQUFBRSxHQUFFRCxFQUFDLEtBQUdELEdBQUUsWUFBWUUsR0FBRUQsRUFBQyxDQUFDLEdBQUVDLEdBQUUsU0FBT0YsR0FBRSxhQUFhSyxJQUFFSCxHQUFFRCxFQUFDLENBQUMsSUFBRUQsR0FBRSxZQUFZSyxFQUFDO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxpQkFBU00sR0FBRVgsSUFBRUMsSUFBRUosSUFBRTtBQUFDLGNBQUlDLEtBQUVELEdBQUUsS0FBSUUsS0FBRUYsR0FBRSxPQUFNUSxLQUFFUixHQUFFO0FBQVUsY0FBR0UsS0FBRUMsR0FBRSxhQUFhLFNBQVFELEVBQUMsSUFBRUMsR0FBRSxnQkFBZ0IsT0FBTyxHQUFFSyxNQUFHLGVBQWEsT0FBTyxTQUFPUCxNQUFHLHVEQUF1RCxPQUFPLEtBQUssU0FBUyxtQkFBbUIsS0FBSyxVQUFVTyxFQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUUsS0FBSyxJQUFHTCxHQUFFO0FBQVcsWUFBQUEsR0FBRSxXQUFXLFVBQVFGO0FBQUEsZUFBTTtBQUFDLG1CQUFLRSxHQUFFO0FBQVksY0FBQUEsR0FBRSxZQUFZQSxHQUFFLFVBQVU7QUFBRSxZQUFBQSxHQUFFLFlBQVksU0FBUyxlQUFlRixFQUFDLENBQUM7QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFDLFlBQUljLEtBQUUsTUFBS0MsS0FBRTtBQUFFLGlCQUFTSCxHQUFFVixJQUFFQyxJQUFFO0FBQUMsY0FBSUosSUFBRUMsSUFBRUM7QUFBRSxjQUFHRSxHQUFFLFdBQVU7QUFBQyxnQkFBSUksS0FBRVE7QUFBSSxZQUFBaEIsS0FBRWUsT0FBSUEsS0FBRU4sR0FBRUwsRUFBQyxJQUFHSCxLQUFFVyxHQUFFLEtBQUssTUFBS1osSUFBRVEsSUFBRSxLQUFFLEdBQUVOLEtBQUVVLEdBQUUsS0FBSyxNQUFLWixJQUFFUSxJQUFFLElBQUU7QUFBQSxVQUFDO0FBQU0sWUFBQVIsS0FBRVMsR0FBRUwsRUFBQyxHQUFFSCxLQUFFYSxHQUFFLEtBQUssTUFBS2QsSUFBRUksRUFBQyxHQUFFRixLQUFFLFdBQVU7QUFBQyxlQUFDLFNBQVNDLElBQUU7QUFBQyxvQkFBRyxTQUFPQSxHQUFFO0FBQVcseUJBQU07QUFBRyxnQkFBQUEsR0FBRSxXQUFXLFlBQVlBLEVBQUM7QUFBQSxjQUFDLEVBQUVILEVBQUM7QUFBQSxZQUFDO0FBQUUsaUJBQU9DLEdBQUVFLEVBQUMsR0FBRSxTQUFTQyxJQUFFO0FBQUMsZ0JBQUdBLElBQUU7QUFBQyxrQkFBR0EsR0FBRSxRQUFNRCxHQUFFLE9BQUtDLEdBQUUsVUFBUUQsR0FBRSxTQUFPQyxHQUFFLGNBQVlELEdBQUU7QUFBVTtBQUFPLGNBQUFGLEdBQUVFLEtBQUVDLEVBQUM7QUFBQSxZQUFDO0FBQU0sY0FBQUYsR0FBRTtBQUFBLFVBQUM7QUFBQSxRQUFDO0FBQUMsVUFBRSxVQUFRLFNBQVNDLElBQUVDLElBQUU7QUFBQyxXQUFDQSxLQUFFQSxNQUFHLENBQUMsR0FBRyxhQUFXLGFBQVcsT0FBT0EsR0FBRSxjQUFZQSxHQUFFLFlBQVVGLEdBQUU7QUFBRyxjQUFJRixLQUFFTyxHQUFFSixLQUFFQSxNQUFHLENBQUMsR0FBRUMsRUFBQztBQUFFLGlCQUFPLFNBQVNELElBQUU7QUFBQyxnQkFBR0EsS0FBRUEsTUFBRyxDQUFDLEdBQUUscUJBQW1CLE9BQU8sVUFBVSxTQUFTLEtBQUtBLEVBQUMsR0FBRTtBQUFDLHVCQUFRRixLQUFFLEdBQUVBLEtBQUVELEdBQUUsUUFBT0MsTUFBSTtBQUFDLG9CQUFJQyxLQUFFSSxHQUFFTixHQUFFQyxFQUFDLENBQUM7QUFBRSxnQkFBQUksR0FBRUgsRUFBQyxFQUFFO0FBQUEsY0FBWTtBQUFDLHVCQUFRTSxLQUFFRCxHQUFFSixJQUFFQyxFQUFDLEdBQUVLLEtBQUUsR0FBRUEsS0FBRVQsR0FBRSxRQUFPUyxNQUFJO0FBQUMsb0JBQUlDLEtBQUVKLEdBQUVOLEdBQUVTLEVBQUMsQ0FBQztBQUFFLHNCQUFJSixHQUFFSyxFQUFDLEVBQUUsZUFBYUwsR0FBRUssRUFBQyxFQUFFLFFBQVEsR0FBRUwsR0FBRSxPQUFPSyxJQUFFLENBQUM7QUFBQSxjQUFFO0FBQUMsY0FBQVYsS0FBRVE7QUFBQSxZQUFDO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQSxNQUFDLEdBQUUsU0FBUyxHQUFFLEdBQUVSLElBQUU7QUFBQyxTQUFDLElBQUVBLEdBQUUsQ0FBQyxFQUFFLEtBQUUsR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFFLDBEQUF5RCxFQUFFLENBQUMsR0FBRSxFQUFFLFVBQVE7QUFBQSxNQUFDLEdBQUUsU0FBUyxHQUFFLEdBQUVBLElBQUU7QUFBQztBQUFhLFVBQUUsVUFBUSxTQUFTRyxJQUFFO0FBQUMsY0FBSUMsS0FBRSxDQUFDO0FBQUUsaUJBQU9BLEdBQUUsV0FBUyxXQUFVO0FBQUMsbUJBQU8sS0FBSyxJQUFLLFNBQVNBLElBQUU7QUFBQyxrQkFBSUosS0FBRSxTQUFTRyxJQUFFQyxJQUFFO0FBQUMsb0JBQUlKLEtBQUVHLEdBQUUsQ0FBQyxLQUFHLElBQUdGLEtBQUVFLEdBQUUsQ0FBQztBQUFFLG9CQUFHLENBQUNGO0FBQUUseUJBQU9EO0FBQUUsb0JBQUdJLE1BQUcsY0FBWSxPQUFPLE1BQUs7QUFBQyxzQkFBSUYsTUFBR0csS0FBRUosSUFBRUssS0FBRSxLQUFLLFNBQVMsbUJBQW1CLEtBQUssVUFBVUQsRUFBQyxDQUFDLENBQUMsQ0FBQyxHQUFFRSxLQUFFLCtEQUErRCxPQUFPRCxFQUFDLEdBQUUsT0FBTyxPQUFPQyxJQUFFLEtBQUssSUFBRyxJQUFFTixHQUFFLFFBQVEsSUFBSyxTQUFTRSxJQUFFO0FBQUMsMkJBQU0saUJBQWlCLE9BQU9GLEdBQUUsY0FBWSxFQUFFLEVBQUUsT0FBT0UsSUFBRSxLQUFLO0FBQUEsa0JBQUMsQ0FBRTtBQUFFLHlCQUFNLENBQUNILEVBQUMsRUFBRSxPQUFPLENBQUMsRUFBRSxPQUFPLENBQUNFLEVBQUMsQ0FBQyxFQUFFLEtBQUssSUFBSTtBQUFBLGdCQUFDO0FBQUMsb0JBQUlHLElBQUVDLElBQUVDO0FBQUUsdUJBQU0sQ0FBQ1AsRUFBQyxFQUFFLEtBQUssSUFBSTtBQUFBLGNBQUMsRUFBRUksSUFBRUQsRUFBQztBQUFFLHFCQUFPQyxHQUFFLENBQUMsSUFBRSxVQUFVLE9BQU9BLEdBQUUsQ0FBQyxHQUFFLElBQUksRUFBRSxPQUFPSixJQUFFLEdBQUcsSUFBRUE7QUFBQSxZQUFDLENBQUUsRUFBRSxLQUFLLEVBQUU7QUFBQSxVQUFDLEdBQUVJLEdBQUUsSUFBRSxTQUFTRCxJQUFFSCxJQUFFQyxJQUFFO0FBQUMsd0JBQVUsT0FBT0UsT0FBSUEsS0FBRSxDQUFDLENBQUMsTUFBS0EsSUFBRSxFQUFFLENBQUM7QUFBRyxnQkFBSUQsS0FBRSxDQUFDO0FBQUUsZ0JBQUdEO0FBQUUsdUJBQVEsSUFBRSxHQUFFLElBQUUsS0FBSyxRQUFPLEtBQUk7QUFBQyxvQkFBSUksS0FBRSxLQUFLLENBQUMsRUFBRSxDQUFDO0FBQUUsd0JBQU1BLE9BQUlILEdBQUVHLEVBQUMsSUFBRTtBQUFBLGNBQUc7QUFBQyxxQkFBUUMsS0FBRSxHQUFFQSxLQUFFSCxHQUFFLFFBQU9HLE1BQUk7QUFBQyxrQkFBSUMsS0FBRSxDQUFDLEVBQUUsT0FBT0osR0FBRUcsRUFBQyxDQUFDO0FBQUUsY0FBQUwsTUFBR0MsR0FBRUssR0FBRSxDQUFDLENBQUMsTUFBSVAsT0FBSU8sR0FBRSxDQUFDLElBQUVBLEdBQUUsQ0FBQyxJQUFFLEdBQUcsT0FBT1AsSUFBRSxPQUFPLEVBQUUsT0FBT08sR0FBRSxDQUFDLENBQUMsSUFBRUEsR0FBRSxDQUFDLElBQUVQLEtBQUdJLEdBQUUsS0FBS0csRUFBQztBQUFBLFlBQUU7QUFBQSxVQUFDLEdBQUVIO0FBQUEsUUFBQztBQUFBLE1BQUMsR0FBRSxTQUFTLEdBQUUsR0FBRUosSUFBRTtBQUFDO0FBQWEsUUFBQUEsR0FBRSxFQUFFLENBQUMsR0FBRUEsR0FBRSxFQUFFLEdBQUUsV0FBVyxXQUFVO0FBQUMsaUJBQU87QUFBQSxRQUFDLENBQUU7QUFBRSxRQUFBQSxHQUFFLENBQUM7QUFBRSxpQkFBU0MsR0FBRUUsSUFBRTtBQUFDLGtCQUFPRixLQUFFLGNBQVksT0FBTyxVQUFRLFlBQVUsT0FBTyxPQUFPLFdBQVMsU0FBU0UsSUFBRTtBQUFDLG1CQUFPLE9BQU9BO0FBQUEsVUFBQyxJQUFFLFNBQVNBLElBQUU7QUFBQyxtQkFBT0EsTUFBRyxjQUFZLE9BQU8sVUFBUUEsR0FBRSxnQkFBYyxVQUFRQSxPQUFJLE9BQU8sWUFBVSxXQUFTLE9BQU9BO0FBQUEsVUFBQyxHQUFHQSxFQUFDO0FBQUEsUUFBQztBQUFDLGlCQUFTRCxHQUFFQyxJQUFFQyxJQUFFO0FBQUMsbUJBQVFKLEtBQUUsR0FBRUEsS0FBRUksR0FBRSxRQUFPSixNQUFJO0FBQUMsZ0JBQUlFLEtBQUVFLEdBQUVKLEVBQUM7QUFBRSxZQUFBRSxHQUFFLGFBQVdBLEdBQUUsY0FBWSxPQUFHQSxHQUFFLGVBQWEsTUFBRyxXQUFVQSxPQUFJQSxHQUFFLFdBQVMsT0FBSSxPQUFPLGVBQWVDLEtBQUdLLEtBQUVOLEdBQUUsS0FBSUcsS0FBRSxRQUFPQSxLQUFFLFNBQVNGLElBQUVDLElBQUU7QUFBQyxrQkFBRyxhQUFXSCxHQUFFRSxFQUFDLEtBQUcsU0FBT0E7QUFBRSx1QkFBT0E7QUFBRSxrQkFBSUgsS0FBRUcsR0FBRSxPQUFPLFdBQVc7QUFBRSxrQkFBRyxXQUFTSCxJQUFFO0FBQUMsb0JBQUlFLEtBQUVGLEdBQUUsS0FBS0csSUFBRUMsTUFBRyxTQUFTO0FBQUUsb0JBQUcsYUFBV0gsR0FBRUMsRUFBQztBQUFFLHlCQUFPQTtBQUFFLHNCQUFNLElBQUksVUFBVSw4Q0FBOEM7QUFBQSxjQUFDO0FBQUMsc0JBQU8sYUFBV0UsS0FBRSxTQUFPLFFBQVFELEVBQUM7QUFBQSxZQUFDLEVBQUVLLElBQUUsUUFBUSxHQUFFLGFBQVdQLEdBQUVJLEVBQUMsSUFBRUEsS0FBRSxPQUFPQSxFQUFDLElBQUdILEVBQUM7QUFBQSxVQUFDO0FBQUMsY0FBSU0sSUFBRUg7QUFBQSxRQUFDO0FBQUMsWUFBSSxJQUFFLFdBQVU7QUFBQyxtQkFBU0YsR0FBRUMsSUFBRTtBQUFDLGdCQUFJSixLQUFFSSxHQUFFO0FBQUksYUFBQyxTQUFTRCxJQUFFQyxJQUFFO0FBQUMsa0JBQUcsRUFBRUQsY0FBYUM7QUFBRyxzQkFBTSxJQUFJLFVBQVUsbUNBQW1DO0FBQUEsWUFBQyxFQUFFLE1BQUtELEVBQUMsR0FBRSxLQUFLLE1BQUlILElBQUUsS0FBSyxTQUFPLE1BQUssS0FBSyxNQUFJLEtBQUksS0FBSyxjQUFZLEVBQUMsTUFBSyxLQUFLLElBQUksT0FBTyxrQkFBaUIsUUFBTyxLQUFLLElBQUksT0FBTyx1QkFBc0I7QUFBQSxVQUFDO0FBQUMsY0FBSUksSUFBRUosSUFBRUM7QUFBRSxpQkFBT0csS0FBRUQsSUFBRUYsS0FBRSxDQUFDLEVBQUMsS0FBSSxPQUFNLEtBQUksV0FBVTtBQUFDLG1CQUFNO0FBQUEsVUFBZSxFQUFDLEdBQUUsRUFBQyxLQUFJLFlBQVcsS0FBSSxXQUFVO0FBQUMsbUJBQU07QUFBQSxVQUFFLEVBQUMsR0FBRSxFQUFDLEtBQUksWUFBVyxLQUFJLFdBQVU7QUFBQyxtQkFBTSxFQUFDLEdBQUUsRUFBQyxPQUFNRSxHQUFFLElBQUcsRUFBQztBQUFBLFVBQUMsRUFBQyxDQUFDLElBQUdILEtBQUUsQ0FBQyxFQUFDLEtBQUksVUFBUyxPQUFNLFdBQVU7QUFBQyxtQkFBTyxLQUFLLFNBQU8sU0FBUyxjQUFjLFFBQVEsR0FBRSxLQUFLLE9BQU8sT0FBSyxVQUFTLEtBQUssT0FBTyxVQUFVLElBQUksS0FBSyxZQUFZLElBQUksR0FBRSxLQUFLLE9BQU8sWUFBVSxLQUFLLGFBQVksS0FBSztBQUFBLFVBQU0sRUFBQyxHQUFFLEVBQUMsS0FBSSxZQUFXLE9BQU0sU0FBU0ksSUFBRTtBQUFDLGdCQUFHQSxJQUFFO0FBQUMsa0JBQUlKLEtBQUUsS0FBSyxJQUFJLFVBQVUsY0FBYyxLQUFLLEtBQUlHLEdBQUUsR0FBRztBQUFFLGNBQUFILEtBQUUsS0FBSyxPQUFPQSxFQUFDLElBQUUsS0FBSyxLQUFLSSxFQUFDO0FBQUEsWUFBQztBQUFBLFVBQUMsRUFBQyxHQUFFLEVBQUMsS0FBSSxRQUFPLE9BQU0sU0FBU0EsSUFBRTtBQUFDLGdCQUFJSixLQUFFLFNBQVMsY0FBYyxLQUFLLEdBQUc7QUFBRSxZQUFBQSxHQUFFLFVBQVUsSUFBSUcsR0FBRSxHQUFHLEdBQUVILEdBQUUsWUFBWUksR0FBRSxnQkFBZ0IsQ0FBQyxHQUFFQSxHQUFFLFdBQVdKLEVBQUMsR0FBRSxLQUFLLElBQUksVUFBVSxZQUFZQSxFQUFDO0FBQUEsVUFBQyxFQUFDLEdBQUUsRUFBQyxLQUFJLFVBQVMsT0FBTSxTQUFTRyxJQUFFO0FBQUMsaUJBQUssSUFBSSxVQUFVLFlBQVlBLEVBQUM7QUFBRSxnQkFBSUMsS0FBRSxPQUFPLGFBQWEsR0FBRUosS0FBRUksR0FBRSxXQUFXLENBQUMsR0FBRUgsS0FBRUQsR0FBRSxnQkFBZ0I7QUFBRSxZQUFBRyxHQUFFLFdBQVcsWUFBWUEsRUFBQyxHQUFFSCxHQUFFLFdBQVdDLEVBQUMsR0FBRUcsR0FBRSxnQkFBZ0IsR0FBRUEsR0FBRSxTQUFTSixFQUFDO0FBQUEsVUFBQyxFQUFDLEdBQUUsRUFBQyxLQUFJLGNBQWEsT0FBTSxXQUFVO0FBQUMsZ0JBQUlJLEtBQUUsS0FBSyxJQUFJLFVBQVUsY0FBYyxLQUFLLEtBQUlELEdBQUUsR0FBRztBQUFFLGlCQUFLLE9BQU8sVUFBVSxPQUFPLEtBQUssWUFBWSxRQUFPLENBQUMsQ0FBQ0MsRUFBQztBQUFBLFVBQUMsRUFBQyxHQUFFLEVBQUMsS0FBSSxlQUFjLEtBQUksV0FBVTtBQUFDLG1CQUFNO0FBQUEsVUFBNGUsRUFBQyxDQUFDLE1BQUlGLEdBQUVFLEdBQUUsV0FBVUosRUFBQyxHQUFFQyxNQUFHQyxHQUFFRSxJQUFFSCxFQUFDLEdBQUUsT0FBTyxlQUFlRyxJQUFFLGFBQVksRUFBQyxVQUFTLE1BQUUsQ0FBQyxHQUFFRDtBQUFBLFFBQUMsRUFBRTtBQUFBLE1BQUMsQ0FBQyxDQUFDLEVBQUU7QUFBQSxJQUFPLENBQUU7QUFBQTtBQUFBOzs7QUNBM2lQO0FBQUE7QUFBQSxLQUFDLFNBQVMsR0FBRSxHQUFFO0FBQUMsa0JBQVUsT0FBTyxXQUFTLFlBQVUsT0FBTyxTQUFPLE9BQU8sVUFBUSxFQUFFLElBQUUsY0FBWSxPQUFPLFVBQVEsT0FBTyxNQUFJLE9BQU8sQ0FBQyxHQUFFLENBQUMsSUFBRSxZQUFVLE9BQU8sVUFBUSxRQUFRLGdCQUFjLEVBQUUsSUFBRSxFQUFFLGdCQUFjLEVBQUU7QUFBQSxJQUFDLEVBQUUsUUFBUSxXQUFVO0FBQUMsYUFBTyxTQUFTLEdBQUU7QUFBQyxZQUFJLElBQUUsQ0FBQztBQUFFLGlCQUFTYyxHQUFFQyxJQUFFO0FBQUMsY0FBRyxFQUFFQSxFQUFDO0FBQUUsbUJBQU8sRUFBRUEsRUFBQyxFQUFFO0FBQVEsY0FBSSxJQUFFLEVBQUVBLEVBQUMsSUFBRSxFQUFDLEdBQUVBLElBQUUsR0FBRSxPQUFHLFNBQVEsQ0FBQyxFQUFDO0FBQUUsaUJBQU8sRUFBRUEsRUFBQyxFQUFFLEtBQUssRUFBRSxTQUFRLEdBQUUsRUFBRSxTQUFRRCxFQUFDLEdBQUUsRUFBRSxJQUFFLE1BQUcsRUFBRTtBQUFBLFFBQU87QUFBQyxlQUFPQSxHQUFFLElBQUUsR0FBRUEsR0FBRSxJQUFFLEdBQUVBLEdBQUUsSUFBRSxTQUFTRSxJQUFFQyxJQUFFRixJQUFFO0FBQUMsVUFBQUQsR0FBRSxFQUFFRSxJQUFFQyxFQUFDLEtBQUcsT0FBTyxlQUFlRCxJQUFFQyxJQUFFLEVBQUMsWUFBVyxNQUFHLEtBQUlGLEdBQUMsQ0FBQztBQUFBLFFBQUMsR0FBRUQsR0FBRSxJQUFFLFNBQVNFLElBQUU7QUFBQyx5QkFBYSxPQUFPLFVBQVEsT0FBTyxlQUFhLE9BQU8sZUFBZUEsSUFBRSxPQUFPLGFBQVksRUFBQyxPQUFNLFNBQVEsQ0FBQyxHQUFFLE9BQU8sZUFBZUEsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUM7QUFBQSxRQUFDLEdBQUVGLEdBQUUsSUFBRSxTQUFTRSxJQUFFQyxJQUFFO0FBQUMsY0FBRyxJQUFFQSxPQUFJRCxLQUFFRixHQUFFRSxFQUFDLElBQUcsSUFBRUM7QUFBRSxtQkFBT0Q7QUFBRSxjQUFHLElBQUVDLE1BQUcsWUFBVSxPQUFPRCxNQUFHQSxNQUFHQSxHQUFFO0FBQVcsbUJBQU9BO0FBQUUsY0FBSUQsS0FBRSx1QkFBTyxPQUFPLElBQUk7QUFBRSxjQUFHRCxHQUFFLEVBQUVDLEVBQUMsR0FBRSxPQUFPLGVBQWVBLElBQUUsV0FBVSxFQUFDLFlBQVcsTUFBRyxPQUFNQyxHQUFDLENBQUMsR0FBRSxJQUFFQyxNQUFHLFlBQVUsT0FBT0Q7QUFBRSxxQkFBUSxLQUFLQTtBQUFFLGNBQUFGLEdBQUUsRUFBRUMsSUFBRSxHQUFFLFNBQVNFLElBQUU7QUFBQyx1QkFBT0QsR0FBRUMsRUFBQztBQUFBLGNBQUMsRUFBRSxLQUFLLE1BQUssQ0FBQyxDQUFDO0FBQUUsaUJBQU9GO0FBQUEsUUFBQyxHQUFFRCxHQUFFLElBQUUsU0FBU0UsSUFBRTtBQUFDLGNBQUlDLEtBQUVELE1BQUdBLEdBQUUsYUFBVyxXQUFVO0FBQUMsbUJBQU9BLEdBQUU7QUFBQSxVQUFPLElBQUUsV0FBVTtBQUFDLG1CQUFPQTtBQUFBLFVBQUM7QUFBRSxpQkFBT0YsR0FBRSxFQUFFRyxJQUFFLEtBQUlBLEVBQUMsR0FBRUE7QUFBQSxRQUFDLEdBQUVILEdBQUUsSUFBRSxTQUFTRSxJQUFFQyxJQUFFO0FBQUMsaUJBQU8sT0FBTyxVQUFVLGVBQWUsS0FBS0QsSUFBRUMsRUFBQztBQUFBLFFBQUMsR0FBRUgsR0FBRSxJQUFFLElBQUdBLEdBQUVBLEdBQUUsSUFBRSxDQUFDO0FBQUEsTUFBQyxFQUFFLENBQUMsU0FBUyxHQUFFLEdBQUVBLElBQUU7QUFBQztBQUFhLFFBQUFBLEdBQUUsRUFBRSxDQUFDLEdBQUVBLEdBQUUsRUFBRSxHQUFFLG1CQUFtQixXQUFVO0FBQUMsaUJBQU9JO0FBQUEsUUFBQyxDQUFFO0FBQUEsUUFBRSxNQUFNSCxXQUFVLFlBQVc7QUFBQSxRQUFDO0FBQUEsUUFBQyxNQUFNLFVBQVUsTUFBSztBQUFBLFVBQUMsZUFBZUMsSUFBRTtBQUFDLGtCQUFNLEdBQUdBLEVBQUMsR0FBRSxLQUFLLE9BQUs7QUFBQSxVQUFvQjtBQUFBLFFBQUM7QUFBQyxZQUFJRyxJQUFFQyxJQUFFQyxLQUFFLFNBQVNMLElBQUVDLElBQUVILElBQUVDLElBQUVPLElBQUU7QUFBQyxjQUFHLFFBQU1QO0FBQUUsa0JBQU0sSUFBSSxVQUFVLGdDQUFnQztBQUFFLGNBQUcsUUFBTUEsTUFBRyxDQUFDTztBQUFFLGtCQUFNLElBQUksVUFBVSwrQ0FBK0M7QUFBRSxjQUFHLGNBQVksT0FBT0wsS0FBRUQsT0FBSUMsTUFBRyxDQUFDSyxLQUFFLENBQUNMLEdBQUUsSUFBSUQsRUFBQztBQUFFLGtCQUFNLElBQUksVUFBVSx5RUFBeUU7QUFBRSxpQkFBTSxRQUFNRCxLQUFFTyxHQUFFLEtBQUtOLElBQUVGLEVBQUMsSUFBRVEsS0FBRUEsR0FBRSxRQUFNUixLQUFFRyxHQUFFLElBQUlELElBQUVGLEVBQUMsR0FBRUE7QUFBQSxRQUFDLEdBQUVTLEtBQUUsU0FBU1AsSUFBRUMsSUFBRUgsSUFBRUMsSUFBRTtBQUFDLGNBQUcsUUFBTUQsTUFBRyxDQUFDQztBQUFFLGtCQUFNLElBQUksVUFBVSwrQ0FBK0M7QUFBRSxjQUFHLGNBQVksT0FBT0UsS0FBRUQsT0FBSUMsTUFBRyxDQUFDRixLQUFFLENBQUNFLEdBQUUsSUFBSUQsRUFBQztBQUFFLGtCQUFNLElBQUksVUFBVSwwRUFBMEU7QUFBRSxpQkFBTSxRQUFNRixLQUFFQyxLQUFFLFFBQU1ELEtBQUVDLEdBQUUsS0FBS0MsRUFBQyxJQUFFRCxLQUFFQSxHQUFFLFFBQU1FLEdBQUUsSUFBSUQsRUFBQztBQUFBLFFBQUM7QUFBQSxRQUFFLE1BQU1FLEdBQUM7QUFBQSxVQUFDLFlBQVksRUFBQyxLQUFJRixHQUFDLEdBQUU7QUFBQyxZQUFBRyxHQUFFLElBQUksTUFBSyxNQUFNLEdBQUVDLEdBQUUsSUFBSSxNQUFLLE1BQU0sR0FBRUMsR0FBRSxNQUFLRixJQUFFLFNBQVMsY0FBYyxLQUFLLEdBQUUsR0FBRyxHQUFFRSxHQUFFLE1BQUtELElBQUVKLElBQUUsR0FBRztBQUFBLFVBQUM7QUFBQSxVQUFDLFdBQVcsV0FBVTtBQUFDLG1CQUFNO0FBQUEsVUFBRTtBQUFBLFVBQUMsV0FBVyxXQUFVO0FBQUMsbUJBQU0sRUFBQyxrQkFBaUIsRUFBQyxPQUFNLE1BQUcsSUFBRyxNQUFHLE9BQU0sS0FBRSxFQUFDO0FBQUEsVUFBQztBQUFBLFVBQUMsV0FBVyxRQUFPO0FBQUMsbUJBQU07QUFBQSxVQUFPO0FBQUEsVUFBQyxPQUFPLFVBQVM7QUFBQywyQkFBZSxJQUFJLGdCQUFnQixLQUFHLGVBQWUsT0FBTyxrQkFBaUJELEVBQUM7QUFBQSxVQUFDO0FBQUEsVUFBQyxJQUFJLFdBQVU7QUFBQyxtQkFBTTtBQUFBLFVBQU87QUFBQSxVQUFDLGFBQVk7QUFBQyxnQkFBSUM7QUFBRSxZQUFBTyxHQUFFLE1BQUtKLElBQUUsR0FBRyxFQUFFLFlBQVU7QUFBRyxrQkFBTUYsS0FBRU0sR0FBRSxNQUFLSCxJQUFFLEdBQUcsRUFBRSxVQUFVLGNBQWMsZ0JBQWdCO0FBQUUsZ0JBQUcsQ0FBQ0g7QUFBRSxxQkFBTTtBQUFHLFlBQUFNLEdBQUUsTUFBS0osSUFBRSxHQUFHLEVBQUUsWUFBVTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEseUNBQWlRSSxHQUFFLE1BQUtILElBQUUsR0FBRyxFQUFFLE9BQU8sY0FBYztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUNBQXFkRyxHQUFFLE1BQUtILElBQUUsR0FBRyxFQUFFLE9BQU8sS0FBSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQ0FBa05HLEdBQUUsTUFBS0gsSUFBRSxHQUFHLEVBQUUsT0FBTyxLQUFLO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0NBQXFPRyxHQUFFLE1BQUtILElBQUUsR0FBRyxFQUFFLE9BQU8sS0FBSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFrSyxrQkFBTU4sS0FBRVMsR0FBRSxNQUFLSixJQUFFLEdBQUcsRUFBRSxjQUFjLGdCQUFnQixHQUFFSixLQUFFUSxHQUFFLE1BQUtKLElBQUUsR0FBRyxFQUFFLGNBQWMsY0FBYyxHQUFFRSxLQUFFRSxHQUFFLE1BQUtKLElBQUUsR0FBRyxFQUFFLGNBQWMsV0FBVyxHQUFFRCxLQUFFSyxHQUFFLE1BQUtKLElBQUUsR0FBRyxFQUFFLGNBQWMsaUJBQWlCO0FBQUUsZ0JBQUcsRUFBRUwsTUFBR0MsTUFBR00sTUFBR0g7QUFBRyxvQkFBTSxJQUFJO0FBQUUsbUJBQU9KLEdBQUUsaUJBQWlCLFNBQVEsTUFBSTtBQUFDLG9CQUFNRSxLQUFFLE1BQU0sS0FBS0MsR0FBRSxVQUFVLEVBQUUsSUFBSSxDQUFBRCxPQUFHQSxHQUFFLFVBQVUsSUFBRSxDQUFDO0FBQUUsa0JBQUdBLEdBQUUsUUFBUSxDQUFBQSxPQUFHO0FBQUMsb0JBQUlGO0FBQUUsdUJBQU8sVUFBUUEsS0FBRUcsR0FBRSxlQUFhLFdBQVNILEtBQUUsU0FBT0EsR0FBRSxhQUFhRSxJQUFFQyxFQUFDO0FBQUEsY0FBQyxDQUFDLEdBQUVBLEdBQUUsT0FBTyxHQUFFLE1BQUlELEdBQUU7QUFBTztBQUFPLG9CQUFNRixLQUFFLE9BQU8sYUFBYTtBQUFFLGtCQUFHLENBQUNBO0FBQUUsc0JBQU0sSUFBSTtBQUFFLGNBQUFBLEdBQUUsZ0JBQWdCO0FBQUUsb0JBQU1DLEtBQUUsSUFBSTtBQUFNLGNBQUFBLEdBQUUsZUFBZUMsR0FBRSxDQUFDLENBQUMsR0FBRUQsR0FBRSxZQUFZQyxHQUFFQSxHQUFFLFNBQU8sQ0FBQyxDQUFDLEdBQUVGLEdBQUUsU0FBU0MsRUFBQyxHQUFFUSxHQUFFLE1BQUtKLElBQUUsR0FBRyxFQUFFLFlBQVUsSUFBR0ksR0FBRSxNQUFLSCxJQUFFLEdBQUcsRUFBRSxRQUFRLEtBQUs7QUFBQSxZQUFDLENBQUMsR0FBRUcsR0FBRSxNQUFLSCxJQUFFLEdBQUcsRUFBRSxRQUFRLFFBQVFOLElBQUUsZ0JBQWUsRUFBQyxXQUFVLE1BQUssQ0FBQyxHQUFFQyxHQUFFLFFBQU1FLEdBQUUsV0FBVUYsR0FBRSxpQkFBaUIsU0FBUSxNQUFJRSxHQUFFLGFBQWEsU0FBUUYsR0FBRSxLQUFLLENBQUMsR0FBRU0sR0FBRSxRQUFNSixHQUFFLElBQUdJLEdBQUUsaUJBQWlCLFNBQVEsTUFBSUosR0FBRSxLQUFHSSxHQUFFLEtBQUssR0FBRUgsR0FBRSxRQUFNLFVBQVFGLEtBQUVDLEdBQUUsYUFBYSxPQUFPLE1BQUksV0FBU0QsS0FBRUEsS0FBRSxJQUFHRSxHQUFFLGlCQUFpQixXQUFVLENBQUFGLE9BQUdBLEdBQUUsZ0JBQWdCLENBQUMsR0FBRUUsR0FBRSxpQkFBaUIsU0FBUSxNQUFJRCxHQUFFLGFBQWEsU0FBUUMsR0FBRSxLQUFLLENBQUMsR0FBRTtBQUFBLFVBQUU7QUFBQSxVQUFDLFFBQU87QUFBQyxZQUFBSyxHQUFFLE1BQUtKLElBQUUsR0FBRyxFQUFFLFlBQVU7QUFBQSxVQUFFO0FBQUEsVUFBQyxTQUFRO0FBQUMsa0JBQU1ILEtBQUUsU0FBUyxjQUFjLFFBQVE7QUFBRSxtQkFBT0EsR0FBRSxVQUFVLElBQUlPLEdBQUUsTUFBS0gsSUFBRSxHQUFHLEVBQUUsT0FBTyxnQkFBZ0IsR0FBRUosR0FBRSxPQUFLLFVBQVNBLEdBQUUsWUFBVSxtaUJBQWtpQkE7QUFBQSxVQUFDO0FBQUEsVUFBQyxnQkFBZTtBQUFDLG1CQUFPTyxHQUFFLE1BQUtKLElBQUUsR0FBRztBQUFBLFVBQUM7QUFBQSxVQUFDLFNBQVNILElBQUU7QUFBQyxrQkFBTUMsS0FBRSxJQUFJRjtBQUFFLFlBQUFDLEdBQUUsaUJBQWlCQyxFQUFDLEdBQUVNLEdBQUUsTUFBS0gsSUFBRSxHQUFHLEVBQUUsVUFBVSxZQUFZSCxFQUFDO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxRQUFBRSxLQUFFLG9CQUFJLFdBQVFDLEtBQUUsb0JBQUk7QUFBQSxNQUFPLENBQUMsQ0FBQztBQUFBLElBQUMsQ0FBRTtBQUFBO0FBQUE7OztBQ0E1eEwsSUFBQUksa0JBQUE7QUFBQTtBQUFBLEtBQUMsU0FBUyxHQUFFLEdBQUU7QUFBQyxrQkFBVSxPQUFPLFdBQVMsWUFBVSxPQUFPLFNBQU8sT0FBTyxVQUFRLEVBQUUsSUFBRSxjQUFZLE9BQU8sVUFBUSxPQUFPLE1BQUksT0FBTyxDQUFDLEdBQUUsQ0FBQyxJQUFFLFlBQVUsT0FBTyxVQUFRLFFBQVEsV0FBUyxFQUFFLElBQUUsRUFBRSxXQUFTLEVBQUU7QUFBQSxJQUFDLEVBQUUsTUFBTSxPQUFLLE1BQUk7QUFBQztBQUFhLFVBQUksSUFBRSxFQUFDLEtBQUksQ0FBQ0MsSUFBRUMsSUFBRUMsT0FBSTtBQUFDLFFBQUFBLEdBQUUsRUFBRUQsSUFBRSxFQUFDLEdBQUUsTUFBSUUsR0FBQyxDQUFDO0FBQUUsWUFBSUMsS0FBRUYsR0FBRSxHQUFHLEdBQUVHLEtBQUVILEdBQUUsRUFBRUUsRUFBQyxHQUFFLElBQUVGLEdBQUUsR0FBRyxHQUFFSSxLQUFFSixHQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUVHLEdBQUUsQ0FBQztBQUFFLFFBQUFDLEdBQUUsS0FBSyxDQUFDTixHQUFFLElBQUcsMGJBQXliLEVBQUUsQ0FBQztBQUFFLGNBQU1HLEtBQUVHO0FBQUEsTUFBQyxHQUFFLEtBQUksQ0FBQU4sT0FBRztBQUFDLFFBQUFBLEdBQUUsVUFBUSxTQUFTQSxJQUFFO0FBQUMsY0FBSUMsS0FBRSxDQUFDO0FBQUUsaUJBQU9BLEdBQUUsV0FBUyxXQUFVO0FBQUMsbUJBQU8sS0FBSyxJQUFLLFNBQVNBLElBQUU7QUFBQyxrQkFBSUMsS0FBRSxJQUFHRSxLQUFFLFdBQVNILEdBQUUsQ0FBQztBQUFFLHFCQUFPQSxHQUFFLENBQUMsTUFBSUMsTUFBRyxjQUFjLE9BQU9ELEdBQUUsQ0FBQyxHQUFFLEtBQUssSUFBR0EsR0FBRSxDQUFDLE1BQUlDLE1BQUcsVUFBVSxPQUFPRCxHQUFFLENBQUMsR0FBRSxJQUFJLElBQUdHLE9BQUlGLE1BQUcsU0FBUyxPQUFPRCxHQUFFLENBQUMsRUFBRSxTQUFPLElBQUUsSUFBSSxPQUFPQSxHQUFFLENBQUMsQ0FBQyxJQUFFLElBQUcsSUFBSSxJQUFHQyxNQUFHRixHQUFFQyxFQUFDLEdBQUVHLE9BQUlGLE1BQUcsTUFBS0QsR0FBRSxDQUFDLE1BQUlDLE1BQUcsTUFBS0QsR0FBRSxDQUFDLE1BQUlDLE1BQUcsTUFBS0E7QUFBQSxZQUFDLENBQUUsRUFBRSxLQUFLLEVBQUU7QUFBQSxVQUFDLEdBQUVELEdBQUUsSUFBRSxTQUFTRCxJQUFFRSxJQUFFRSxJQUFFQyxJQUFFLEdBQUU7QUFBQyx3QkFBVSxPQUFPTCxPQUFJQSxLQUFFLENBQUMsQ0FBQyxNQUFLQSxJQUFFLE1BQU0sQ0FBQztBQUFHLGdCQUFJTSxLQUFFLENBQUM7QUFBRSxnQkFBR0Y7QUFBRSx1QkFBUUQsS0FBRSxHQUFFQSxLQUFFLEtBQUssUUFBT0EsTUFBSTtBQUFDLG9CQUFJSSxLQUFFLEtBQUtKLEVBQUMsRUFBRSxDQUFDO0FBQUUsd0JBQU1JLE9BQUlELEdBQUVDLEVBQUMsSUFBRTtBQUFBLGNBQUc7QUFBQyxxQkFBUUMsS0FBRSxHQUFFQSxLQUFFUixHQUFFLFFBQU9RLE1BQUk7QUFBQyxrQkFBSUMsS0FBRSxDQUFDLEVBQUUsT0FBT1QsR0FBRVEsRUFBQyxDQUFDO0FBQUUsY0FBQUosTUFBR0UsR0FBRUcsR0FBRSxDQUFDLENBQUMsTUFBSSxXQUFTLE1BQUksV0FBU0EsR0FBRSxDQUFDLE1BQUlBLEdBQUUsQ0FBQyxJQUFFLFNBQVMsT0FBT0EsR0FBRSxDQUFDLEVBQUUsU0FBTyxJQUFFLElBQUksT0FBT0EsR0FBRSxDQUFDLENBQUMsSUFBRSxJQUFHLElBQUksRUFBRSxPQUFPQSxHQUFFLENBQUMsR0FBRSxHQUFHLElBQUdBLEdBQUUsQ0FBQyxJQUFFLElBQUdQLE9BQUlPLEdBQUUsQ0FBQyxLQUFHQSxHQUFFLENBQUMsSUFBRSxVQUFVLE9BQU9BLEdBQUUsQ0FBQyxHQUFFLElBQUksRUFBRSxPQUFPQSxHQUFFLENBQUMsR0FBRSxHQUFHLEdBQUVBLEdBQUUsQ0FBQyxJQUFFUCxNQUFHTyxHQUFFLENBQUMsSUFBRVAsS0FBR0csT0FBSUksR0FBRSxDQUFDLEtBQUdBLEdBQUUsQ0FBQyxJQUFFLGNBQWMsT0FBT0EsR0FBRSxDQUFDLEdBQUUsS0FBSyxFQUFFLE9BQU9BLEdBQUUsQ0FBQyxHQUFFLEdBQUcsR0FBRUEsR0FBRSxDQUFDLElBQUVKLE1BQUdJLEdBQUUsQ0FBQyxJQUFFLEdBQUcsT0FBT0osRUFBQyxJQUFHSixHQUFFLEtBQUtRLEVBQUM7QUFBQSxZQUFFO0FBQUEsVUFBQyxHQUFFUjtBQUFBLFFBQUM7QUFBQSxNQUFDLEdBQUUsS0FBSSxDQUFBRCxPQUFHO0FBQUMsUUFBQUEsR0FBRSxVQUFRLFNBQVNBLElBQUU7QUFBQyxpQkFBT0EsR0FBRSxDQUFDO0FBQUEsUUFBQztBQUFBLE1BQUMsR0FBRSxJQUFHLENBQUFBLE9BQUc7QUFBQyxZQUFJQyxLQUFFLENBQUM7QUFBRSxpQkFBU0MsR0FBRUYsSUFBRTtBQUFDLG1CQUFRRSxLQUFFLElBQUdFLEtBQUUsR0FBRUEsS0FBRUgsR0FBRSxRQUFPRztBQUFJLGdCQUFHSCxHQUFFRyxFQUFDLEVBQUUsZUFBYUosSUFBRTtBQUFDLGNBQUFFLEtBQUVFO0FBQUU7QUFBQSxZQUFLO0FBQUMsaUJBQU9GO0FBQUEsUUFBQztBQUFDLGlCQUFTRSxHQUFFSixJQUFFSSxJQUFFO0FBQUMsbUJBQVEsSUFBRSxDQUFDLEdBQUVFLEtBQUUsQ0FBQyxHQUFFSCxLQUFFLEdBQUVBLEtBQUVILEdBQUUsUUFBT0csTUFBSTtBQUFDLGdCQUFJSSxLQUFFUCxHQUFFRyxFQUFDLEdBQUVLLEtBQUVKLEdBQUUsT0FBS0csR0FBRSxDQUFDLElBQUVILEdBQUUsT0FBS0csR0FBRSxDQUFDLEdBQUVFLEtBQUUsRUFBRUQsRUFBQyxLQUFHLEdBQUVFLEtBQUUsR0FBRyxPQUFPRixJQUFFLEdBQUcsRUFBRSxPQUFPQyxFQUFDO0FBQUUsY0FBRUQsRUFBQyxJQUFFQyxLQUFFO0FBQUUsZ0JBQUlFLEtBQUVULEdBQUVRLEVBQUMsR0FBRUUsS0FBRSxFQUFDLEtBQUlMLEdBQUUsQ0FBQyxHQUFFLE9BQU1BLEdBQUUsQ0FBQyxHQUFFLFdBQVVBLEdBQUUsQ0FBQyxHQUFFLFVBQVNBLEdBQUUsQ0FBQyxHQUFFLE9BQU1BLEdBQUUsQ0FBQyxFQUFDO0FBQUUsZ0JBQUcsT0FBS0k7QUFBRSxjQUFBVixHQUFFVSxFQUFDLEVBQUUsY0FBYVYsR0FBRVUsRUFBQyxFQUFFLFFBQVFDLEVBQUM7QUFBQSxpQkFBTTtBQUFDLGtCQUFJQyxLQUFFUixHQUFFTyxJQUFFUixFQUFDO0FBQUUsY0FBQUEsR0FBRSxVQUFRRCxJQUFFRixHQUFFLE9BQU9FLElBQUUsR0FBRSxFQUFDLFlBQVdPLElBQUUsU0FBUUcsSUFBRSxZQUFXLEVBQUMsQ0FBQztBQUFBLFlBQUM7QUFBQyxZQUFBUCxHQUFFLEtBQUtJLEVBQUM7QUFBQSxVQUFDO0FBQUMsaUJBQU9KO0FBQUEsUUFBQztBQUFDLGlCQUFTRCxHQUFFTCxJQUFFQyxJQUFFO0FBQUMsY0FBSUMsS0FBRUQsR0FBRSxPQUFPQSxFQUFDO0FBQUUsaUJBQU9DLEdBQUUsT0FBT0YsRUFBQyxHQUFFLFNBQVNDLElBQUU7QUFBQyxnQkFBR0EsSUFBRTtBQUFDLGtCQUFHQSxHQUFFLFFBQU1ELEdBQUUsT0FBS0MsR0FBRSxVQUFRRCxHQUFFLFNBQU9DLEdBQUUsY0FBWUQsR0FBRSxhQUFXQyxHQUFFLGFBQVdELEdBQUUsWUFBVUMsR0FBRSxVQUFRRCxHQUFFO0FBQU07QUFBTyxjQUFBRSxHQUFFLE9BQU9GLEtBQUVDLEVBQUM7QUFBQSxZQUFDO0FBQU0sY0FBQUMsR0FBRSxPQUFPO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxRQUFBRixHQUFFLFVBQVEsU0FBU0EsSUFBRUssSUFBRTtBQUFDLGNBQUksSUFBRUQsR0FBRUosS0FBRUEsTUFBRyxDQUFDLEdBQUVLLEtBQUVBLE1BQUcsQ0FBQyxDQUFDO0FBQUUsaUJBQU8sU0FBU0wsSUFBRTtBQUFDLFlBQUFBLEtBQUVBLE1BQUcsQ0FBQztBQUFFLHFCQUFRTSxLQUFFLEdBQUVBLEtBQUUsRUFBRSxRQUFPQSxNQUFJO0FBQUMsa0JBQUlILEtBQUVELEdBQUUsRUFBRUksRUFBQyxDQUFDO0FBQUUsY0FBQUwsR0FBRUUsRUFBQyxFQUFFO0FBQUEsWUFBWTtBQUFDLHFCQUFRSSxLQUFFSCxHQUFFSixJQUFFSyxFQUFDLEdBQUVHLEtBQUUsR0FBRUEsS0FBRSxFQUFFLFFBQU9BLE1BQUk7QUFBQyxrQkFBSUMsS0FBRVAsR0FBRSxFQUFFTSxFQUFDLENBQUM7QUFBRSxvQkFBSVAsR0FBRVEsRUFBQyxFQUFFLGVBQWFSLEdBQUVRLEVBQUMsRUFBRSxRQUFRLEdBQUVSLEdBQUUsT0FBT1EsSUFBRSxDQUFDO0FBQUEsWUFBRTtBQUFDLGdCQUFFRjtBQUFBLFVBQUM7QUFBQSxRQUFDO0FBQUEsTUFBQyxHQUFFLEtBQUksQ0FBQVAsT0FBRztBQUFDLFlBQUlDLEtBQUUsQ0FBQztBQUFFLFFBQUFELEdBQUUsVUFBUSxTQUFTQSxJQUFFRSxJQUFFO0FBQUMsY0FBSUUsS0FBRSxTQUFTSixJQUFFO0FBQUMsZ0JBQUcsV0FBU0MsR0FBRUQsRUFBQyxHQUFFO0FBQUMsa0JBQUlFLEtBQUUsU0FBUyxjQUFjRixFQUFDO0FBQUUsa0JBQUcsT0FBTyxxQkFBbUJFLGNBQWEsT0FBTztBQUFrQixvQkFBRztBQUFDLGtCQUFBQSxLQUFFQSxHQUFFLGdCQUFnQjtBQUFBLGdCQUFJLFNBQU9GLElBQUU7QUFBQyxrQkFBQUUsS0FBRTtBQUFBLGdCQUFJO0FBQUMsY0FBQUQsR0FBRUQsRUFBQyxJQUFFRTtBQUFBLFlBQUM7QUFBQyxtQkFBT0QsR0FBRUQsRUFBQztBQUFBLFVBQUMsRUFBRUEsRUFBQztBQUFFLGNBQUcsQ0FBQ0k7QUFBRSxrQkFBTSxJQUFJLE1BQU0seUdBQXlHO0FBQUUsVUFBQUEsR0FBRSxZQUFZRixFQUFDO0FBQUEsUUFBQztBQUFBLE1BQUMsR0FBRSxLQUFJLENBQUFGLE9BQUc7QUFBQyxRQUFBQSxHQUFFLFVBQVEsU0FBU0EsSUFBRTtBQUFDLGNBQUlDLEtBQUUsU0FBUyxjQUFjLE9BQU87QUFBRSxpQkFBT0QsR0FBRSxjQUFjQyxJQUFFRCxHQUFFLFVBQVUsR0FBRUEsR0FBRSxPQUFPQyxJQUFFRCxHQUFFLE9BQU8sR0FBRUM7QUFBQSxRQUFDO0FBQUEsTUFBQyxHQUFFLElBQUcsQ0FBQ0QsSUFBRUMsSUFBRUMsT0FBSTtBQUFDLFFBQUFGLEdBQUUsVUFBUSxTQUFTQSxJQUFFO0FBQUMsY0FBSUMsS0FBRUMsR0FBRTtBQUFHLFVBQUFELE1BQUdELEdBQUUsYUFBYSxTQUFRQyxFQUFDO0FBQUEsUUFBQztBQUFBLE1BQUMsR0FBRSxLQUFJLENBQUFELE9BQUc7QUFBQyxRQUFBQSxHQUFFLFVBQVEsU0FBU0EsSUFBRTtBQUFDLGNBQUcsZUFBYSxPQUFPO0FBQVMsbUJBQU0sRUFBQyxRQUFPLFdBQVU7QUFBQSxZQUFDLEdBQUUsUUFBTyxXQUFVO0FBQUEsWUFBQyxFQUFDO0FBQUUsY0FBSUMsS0FBRUQsR0FBRSxtQkFBbUJBLEVBQUM7QUFBRSxpQkFBTSxFQUFDLFFBQU8sU0FBU0UsSUFBRTtBQUFDLGFBQUMsU0FBU0YsSUFBRUMsSUFBRUMsSUFBRTtBQUFDLGtCQUFJRSxLQUFFO0FBQUcsY0FBQUYsR0FBRSxhQUFXRSxNQUFHLGNBQWMsT0FBT0YsR0FBRSxVQUFTLEtBQUssSUFBR0EsR0FBRSxVQUFRRSxNQUFHLFVBQVUsT0FBT0YsR0FBRSxPQUFNLElBQUk7QUFBRyxrQkFBSUcsS0FBRSxXQUFTSCxHQUFFO0FBQU0sY0FBQUcsT0FBSUQsTUFBRyxTQUFTLE9BQU9GLEdBQUUsTUFBTSxTQUFPLElBQUUsSUFBSSxPQUFPQSxHQUFFLEtBQUssSUFBRSxJQUFHLElBQUksSUFBR0UsTUFBR0YsR0FBRSxLQUFJRyxPQUFJRCxNQUFHLE1BQUtGLEdBQUUsVUFBUUUsTUFBRyxNQUFLRixHQUFFLGFBQVdFLE1BQUc7QUFBSyxrQkFBSSxJQUFFRixHQUFFO0FBQVUsbUJBQUcsZUFBYSxPQUFPLFNBQU9FLE1BQUcsdURBQXVELE9BQU8sS0FBSyxTQUFTLG1CQUFtQixLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFFLEtBQUssSUFBR0gsR0FBRSxrQkFBa0JHLElBQUVKLElBQUVDLEdBQUUsT0FBTztBQUFBLFlBQUMsRUFBRUEsSUFBRUQsSUFBRUUsRUFBQztBQUFBLFVBQUMsR0FBRSxRQUFPLFdBQVU7QUFBQyxhQUFDLFNBQVNGLElBQUU7QUFBQyxrQkFBRyxTQUFPQSxHQUFFO0FBQVcsdUJBQU07QUFBRyxjQUFBQSxHQUFFLFdBQVcsWUFBWUEsRUFBQztBQUFBLFlBQUMsRUFBRUMsRUFBQztBQUFBLFVBQUMsRUFBQztBQUFBLFFBQUM7QUFBQSxNQUFDLEdBQUUsS0FBSSxDQUFBRCxPQUFHO0FBQUMsUUFBQUEsR0FBRSxVQUFRLFNBQVNBLElBQUVDLElBQUU7QUFBQyxjQUFHQSxHQUFFO0FBQVcsWUFBQUEsR0FBRSxXQUFXLFVBQVFEO0FBQUEsZUFBTTtBQUFDLG1CQUFLQyxHQUFFO0FBQVksY0FBQUEsR0FBRSxZQUFZQSxHQUFFLFVBQVU7QUFBRSxZQUFBQSxHQUFFLFlBQVksU0FBUyxlQUFlRCxFQUFDLENBQUM7QUFBQSxVQUFDO0FBQUEsUUFBQztBQUFBLE1BQUMsRUFBQyxHQUFFLElBQUUsQ0FBQztBQUFFLGVBQVNFLEdBQUVFLElBQUU7QUFBQyxZQUFJQyxLQUFFLEVBQUVELEVBQUM7QUFBRSxZQUFHLFdBQVNDO0FBQUUsaUJBQU9BLEdBQUU7QUFBUSxZQUFJLElBQUUsRUFBRUQsRUFBQyxJQUFFLEVBQUMsSUFBR0EsSUFBRSxTQUFRLENBQUMsRUFBQztBQUFFLGVBQU8sRUFBRUEsRUFBQyxFQUFFLEdBQUUsRUFBRSxTQUFRRixFQUFDLEdBQUUsRUFBRTtBQUFBLE1BQU87QUFBQyxNQUFBQSxHQUFFLElBQUUsQ0FBQUYsT0FBRztBQUFDLFlBQUlDLEtBQUVELE1BQUdBLEdBQUUsYUFBVyxNQUFJQSxHQUFFLFVBQVEsTUFBSUE7QUFBRSxlQUFPRSxHQUFFLEVBQUVELElBQUUsRUFBQyxHQUFFQSxHQUFDLENBQUMsR0FBRUE7QUFBQSxNQUFDLEdBQUVDLEdBQUUsSUFBRSxDQUFDRixJQUFFQyxPQUFJO0FBQUMsaUJBQVFHLE1BQUtIO0FBQUUsVUFBQUMsR0FBRSxFQUFFRCxJQUFFRyxFQUFDLEtBQUcsQ0FBQ0YsR0FBRSxFQUFFRixJQUFFSSxFQUFDLEtBQUcsT0FBTyxlQUFlSixJQUFFSSxJQUFFLEVBQUMsWUFBVyxNQUFHLEtBQUlILEdBQUVHLEVBQUMsRUFBQyxDQUFDO0FBQUEsTUFBQyxHQUFFRixHQUFFLElBQUUsQ0FBQ0YsSUFBRUMsT0FBSSxPQUFPLFVBQVUsZUFBZSxLQUFLRCxJQUFFQyxFQUFDLEdBQUVDLEdBQUUsS0FBRztBQUFPLFVBQUlFLEtBQUUsQ0FBQztBQUFFLGNBQU8sTUFBSTtBQUFDLFFBQUFGLEdBQUUsRUFBRUUsSUFBRSxFQUFDLFNBQVEsTUFBSVUsR0FBQyxDQUFDO0FBQUUsWUFBSWQsS0FBRUUsR0FBRSxFQUFFLEdBQUVELEtBQUVDLEdBQUUsRUFBRUYsRUFBQyxHQUFFSyxLQUFFSCxHQUFFLEdBQUcsR0FBRSxJQUFFQSxHQUFFLEVBQUVHLEVBQUMsR0FBRUMsS0FBRUosR0FBRSxHQUFHLEdBQUVDLEtBQUVELEdBQUUsRUFBRUksRUFBQyxHQUFFQyxLQUFFTCxHQUFFLEVBQUUsR0FBRU0sS0FBRU4sR0FBRSxFQUFFSyxFQUFDLEdBQUVFLEtBQUVQLEdBQUUsR0FBRyxHQUFFUSxLQUFFUixHQUFFLEVBQUVPLEVBQUMsR0FBRUUsS0FBRVQsR0FBRSxHQUFHLEdBQUVVLEtBQUVWLEdBQUUsRUFBRVMsRUFBQyxHQUFFRSxLQUFFWCxHQUFFLEdBQUcsR0FBRWEsS0FBRSxDQUFDO0FBQUUsaUJBQVNDLEdBQUVoQixJQUFFO0FBQUMsaUJBQU9nQixLQUFFLGNBQVksT0FBTyxVQUFRLFlBQVUsT0FBTyxPQUFPLFdBQVMsU0FBU2hCLElBQUU7QUFBQyxtQkFBTyxPQUFPQTtBQUFBLFVBQUMsSUFBRSxTQUFTQSxJQUFFO0FBQUMsbUJBQU9BLE1BQUcsY0FBWSxPQUFPLFVBQVFBLEdBQUUsZ0JBQWMsVUFBUUEsT0FBSSxPQUFPLFlBQVUsV0FBUyxPQUFPQTtBQUFBLFVBQUMsR0FBRWdCLEdBQUVoQixFQUFDO0FBQUEsUUFBQztBQUFDLGlCQUFTaUIsR0FBRWpCLElBQUVDLElBQUU7QUFBQyxtQkFBUUMsS0FBRSxHQUFFQSxLQUFFRCxHQUFFLFFBQU9DLE1BQUk7QUFBQyxnQkFBSUUsS0FBRUgsR0FBRUMsRUFBQztBQUFFLFlBQUFFLEdBQUUsYUFBV0EsR0FBRSxjQUFZLE9BQUdBLEdBQUUsZUFBYSxNQUFHLFdBQVVBLE9BQUlBLEdBQUUsV0FBUyxPQUFJLE9BQU8sZUFBZUosSUFBRWtCLEdBQUVkLEdBQUUsR0FBRyxHQUFFQSxFQUFDO0FBQUEsVUFBQztBQUFBLFFBQUM7QUFBQyxpQkFBU2MsR0FBRWxCLElBQUU7QUFBQyxjQUFJQyxLQUFFLFNBQVNELElBQUVDLElBQUU7QUFBQyxnQkFBRyxZQUFVZSxHQUFFaEIsRUFBQyxLQUFHLENBQUNBO0FBQUUscUJBQU9BO0FBQUUsZ0JBQUlFLEtBQUVGLEdBQUUsT0FBTyxXQUFXO0FBQUUsZ0JBQUcsV0FBU0UsSUFBRTtBQUFDLGtCQUFJRSxLQUFFRixHQUFFLEtBQUtGLElBQUUsUUFBUTtBQUFFLGtCQUFHLFlBQVVnQixHQUFFWixFQUFDO0FBQUUsdUJBQU9BO0FBQUUsb0JBQU0sSUFBSSxVQUFVLDhDQUE4QztBQUFBLFlBQUM7QUFBQyxtQkFBTyxPQUFPSixFQUFDO0FBQUEsVUFBQyxFQUFFQSxFQUFDO0FBQUUsaUJBQU0sWUFBVWdCLEdBQUVmLEVBQUMsSUFBRUEsS0FBRUEsS0FBRTtBQUFBLFFBQUU7QUFBQyxRQUFBYyxHQUFFLG9CQUFrQkgsR0FBRSxHQUFFRyxHQUFFLGdCQUFjUCxHQUFFLEdBQUVPLEdBQUUsU0FBT1osR0FBRSxFQUFFLEtBQUssTUFBSyxNQUFNLEdBQUVZLEdBQUUsU0FBTyxFQUFFLEdBQUVBLEdBQUUscUJBQW1CTCxHQUFFLEdBQUVULEdBQUUsRUFBRVksR0FBRSxHQUFFRSxFQUFDLEdBQUVGLEdBQUUsS0FBR0EsR0FBRSxFQUFFLFVBQVFBLEdBQUUsRUFBRTtBQUFPLFlBQUlDLEtBQUUsV0FBVTtBQUFDLGlCQUFPZCxLQUFFLFNBQVNBLEdBQUVDLElBQUVDLElBQUU7QUFBQyxnQkFBSUUsS0FBRUgsR0FBRSxlQUFjSSxLQUFFSixHQUFFLFFBQU9rQixLQUFFbEIsR0FBRSxTQUFRSyxLQUFFTCxHQUFFO0FBQUssYUFBQyxTQUFTRCxJQUFFQyxJQUFFO0FBQUMsa0JBQUcsRUFBRUQsY0FBYUM7QUFBRyxzQkFBTSxJQUFJLFVBQVUsbUNBQW1DO0FBQUEsWUFBQyxFQUFFLE1BQUtELEVBQUMsR0FBRSxLQUFLLFVBQVFtQixJQUFFLEtBQUssY0FBWWpCLE1BQUcsbUJBQWtCLEtBQUssTUFBSUcsSUFBRSxLQUFLLFNBQU8sWUFBVSxPQUFPRCxHQUFFLFNBQU8sU0FBUyxlQUFlQSxHQUFFLE1BQU0sSUFBRUEsR0FBRSxRQUFPLEtBQUssV0FBU0EsR0FBRSxVQUFTLEtBQUssYUFBVyxNQUFLLEtBQUssV0FBUyxNQUFLLEtBQUssT0FBS0UsSUFBRSxLQUFLLGdCQUFnQixHQUFFLEtBQUssZ0JBQWdCO0FBQUEsVUFBQyxHQUFFSixLQUFFLENBQUMsRUFBQyxLQUFJLHVCQUFzQixLQUFJLFdBQVU7QUFBQyxtQkFBTTtBQUFBLFVBQUUsRUFBQyxDQUFDLElBQUdELEtBQUUsQ0FBQyxFQUFDLEtBQUksb0JBQW1CLE9BQU0sU0FBU0QsSUFBRTtBQUFDLGdCQUFHQSxJQUFFO0FBQUMsa0JBQUlDLEtBQUUsU0FBUyxZQUFZLEdBQUVDLEtBQUUsT0FBTyxhQUFhO0FBQUUsY0FBQUQsR0FBRSxTQUFTRCxHQUFFLFdBQVcsQ0FBQyxHQUFFLENBQUMsR0FBRUMsR0FBRSxTQUFTLElBQUUsR0FBRUMsR0FBRSxnQkFBZ0IsR0FBRUEsR0FBRSxTQUFTRCxFQUFDLEdBQUVELEdBQUUsTUFBTTtBQUFBLFlBQUM7QUFBQSxVQUFDLEVBQUMsR0FBRSxFQUFDLEtBQUksbUJBQWtCLE9BQU0sV0FBVTtBQUFDLGdCQUFJQSxLQUFFO0FBQUssZ0JBQUcsQ0FBQyxLQUFLLFVBQVM7QUFBQyxrQkFBSUMsS0FBRSxLQUFLLE9BQU8sY0FBYywyQkFBMkI7QUFBRSxrQkFBR0E7QUFBRSxxQkFBSyx1QkFBdUJBLEVBQUM7QUFBQSxtQkFBTTtBQUFDLG9CQUFJQyxLQUFFLElBQUksaUJBQWtCLFNBQVNELElBQUVDLElBQUU7QUFBQyxzQkFBSUUsS0FBRUosR0FBRSxPQUFPLGNBQWMsMkJBQTJCO0FBQUUsa0JBQUFJLE9BQUlKLEdBQUUsdUJBQXVCSSxFQUFDLEdBQUVGLEdBQUUsV0FBVztBQUFBLGdCQUFFLENBQUU7QUFBRSxnQkFBQUEsR0FBRSxRQUFRLEtBQUssUUFBTyxFQUFDLFdBQVUsTUFBRyxTQUFRLEtBQUUsQ0FBQztBQUFBLGNBQUM7QUFBQSxZQUFDO0FBQUEsVUFBQyxFQUFDLEdBQUUsRUFBQyxLQUFJLDBCQUF5QixPQUFNLFNBQVNGLElBQUU7QUFBQyxnQkFBSUMsS0FBRTtBQUFLLFlBQUFELEdBQUUsYUFBYSxhQUFZLE1BQU0sR0FBRUEsR0FBRSxpQkFBaUIsYUFBYSxXQUFVO0FBQUMsY0FBQUMsR0FBRSxhQUFXQSxHQUFFLElBQUkscUJBQXFCO0FBQUEsWUFBQyxDQUFFLEdBQUVELEdBQUUsaUJBQWlCLFFBQVEsV0FBVTtBQUFDLGtCQUFHQyxHQUFFLFFBQVEsTUFBTSxHQUFFLENBQUNBLEdBQUUsZUFBZSxHQUFFO0FBQUMsb0JBQUlELEtBQUVDLEdBQUUsT0FBTyxpQkFBaUIsV0FBVyxHQUFFQyxLQUFFRCxHQUFFLE9BQU8sY0FBYyx3QkFBd0I7QUFBRSxnQkFBQUEsR0FBRSxpQkFBaUJDLEVBQUMsR0FBRUQsR0FBRSxnQkFBZ0JELElBQUVFLEVBQUM7QUFBQSxjQUFDO0FBQUEsWUFBQyxDQUFFO0FBQUEsVUFBQyxFQUFDLEdBQUUsRUFBQyxLQUFJLG1CQUFrQixPQUFNLFNBQVNGLElBQUVDLElBQUU7QUFBQyxnQkFBSUMsS0FBRTtBQUFLLG1CQUFPLE9BQU9GLEVBQUMsRUFBRSxRQUFTLFNBQVNJLElBQUU7QUFBQyxrQkFBSUMsS0FBRUQsR0FBRSxjQUFjLG9CQUFvQjtBQUFFLGNBQUFBLE9BQUlILE1BQUdJLEdBQUUsTUFBTSxlQUFlLFlBQVksR0FBRUEsR0FBRSxNQUFNLGVBQWUsZUFBZSxLQUFHLE9BQU8sS0FBS0wsRUFBQyxFQUFFLEtBQU0sU0FBU0UsSUFBRTtBQUFDLHVCQUFPRixHQUFFRSxFQUFDLE1BQUlEO0FBQUEsY0FBQyxDQUFFLElBQUVDLEdBQUUsYUFBV0csR0FBRSxNQUFNLGVBQWFILEdBQUUsY0FBWUcsR0FBRSxNQUFNLFlBQVVILEdBQUU7QUFBQSxZQUFXLENBQUU7QUFBQSxVQUFDLEVBQUMsR0FBRSxFQUFDLEtBQUksbUJBQWtCLE9BQU0sV0FBVTtBQUFDLGdCQUFJRixLQUFFO0FBQUsscUJBQVMsaUJBQWlCLFFBQVEsU0FBU0MsSUFBRTtBQUFDLGtCQUFJQyxLQUFFRCxHQUFFO0FBQU8sa0JBQUdELEdBQUUsT0FBTyxTQUFTRSxFQUFDLEtBQUcsU0FBT0YsR0FBRSxZQUFXO0FBQUMsb0JBQUlJLEtBQUVKLEdBQUUsY0FBY0UsRUFBQztBQUFFLG9CQUFHRSxJQUFFO0FBQUMsc0JBQUlDLEtBQUVELEdBQUUsY0FBYyxvQkFBb0I7QUFBRSxrQkFBQUMsR0FBRSxNQUFNLGVBQWUsWUFBWSxHQUFFQSxHQUFFLE1BQU0sZUFBZSxlQUFlLEdBQUVMLEdBQUUsV0FBU0EsR0FBRSxrQkFBa0JJLEVBQUMsR0FBRUosR0FBRSxXQUFXO0FBQUEsZ0JBQUM7QUFBQSxjQUFDO0FBQUMsY0FBQUEsR0FBRSxhQUFXO0FBQUEsWUFBSSxDQUFFO0FBQUEsVUFBQyxFQUFDLEdBQUUsRUFBQyxLQUFJLGlCQUFnQixPQUFNLFNBQVNBLElBQUU7QUFBQyxtQkFBT0EsR0FBRSxVQUFVLFNBQVMsVUFBVSxJQUFFQSxLQUFFQSxHQUFFLFFBQVEsV0FBVztBQUFBLFVBQUMsRUFBQyxHQUFFLEVBQUMsS0FBSSxxQkFBb0IsT0FBTSxTQUFTQSxJQUFFO0FBQUMsbUJBQU8sTUFBTSxLQUFLQSxHQUFFLFdBQVcsUUFBUSxFQUFFLFFBQVFBLEVBQUM7QUFBQSxVQUFDLEVBQUMsR0FBRSxFQUFDLEtBQUksa0JBQWlCLE9BQU0sV0FBVTtBQUFDLG1CQUFPLE1BQUksS0FBSyxJQUFJLGVBQWU7QUFBQSxVQUFDLEVBQUMsR0FBRSxFQUFDLEtBQUksY0FBYSxPQUFNLFdBQVU7QUFBQyxpQkFBSyxlQUFlLEtBQUcsS0FBSyxJQUFJLEtBQUssS0FBSyxVQUFTLEtBQUssVUFBVTtBQUFBLFVBQUMsRUFBQyxDQUFDLE1BQUlpQixHQUFFakIsR0FBRSxXQUFVQyxFQUFDLEdBQUVDLE1BQUdlLEdBQUVqQixJQUFFRSxFQUFDLEdBQUUsT0FBTyxlQUFlRixJQUFFLGFBQVksRUFBQyxVQUFTLE1BQUUsQ0FBQyxHQUFFQTtBQUFFLGNBQUlBLElBQUVDLElBQUVDO0FBQUEsUUFBQyxFQUFFO0FBQUEsTUFBQyxHQUFHLEdBQUVFLEdBQUU7QUFBQSxJQUFPLEdBQUcsQ0FBRTtBQUFBO0FBQUE7OztDQ0F0alEsV0FBVTtBQUFDO0FBQWEsTUFBRztBQUFDLFFBQUcsT0FBTyxXQUFTLEtBQUk7QUFBQyxVQUFJLElBQUUsU0FBUyxjQUFjLE9BQU87QUFBRSxRQUFFLFlBQVksU0FBUyxlQUFlLGlJQUFpSSxDQUFDLEdBQUUsU0FBUyxLQUFLLFlBQVksQ0FBQztBQUFBLElBQUM7QUFBQSxFQUFDLFNBQU8sR0FBRTtBQUFDLFlBQVEsTUFBTSxrQ0FBaUMsQ0FBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQ2pXLElBQUksS0FBSyxPQUFPLGFBQWEsTUFBTSxhQUFhLE9BQU8sU0FBUyxNQUFNLFNBQVMsT0FBTyxTQUFTLE1BQU0sU0FBUyxPQUFPLE9BQU8sTUFBTSxPQUFPLENBQUM7QUFDMUksU0FBUyxHQUFHZ0IsSUFBRztBQUNiLFNBQU9BLE1BQUtBLEdBQUUsY0FBYyxPQUFPLFVBQVUsZUFBZSxLQUFLQSxJQUFHLFNBQVMsSUFBSUEsR0FBRSxVQUFVQTtBQUMvRjtBQUNBLFNBQVMsS0FBSztBQUNkO0FBQ0EsT0FBTyxPQUFPLElBQUk7QUFBQSxFQUNoQixTQUFTO0FBQUEsRUFDVCxVQUFVO0FBQUEsRUFDVixRQUFRLFdBQVc7QUFBQSxFQUNuQjtBQUFBLEVBQ0EsWUFBWTtBQUNkLENBQUM7QUFDRCxRQUFRLFVBQVUsWUFBWSxRQUFRLFVBQVUsVUFBVSxRQUFRLFVBQVUsbUJBQW1CLFFBQVEsVUFBVSxzQkFBc0IsUUFBUSxVQUFVLHFCQUFxQixRQUFRLFVBQVUsb0JBQW9CLFFBQVEsVUFBVSx5QkFBeUIsU0FBU0EsSUFBRztBQUN6USxRQUFNLEtBQUssS0FBSyxZQUFZLEtBQUssZUFBZSxpQkFBaUJBLEVBQUM7QUFDbEUsTUFBSSxJQUFJLEVBQUU7QUFDVixTQUFPLEVBQUUsS0FBSyxLQUFLLEVBQUUsS0FBSyxDQUFDLE1BQU07QUFDL0I7QUFDRixTQUFPLElBQUk7QUFDYjtBQUNBLFFBQVEsVUFBVSxZQUFZLFFBQVEsVUFBVSxVQUFVLFNBQVNBLElBQUc7QUFDcEUsTUFBSSxJQUFJO0FBQ1IsTUFBSSxDQUFDLFNBQVMsZ0JBQWdCLFNBQVMsQ0FBQztBQUN0QyxXQUFPO0FBQ1QsS0FBRztBQUNELFFBQUksRUFBRSxRQUFRQSxFQUFDO0FBQ2IsYUFBTztBQUNULFFBQUksRUFBRSxpQkFBaUIsRUFBRTtBQUFBLEVBQzNCLFNBQVMsTUFBTTtBQUNmLFNBQU87QUFDVDtBQUNBLFFBQVEsVUFBVSxZQUFZLFFBQVEsVUFBVSxVQUFVLFNBQVMsR0FBRztBQUNwRSxRQUFNLElBQUksU0FBUyx1QkFBdUI7QUFDMUMsUUFBTSxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDQyxPQUFNO0FBQzlDLFVBQU0sSUFBSUEsY0FBYTtBQUN2QixNQUFFLFlBQVksSUFBSUEsS0FBSSxTQUFTLGVBQWVBLEVBQUMsQ0FBQztBQUFBLEVBQ2xELENBQUMsR0FBRyxLQUFLLGFBQWEsR0FBRyxLQUFLLFVBQVU7QUFDMUM7QUFDQSxRQUFRLFVBQVUsMkJBQTJCLFFBQVEsVUFBVSx5QkFBeUIsU0FBU0QsSUFBRztBQUNsRyxFQUFBQSxLQUFJLFVBQVUsV0FBVyxJQUFJLE9BQUssQ0FBQyxDQUFDQTtBQUNwQyxRQUFNLElBQUksS0FBSyxZQUFZLElBQUksT0FBTyxpQkFBaUIsR0FBRyxJQUFJLEdBQUdDLEtBQUksU0FBUyxFQUFFLGlCQUFpQixrQkFBa0IsQ0FBQyxHQUFHLElBQUksU0FBUyxFQUFFLGlCQUFpQixtQkFBbUIsQ0FBQyxHQUFHQyxLQUFJLEtBQUssWUFBWSxFQUFFLFlBQVksRUFBRSxXQUFXQyxLQUFJLEtBQUssWUFBWSxFQUFFLFlBQVksS0FBSyxlQUFlRixLQUFJLEVBQUUsWUFBWSxFQUFFLGNBQWNHLEtBQUksS0FBSyxhQUFhLEVBQUUsYUFBYSxFQUFFLFlBQVlDLEtBQUksS0FBSyxhQUFhLEVBQUUsYUFBYSxLQUFLLGNBQWMsSUFBSSxFQUFFLGFBQWEsRUFBRSxhQUFhQyxLQUFJSixNQUFLLENBQUNDO0FBQzljLEdBQUNELE1BQUtDLE9BQU1ILE9BQU0sRUFBRSxZQUFZLEtBQUssWUFBWSxFQUFFLFlBQVksRUFBRSxlQUFlLElBQUlDLEtBQUksS0FBSyxlQUFlLEtBQUtHLE1BQUtDLE9BQU1MLE9BQU0sRUFBRSxhQUFhLEtBQUssYUFBYSxFQUFFLGFBQWEsRUFBRSxjQUFjLElBQUksSUFBSSxLQUFLLGNBQWMsS0FBS0UsTUFBS0MsTUFBS0MsTUFBS0MsT0FBTSxDQUFDTCxNQUFLLEtBQUssZUFBZU0sRUFBQztBQUNwUjtBQUNBLE9BQU8sc0JBQXNCLE9BQU8sdUJBQXVCLFNBQVNOLElBQUc7QUFDckUsUUFBTSxJQUFJLEtBQUssSUFBSTtBQUNuQixTQUFPLFdBQVcsV0FBVztBQUMzQixJQUFBQSxHQUFFO0FBQUEsTUFDQSxZQUFZO0FBQUEsTUFDWixlQUFlLFdBQVc7QUFDeEIsZUFBTyxLQUFLLElBQUksR0FBRyxNQUFNLEtBQUssSUFBSSxJQUFJLEVBQUU7QUFBQSxNQUMxQztBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0gsR0FBRyxDQUFDO0FBQ047QUFDQSxPQUFPLHFCQUFxQixPQUFPLHNCQUFzQixTQUFTQSxJQUFHO0FBQ25FLGVBQWFBLEVBQUM7QUFDaEI7QUFDQSxJQUFJLEtBQUssQ0FBQ0EsS0FBSSxPQUFPLE9BQU8sZ0JBQWdCLElBQUksV0FBV0EsRUFBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLEdBQUcsT0FBTyxLQUFLLElBQUksSUFBSSxLQUFLLEtBQUssRUFBRSxTQUFTLEVBQUUsSUFBSSxJQUFJLEtBQUssTUFBTSxJQUFJLElBQUksU0FBUyxFQUFFLEVBQUUsWUFBWSxJQUFJLElBQUksS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLElBQUksRUFBRTtBQUNqTixJQUFJLEtBQXNCLGtCQUFDQSxRQUFPQSxHQUFFLFVBQVUsV0FBV0EsR0FBRSxPQUFPLFFBQVFBLEdBQUUsT0FBTyxRQUFRQSxHQUFFLFFBQVEsU0FBU0EsS0FBSSxNQUFNLENBQUMsQ0FBQztBQUMxSCxJQUFNLElBQUk7QUFBQSxFQUNSLFdBQVc7QUFBQSxFQUNYLEtBQUs7QUFBQSxFQUNMLE9BQU87QUFBQSxFQUNQLE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLEtBQUs7QUFBQSxFQUNMLEtBQUs7QUFBQSxFQUNMLE9BQU87QUFBQSxFQUNQLE1BQU07QUFBQSxFQUNOLElBQUk7QUFBQSxFQUNKLE1BQU07QUFBQSxFQUNOLE9BQU87QUFBQSxFQUNQLFFBQVE7QUFBQSxFQUNSLE1BQU07QUFBQSxFQUNOLE9BQU87QUFDVDtBQWhCQSxJQWdCRyxLQUFLO0FBQUEsRUFDTixNQUFNO0FBQUEsRUFDTixPQUFPO0FBQUEsRUFDUCxPQUFPO0FBQUEsRUFDUCxVQUFVO0FBQUEsRUFDVixTQUFTO0FBQ1g7QUFDQSxTQUFTLEdBQUdBLElBQUcsR0FBRyxJQUFJLE9BQU9DLElBQUcsSUFBSSxrQkFBa0I7QUFDcEQsTUFBSSxFQUFFLGFBQWEsV0FBVyxDQUFDLE9BQU8sUUFBUSxDQUFDO0FBQzdDO0FBQ0YsUUFBTUMsS0FBSSxDQUFDLFFBQVEsT0FBTyxRQUFRLE9BQU8sRUFBRSxTQUFTLENBQUMsR0FBR0MsS0FBSSxDQUFDO0FBQzdELFVBQVEsR0FBRyxVQUFVO0FBQUEsSUFDbkIsS0FBSztBQUNILFVBQUksTUFBTTtBQUNSO0FBQ0Y7QUFBQSxJQUNGLEtBQUs7QUFDSCxVQUFJLENBQUMsQ0FBQyxTQUFTLE1BQU0sRUFBRSxTQUFTLENBQUM7QUFDL0I7QUFDRjtBQUFBLElBQ0YsS0FBSztBQUNILFVBQUksQ0FBQ0QsTUFBS0Y7QUFDUjtBQUNGO0FBQUEsRUFDSjtBQUNBLEVBQUFDLE1BQUtFLEdBQUUsS0FBS0YsRUFBQztBQUNiLFFBQU1HLEtBQUksb0JBQW9CQyxLQUFJO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVWxDLEVBQUFMLE9BQU1FLE1BQUtDLEdBQUUsUUFBUUUsSUFBRyxDQUFDLEdBQUcsSUFBSSxLQUFLRCxFQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksS0FBS0EsRUFBQyxLQUFLLENBQUM7QUFDbkUsTUFBSTtBQUNGLElBQUFGLEtBQUlELEtBQUksUUFBUSxDQUFDLEVBQUUsR0FBRyxDQUFDLE9BQU8sR0FBR0UsRUFBQyxJQUFJLFFBQVEsQ0FBQyxFQUFFLEdBQUcsR0FBR0EsRUFBQyxJQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUM7QUFBQSxFQUMxRSxRQUFRO0FBQUEsRUFDUjtBQUNGO0FBQ0EsR0FBRyxXQUFXO0FBQ2QsU0FBUyxHQUFHSCxJQUFHO0FBQ2IsS0FBRyxXQUFXQTtBQUNoQjtBQUNBLElBQU0sSUFBSSxHQUFHLEtBQUssUUFBUSxLQUFFO0FBQTVCLElBQStCLElBQUksR0FBRyxLQUFLLFFBQVEsSUFBRTtBQUNyRCxTQUFTLEdBQUdBLElBQUc7QUFDYixTQUFPLE9BQU8sVUFBVSxTQUFTLEtBQUtBLEVBQUMsRUFBRSxNQUFNLGVBQWUsRUFBRSxDQUFDLEVBQUUsWUFBWTtBQUNqRjtBQUNBLFNBQVMsRUFBRUEsSUFBRztBQUNaLFNBQU8sR0FBR0EsRUFBQyxNQUFNLGNBQWMsR0FBR0EsRUFBQyxNQUFNO0FBQzNDO0FBQ0EsU0FBUyxFQUFFQSxJQUFHO0FBQ1osU0FBTyxHQUFHQSxFQUFDLE1BQU07QUFDbkI7QUFDQSxTQUFTLEVBQUVBLElBQUc7QUFDWixTQUFPLEdBQUdBLEVBQUMsTUFBTTtBQUNuQjtBQUNBLFNBQVMsR0FBR0EsSUFBRztBQUNiLFNBQU8sR0FBR0EsRUFBQyxNQUFNO0FBQ25CO0FBQ0EsU0FBUyxHQUFHQSxJQUFHO0FBQ2IsU0FBTyxHQUFHQSxFQUFDLE1BQU07QUFDbkI7QUFDQSxTQUFTLEdBQUdBLElBQUc7QUFDYixTQUFPLEdBQUdBLEVBQUMsTUFBTTtBQUNuQjtBQUNBLFNBQVMsRUFBRUEsSUFBRztBQUNaLFNBQU9BLEtBQUksT0FBTyxLQUFLQSxFQUFDLEVBQUUsV0FBVyxLQUFLQSxHQUFFLGdCQUFnQixTQUFTO0FBQ3ZFO0FBQ0EsU0FBUyxHQUFHQSxJQUFHO0FBQ2IsU0FBT0EsS0FBSSxNQUFNQSxLQUFJO0FBQUEsRUFDckJBLE9BQU0sTUFBTUEsT0FBTTtBQUFBLEVBQ2xCQSxPQUFNO0FBQUEsRUFDTkEsS0FBSSxNQUFNQSxLQUFJO0FBQUEsRUFDZEEsS0FBSSxNQUFNQSxLQUFJO0FBQUEsRUFDZEEsS0FBSSxPQUFPQSxLQUFJO0FBQUEsRUFDZkEsS0FBSSxPQUFPQSxLQUFJO0FBQ2pCO0FBQ0EsZUFBZSxHQUFHQSxJQUFHLElBQUksTUFBTTtBQUMvQixHQUFHLElBQUksTUFBTTtBQUNiLEdBQUc7QUFDRCxpQkFBZUMsR0FBRSxHQUFHQyxJQUFHQyxJQUFHO0FBQ3hCLFFBQUk7QUFDRixZQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksR0FBRyxNQUFNRCxHQUFFLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSTtBQUFBLElBQzVELFFBQVE7QUFDTixNQUFBQyxHQUFFLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSTtBQUFBLElBQzVCO0FBQUEsRUFDRjtBQUNBLFNBQU9ILEdBQUUsT0FBTyxPQUFPLEdBQUdFLFFBQU8sTUFBTSxHQUFHRCxHQUFFQyxJQUFHLEdBQUcsQ0FBQyxJQUFJLFFBQVEsUUFBUSxDQUFDO0FBQzFFO0FBQ0EsU0FBUyxHQUFHRixJQUFHO0FBQ2IsU0FBTyxNQUFNLFVBQVUsTUFBTSxLQUFLQSxFQUFDO0FBQ3JDO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUc7QUFDaEIsU0FBTyxXQUFXO0FBQ2hCLFVBQU0sSUFBSSxNQUFNQyxLQUFJO0FBQ3BCLFdBQU8sV0FBVyxNQUFNRCxHQUFFLE1BQU0sR0FBR0MsRUFBQyxHQUFHLENBQUM7QUFBQSxFQUMxQztBQUNGO0FBQ0EsU0FBUyxHQUFHRCxJQUFHO0FBQ2IsU0FBT0EsR0FBRSxLQUFLLE1BQU0sR0FBRyxFQUFFLElBQUk7QUFDL0I7QUFDQSxTQUFTLEdBQUdBLElBQUc7QUFDYixTQUFPLHlCQUF5QixLQUFLQSxFQUFDO0FBQ3hDO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUcsR0FBRztBQUNuQixNQUFJQztBQUNKLFNBQU8sSUFBSSxNQUFNO0FBQ2YsVUFBTUMsS0FBSSxNQUFNQyxLQUFJLE1BQU07QUFDeEIsTUFBQUYsS0FBSSxNQUFNLEtBQUtELEdBQUUsTUFBTUUsSUFBRyxDQUFDO0FBQUEsSUFDN0IsR0FBR0UsS0FBSSxLQUFLLENBQUNIO0FBQ2IsV0FBTyxhQUFhQSxFQUFDLEdBQUdBLEtBQUksT0FBTyxXQUFXRSxJQUFHLENBQUMsR0FBR0MsTUFBS0osR0FBRSxNQUFNRSxJQUFHLENBQUM7QUFBQSxFQUN4RTtBQUNGO0FBQ0EsU0FBUyxHQUFHRixJQUFHLEdBQUcsSUFBSSxRQUFRO0FBQzVCLE1BQUlDLElBQUcsR0FBR0MsSUFBR0MsS0FBSSxNQUFNQyxLQUFJO0FBQzNCLFFBQU0sSUFBSSxDQUFDO0FBQ1gsUUFBTUMsS0FBSSxXQUFXO0FBQ25CLElBQUFELEtBQUksRUFBRSxZQUFZLFFBQUssSUFBSSxLQUFLLElBQUksR0FBR0QsS0FBSSxNQUFNRCxLQUFJRixHQUFFLE1BQU1DLElBQUcsQ0FBQyxHQUFHRSxPQUFNRixLQUFJLElBQUk7QUFBQSxFQUNwRjtBQUNBLFNBQU8sV0FBVztBQUNoQixVQUFNSyxLQUFJLEtBQUssSUFBSTtBQUNuQixLQUFDRixNQUFLLEVBQUUsWUFBWSxVQUFPQSxLQUFJRTtBQUMvQixVQUFNQyxLQUFJLEtBQUtELEtBQUlGO0FBQ25CLFdBQU9ILEtBQUksTUFBTSxJQUFJLFdBQVdNLE1BQUssS0FBS0EsS0FBSSxLQUFLSixPQUFNLGFBQWFBLEVBQUMsR0FBR0EsS0FBSSxPQUFPQyxLQUFJRSxJQUFHSixLQUFJRixHQUFFLE1BQU1DLElBQUcsQ0FBQyxHQUFHRSxPQUFNRixLQUFJLElBQUksU0FBUyxDQUFDRSxNQUFLLEVBQUUsYUFBYSxVQUFPQSxLQUFJLFdBQVdFLElBQUdFLEVBQUMsSUFBSUw7QUFBQSxFQUMzTDtBQUNGO0FBQ0EsU0FBUyxLQUFLO0FBQ1osUUFBTUYsS0FBSTtBQUFBLElBQ1IsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsT0FBTztBQUFBLEVBQ1QsR0FBRyxJQUFJLE9BQU8sS0FBS0EsRUFBQyxFQUFFLEtBQUssQ0FBQyxNQUFNLE9BQU8sVUFBVSxXQUFXLFlBQVksRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFO0FBQzdGLFNBQU8sTUFBTUEsR0FBRSxDQUFDLElBQUksT0FBS0E7QUFDM0I7QUFDQSxTQUFTLEdBQUdBLElBQUc7QUFDYixTQUFPQSxHQUFFLENBQUMsRUFBRSxZQUFZLElBQUlBLEdBQUUsTUFBTSxDQUFDO0FBQ3ZDO0FBQ0EsU0FBUyxHQUFHQSxPQUFNLEdBQUc7QUFDbkIsTUFBSSxDQUFDLEVBQUU7QUFDTCxXQUFPQTtBQUNULFFBQU0sSUFBSSxFQUFFLE1BQU07QUFDbEIsTUFBSSxFQUFFQSxFQUFDLEtBQUssRUFBRSxDQUFDO0FBQ2IsZUFBV0MsTUFBSztBQUNkLFFBQUUsRUFBRUEsRUFBQyxDQUFDLEtBQUtELEdBQUVDLEVBQUMsS0FBSyxPQUFPLE9BQU9ELElBQUcsRUFBRSxDQUFDQyxFQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHRCxHQUFFQyxFQUFDLEdBQUcsRUFBRUEsRUFBQyxDQUFDLEtBQUssT0FBTyxPQUFPRCxJQUFHLEVBQUUsQ0FBQ0MsRUFBQyxHQUFHLEVBQUVBLEVBQUMsRUFBRSxDQUFDO0FBQ3RHLFNBQU8sR0FBR0QsSUFBRyxHQUFHLENBQUM7QUFDbkI7QUFDQSxTQUFTLEdBQUdBLElBQUc7QUFDYixRQUFNLElBQUksR0FBRztBQUNiLFNBQU9BLEtBQUlBLEdBQUUsUUFBUSxXQUFXLFFBQUcsRUFBRSxRQUFRLGVBQWUsUUFBRyxFQUFFLFFBQVEsV0FBVyxRQUFHLEVBQUUsUUFBUSxRQUFRLFFBQUcsRUFBRSxRQUFRLFVBQVUsUUFBRyxFQUFFLFFBQVEsVUFBVSxRQUFHLEVBQUUsUUFBUSxXQUFXLFFBQUcsRUFBRSxRQUFRLFlBQVksUUFBRyxFQUFFLFFBQVEsWUFBWSxLQUFLLEVBQUUsUUFBUSxZQUFZLFFBQUcsRUFBRSxRQUFRLFFBQVEsS0FBSyxHQUFHLEVBQUUsTUFBTUEsS0FBSUEsR0FBRSxRQUFRLGNBQWMsUUFBRyxFQUFFLFFBQVEsU0FBUyxRQUFHLElBQUlBLEtBQUlBLEdBQUUsUUFBUSxTQUFTLE1BQU0sRUFBRSxRQUFRLGFBQWEsS0FBSyxHQUFHQTtBQUN4WjtBQUNBLFNBQVMsR0FBR0EsSUFBRztBQUNiLE1BQUk7QUFDRixXQUFPLElBQUksSUFBSUEsRUFBQyxFQUFFO0FBQUEsRUFDcEIsUUFBUTtBQUFBLEVBQ1I7QUFDQSxTQUFPQSxHQUFFLFVBQVUsR0FBRyxDQUFDLE1BQU0sT0FBTyxPQUFPLFNBQVMsV0FBV0EsS0FBSSxPQUFPLFNBQVMsU0FBU0E7QUFDOUY7QUFDQSxTQUFTLEtBQUs7QUFDWixTQUFPLEdBQUcsRUFBRTtBQUNkO0FBQ0EsU0FBUyxHQUFHQSxJQUFHO0FBQ2IsU0FBTyxLQUFLQSxJQUFHLFFBQVE7QUFDekI7QUFDQSxTQUFTLEdBQUdBLEtBQUksSUFBSTtBQUNsQixTQUFPLEdBQUdBLEVBQUMsR0FBRyxLQUFLLE1BQU0sS0FBSyxPQUFPLElBQUksR0FBRyxFQUFFLFNBQVMsRUFBRSxDQUFDO0FBQzVEO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUcsR0FBRztBQUNuQixRQUFNQyxLQUFJLE9BQUksQ0FBQyx3RkFBa0YsQ0FBQztBQUNsRyxFQUFBRCxNQUFLLEVBQUVDLElBQUcsTUFBTTtBQUNsQjtBQUNBLFNBQVMsR0FBR0QsSUFBRyxHQUFHLEdBQUc7QUFDbkIsUUFBTUMsS0FBSSxFQUFFLFFBQVEsVUFBVSxPQUFPLElBQUksRUFBRUEsRUFBQyxHQUFHQyxLQUFJLElBQUksQ0FBQztBQUN4RCxNQUFJLEVBQUVELEVBQUMsSUFBSSxZQUFZRSxJQUFHO0FBQ3hCLFdBQU8sS0FBS0QsRUFBQyxNQUFNLFdBQVcsS0FBS0EsRUFBQyxJQUFJLEVBQUUsTUFBTSxNQUFNLEdBQUdDLEVBQUMsSUFBSSxLQUFLRCxFQUFDO0FBQUEsRUFDdEUsR0FBR0QsT0FBTSxTQUFTLEVBQUUsS0FBSztBQUN2QixVQUFNRSxLQUFJLEVBQUU7QUFDWixNQUFFLE1BQU0sU0FBU0MsSUFBRztBQUNsQixhQUFPSixHQUFFRSxFQUFDLEdBQUdDLEdBQUUsTUFBTSxNQUFNQyxFQUFDO0FBQUEsSUFDOUI7QUFBQSxFQUNGO0FBQ0EsU0FBTztBQUNUO0FBQ0EsSUFBTSxLQUFLO0FBQ1gsU0FBUyxLQUFLO0FBQ1osU0FBTyxPQUFPLFdBQVcsZUFBZSxFQUFFLEtBQUssRUFBRTtBQUNuRDtBQUNBLElBQU0sS0FBSyxPQUFPLFNBQVMsT0FBTyxPQUFPLGFBQWEsT0FBTyxVQUFVLGFBQWEsaUJBQWlCLEtBQUssT0FBTyxVQUFVLFFBQVEsS0FBSyxPQUFPLFVBQVUsYUFBYSxjQUFjLE9BQU8sVUFBVSxpQkFBaUI7QUFDdE4sU0FBUyxHQUFHSixJQUFHLEdBQUc7QUFDaEIsUUFBTSxJQUFJLE1BQU0sUUFBUUEsRUFBQyxLQUFLLEVBQUVBLEVBQUMsR0FBR0MsS0FBSSxNQUFNLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUMvRCxTQUFPLEtBQUtBLEtBQUksS0FBSyxVQUFVRCxFQUFDLE1BQU0sS0FBSyxVQUFVLENBQUMsSUFBSUEsT0FBTTtBQUNsRTtBQUNBLElBQU0sSUFBTixNQUFNLEdBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9OLE9BQU8sWUFBWSxHQUFHO0FBQ3BCLFdBQU8sRUFBRSxXQUFXO0FBQUEsTUFDbEI7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGLEVBQUUsU0FBUyxFQUFFLE9BQU87QUFBQSxFQUN0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxlQUFlLEdBQUc7QUFDdkIsV0FBTyxLQUFLLEVBQUUsV0FBVztBQUFBLE1BQ3ZCO0FBQUEsTUFDQTtBQUFBLElBQ0YsRUFBRSxTQUFTLEVBQUUsT0FBTztBQUFBLEVBQ3RCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsT0FBTyxLQUFLLEdBQUcsSUFBSSxNQUFNQyxLQUFJLENBQUMsR0FBRztBQUMvQixVQUFNLElBQUksU0FBUyxjQUFjLENBQUM7QUFDbEMsUUFBSSxNQUFNLFFBQVEsQ0FBQyxHQUFHO0FBQ3BCLFlBQU1DLEtBQUksRUFBRSxPQUFPLENBQUNDLE9BQU1BLE9BQU0sTUFBTTtBQUN0QyxRQUFFLFVBQVUsSUFBSSxHQUFHRCxFQUFDO0FBQUEsSUFDdEI7QUFDRSxXQUFLLEVBQUUsVUFBVSxJQUFJLENBQUM7QUFDeEIsZUFBV0EsTUFBS0Q7QUFDZCxhQUFPLFVBQVUsZUFBZSxLQUFLQSxJQUFHQyxFQUFDLE1BQU0sRUFBRUEsRUFBQyxJQUFJRCxHQUFFQyxFQUFDO0FBQzNELFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLEtBQUssR0FBRztBQUNiLFdBQU8sU0FBUyxlQUFlLENBQUM7QUFBQSxFQUNsQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxPQUFPLEdBQUcsR0FBRztBQUNsQixVQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDRCxPQUFNLEVBQUUsWUFBWUEsRUFBQyxDQUFDLElBQUksRUFBRSxZQUFZLENBQUM7QUFBQSxFQUN6RTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxRQUFRLEdBQUcsR0FBRztBQUNuQixVQUFNLFFBQVEsQ0FBQyxLQUFLLElBQUksRUFBRSxRQUFRLEdBQUcsRUFBRSxRQUFRLENBQUNBLE9BQU0sRUFBRSxRQUFRQSxFQUFDLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQztBQUFBLEVBQ3BGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE9BQU8sS0FBSyxHQUFHLEdBQUc7QUFDaEIsVUFBTUEsS0FBSSxTQUFTLGNBQWMsS0FBSyxHQUFHLElBQUksRUFBRTtBQUMvQyxNQUFFLGFBQWFBLElBQUcsQ0FBQyxHQUFHLEVBQUUsYUFBYSxHQUFHLENBQUMsR0FBRyxFQUFFLGFBQWEsR0FBR0EsRUFBQyxHQUFHLEVBQUUsWUFBWUEsRUFBQztBQUFBLEVBQ25GO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFVQSxPQUFPLEtBQUssSUFBSSxVQUFVLEdBQUc7QUFDM0IsV0FBTyxFQUFFLGNBQWMsQ0FBQztBQUFBLEVBQzFCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLElBQUksR0FBRztBQUNaLFdBQU8sU0FBUyxlQUFlLENBQUM7QUFBQSxFQUNsQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBVUEsT0FBTyxRQUFRLElBQUksVUFBVSxHQUFHO0FBQzlCLFdBQU8sRUFBRSxpQkFBaUIsQ0FBQztBQUFBLEVBQzdCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXLG9CQUFvQjtBQUM3QixXQUFPLDBEQUEwRCxDQUFDLFFBQVEsWUFBWSxTQUFTLFVBQVUsVUFBVSxPQUFPLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxlQUFlLENBQUMsSUFBSSxFQUFFLEtBQUssSUFBSTtBQUFBLEVBQzdLO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsT0FBTyxjQUFjLEdBQUc7QUFDdEIsV0FBTyxHQUFHLEVBQUUsaUJBQWlCLEdBQUUsaUJBQWlCLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBR0EsT0FBTSxHQUFFLGNBQWNBLEVBQUMsS0FBSyxHQUFFLDJCQUEyQkEsRUFBQyxJQUFJLENBQUMsR0FBRyxHQUFHQSxFQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFFLHdCQUF3QkEsRUFBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDckw7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFZQSxPQUFPLGVBQWUsR0FBRyxJQUFJLE9BQUk7QUFDL0IsVUFBTUEsS0FBSSxJQUFJLGNBQWMsY0FBYyxJQUFJLElBQUksb0JBQW9CO0FBQ3RFLFFBQUksS0FBSyxFQUFFLGFBQWEsS0FBSyxnQkFBZ0IsRUFBRUEsRUFBQyxHQUFHO0FBQ2pELFVBQUlDLEtBQUksRUFBRUQsRUFBQztBQUNYLFVBQUksR0FBRSxZQUFZQyxFQUFDLEtBQUssQ0FBQyxHQUFFLGNBQWNBLEVBQUMsS0FBSyxDQUFDLEdBQUUsZUFBZUEsRUFBQztBQUNoRSxZQUFJQSxHQUFFLENBQUM7QUFDTCxVQUFBQSxLQUFJQSxHQUFFLENBQUM7QUFBQSxpQkFDQUEsR0FBRSxXQUFXLENBQUM7QUFDckIsVUFBQUEsS0FBSUEsR0FBRSxXQUFXLENBQUM7QUFBQTtBQUVsQixpQkFBT0EsR0FBRTtBQUNiLGFBQU8sS0FBSyxlQUFlQSxJQUFHLENBQUM7QUFBQSxJQUNqQztBQUNBLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE9BQU8sVUFBVSxHQUFHO0FBQ2xCLFdBQU8sR0FBRyxDQUFDLElBQUksUUFBSyxLQUFLLEVBQUUsWUFBWSxFQUFFLGFBQWEsS0FBSztBQUFBLEVBQzdEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE9BQU8sV0FBVyxHQUFHO0FBQ25CLFdBQU8sR0FBRyxDQUFDLElBQUksUUFBSyxLQUFLLEVBQUUsWUFBWSxFQUFFLGFBQWEsS0FBSztBQUFBLEVBQzdEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLGtCQUFrQixHQUFHO0FBQzFCLFdBQU8sRUFBRSxvQkFBb0I7QUFBQSxFQUMvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxPQUFPLGNBQWMsR0FBRztBQUN0QixVQUFNLElBQUk7QUFBQSxNQUNSO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFDQSxXQUFPLEtBQUssRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLE9BQU8sSUFBSTtBQUFBLEVBQ2xEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLFlBQVksR0FBRztBQUNwQixRQUFJLElBQUk7QUFDUixRQUFJLEdBQUUsY0FBYyxDQUFDO0FBQ25CLGNBQVEsRUFBRSxNQUFNO0FBQUEsUUFDZCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQ0gsY0FBSTtBQUNKO0FBQUEsTUFDSjtBQUFBO0FBRUEsVUFBSSxHQUFFLGtCQUFrQixDQUFDO0FBQzNCLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFVQSxPQUFPLFlBQVksR0FBRyxHQUFHO0FBQ3ZCLFFBQUlEO0FBQ0osV0FBTyxLQUFLLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxlQUFlLENBQUMsSUFBSSxTQUFNLEtBQUssVUFBVSxDQUFDLEtBQUssS0FBSyxjQUFjLENBQUMsSUFBSUEsS0FBSSxFQUFFLFFBQVFBLEtBQUksRUFBRSxZQUFZLFFBQVEsVUFBSyxFQUFFLEdBQUcsTUFBTUEsS0FBSUEsR0FBRSxRQUFRLElBQUksT0FBTyxHQUFHLEdBQUcsR0FBRyxFQUFFLElBQUlBLEdBQUUsS0FBSyxFQUFFLFdBQVc7QUFBQSxFQUNqTztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxPQUFPLEdBQUc7QUFDZixXQUFPLElBQUksRUFBRSxXQUFXLFdBQVcsSUFBSTtBQUFBLEVBQ3pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFVQSxPQUFPLFFBQVEsR0FBRyxHQUFHO0FBQ25CLE1BQUUsVUFBVTtBQUNaLFVBQU1BLEtBQUksQ0FBQyxDQUFDO0FBQ1osV0FBT0EsR0FBRSxTQUFTO0FBQ2hCLFVBQUksSUFBSUEsR0FBRSxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUc7QUFDdEIsWUFBSSxLQUFLLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxZQUFZLEdBQUcsQ0FBQztBQUMxQyxpQkFBTztBQUNULFVBQUUsY0FBY0EsR0FBRSxLQUFLLEdBQUcsTUFBTSxLQUFLLEVBQUUsVUFBVSxDQUFDO0FBQUEsTUFDcEQ7QUFDRixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxhQUFhLEdBQUc7QUFDckIsVUFBTSxJQUFJLEdBQUUsS0FBSyxLQUFLO0FBQ3RCLFdBQU8sRUFBRSxZQUFZLEdBQUcsRUFBRSxvQkFBb0I7QUFBQSxFQUNoRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxpQkFBaUIsR0FBRztBQUN6QixXQUFPLEdBQUUsY0FBYyxDQUFDLElBQUksRUFBRSxNQUFNLFNBQVMsRUFBRSxhQUFhLEtBQUssWUFBWSxFQUFFLFNBQVMsRUFBRSxZQUFZO0FBQUEsRUFDeEc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLGdCQUFnQjtBQUN6QixXQUFPO0FBQUEsTUFDTDtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE9BQU8sMkJBQTJCLEdBQUc7QUFDbkMsUUFBSTtBQUNKLE1BQUUsQ0FBQyxLQUFLLElBQUksU0FBUyxjQUFjLEtBQUssR0FBRyxFQUFFLFlBQVksS0FBSyxJQUFJO0FBQ2xFLFVBQU1BLEtBQUksQ0FBQyxNQUFNLENBQUMsR0FBRSxjQUFjLFNBQVMsRUFBRSxRQUFRLFlBQVksQ0FBQyxLQUFLLE1BQU0sS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNQSxFQUFDO0FBQ3JHLFdBQU8sTUFBTSxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU1BLEVBQUM7QUFBQSxFQUN2QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyx3QkFBd0IsR0FBRztBQUNoQyxXQUFPLEdBQUUsMkJBQTJCLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxNQUFNLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUdBLE9BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFFLHdCQUF3QkEsRUFBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDcEk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE9BQU8sVUFBVSxHQUFHO0FBQ2xCLFdBQU8sRUFBRSxDQUFDLElBQUksU0FBUyxlQUFlLENBQUMsSUFBSTtBQUFBLEVBQzdDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLFNBQVMsR0FBRztBQUNqQixXQUFPLEVBQUUsUUFBUSxZQUFZLE1BQU07QUFBQSxFQUNyQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxPQUFPLEdBQUc7QUFDZixVQUFNLElBQUksRUFBRSxzQkFBc0IsR0FBR0EsS0FBSSxPQUFPLGVBQWUsU0FBUyxnQkFBZ0IsWUFBWSxJQUFJLE9BQU8sZUFBZSxTQUFTLGdCQUFnQixXQUFXQyxLQUFJLEVBQUUsTUFBTSxHQUFHQyxLQUFJLEVBQUUsT0FBT0Y7QUFDOUwsV0FBTztBQUFBLE1BQ0wsS0FBS0M7QUFBQSxNQUNMLE1BQU1DO0FBQUEsTUFDTixRQUFRRCxLQUFJLEVBQUU7QUFBQSxNQUNkLE9BQU9DLEtBQUksRUFBRTtBQUFBLElBQ2Y7QUFBQSxFQUNGO0FBQ0Y7QUFDQSxTQUFTLEdBQUdILElBQUc7QUFDYixTQUFPLENBQUMsYUFBYSxLQUFLQSxFQUFDO0FBQzdCO0FBQ0EsU0FBUyxHQUFHQSxJQUFHO0FBQ2IsUUFBTSxJQUFJLE9BQU8saUJBQWlCQSxFQUFDLEdBQUcsSUFBSSxXQUFXLEVBQUUsUUFBUSxHQUFHQyxLQUFJLFdBQVcsRUFBRSxVQUFVLEtBQUssSUFBSSxLQUFLLElBQUksV0FBVyxFQUFFLFVBQVUsR0FBR0MsS0FBSSxXQUFXLEVBQUUsY0FBYyxHQUFHQyxLQUFJLFdBQVcsRUFBRSxTQUFTLEdBQUdDLEtBQUksSUFBSSxLQUFLQyxNQUFLSixLQUFJLEtBQUs7QUFDbk8sU0FBT0UsS0FBSUQsS0FBSSxJQUFJRyxLQUFJRDtBQUN6QjtBQUNBLFNBQVMsR0FBR0osSUFBRztBQUNiLEVBQUFBLEdBQUUsUUFBUSxRQUFRLEVBQUUsUUFBUUEsRUFBQyxJQUFJLFNBQVM7QUFDNUM7QUFDQSxJQUFNLEtBQUs7QUFBQSxFQUNULFlBQVk7QUFBQSxJQUNWLFNBQVM7QUFBQSxNQUNQLGlCQUFpQjtBQUFBLE1BQ2pCLG1CQUFtQjtBQUFBLElBQ3JCO0FBQUEsRUFDRjtBQUFBLEVBQ0EsZUFBZTtBQUFBLElBQ2IsV0FBVztBQUFBLE1BQ1QsY0FBYztBQUFBLElBQ2hCO0FBQUEsRUFDRjtBQUFBLEVBQ0EsU0FBUztBQUFBLElBQ1AsU0FBUztBQUFBLE1BQ1AsS0FBSztBQUFBLElBQ1A7QUFBQSxFQUNGO0FBQUEsRUFDQSxTQUFTO0FBQUEsSUFDUCxRQUFRO0FBQUEsSUFDUixpQkFBaUI7QUFBQSxJQUNqQixjQUFjO0FBQUEsRUFDaEI7QUFDRjtBQXRCQSxJQXNCRyxLQUFLO0FBQUEsRUFDTixNQUFNO0FBQUEsRUFDTixNQUFNO0FBQUEsRUFDTixNQUFNO0FBQUEsRUFDTixRQUFRO0FBQ1Y7QUEzQkEsSUEyQkcsS0FBSztBQUFBLEVBQ04sTUFBTTtBQUFBLElBQ0osY0FBYztBQUFBLEVBQ2hCO0FBQUEsRUFDQSxNQUFNO0FBQUEsSUFDSiw2Q0FBNkM7QUFBQSxFQUMvQztBQUNGO0FBbENBLElBa0NHLEtBQUs7QUFBQSxFQUNOLFFBQVE7QUFBQSxJQUNOLFFBQVE7QUFBQSxJQUNSLG1CQUFtQjtBQUFBLEVBQ3JCO0FBQUEsRUFDQSxRQUFRO0FBQUEsSUFDTixXQUFXO0FBQUEsRUFDYjtBQUFBLEVBQ0EsVUFBVTtBQUFBLElBQ1IsYUFBYTtBQUFBLEVBQ2Y7QUFDRjtBQTdDQSxJQTZDRyxLQUFLO0FBQUEsRUFDTixJQUFJO0FBQUEsRUFDSixXQUFXO0FBQUEsRUFDWCxPQUFPO0FBQUEsRUFDUCxZQUFZO0FBQ2Q7QUFsREEsSUFrREcsS0FBSyxNQUFNLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTZixPQUFPLEdBQUcsR0FBRyxHQUFHO0FBQ2QsV0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDO0FBQUEsRUFDbkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsT0FBTyxFQUFFLEdBQUcsR0FBRztBQUNiLFdBQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBLEVBQ25CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsT0FBTyxjQUFjLEdBQUc7QUFDdEIsT0FBRyxvQkFBb0I7QUFBQSxFQUN6QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxPQUFPLEdBQUcsR0FBRyxHQUFHO0FBQ2QsVUFBTUMsS0FBSSxHQUFHLGFBQWEsQ0FBQztBQUMzQixXQUFPLENBQUNBLE1BQUssQ0FBQ0EsR0FBRSxDQUFDLElBQUksSUFBSUEsR0FBRSxDQUFDO0FBQUEsRUFDOUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxPQUFPLGFBQWEsR0FBRztBQUNyQixXQUFPLEVBQUUsTUFBTSxHQUFHLEVBQUUsT0FBTyxDQUFDQSxJQUFHLE1BQU0sQ0FBQ0EsTUFBSyxDQUFDLE9BQU8sS0FBS0EsRUFBQyxFQUFFLFNBQVMsQ0FBQyxJQUFJQSxHQUFFLENBQUMsR0FBRyxHQUFHLGlCQUFpQjtBQUFBLEVBQ3JHO0FBQ0Y7QUFDQSxHQUFHLG9CQUFvQjtBQUN2QixJQUFJLElBQUk7QUFDUixJQUFNLEtBQU4sY0FBaUIsTUFBTTtBQUN2QjtBQUNBLElBQU0sS0FBTixNQUFTO0FBQUEsRUFDUCxjQUFjO0FBQ1osU0FBSyxjQUFjLENBQUM7QUFBQSxFQUN0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsR0FBRyxHQUFHLEdBQUc7QUFDUCxTQUFLLEtBQUssZ0JBQWdCLEtBQUssWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssWUFBWSxDQUFDLEVBQUUsS0FBSyxDQUFDO0FBQUEsRUFDakY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLEtBQUssR0FBRyxHQUFHO0FBQ1QsU0FBSyxLQUFLLGdCQUFnQixLQUFLLFlBQVksQ0FBQyxJQUFJLENBQUM7QUFDakQsVUFBTUEsS0FBSSxDQUFDLE1BQU07QUFDZixZQUFNQyxLQUFJLEVBQUUsQ0FBQyxHQUFHQyxLQUFJLEtBQUssWUFBWSxDQUFDLEVBQUUsUUFBUUYsRUFBQztBQUNqRCxhQUFPRSxPQUFNLE1BQU0sS0FBSyxZQUFZLENBQUMsRUFBRSxPQUFPQSxJQUFHLENBQUMsR0FBR0Q7QUFBQSxJQUN2RDtBQUNBLFNBQUssWUFBWSxDQUFDLEVBQUUsS0FBS0QsRUFBQztBQUFBLEVBQzVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxLQUFLLEdBQUcsR0FBRztBQUNULE1BQUUsS0FBSyxXQUFXLEtBQUssQ0FBQyxLQUFLLFlBQVksQ0FBQyxLQUFLLEtBQUssWUFBWSxDQUFDLEVBQUUsT0FBTyxDQUFDQSxJQUFHLE1BQU07QUFDbEYsWUFBTUMsS0FBSSxFQUFFRCxFQUFDO0FBQ2IsYUFBT0MsT0FBTSxTQUFTQSxLQUFJRDtBQUFBLElBQzVCLEdBQUcsQ0FBQztBQUFBLEVBQ047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksR0FBRyxHQUFHO0FBQ1IsUUFBSSxLQUFLLFlBQVksQ0FBQyxNQUFNLFFBQVE7QUFDbEMsY0FBUSxLQUFLLDhEQUE4RCxFQUFFLFNBQVMsQ0FBQyx5Q0FBeUM7QUFDaEk7QUFBQSxJQUNGO0FBQ0EsYUFBU0EsS0FBSSxHQUFHQSxLQUFJLEtBQUssWUFBWSxDQUFDLEVBQUUsUUFBUUE7QUFDOUMsVUFBSSxLQUFLLFlBQVksQ0FBQyxFQUFFQSxFQUFDLE1BQU0sR0FBRztBQUNoQyxlQUFPLEtBQUssWUFBWSxDQUFDLEVBQUVBLEVBQUM7QUFDNUI7QUFBQSxNQUNGO0FBQUEsRUFDSjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxVQUFVO0FBQ1IsU0FBSyxjQUFjLENBQUM7QUFBQSxFQUN0QjtBQUNGO0FBQ0EsU0FBUyxFQUFFRCxJQUFHO0FBQ1osU0FBTyxlQUFlLE1BQU07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFNMUIsSUFBSSxLQUFLO0FBQ1AsYUFBT0EsR0FBRTtBQUFBLElBQ1g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFNQSxJQUFJLE9BQU87QUFDVCxhQUFPQSxHQUFFO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU1BLElBQUksU0FBUztBQUNYLGFBQU9BLEdBQUU7QUFBQSxJQUNYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTUEsSUFBSSxTQUFTO0FBQ1gsYUFBT0EsR0FBRTtBQUFBLElBQ1g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFNQSxJQUFJLFVBQVU7QUFDWixhQUFPQSxHQUFFO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU1BLElBQUksV0FBVztBQUNiLGFBQU9BLEdBQUU7QUFBQSxJQUNYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTUEsSUFBSSxVQUFVLEdBQUc7QUFDZixNQUFBQSxHQUFFLFlBQVk7QUFBQSxJQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU1BLElBQUksWUFBWTtBQUNkLGFBQU9BLEdBQUU7QUFBQSxJQUNYO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFJQSxJQUFJLFlBQVk7QUFDZCxhQUFPQSxHQUFFO0FBQUEsSUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFRQSxLQUFLLEdBQUdDLElBQUc7QUFDVCxhQUFPRCxHQUFFLEtBQUssR0FBR0MsRUFBQztBQUFBLElBQ3BCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTUEsT0FBTztBQUNMLGFBQU9ELEdBQUUsS0FBSztBQUFBLElBQ2hCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFPQSxTQUFTLEdBQUc7QUFDVixhQUFPQSxHQUFFLFNBQVMsQ0FBQztBQUFBLElBQ3JCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUtBLGlCQUFpQjtBQUNmLE1BQUFBLEdBQUUsZUFBZTtBQUFBLElBQ25CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUtBLHdCQUF3QjtBQUN0QixhQUFPQSxHQUFFLHNCQUFzQjtBQUFBLElBQ2pDO0FBQUEsRUFDRixDQUFDO0FBQ0g7QUFDQSxJQUFNLEtBQU4sTUFBUztBQUFBLEVBQ1AsY0FBYztBQUNaLFNBQUssZUFBZSxDQUFDO0FBQUEsRUFDdkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxHQUFHLEdBQUcsR0FBR0MsSUFBRyxJQUFJLE9BQUk7QUFDbEIsVUFBTUMsS0FBSSxHQUFHLEdBQUcsR0FBR0MsS0FBSTtBQUFBLE1BQ3JCLElBQUlEO0FBQUEsTUFDSixTQUFTO0FBQUEsTUFDVCxXQUFXO0FBQUEsTUFDWCxTQUFTRDtBQUFBLE1BQ1QsU0FBUztBQUFBLElBQ1g7QUFDQSxRQUFJLENBQUMsS0FBSyxRQUFRLEdBQUcsR0FBR0EsRUFBQztBQUN2QixhQUFPLEtBQUssYUFBYSxLQUFLRSxFQUFDLEdBQUcsRUFBRSxpQkFBaUIsR0FBR0YsSUFBRyxDQUFDLEdBQUdDO0FBQUEsRUFDbkU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxJQUFJLEdBQUcsR0FBR0QsSUFBRyxHQUFHO0FBQ2QsVUFBTUMsS0FBSSxLQUFLLFFBQVEsR0FBRyxHQUFHRCxFQUFDO0FBQzlCLElBQUFDLEdBQUUsUUFBUSxDQUFDQyxJQUFHQyxPQUFNO0FBQ2xCLFlBQU1DLEtBQUksS0FBSyxhQUFhLFFBQVFILEdBQUVFLEVBQUMsQ0FBQztBQUN4QyxNQUFBQyxLQUFJLE9BQU8sS0FBSyxhQUFhLE9BQU9BLElBQUcsQ0FBQyxHQUFHRixHQUFFLFFBQVEsb0JBQW9CQSxHQUFFLFdBQVdBLEdBQUUsU0FBU0EsR0FBRSxPQUFPO0FBQUEsSUFDNUcsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxRQUFRLEdBQUc7QUFDVCxVQUFNLElBQUksS0FBSyxTQUFTLENBQUM7QUFDekIsU0FBSyxFQUFFLFFBQVEsb0JBQW9CLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxPQUFPO0FBQUEsRUFDdEU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxRQUFRLEdBQUcsR0FBR0YsSUFBRztBQUNmLFVBQU0sSUFBSSxLQUFLLFFBQVEsR0FBRyxHQUFHQSxFQUFDO0FBQzlCLFdBQU8sRUFBRSxTQUFTLElBQUksRUFBRSxDQUFDLElBQUk7QUFBQSxFQUMvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLFFBQVEsR0FBRyxHQUFHQSxJQUFHO0FBQ2YsUUFBSTtBQUNKLFVBQU1DLEtBQUksSUFBSSxLQUFLLGtCQUFrQixDQUFDLElBQUksQ0FBQztBQUMzQyxXQUFPLEtBQUssS0FBS0QsS0FBSSxJQUFJQyxHQUFFLE9BQU8sQ0FBQ0MsT0FBTUEsR0FBRSxjQUFjLEtBQUtBLEdBQUUsWUFBWUYsRUFBQyxJQUFJLEtBQUssSUFBSSxJQUFJQyxHQUFFLE9BQU8sQ0FBQ0MsT0FBTUEsR0FBRSxjQUFjLENBQUMsSUFBSSxJQUFJRCxJQUFHO0FBQUEsRUFDNUk7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFlBQVk7QUFDVixTQUFLLGFBQWEsSUFBSSxDQUFDLE1BQU07QUFDM0IsUUFBRSxRQUFRLG9CQUFvQixFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsT0FBTztBQUFBLElBQ2pFLENBQUMsR0FBRyxLQUFLLGVBQWUsQ0FBQztBQUFBLEVBQzNCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxVQUFVO0FBQ1IsU0FBSyxVQUFVO0FBQUEsRUFDakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGtCQUFrQixHQUFHO0FBQ25CLFdBQU8sS0FBSyxhQUFhLE9BQU8sQ0FBQyxNQUFNO0FBQ3JDLFVBQUksRUFBRSxZQUFZO0FBQ2hCLGVBQU87QUFBQSxJQUNYLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLEdBQUc7QUFDWixXQUFPLEtBQUssYUFBYSxPQUFPLENBQUMsTUFBTTtBQUNyQyxVQUFJLEVBQUUsY0FBYztBQUNsQixlQUFPO0FBQUEsSUFDWCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsY0FBYyxHQUFHO0FBQ2YsV0FBTyxLQUFLLGFBQWEsT0FBTyxDQUFDLE1BQU07QUFDckMsVUFBSSxFQUFFLFlBQVk7QUFDaEIsZUFBTztBQUFBLElBQ1gsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFNBQVMsR0FBRztBQUNWLFdBQU8sS0FBSyxhQUFhLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO0FBQUEsRUFDakQ7QUFDRjtBQUNBLElBQU0sSUFBTixNQUFNLEdBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9OLFlBQVksRUFBRSxRQUFRLEdBQUcsa0JBQWtCLEVBQUUsR0FBRztBQUM5QyxRQUFJLEtBQUssUUFBUSxDQUFDLEdBQUcsS0FBSyxZQUFZLElBQUksR0FBRyxHQUFHLEtBQUssMkJBQTJCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BUzlFLElBQUksQ0FBQ0QsSUFBRyxHQUFHQyxJQUFHQyxLQUFJLFVBQU87QUFDdkIsYUFBSyxtQkFBbUI7QUFBQSxVQUN0QixLQUFLLFVBQVUsR0FBR0YsSUFBRyxHQUFHQyxJQUFHQyxFQUFDO0FBQUEsUUFDOUI7QUFBQSxNQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFJQSxVQUFVLE1BQU07QUFDZCxtQkFBV0YsTUFBSyxLQUFLO0FBQ25CLGVBQUssVUFBVSxRQUFRQSxFQUFDO0FBQzFCLGFBQUsscUJBQXFCLENBQUM7QUFBQSxNQUM3QjtBQUFBLElBQ0YsR0FBRyxLQUFLLHFCQUFxQixDQUFDLEdBQUcsZUFBZTtBQUM5QyxZQUFNLElBQUksVUFBVSx5REFBeUQ7QUFDL0UsU0FBSyxTQUFTLEdBQUcsS0FBSyxtQkFBbUI7QUFBQSxFQUMzQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksTUFBTSxHQUFHO0FBQ1gsU0FBSyxTQUFTO0FBQUEsRUFDaEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGlCQUFpQjtBQUNmLGVBQVcsS0FBSyxLQUFLLE9BQU87QUFDMUIsWUFBTSxJQUFJLEtBQUssTUFBTSxDQUFDO0FBQ3RCLG1CQUFhLGVBQWUsRUFBRSxPQUFPO0FBQUEsSUFDdkM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFFBQVE7QUFDVixXQUFPLEtBQUssT0FBTyxLQUFLLGNBQWM7QUFBQSxFQUN4QztBQUNGO0FBQ0EsSUFBTSxJQUFOLE1BQU0sR0FBRTtBQUFBLEVBQ04sY0FBYztBQUNaLFNBQUssV0FBVyxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssc0JBQXNCLE1BQU0sS0FBSywwQkFBMEIsT0FBSSxLQUFLLG9CQUFvQixhQUFhLEtBQUssc0JBQXNCO0FBQUEsRUFDcEw7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLE1BQU07QUFDZixXQUFPO0FBQUEsTUFDTCxlQUFlO0FBQUEsTUFDZixZQUFZO0FBQUEsSUFDZDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFdBQVcsYUFBYTtBQUN0QixVQUFNLElBQUksT0FBTyxhQUFhO0FBQzlCLFdBQU8sSUFBSSxFQUFFLGFBQWE7QUFBQSxFQUM1QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsZ0JBQWdCO0FBQ3pCLFVBQU0sSUFBSSxPQUFPLGFBQWE7QUFDOUIsUUFBSSxDQUFDO0FBQ0gsYUFBTztBQUNULFVBQU0sSUFBSSxFQUFFO0FBQ1osV0FBTyxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUksSUFBSSxFQUFFLGdCQUFnQjtBQUFBLEVBQ3BEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLGVBQWU7QUFDeEIsVUFBTSxJQUFJLE9BQU8sYUFBYTtBQUM5QixXQUFPLElBQUksRUFBRSxlQUFlO0FBQUEsRUFDOUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLGNBQWM7QUFDdkIsVUFBTSxJQUFJLE9BQU8sYUFBYTtBQUM5QixXQUFPLElBQUksRUFBRSxjQUFjO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLGFBQWE7QUFDdEIsV0FBTyxLQUFLLG9CQUFvQixHQUFFLElBQUksQ0FBQztBQUFBLEVBQ3pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsT0FBTyxvQkFBb0IsR0FBRztBQUM1QixRQUFJLENBQUM7QUFDSCxhQUFPO0FBQ1QsUUFBSSxJQUFJLEVBQUUsY0FBYyxFQUFFO0FBQzFCLFNBQUssRUFBRSxhQUFhLEtBQUssY0FBYyxJQUFJLEVBQUU7QUFDN0MsUUFBSUEsS0FBSTtBQUNSLFdBQU8sS0FBSyxhQUFhLFlBQVlBLEtBQUksRUFBRSxRQUFRLElBQUksR0FBRSxJQUFJLFVBQVUsRUFBRSxJQUFJQSxLQUFJQSxHQUFFLGFBQWEsS0FBSyxlQUFlO0FBQUEsRUFDdEg7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxPQUFPLGdCQUFnQixHQUFHO0FBQ3hCLFFBQUksQ0FBQztBQUNIO0FBQ0YsUUFBSSxJQUFJLEVBQUU7QUFDVixTQUFLLEVBQUUsYUFBYSxLQUFLLGNBQWMsSUFBSSxFQUFFO0FBQzdDLFFBQUlBLEtBQUk7QUFDUixXQUFPLEtBQUssYUFBYSxZQUFZQSxLQUFJLEVBQUUsUUFBUSxJQUFJLEdBQUUsSUFBSSxVQUFVLEVBQUUsSUFBSUEsS0FBSUEsR0FBRSxhQUFhLEtBQUssZUFBZTtBQUFBLEVBQ3RIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXLG9CQUFvQjtBQUM3QixXQUFPLENBQUMsQ0FBQyxHQUFFLElBQUksRUFBRTtBQUFBLEVBQ25CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsV0FBVyxRQUFRO0FBQ2pCLFdBQU8sS0FBSyxzQkFBc0IsS0FBSyxJQUFJLENBQUM7QUFBQSxFQUM5QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU8sc0JBQXNCLEdBQUc7QUFDOUIsV0FBTyxLQUFLLEVBQUUsYUFBYSxFQUFFLFdBQVcsQ0FBQyxJQUFJO0FBQUEsRUFDL0M7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLE9BQU87QUFDaEIsUUFBSSxJQUFJLFNBQVMsV0FBVyxHQUFHQSxLQUFJO0FBQUEsTUFDakMsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsT0FBTztBQUFBLE1BQ1AsUUFBUTtBQUFBLElBQ1Y7QUFDQSxRQUFJLEtBQUssRUFBRSxTQUFTO0FBQ2xCLGFBQU8sSUFBSSxHQUFHLElBQUksRUFBRSxZQUFZLEdBQUdBLEdBQUUsSUFBSSxFQUFFLGNBQWNBLEdBQUUsSUFBSSxFQUFFLGFBQWFBLEdBQUUsUUFBUSxFQUFFLGVBQWVBLEdBQUUsU0FBUyxFQUFFLGdCQUFnQkE7QUFDeEksUUFBSSxDQUFDLE9BQU87QUFDVixhQUFPLEVBQUUsK0NBQStDLE1BQU0sR0FBR0E7QUFDbkUsUUFBSSxJQUFJLE9BQU8sYUFBYSxHQUFHLEVBQUUsZUFBZSxRQUFRLE1BQU0sRUFBRSxVQUFVO0FBQ3hFLGFBQU8sRUFBRSxxREFBcUQsTUFBTSxHQUFHQTtBQUN6RSxRQUFJLEVBQUUsZUFBZTtBQUNuQixhQUFPQTtBQUNULFFBQUksSUFBSSxFQUFFLFdBQVcsQ0FBQyxFQUFFLFdBQVcsR0FBRyxFQUFFLDBCQUEwQkEsS0FBSSxFQUFFLHNCQUFzQixJQUFJQSxHQUFFLE1BQU0sS0FBS0EsR0FBRSxNQUFNLEdBQUc7QUFDeEgsWUFBTSxJQUFJLFNBQVMsY0FBYyxNQUFNO0FBQ3ZDLFVBQUksRUFBRSx1QkFBdUI7QUFDM0IsVUFBRSxZQUFZLFNBQVMsZUFBZSxRQUFHLENBQUMsR0FBRyxFQUFFLFdBQVcsQ0FBQyxHQUFHQSxLQUFJLEVBQUUsc0JBQXNCO0FBQzFGLGNBQU1DLEtBQUksRUFBRTtBQUNaLFFBQUFBLEdBQUUsWUFBWSxDQUFDLEdBQUdBLEdBQUUsVUFBVTtBQUFBLE1BQ2hDO0FBQUEsSUFDRjtBQUNBLFdBQU9EO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsT0FBTztBQUNoQixXQUFPLE9BQU8sZUFBZSxPQUFPLGFBQWEsRUFBRSxTQUFTLElBQUk7QUFBQSxFQUNsRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxNQUFNO0FBQ1gsV0FBTyxPQUFPLGFBQWE7QUFBQSxFQUM3QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxVQUFVLEdBQUcsSUFBSSxHQUFHO0FBQ3pCLFVBQU1BLEtBQUksU0FBUyxZQUFZLEdBQUcsSUFBSSxPQUFPLGFBQWE7QUFDMUQsV0FBTyxFQUFFLGNBQWMsQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLEtBQUssRUFBRSxNQUFNLEdBQUcsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEdBQUcsRUFBRSxzQkFBc0IsS0FBSyxVQUFVQSxHQUFFLFNBQVMsR0FBRyxDQUFDLEdBQUdBLEdBQUUsT0FBTyxHQUFHLENBQUMsR0FBRyxFQUFFLGdCQUFnQixHQUFHLEVBQUUsU0FBU0EsRUFBQyxHQUFHQSxHQUFFLHNCQUFzQjtBQUFBLEVBQ3pPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsT0FBTyx1QkFBdUIsR0FBRztBQUMvQixVQUFNLElBQUksR0FBRTtBQUNaLFdBQU8sTUFBTSxPQUFPLFFBQUssRUFBRSxTQUFTLEVBQUUsY0FBYztBQUFBLEVBQ3REO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPLGdCQUFnQjtBQUNyQixVQUFNLElBQUksR0FBRTtBQUNaLFFBQUksTUFBTTtBQUNSO0FBQ0YsVUFBTSxJQUFJLEVBQUUsS0FBSyxRQUFRLDJCQUEyQjtBQUNwRCxNQUFFLFFBQVEsZUFBZSxRQUFRLEVBQUUsU0FBUyxHQUFHLEVBQUUsV0FBVyxDQUFDO0FBQUEsRUFDL0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxPQUFPLDRCQUE0QixHQUFHO0FBQ3BDLFdBQU8sRUFBRSxLQUFLLEdBQUcsNEJBQTRCLE1BQU07QUFBQSxFQUNyRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU8saUJBQWlCLElBQUksU0FBUyxNQUFNO0FBQ3pDLFVBQU0sSUFBSSxFQUFFLEtBQUssR0FBRyw0QkFBNEI7QUFDaEQsU0FBSyxFQUFFLE9BQU87QUFBQSxFQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsdUJBQXVCO0FBQ3JCLFNBQUssNEJBQTRCLEtBQUssMEJBQTBCLE9BQUksU0FBUyxZQUFZLEtBQUssbUJBQW1CO0FBQUEsRUFDbkg7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLG9CQUFvQjtBQUNsQixhQUFTLFlBQVksS0FBSyxtQkFBbUIsT0FBSSxTQUFTLEdBQUcsS0FBSywwQkFBMEI7QUFBQSxFQUM5RjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsT0FBTztBQUNMLFNBQUssc0JBQXNCLEdBQUU7QUFBQSxFQUMvQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsVUFBVTtBQUNSLFFBQUksQ0FBQyxLQUFLO0FBQ1I7QUFDRixVQUFNLElBQUksT0FBTyxhQUFhO0FBQzlCLE1BQUUsZ0JBQWdCLEdBQUcsRUFBRSxTQUFTLEtBQUssbUJBQW1CO0FBQUEsRUFDMUQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGFBQWE7QUFDWCxTQUFLLHNCQUFzQjtBQUFBLEVBQzdCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxnQkFBZ0I7QUFDZCxVQUFNLElBQUksT0FBTyxhQUFhLEdBQUcsSUFBSSxTQUFTLFlBQVk7QUFDMUQsTUFBRSxtQkFBbUIsRUFBRSxTQUFTLEdBQUcsRUFBRSxTQUFTLEtBQUUsR0FBRyxFQUFFLGdCQUFnQixHQUFHLEVBQUUsU0FBUyxDQUFDO0FBQUEsRUFDdEY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxjQUFjLEdBQUcsR0FBR0EsS0FBSSxJQUFJO0FBQzFCLFVBQU0sSUFBSSxPQUFPLGFBQWE7QUFDOUIsUUFBSUMsS0FBSTtBQUNSLFdBQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxjQUFjLENBQUMsRUFBRSxZQUFZLFFBQVE7QUFBQTtBQUFBLE1BRW5ELEVBQUU7QUFBQTtBQUFBLE1BRUYsRUFBRTtBQUFBLElBQ0osRUFBRSxRQUFRLENBQUNFLE9BQU07QUFDZixVQUFJQyxLQUFJSjtBQUNSLGFBQU9JLEtBQUksS0FBS0QsR0FBRSxjQUFjLEVBQUVBLEdBQUUsWUFBWSxNQUFNRixLQUFJRSxJQUFHLEtBQUtBLEdBQUUsYUFBYSxDQUFDQSxHQUFFLFVBQVUsU0FBUyxDQUFDLE1BQU1GLEtBQUksT0FBT0E7QUFDdkgsUUFBQUUsS0FBSUEsR0FBRSxZQUFZQztBQUFBLElBQ3RCLENBQUMsR0FBR0g7QUFBQSxFQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsWUFBWSxHQUFHO0FBQ2IsVUFBTSxJQUFJLE9BQU8sYUFBYTtBQUM5QixNQUFFLGdCQUFnQjtBQUNsQixVQUFNRCxLQUFJLFNBQVMsWUFBWTtBQUMvQixJQUFBQSxHQUFFLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxTQUFTQSxFQUFDO0FBQUEsRUFDdkM7QUFDRjtBQUNBLFNBQVMsR0FBR0QsSUFBRyxHQUFHO0FBQ2hCLFFBQU0sRUFBRSxNQUFNLEdBQUcsUUFBUUMsSUFBRyxZQUFZLEdBQUcsY0FBY0MsR0FBRSxJQUFJRjtBQUMvRCxTQUFPQSxHQUFFLFNBQVMsZ0JBQWdCQSxHQUFFLGtCQUFrQixlQUFlLFFBQUssQ0FBQyxFQUFFLEVBQUUsU0FBU0MsRUFBQyxLQUFLLE1BQU0sZ0JBQWdCLE1BQU0sS0FBSyxDQUFDLEVBQUUsS0FBSyxDQUFDSSxPQUFNQSxPQUFNLENBQUMsS0FBSyxNQUFNLEtBQUtILEVBQUMsRUFBRSxLQUFLLENBQUNHLE9BQU1BLE9BQU0sQ0FBQztBQUM3TDtBQUNBLElBQU0sS0FBSztBQUFYLElBQW1DLEtBQUs7QUFBeEMsSUFBeUQsS0FBSztBQUE5RCxJQUFvRyxLQUFLO0FBQXpHLElBQXNJLEtBQUs7QUFDM0ksU0FBUyxHQUFHTCxJQUFHLEdBQUc7QUFDaEIsTUFBSSxDQUFDQSxHQUFFO0FBQ0wsV0FBTztBQUNULFFBQU0sSUFBSUEsR0FBRSxpQkFBaUIsQ0FBQztBQUM5QixTQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNwQjtBQUNBLFNBQVMsR0FBR0EsSUFBRyxHQUFHO0FBQ2hCLFNBQU8sR0FBR0EsR0FBRSxNQUFNLENBQUM7QUFDckI7QUFDQSxTQUFTLEdBQUdBLElBQUcsR0FBRztBQUNoQixTQUFPLE9BQU8sUUFBUUEsRUFBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEdBQUdDLEVBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxHQUFHQSxFQUFDLENBQUM7QUFDL0Q7QUFDQSxlQUFlLEdBQUdELElBQUcsR0FBRztBQUN0QixRQUFNQyxNQUFLLE1BQU1ELEdBQUUsS0FBSyxHQUFHLE1BQU0sSUFBSSxFQUFFLEtBQUssQ0FBQ0UsT0FBTUEsR0FBRSxTQUFTRixHQUFFLElBQUk7QUFDcEUsU0FBTyxNQUFNLFVBQVUsQ0FBQyxHQUFHLEdBQUcsUUFBUSxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQ0UsSUFBR0MsT0FBTTtBQUNoRSxRQUFJLENBQUMsR0FBR0EsSUFBRyxRQUFRLEtBQUtBLEdBQUUsWUFBWTtBQUNwQyxhQUFPRDtBQUNULFVBQU1FLEtBQUlELEdBQUUsUUFBUSxPQUFPLENBQUNFLE9BQU07QUFDaEMsVUFBSSxFQUFFQSxFQUFDLEtBQUtBLEdBQUUsU0FBUztBQUNyQixlQUFPO0FBQ1QsVUFBSUEsR0FBRSxTQUFTLFFBQVE7QUFDckIsWUFBSSxHQUFHQSxHQUFFLE1BQU1KLEVBQUM7QUFDZCxpQkFBTztBQUFBLE1BQ1gsV0FBV0UsR0FBRSxTQUFTSCxHQUFFO0FBQ3RCLGVBQU87QUFDVCxhQUFPO0FBQUEsSUFDVCxDQUFDO0FBQ0QsV0FBT0UsR0FBRSxLQUFLO0FBQUEsTUFDWixHQUFHQztBQUFBLE1BQ0gsU0FBU0M7QUFBQSxJQUNYLENBQUMsR0FBR0Y7QUFBQSxFQUNOLEdBQUcsQ0FBQyxDQUFDO0FBQ1A7QUFDQSxTQUFTLEdBQUdGLElBQUcsR0FBRztBQUNoQixTQUFPQSxHQUFFLFlBQVlBLEdBQUUsU0FBUyxFQUFFLE9BQU8sT0FBSyxHQUFHLEdBQUcsUUFBUSxLQUFLLEdBQUdBLElBQUcsUUFBUSxJQUFJO0FBQ3JGO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUc7QUFDaEIsUUFBTSxJQUFJLEtBQUssT0FBTyxTQUFTLEVBQUU7QUFDakMsU0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFQSxFQUFDLElBQUksRUFBRSxDQUFDLElBQUlBLEdBQUUsQ0FBQyxLQUFLLE1BQU0sVUFBVSxFQUFFLHNLQUFnSyxHQUFHO0FBQzNOO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUc7QUFDaEIsUUFBTSxJQUFJLEtBQUssT0FBTyxTQUFTLEVBQUU7QUFDakMsU0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFQSxFQUFDLElBQUksRUFBRSxDQUFDLElBQUk7QUFBQSxJQUMxQixDQUFDLENBQUMsR0FBR0E7QUFBQSxFQUNQLEtBQUssTUFBTSxVQUFVLEVBQUUsNktBQXVLLEdBQUcsQ0FBQztBQUNwTTtBQUNBLElBQUksSUFBcUIsa0JBQUNBLFFBQU9BLEdBQUUsVUFBVSxXQUFXQSxHQUFFLFlBQVksYUFBYUEsR0FBRSxPQUFPLFFBQVFBLEtBQUksS0FBSyxDQUFDLENBQUM7QUFBL0csSUFBa0gsSUFBcUIsa0JBQUNBLFFBQU9BLEdBQUUsa0JBQWtCLGtCQUFrQkEsR0FBRSxXQUFXLFlBQVlBLEdBQUUsUUFBUSxTQUFTQSxHQUFFLFVBQVUsV0FBV0EsR0FBRSxVQUFVLFdBQVdBLEdBQUUsV0FBVyxXQUFXQSxLQUFJLEtBQUssQ0FBQyxDQUFDO0FBQ2xULElBQU0sSUFBTixNQUFNLFdBQVUsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBVWpCLFlBQVk7QUFBQSxJQUNWLElBQUksSUFBSSxHQUFHO0FBQUEsSUFDWCxNQUFNO0FBQUEsSUFDTixNQUFNQztBQUFBLElBQ04sVUFBVTtBQUFBLElBQ1YsV0FBV0M7QUFBQSxFQUNiLEdBQUdDLElBQUc7QUFDSixVQUFNLEdBQUcsS0FBSyxlQUFlLENBQUMsR0FBRyxLQUFLLHNCQUFzQixNQUFNLEtBQUssaUJBQWlDLG9CQUFJLElBQUksR0FBRyxLQUFLLHdCQUF3QyxvQkFBSSxJQUFJLEdBQUcsS0FBSyx1QkFBdUIsQ0FBQyxHQUFHLEtBQUssYUFBYSxHQUFHLEtBQUssaUJBQWlCLE1BQU0sS0FBSyxjQUFjLE1BQU07QUFDblIsV0FBSyxnQkFBZ0IsR0FBRyxLQUFLLG1CQUFtQjtBQUFBLElBQ2xELEdBQUcsS0FBSyxhQUFhLENBQUNDLEtBQUksV0FBVztBQUNuQyxZQUFNQyxLQUFJRCxPQUFNLFFBQVFFLEtBQUlGLGNBQWE7QUFDekMsT0FBQ0MsTUFBSyxDQUFDQyxNQUFLLEtBQUsscUJBQXFCRixFQUFDO0FBQ3ZDLFVBQUlHO0FBQ0osTUFBQUYsTUFBS0MsS0FBSUMsS0FBSSxPQUFLQSxLQUFJLEVBQUVILEdBQUUsU0FBUyxLQUFLQSxHQUFFLE1BQU0sQ0FBQ0ksT0FBTTtBQUNyRCxjQUFNLEVBQUUsWUFBWUMsSUFBRyxjQUFjQyxJQUFHLFFBQVFDLEdBQUUsSUFBSUg7QUFDdEQsZUFBTztBQUFBLFVBQ0wsR0FBRyxNQUFNLEtBQUtDLEVBQUM7QUFBQSxVQUNmLEdBQUcsTUFBTSxLQUFLQyxFQUFDO0FBQUEsVUFDZkM7QUFBQSxRQUNGLEVBQUUsS0FBSyxDQUFDQyxRQUFPLEVBQUUsVUFBVUEsRUFBQyxNQUFNQSxLQUFJQSxHQUFFLGdCQUFnQkEsTUFBS0EsR0FBRSxRQUFRLDZCQUE2QixNQUFNLEtBQUs7QUFBQSxNQUNqSCxDQUFDLElBQUlMLE9BQU0sS0FBSyxnQkFBZ0IsR0FBRyxLQUFLLG1CQUFtQixHQUFHLEtBQUssc0JBQXNCLEdBQUcsS0FBSztBQUFBLFFBQy9GO0FBQUE7QUFBQSxNQUVGLEdBQUcsS0FBSyxLQUFLLGNBQWMsSUFBSTtBQUFBLElBQ2pDLEdBQUcsS0FBSyxPQUFPTixHQUFFLE1BQU0sS0FBSyxLQUFLLEdBQUcsS0FBSyxXQUFXQSxHQUFFLFVBQVUsS0FBSyxTQUFTQSxHQUFFLFNBQVMsVUFBVSxDQUFDLEdBQUcsS0FBSyxpQkFBaUJFLE1BQUssTUFBTSxLQUFLLFdBQVcsSUFBSSxFQUFFLElBQUksR0FBRyxLQUFLLE9BQU9GLElBQUcsS0FBSyxlQUFlQSxHQUFFLE9BQU8sR0FBRyxLQUFLLFVBQVUsQ0FBQyxHQUFHLEtBQUssUUFBUUEsR0FBRSxPQUFPLEtBQUssYUFBYUMsRUFBQyxHQUFHLEtBQUssU0FBUyxLQUFLLFFBQVEsR0FBRyxPQUFPLG9CQUFvQixNQUFNO0FBQ2hWLFdBQUssb0JBQW9CLEdBQUcsS0FBSyxlQUFlLEdBQUcsS0FBSyxzQkFBc0I7QUFBQSxJQUNoRixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsTUFBTTtBQUNmLFdBQU87QUFBQSxNQUNMLFNBQVM7QUFBQSxNQUNULGtCQUFrQjtBQUFBLE1BQ2xCLFNBQVM7QUFBQSxNQUNULFVBQVU7QUFBQSxNQUNWLFlBQVk7QUFBQSxJQUNkO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxTQUFTO0FBQ1gsUUFBSSxLQUFLLGFBQWEsV0FBVztBQUMvQixhQUFPLEtBQUs7QUFDZCxVQUFNLElBQUksRUFBRSxjQUFjLEtBQUssTUFBTTtBQUNyQyxXQUFPLEtBQUssYUFBYSxFQUFFLFNBQVMsTUFBTSxLQUFLLGFBQWEsRUFBRSxTQUFTLElBQUksS0FBSyxlQUFlLEdBQUc7QUFBQSxFQUNwRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxJQUFJLGVBQWU7QUFDakIsV0FBTyxLQUFLLE9BQU8sS0FBSyxVQUFVO0FBQUEsRUFDcEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGFBQWEsR0FBRztBQUNsQixVQUFNLElBQUksS0FBSyxPQUFPLFVBQVUsQ0FBQ0QsT0FBTUEsT0FBTSxLQUFLQSxHQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQy9ELFVBQU0sT0FBTyxLQUFLLGFBQWE7QUFBQSxFQUNqQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxJQUFJLGFBQWE7QUFDZixXQUFPLEtBQUssT0FBTyxDQUFDO0FBQUEsRUFDdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsSUFBSSxZQUFZO0FBQ2QsVUFBTSxJQUFJLEtBQUs7QUFDZixXQUFPLEVBQUUsRUFBRSxTQUFTLENBQUM7QUFBQSxFQUN2QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxJQUFJLFlBQVk7QUFDZCxXQUFPLEtBQUssT0FBTyxLQUFLLGFBQWEsQ0FBQztBQUFBLEVBQ3hDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLElBQUksZ0JBQWdCO0FBQ2xCLFdBQU8sS0FBSyxPQUFPLEtBQUssYUFBYSxDQUFDO0FBQUEsRUFDeEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLE9BQU87QUFDVCxXQUFPLEtBQUssS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLEVBQUUsSUFBSSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFBQSxFQUM5RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksV0FBVztBQUNiLFdBQU8sS0FBSyxLQUFLO0FBQUEsRUFDbkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksWUFBWTtBQUNkLFdBQU8sRUFBRSxLQUFLLGFBQWEsS0FBSztBQUFBLEVBQ2xDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFlBQVk7QUFDZCxXQUFPLEtBQUssT0FBTyxXQUFXO0FBQUEsRUFDaEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLFVBQVU7QUFDWixVQUFNLElBQUksRUFBRSxRQUFRLEtBQUssZ0JBQWdCLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSztBQUN6RCxXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxXQUFXO0FBQ2IsVUFBTSxJQUFJO0FBQUEsTUFDUjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQ0EsV0FBTyxDQUFDLENBQUMsS0FBSyxPQUFPLGNBQWMsRUFBRSxLQUFLLEdBQUcsQ0FBQztBQUFBLEVBQ2hEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxJQUFJLFNBQVMsR0FBRztBQUNkLFFBQUksR0FBR0M7QUFDUCxTQUFLLE9BQU8sVUFBVSxPQUFPLEdBQUUsSUFBSSxVQUFVLENBQUM7QUFDOUMsVUFBTSxJQUFJLE1BQU0sUUFBTSxFQUFFLHVCQUF1QixLQUFLLE1BQU0sR0FBR0QsS0FBSSxNQUFNLFNBQU0sRUFBRSw0QkFBNEIsS0FBSyxNQUFNO0FBQ3RILEtBQUMsS0FBS0EsU0FBUSxJQUFJLEtBQUssbUJBQW1CLFFBQVEsRUFBRSxLQUFLLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxjQUFjLElBQUksRUFBRSxpQkFBaUIsS0FBSyxNQUFNLElBQUlDLEtBQUksS0FBSyxtQkFBbUIsUUFBUUEsR0FBRSxLQUFLLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQztBQUFBLEVBQ25NO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxXQUFXO0FBQ2IsV0FBTyxLQUFLLE9BQU8sVUFBVSxTQUFTLEdBQUUsSUFBSSxRQUFRO0FBQUEsRUFDdEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLFVBQVUsR0FBRztBQUNmLFNBQUssT0FBTyxVQUFVLE9BQU8sR0FBRSxJQUFJLGtCQUFrQixDQUFDO0FBQUEsRUFDeEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLFlBQVk7QUFDZCxXQUFPLEtBQUssT0FBTyxVQUFVLFNBQVMsR0FBRSxJQUFJLGdCQUFnQjtBQUFBLEVBQzlEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxXQUFXLEdBQUc7QUFDaEIsU0FBSyxPQUFPLFVBQVUsT0FBTyxHQUFFLElBQUksWUFBWSxDQUFDO0FBQUEsRUFDbEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGlCQUFpQjtBQUNuQixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsS0FBSyxHQUFHLEdBQUc7QUFDVCxRQUFJLEVBQUUsS0FBSyxhQUFhLENBQUMsQ0FBQyxHQUFHO0FBQzNCLFlBQU0sb0JBQW9CO0FBQUEsUUFDeEI7QUFBQSxRQUNBO0FBQUEsTUFDRjtBQUNBLFVBQUk7QUFDRixhQUFLLGFBQWEsQ0FBQyxFQUFFLEtBQUssS0FBSyxjQUFjLENBQUM7QUFBQSxNQUNoRCxTQUFTRCxJQUFHO0FBQ1YsVUFBRSxpQkFBaUIsQ0FBQyxXQUFXQSxHQUFFLE9BQU8sSUFBSSxPQUFPO0FBQUEsTUFDckQ7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQU0sVUFBVSxHQUFHO0FBQ2pCLFVBQU0sS0FBSyxhQUFhLE1BQU0sQ0FBQztBQUFBLEVBQ2pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxNQUFNLE9BQU87QUFDWCxVQUFNLElBQUksTUFBTSxLQUFLLGFBQWEsS0FBSyxLQUFLLGNBQWMsR0FBRyxJQUFJLEtBQUs7QUFDdEU7QUFBQSxNQUNFLEdBQUcsS0FBSyxlQUFlLFFBQVE7QUFBQSxNQUMvQixHQUFHLEtBQUssc0JBQXNCLFFBQVE7QUFBQSxJQUN4QyxFQUFFLFFBQVEsQ0FBQyxDQUFDQyxJQUFHQyxFQUFDLE1BQU07QUFDcEIsVUFBSSxFQUFFQSxHQUFFLElBQUk7QUFDVixZQUFJO0FBQ0YsWUFBRUQsRUFBQyxJQUFJQyxHQUFFLEtBQUs7QUFBQSxRQUNoQixTQUFTQyxJQUFHO0FBQ1YsWUFBRSxRQUFRRCxHQUFFLFlBQVksSUFBSSxtQ0FBbUMsUUFBUUMsRUFBQztBQUFBLFFBQzFFO0FBQUEsSUFDSixDQUFDO0FBQ0QsVUFBTUgsS0FBSSxPQUFPLFlBQVksSUFBSTtBQUNqQyxRQUFJO0FBQ0osV0FBTyxRQUFRLFFBQVEsQ0FBQyxFQUFFLEtBQUssQ0FBQ0MsUUFBTyxJQUFJLE9BQU8sWUFBWSxJQUFJLEdBQUc7QUFBQSxNQUNuRSxJQUFJLEtBQUs7QUFBQSxNQUNULE1BQU0sS0FBSztBQUFBLE1BQ1gsTUFBTUE7QUFBQSxNQUNOLE9BQU87QUFBQSxNQUNQLE1BQU0sSUFBSUQ7QUFBQSxJQUNaLEVBQUUsRUFBRSxNQUFNLENBQUNDLE9BQU07QUFDZixRQUFFLHNCQUFzQixLQUFLLElBQUksMkJBQTJCQSxFQUFDLElBQUksT0FBTyxLQUFLO0FBQUEsSUFDL0UsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxNQUFNLFNBQVMsR0FBRztBQUNoQixRQUFJLElBQUk7QUFDUixXQUFPLEtBQUssYUFBYSxvQkFBb0IsYUFBYSxJQUFJLE1BQU0sS0FBSyxhQUFhLFNBQVMsQ0FBQyxJQUFJO0FBQUEsRUFDdEc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsV0FBVztBQUNULFVBQU0sSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUdELEtBQUksT0FBTyxLQUFLLGFBQWEsa0JBQWtCLGFBQWEsS0FBSyxhQUFhLGVBQWUsSUFBSSxDQUFDO0FBQ3hILFdBQU8sRUFBRSxVQUFVQSxFQUFDLElBQUksRUFBRSxLQUFLO0FBQUEsTUFDN0IsTUFBTSxFQUFFO0FBQUEsTUFDUixTQUFTQTtBQUFBLElBQ1gsQ0FBQyxJQUFJLE1BQU0sUUFBUUEsRUFBQyxJQUFJLEVBQUUsS0FBSyxHQUFHQSxFQUFDLElBQUksRUFBRSxLQUFLQSxFQUFDLEdBQUc7QUFBQSxNQUNoRCxHQUFHLEtBQUssZUFBZSxPQUFPO0FBQUEsTUFDOUIsR0FBRyxLQUFLLHNCQUFzQixPQUFPO0FBQUEsSUFDdkMsRUFBRSxJQUFJLENBQUNDLE9BQU1BLEdBQUUsT0FBTyxDQUFDLEVBQUUsUUFBUSxDQUFDQSxPQUFNO0FBQ3RDLFFBQUUsVUFBVUEsRUFBQyxJQUFJLEVBQUUsS0FBSztBQUFBLFFBQ3RCLE1BQU0sRUFBRTtBQUFBLFFBQ1IsU0FBU0E7QUFBQSxNQUNYLENBQUMsSUFBSSxNQUFNLFFBQVFBLEVBQUMsSUFBSSxFQUFFLEtBQUssR0FBR0EsRUFBQyxJQUFJLEVBQUUsS0FBS0EsRUFBQztBQUFBLElBQ2pELENBQUMsR0FBRztBQUFBLE1BQ0YsV0FBVztBQUFBLE1BQ1gsYUFBYTtBQUFBLElBQ2Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxxQkFBcUI7QUFDbkIsU0FBSyxlQUFlLEVBQUUsY0FBYyxTQUFTLGFBQWEsS0FBSyxDQUFDLEVBQUUsYUFBYSxTQUFTLGdCQUFnQixFQUFFO0FBQUEsRUFDNUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsaUJBQWlCO0FBQ2YsU0FBSyxXQUFXO0FBQUEsRUFDbEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixTQUFLLHNCQUFzQixHQUFHLEtBQUssa0JBQWtCLEdBQUcsTUFBTSxRQUFRLEdBQUcsRUFBRSxLQUFLLGFBQWEsT0FBTyxLQUFLLEtBQUssYUFBYSxRQUFRO0FBQUEsRUFDckk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBTSx3QkFBd0I7QUFDNUIsVUFBTSxJQUFJLEtBQUssS0FBSztBQUNwQixRQUFJLEVBQUUsV0FBVztBQUNmLGFBQU8sUUFBUSxRQUFRLEtBQUssS0FBSyxRQUFRLENBQUMsQ0FBQztBQUM3QyxVQUFNLElBQUksTUFBTSxLQUFLLE1BQU1ELEtBQUk7QUFDL0IsV0FBT0EsTUFBSyxPQUFPLFNBQVNBLEdBQUUsS0FBSyxDQUFDLE1BQU0sR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQUEsRUFDekQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLE1BQU0scUJBQXFCO0FBQ3pCLFVBQU0sSUFBSSxNQUFNLEtBQUs7QUFDckIsV0FBTyxHQUFHLEdBQUcsS0FBSyxLQUFLLGdCQUFnQjtBQUFBLEVBQ3pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsVUFBVTtBQUNSLFVBQU0sSUFBSSxFQUFFLEtBQUssT0FBTyxHQUFFLElBQUksT0FBTyxHQUFHLElBQUksRUFBRSxLQUFLLE9BQU8sR0FBRSxJQUFJLE9BQU8sR0FBR0EsS0FBSSxLQUFLLGFBQWEsT0FBTztBQUN2RyxNQUFFLFFBQVEsS0FBSyxLQUFLLElBQUksS0FBSyxzQkFBc0JBLElBQUcsRUFBRSxZQUFZLEtBQUssbUJBQW1CO0FBQzVGLFFBQUksSUFBSTtBQUNSLFdBQU8sQ0FBQyxHQUFHLEtBQUssZUFBZSxPQUFPLEdBQUcsR0FBRyxLQUFLLHNCQUFzQixPQUFPLENBQUMsRUFBRSxRQUFRLENBQUNDLE9BQU07QUFDOUYsVUFBSSxFQUFFQSxHQUFFLElBQUk7QUFDVixZQUFJO0FBQ0YsY0FBSUEsR0FBRSxLQUFLLENBQUM7QUFBQSxRQUNkLFNBQVNDLElBQUc7QUFDVixZQUFFLFFBQVFELEdBQUUsWUFBWSxJQUFJLG1DQUFtQyxRQUFRQyxFQUFDO0FBQUEsUUFDMUU7QUFBQSxJQUNKLENBQUMsR0FBRyxFQUFFLFlBQVksQ0FBQyxHQUFHO0FBQUEsRUFDeEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGFBQWEsR0FBRztBQUNkLFVBQU0sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDLEVBQUUsUUFBUSxDQUFDLE1BQU07QUFDN0MsT0FBQyxFQUFFLGFBQWEsS0FBSyx3QkFBd0IsS0FBSyxnQkFBZ0IsSUFBSSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxJQUFJLEdBQUcsS0FBSyxRQUFRLENBQUM7QUFBQSxJQUNsSCxDQUFDLEdBQUcsT0FBTyxRQUFRLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxHQUFHRixFQUFDLE1BQU07QUFDeEMsV0FBSyxlQUFlLElBQUksQ0FBQyxNQUFNLEtBQUsscUJBQXFCLENBQUMsSUFBSUE7QUFBQSxJQUNoRSxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsaUJBQWlCO0FBQ2YsU0FBSyxPQUFPLFFBQVEsQ0FBQyxNQUFNO0FBQ3pCLFFBQUUsaUJBQWlCLFNBQVMsS0FBSyxXQUFXLEdBQUcsRUFBRSxjQUFjLENBQUMsS0FBSyxFQUFFLGlCQUFpQixTQUFTLEtBQUssVUFBVTtBQUFBLElBQ2xILENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxvQkFBb0I7QUFDbEIsU0FBSyxPQUFPLFFBQVEsQ0FBQyxNQUFNO0FBQ3pCLFFBQUUsb0JBQW9CLFNBQVMsS0FBSyxXQUFXLEdBQUcsRUFBRSxjQUFjLENBQUMsS0FBSyxFQUFFLG9CQUFvQixTQUFTLEtBQUssVUFBVTtBQUFBLElBQ3hILENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxzQkFBc0I7QUFDcEIsUUFBSTtBQUNKLFNBQUssNkJBQTZCLENBQUMsTUFBTTtBQUN2QyxZQUFNLEVBQUUsV0FBV0EsR0FBRSxJQUFJO0FBQ3pCLE1BQUFBLEdBQUUsS0FBSyxDQUFDQyxPQUFNLEdBQUdBLElBQUcsS0FBSyxtQkFBbUIsQ0FBQyxLQUFLLEtBQUssV0FBV0QsRUFBQztBQUFBLElBQ3JFLElBQUksSUFBSSxLQUFLLG1CQUFtQixRQUFRLEVBQUUsR0FBRyxJQUFJLEtBQUssMEJBQTBCO0FBQUEsRUFDbEY7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHdCQUF3QjtBQUN0QixRQUFJO0FBQ0osS0FBQyxJQUFJLEtBQUssbUJBQW1CLFFBQVEsRUFBRSxJQUFJLElBQUksS0FBSywwQkFBMEI7QUFBQSxFQUNoRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EscUJBQXFCLEdBQUc7QUFDdEIsTUFBRSxRQUFRLENBQUMsTUFBTTtBQUNmLFVBQUksTUFBTSxLQUFLLEVBQUUsWUFBWSxFQUFFLFNBQVMsS0FBSyxtQkFBbUIsR0FBRztBQUNqRSxjQUFNLElBQUksRUFBRSxXQUFXLEVBQUUsV0FBVyxTQUFTLENBQUM7QUFDOUMsYUFBSyxzQkFBc0I7QUFBQSxNQUM3QjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGtCQUFrQjtBQUNoQixTQUFLLGVBQWUsQ0FBQztBQUFBLEVBQ3ZCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSx3QkFBd0I7QUFDdEIsU0FBSyxPQUFPLFFBQVEsRUFBRTtBQUFBLEVBQ3hCO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBLEVBQ2pCLGNBQWM7QUFDWixVQUFNLEdBQUcsU0FBUyxHQUFHLEtBQUssU0FBUyxDQUFDLElBQUksS0FBSyxPQUFPLGNBQWMsSUFBSSxDQUFDLEdBQUdBLEtBQUksQ0FBQyxHQUFHLEdBQUdDLElBQUdDLElBQUdDLE9BQU07QUFDL0YsWUFBTUMsS0FBSSxLQUFLLE9BQU8sYUFBYSxPQUFPO0FBQUEsUUFDeEMsSUFBSUQ7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLGFBQWFGO0FBQUEsUUFDYixTQUFTQztBQUFBLE1BQ1gsQ0FBQztBQUNELGFBQU8sSUFBSSxFQUFFRSxFQUFDO0FBQUEsSUFDaEIsR0FBRyxLQUFLLG1CQUFtQixPQUFPLE1BQU07QUFDdEMsWUFBTSxJQUFJLEtBQUssT0FBTyxNQUFNLFdBQVcsSUFBSSxDQUFDO0FBQzVDLGFBQU8sSUFBSSxFQUFFO0FBQUEsUUFDWCxNQUFNO0FBQUEsUUFDTixLQUFLLEtBQUssT0FBTztBQUFBLFFBQ2pCLFVBQVU7QUFBQSxRQUNWLE1BQU0sQ0FBQztBQUFBLFFBQ1AsV0FBVyxDQUFDO0FBQUEsTUFDZCxDQUFDLEVBQUU7QUFBQSxJQUNMLEdBQUcsS0FBSyxTQUFTLE9BQU8sR0FBRyxHQUFHSixPQUFNO0FBQ2xDLFlBQU0sRUFBRSxjQUFjLEVBQUUsSUFBSSxLQUFLLFFBQVFDLEtBQUksRUFBRSxhQUFhLENBQUM7QUFDN0QsVUFBSUEsT0FBTTtBQUNSLGNBQU0sSUFBSSxNQUFNLGtCQUFrQixDQUFDLGFBQWE7QUFDbEQsWUFBTUMsS0FBSSxNQUFNLEVBQUUsT0FBT0QsSUFBRyxHQUFHRCxFQUFDO0FBQ2hDLGFBQU8sSUFBSSxFQUFFRSxFQUFDO0FBQUEsSUFDaEIsR0FBRyxLQUFLLFVBQVUsT0FBTyxHQUFHLEdBQUdGLE9BQU07QUFDbkMsVUFBSVksSUFBR0w7QUFDUCxZQUFNLEVBQUUsY0FBYyxHQUFHLE9BQU9OLEdBQUUsSUFBSSxLQUFLLFFBQVFDLEtBQUksRUFBRSxhQUFhLENBQUM7QUFDdkUsVUFBSSxDQUFDQTtBQUNILGNBQU0sSUFBSSxNQUFNLGtCQUFrQixDQUFDLGFBQWE7QUFDbEQsWUFBTUMsS0FBSUYsR0FBRSxXQUFXLElBQUlDLEdBQUUsSUFBSSxHQUFHRSxLQUFJSCxHQUFFLFdBQVcsSUFBSSxDQUFDO0FBQzFELFVBQUksQ0FBQ0c7QUFDSCxjQUFNLElBQUksTUFBTSx5QkFBeUIsQ0FBQyxhQUFhO0FBQ3pELFlBQU1DLE9BQU1PLEtBQUlULE1BQUssT0FBTyxTQUFTQSxHQUFFLHFCQUFxQixPQUFPLFNBQVNTLEdBQUUsWUFBWSxRQUFRTixPQUFNQyxLQUFJSCxHQUFFLHFCQUFxQixPQUFPLFNBQVNHLEdBQUUsWUFBWTtBQUNqSyxVQUFJRixNQUFLQyxJQUFHO0FBQ1YsY0FBTUUsS0FBSSxNQUFNLEVBQUUsUUFBUU4sSUFBRyxHQUFHRixFQUFDO0FBQ2pDLGVBQU8sSUFBSSxFQUFFUSxFQUFDO0FBQUEsTUFDaEIsT0FBTztBQUNMLGNBQU1BLEtBQUk7QUFBQSxVQUNSSCxLQUFJLFFBQUssR0FBR0gsR0FBRSxJQUFJO0FBQUEsVUFDbEJJLEtBQUksUUFBSyxHQUFHLENBQUM7QUFBQSxRQUNmLEVBQUUsT0FBTyxPQUFPLEVBQUUsS0FBSyxPQUFPO0FBQzlCLGNBQU0sSUFBSSxNQUFNLG9CQUFvQkosR0FBRSxJQUFJLFNBQVMsQ0FBQyxzQkFBc0JNLEVBQUMsOENBQThDO0FBQUEsTUFDM0g7QUFBQSxJQUNGLEdBQUcsS0FBSyxhQUFhLENBQUMsR0FBRyxJQUFJLEtBQUssT0FBTyxhQUFhLE9BQU8sU0FBUyxNQUFNO0FBQzFFLFdBQUssY0FBYyxDQUFDO0FBQ3BCLFlBQU1SLEtBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxJQUFJLEdBQUcsTUFBTUMsSUFBRyxNQUFNQyxHQUFFLE1BQU0sS0FBSyxPQUFPLGFBQWEsYUFBYTtBQUFBLFFBQ3JGLElBQUk7QUFBQSxRQUNKLE1BQU1ELE1BQUssS0FBSyxPQUFPO0FBQUEsUUFDdkIsTUFBTUM7QUFBQSxNQUNSLENBQUMsQ0FBQztBQUNGLGFBQU8sS0FBSyxPQUFPLGFBQWEsV0FBV0YsSUFBRyxDQUFDLEdBQUdBLEdBQUUsSUFBSSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQztBQUFBLElBQ3pFO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksVUFBVTtBQUNaLFdBQU87QUFBQSxNQUNMLE9BQU8sTUFBTSxLQUFLLE1BQU07QUFBQSxNQUN4QixRQUFRLENBQUMsTUFBTSxLQUFLLE9BQU8sQ0FBQztBQUFBLE1BQzVCLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxlQUFlLENBQUM7QUFBQSxNQUM1QyxRQUFRLENBQUMsTUFBTSxLQUFLLE9BQU8sQ0FBQztBQUFBLE1BQzVCLE1BQU0sQ0FBQyxHQUFHLE1BQU0sS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUFBLE1BQzlCLE1BQU0sQ0FBQyxHQUFHLE1BQU0sS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUFBLE1BQzlCLGlCQUFpQixDQUFDLE1BQU0sS0FBSyxnQkFBZ0IsQ0FBQztBQUFBLE1BQzlDLFNBQVMsQ0FBQyxNQUFNLEtBQUssUUFBUSxDQUFDO0FBQUEsTUFDOUIsc0JBQXNCLE1BQU0sS0FBSyxxQkFBcUI7QUFBQSxNQUN0RCxlQUFlLENBQUMsTUFBTSxLQUFLLGNBQWMsQ0FBQztBQUFBLE1BQzFDLGdCQUFnQixNQUFNLEtBQUssZUFBZTtBQUFBLE1BQzFDLG1CQUFtQixDQUFDLE1BQU0sS0FBSyxrQkFBa0IsQ0FBQztBQUFBLE1BQ2xELGNBQWMsQ0FBQyxHQUFHLElBQUksU0FBTyxLQUFLLGFBQWEsR0FBRyxDQUFDO0FBQUEsTUFDbkQsZ0JBQWdCLE1BQU0sS0FBSyxlQUFlO0FBQUEsTUFDMUMsUUFBUSxLQUFLO0FBQUEsTUFDYixZQUFZLEtBQUs7QUFBQSxNQUNqQixRQUFRLEtBQUs7QUFBQSxNQUNiLGtCQUFrQixLQUFLO0FBQUEsTUFDdkIsU0FBUyxLQUFLO0FBQUEsSUFDaEI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsaUJBQWlCO0FBQ2YsV0FBTyxLQUFLLE9BQU8sYUFBYSxPQUFPO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSx1QkFBdUI7QUFDckIsV0FBTyxLQUFLLE9BQU8sYUFBYTtBQUFBLEVBQ2xDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsY0FBYyxHQUFHO0FBQ2YsVUFBTSxJQUFJLEtBQUssT0FBTyxhQUFhLGFBQWEsQ0FBQztBQUNqRCxRQUFJLENBQUMsR0FBRztBQUNOLFFBQUUsZ0NBQWdDLElBQUksS0FBSyxNQUFNO0FBQ2pEO0FBQUEsSUFDRjtBQUNBLFdBQU8sS0FBSyxPQUFPLGFBQWEsY0FBYyxDQUFDO0FBQUEsRUFDakQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxnQkFBZ0IsR0FBRztBQUNqQixVQUFNLElBQUksS0FBSyxPQUFPLGFBQWEsZ0JBQWdCLENBQUM7QUFDcEQsUUFBSSxNQUFNLFFBQVE7QUFDaEIsUUFBRSxpQ0FBaUMsSUFBSSxLQUFLLE1BQU07QUFDbEQ7QUFBQSxJQUNGO0FBQ0EsV0FBTyxJQUFJLEVBQUUsQ0FBQztBQUFBLEVBQ2hCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsUUFBUSxHQUFHO0FBQ1QsVUFBTSxJQUFJLEtBQUssT0FBTyxhQUFhLGFBQWEsQ0FBQztBQUNqRCxXQUFPLE1BQU0sVUFBVSxFQUFFLGdDQUFnQyxJQUFJLEtBQUssTUFBTSxHQUFHLFFBQVEsSUFBSSxFQUFFLENBQUM7QUFBQSxFQUM1RjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGtCQUFrQixHQUFHO0FBQ25CLFVBQU0sSUFBSSxLQUFLLE9BQU8sYUFBYSxTQUFTLENBQUM7QUFDN0MsUUFBSSxNQUFNLFFBQVE7QUFDaEIsUUFBRSxpREFBaUQsSUFBSSxLQUFLLE1BQU07QUFDbEU7QUFBQSxJQUNGO0FBQ0EsV0FBTyxJQUFJLEVBQUUsQ0FBQztBQUFBLEVBQ2hCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLEtBQUssR0FBRyxHQUFHO0FBQ1Q7QUFBQSxNQUNFO0FBQUEsTUFDQTtBQUFBLElBQ0YsR0FBRyxLQUFLLE9BQU8sYUFBYSxLQUFLLEdBQUcsQ0FBQztBQUFBLEVBQ3ZDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxLQUFLLEdBQUcsR0FBRztBQUNULFNBQUssT0FBTyxhQUFhLEtBQUssR0FBRyxDQUFDO0FBQUEsRUFDcEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxPQUFPLElBQUksS0FBSyxPQUFPLGFBQWEsbUJBQW1CO0FBQ3JELFFBQUk7QUFDRixZQUFNLElBQUksS0FBSyxPQUFPLGFBQWEsZ0JBQWdCLENBQUM7QUFDcEQsV0FBSyxPQUFPLGFBQWEsWUFBWSxDQUFDO0FBQUEsSUFDeEMsU0FBUyxHQUFHO0FBQ1YsUUFBRSxHQUFHLE1BQU07QUFDWDtBQUFBLElBQ0Y7QUFDQSxTQUFLLE9BQU8sYUFBYSxPQUFPLFdBQVcsS0FBSyxLQUFLLE9BQU8sYUFBYSxPQUFPLEdBQUcsS0FBSyxPQUFPLGFBQWEsZ0JBQWdCLEtBQUssT0FBTyxNQUFNLFdBQVcsS0FBSyxPQUFPLGFBQWEsY0FBYyxLQUFLLE9BQU8sTUFBTSxVQUFVLEdBQUcsR0FBRyxLQUFLLE9BQU8sUUFBUSxNQUFNO0FBQUEsRUFDOVA7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLE1BQU0sUUFBUTtBQUNaLFVBQU0sS0FBSyxPQUFPLGFBQWEsTUFBTSxJQUFFLEdBQUcsS0FBSyxPQUFPLGNBQWMsTUFBTTtBQUFBLEVBQzVFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsTUFBTSxPQUFPLEdBQUc7QUFDZCxRQUFJLE1BQU0sVUFBVSxFQUFFLFdBQVc7QUFDL0IsWUFBTSxJQUFJLE1BQU0sOENBQThDO0FBQ2hFLFNBQUssT0FBTyxzQkFBc0IsUUFBUSxHQUFHLE1BQU0sS0FBSyxPQUFPLGFBQWEsTUFBTSxHQUFHLE1BQU0sS0FBSyxPQUFPLFNBQVMsT0FBTyxFQUFFLE1BQU0sR0FBRyxLQUFLLE9BQU8sc0JBQXNCLE9BQU87QUFBQSxFQUM3SztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsZUFBZSxHQUFHO0FBQ2hCLFdBQU8sS0FBSyxPQUFPLGFBQWEsTUFBTSxHQUFHLEtBQUssT0FBTyxNQUFNLFlBQVksR0FBRyxJQUFFO0FBQUEsRUFDOUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsYUFBYSxHQUFHLElBQUksTUFBSTtBQUN0QjtBQUFBLE1BQ0U7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFDQSxVQUFNQSxLQUFJLEtBQUssT0FBTyxhQUFhLGdCQUFnQixDQUFDO0FBQ3BELElBQUFBLE9BQU1BLEdBQUUsWUFBWTtBQUFBLEVBQ3RCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLGlCQUFpQjtBQUNmLE1BQUUsK0hBQStILE1BQU0sR0FBRyxLQUFLLE9BQU87QUFBQSxFQUN4SjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGNBQWMsR0FBRztBQUNmLFFBQUksT0FBTyxLQUFLO0FBQ2QsWUFBTSxJQUFJLE1BQU0sMEJBQTBCO0FBQzVDLFFBQUksSUFBSTtBQUNOLFlBQU0sSUFBSSxNQUFNLDRDQUE0QztBQUM5RCxRQUFJLE1BQU07QUFDUixZQUFNLElBQUksTUFBTSw0Q0FBNEM7QUFBQSxFQUNoRTtBQUNGO0FBQ0EsU0FBUyxHQUFHRCxJQUFHLEdBQUc7QUFDaEIsU0FBTyxPQUFPQSxNQUFLLFdBQVcsRUFBRSxhQUFhLGdCQUFnQkEsRUFBQyxJQUFJLE9BQU9BLE1BQUssV0FBVyxFQUFFLGFBQWEsYUFBYUEsRUFBQyxJQUFJLEVBQUUsYUFBYSxhQUFhQSxHQUFFLEVBQUU7QUFDNUo7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBLEVBQ2pCLGNBQWM7QUFDWixVQUFNLEdBQUcsU0FBUyxHQUFHLEtBQUssa0JBQWtCLENBQUMsSUFBSSxLQUFLLE9BQU8sTUFBTSxVQUFVLFNBQVMsSUFBSSxNQUFNLEtBQUssT0FBTyxhQUFhLGNBQWMsS0FBSyxPQUFPLE1BQU0sV0FBVyxLQUFLLE9BQU8sYUFBYSxZQUFZLEdBQUcsQ0FBQyxHQUFHLFFBQU0sT0FBSSxLQUFLLGlCQUFpQixDQUFDLElBQUksS0FBSyxPQUFPLE1BQU0sVUFBVSxTQUFTLElBQUksTUFBTSxLQUFLLE9BQU8sYUFBYSxhQUFhLEtBQUssT0FBTyxNQUFNLFdBQVcsS0FBSyxPQUFPLGFBQWEsV0FBVyxHQUFHLENBQUMsR0FBRyxRQUFNLE9BQUksS0FBSyxxQkFBcUIsQ0FBQyxJQUFJLEtBQUssT0FBTyxNQUFNLFVBQVUsU0FBUyxJQUFJLE1BQU0sS0FBSyxPQUFPLGFBQWEsaUJBQWlCLEtBQUssT0FBTyxNQUFNLFdBQVcsS0FBSyxPQUFPLGFBQWEsZUFBZSxHQUFHLENBQUMsR0FBRyxRQUFNLE9BQUksS0FBSyxpQkFBaUIsQ0FBQyxJQUFJLEtBQUssT0FBTyxNQUFNLFVBQVUsU0FBUyxJQUFJLE1BQU0sS0FBSyxPQUFPLGFBQWEsYUFBYSxLQUFLLE9BQU8sTUFBTSxXQUFXLEtBQUssT0FBTyxhQUFhLFdBQVcsR0FBRyxDQUFDLEdBQUcsUUFBTSxPQUFJLEtBQUssYUFBYSxDQUFDLEdBQUcsSUFBSSxLQUFLLE9BQU8sTUFBTSxVQUFVLFNBQVNDLEtBQUksTUFBTTtBQUNuM0IsWUFBTSxJQUFJLEdBQUcsR0FBRyxLQUFLLE1BQU07QUFDM0IsYUFBTyxNQUFNLFNBQVMsU0FBTSxLQUFLLE9BQU8sTUFBTSxXQUFXLEdBQUcsR0FBR0EsRUFBQyxHQUFHO0FBQUEsSUFDckUsR0FBRyxLQUFLLFFBQVEsQ0FBQyxJQUFJLFVBQU8sSUFBSSxLQUFLLGVBQWUsS0FBSyxPQUFPLE1BQU0sVUFBVSxHQUFHLElBQUksS0FBSyxnQkFBZ0IsS0FBSyxPQUFPLE1BQU0sVUFBVSxLQUFLO0FBQUEsRUFDL0k7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLFVBQVU7QUFDWixXQUFPO0FBQUEsTUFDTCxpQkFBaUIsS0FBSztBQUFBLE1BQ3RCLGdCQUFnQixLQUFLO0FBQUEsTUFDckIsb0JBQW9CLEtBQUs7QUFBQSxNQUN6QixnQkFBZ0IsS0FBSztBQUFBLE1BQ3JCLFlBQVksS0FBSztBQUFBLE1BQ2pCLE9BQU8sS0FBSztBQUFBLElBQ2Q7QUFBQSxFQUNGO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1qQixJQUFJLFVBQVU7QUFDWixXQUFPO0FBQUEsTUFDTCxNQUFNLENBQUMsR0FBRyxNQUFNLEtBQUssS0FBSyxHQUFHLENBQUM7QUFBQSxNQUM5QixLQUFLLENBQUMsR0FBRyxNQUFNLEtBQUssSUFBSSxHQUFHLENBQUM7QUFBQSxNQUM1QixJQUFJLENBQUMsR0FBRyxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUM7QUFBQSxJQUM1QjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLEdBQUcsR0FBRyxHQUFHO0FBQ1AsU0FBSyxpQkFBaUIsR0FBRyxHQUFHLENBQUM7QUFBQSxFQUMvQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsS0FBSyxHQUFHLEdBQUc7QUFDVCxTQUFLLGlCQUFpQixLQUFLLEdBQUcsQ0FBQztBQUFBLEVBQ2pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxJQUFJLEdBQUcsR0FBRztBQUNSLFNBQUssaUJBQWlCLElBQUksR0FBRyxDQUFDO0FBQUEsRUFDaEM7QUFDRjtBQUNBLElBQU0sS0FBTixNQUFNLFlBQVcsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT2pCLE9BQU8sYUFBYSxHQUFHLEdBQUc7QUFDeEIsV0FBTyxJQUFJLGNBQWMsQ0FBQyxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzNDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFVBQVU7QUFDWixXQUFPO0FBQUEsTUFDTCxHQUFHLE1BQU07QUFDUCxVQUFFLG1EQUFtRCxNQUFNO0FBQUEsTUFDN0Q7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0Esa0JBQWtCLEdBQUcsR0FBRztBQUN0QixXQUFPLE9BQU87QUFBQSxNQUNaLEtBQUs7QUFBQSxNQUNMO0FBQUEsUUFDRSxHQUFHLENBQUNBLE9BQU0sRUFBRSxFQUFFLElBQUcsYUFBYSxHQUFHLENBQUMsR0FBR0EsRUFBQztBQUFBLE1BQ3hDO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJakIsSUFBSSxVQUFVO0FBQ1osV0FBTztBQUFBLE1BQ0wsUUFBUSxLQUFLLE9BQU8sVUFBVTtBQUFBLE1BQzlCLE9BQU8sS0FBSyxPQUFPLFNBQVM7QUFBQSxNQUM1QixPQUFPLEtBQUssT0FBTyxTQUFTO0FBQUEsTUFDNUIsUUFBUSxLQUFLLE9BQU8sVUFBVTtBQUFBLE1BQzlCLFdBQVcsS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNwQyxVQUFVLEtBQUssT0FBTyxZQUFZO0FBQUEsTUFDbEMsV0FBVyxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ3BDLE9BQU8sS0FBSyxPQUFPLFNBQVM7QUFBQSxNQUM1QixXQUFXLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDcEMsUUFBUSxLQUFLLE9BQU8sVUFBVTtBQUFBLE1BQzlCLFNBQVMsS0FBSyxPQUFPLFdBQVc7QUFBQSxNQUNoQyxlQUFlLEtBQUssT0FBTyxpQkFBaUI7QUFBQSxNQUM1QyxTQUFTLEtBQUssT0FBTyxXQUFXO0FBQUEsTUFDaEMsTUFBTSxLQUFLLE9BQU8sUUFBUTtBQUFBLE1BQzFCLFVBQVUsS0FBSyxPQUFPLFlBQVk7QUFBQSxNQUNsQyxJQUFJLEtBQUssT0FBTyxNQUFNO0FBQUEsSUFDeEI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxrQkFBa0IsR0FBRyxHQUFHO0FBQ3RCLFdBQU8sT0FBTztBQUFBLE1BQ1osS0FBSztBQUFBLE1BQ0w7QUFBQSxRQUNFLE1BQU0sS0FBSyxPQUFPLFFBQVEsa0JBQWtCLEdBQUcsQ0FBQztBQUFBLE1BQ2xEO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTWpCLElBQUksVUFBVTtBQUNaLFdBQU87QUFBQSxNQUNMLE9BQU8sTUFBTSxLQUFLLE1BQU07QUFBQSxNQUN4QixNQUFNLE1BQU0sS0FBSyxLQUFLO0FBQUEsSUFDeEI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsU0FBSyxPQUFPLGNBQWMsVUFBVTtBQUFBLEVBQ3RDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxRQUFRO0FBQ04sU0FBSyxPQUFPLGNBQWMsTUFBTTtBQUFBLEVBQ2xDO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1qQixJQUFJLFVBQVU7QUFDWixXQUFPO0FBQUEsTUFDTCxJQUFJLENBQUMsR0FBRyxHQUFHQSxJQUFHLE1BQU0sS0FBSyxHQUFHLEdBQUcsR0FBR0EsSUFBRyxDQUFDO0FBQUEsTUFDdEMsS0FBSyxDQUFDLEdBQUcsR0FBR0EsSUFBRyxNQUFNLEtBQUssSUFBSSxHQUFHLEdBQUdBLElBQUcsQ0FBQztBQUFBLE1BQ3hDLFNBQVMsQ0FBQyxNQUFNLEtBQUssUUFBUSxDQUFDO0FBQUEsSUFDaEM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsR0FBRyxHQUFHLEdBQUdBLElBQUcsR0FBRztBQUNiLFdBQU8sS0FBSyxVQUFVLEdBQUcsR0FBRyxHQUFHQSxJQUFHLENBQUM7QUFBQSxFQUNyQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLElBQUksR0FBRyxHQUFHQSxJQUFHLEdBQUc7QUFDZCxTQUFLLFVBQVUsSUFBSSxHQUFHLEdBQUdBLElBQUcsQ0FBQztBQUFBLEVBQy9CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsUUFBUSxHQUFHO0FBQ1QsU0FBSyxVQUFVLFFBQVEsQ0FBQztBQUFBLEVBQzFCO0FBQ0Y7QUFDQSxJQUFJLEtBQUssRUFBRSxTQUFTLENBQUMsRUFBRTtBQUFBLENBQ3RCLFNBQVNELElBQUcsR0FBRztBQUNkLEdBQUMsU0FBUyxHQUFHQyxJQUFHO0FBQ2QsSUFBQUQsR0FBRSxVQUFVQyxHQUFFO0FBQUEsRUFDaEIsR0FBRyxRQUFRLFdBQVc7QUFDcEIsV0FBTyxTQUFTLEdBQUc7QUFDakIsVUFBSUEsS0FBSSxDQUFDO0FBQ1QsZUFBUyxFQUFFQyxJQUFHO0FBQ1osWUFBSUQsR0FBRUMsRUFBQztBQUNMLGlCQUFPRCxHQUFFQyxFQUFDLEVBQUU7QUFDZCxZQUFJQyxLQUFJRixHQUFFQyxFQUFDLElBQUksRUFBRSxHQUFHQSxJQUFHLEdBQUcsT0FBSSxTQUFTLENBQUMsRUFBRTtBQUMxQyxlQUFPLEVBQUVBLEVBQUMsRUFBRSxLQUFLQyxHQUFFLFNBQVNBLElBQUdBLEdBQUUsU0FBUyxDQUFDLEdBQUdBLEdBQUUsSUFBSSxNQUFJQSxHQUFFO0FBQUEsTUFDNUQ7QUFDQSxhQUFPLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSUYsSUFBRyxFQUFFLElBQUksU0FBU0MsSUFBR0MsSUFBR0MsSUFBRztBQUMvQyxVQUFFLEVBQUVGLElBQUdDLEVBQUMsS0FBSyxPQUFPLGVBQWVELElBQUdDLElBQUcsRUFBRSxZQUFZLE1BQUksS0FBS0MsR0FBRSxDQUFDO0FBQUEsTUFDckUsR0FBRyxFQUFFLElBQUksU0FBU0YsSUFBRztBQUNuQixlQUFPLFNBQVMsT0FBTyxPQUFPLGVBQWUsT0FBTyxlQUFlQSxJQUFHLE9BQU8sYUFBYSxFQUFFLE9BQU8sU0FBUyxDQUFDLEdBQUcsT0FBTyxlQUFlQSxJQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQztBQUFBLE1BQ3RLLEdBQUcsRUFBRSxJQUFJLFNBQVNBLElBQUdDLElBQUc7QUFDdEIsWUFBSSxJQUFJQSxPQUFNRCxLQUFJLEVBQUVBLEVBQUMsSUFBSSxJQUFJQyxNQUFLLElBQUlBLE1BQUssT0FBT0QsTUFBSyxZQUFZQSxNQUFLQSxHQUFFO0FBQ3hFLGlCQUFPQTtBQUNULFlBQUlFLEtBQW9CLHVCQUFPLE9BQU8sSUFBSTtBQUMxQyxZQUFJLEVBQUUsRUFBRUEsRUFBQyxHQUFHLE9BQU8sZUFBZUEsSUFBRyxXQUFXLEVBQUUsWUFBWSxNQUFJLE9BQU9GLEdBQUUsQ0FBQyxHQUFHLElBQUlDLE1BQUssT0FBT0QsTUFBSztBQUNsRyxtQkFBU0csTUFBS0g7QUFDWixjQUFFLEVBQUVFLElBQUdDLElBQUksU0FBU0MsSUFBRztBQUNyQixxQkFBT0osR0FBRUksRUFBQztBQUFBLFlBQ1osRUFBRyxLQUFLLE1BQU1ELEVBQUMsQ0FBQztBQUNwQixlQUFPRDtBQUFBLE1BQ1QsR0FBRyxFQUFFLElBQUksU0FBU0YsSUFBRztBQUNuQixZQUFJQyxLQUFJRCxNQUFLQSxHQUFFLGFBQWEsV0FBVztBQUNyQyxpQkFBT0EsR0FBRTtBQUFBLFFBQ1gsSUFBSSxXQUFXO0FBQ2IsaUJBQU9BO0FBQUEsUUFDVDtBQUNBLGVBQU8sRUFBRSxFQUFFQyxJQUFHLEtBQUtBLEVBQUMsR0FBR0E7QUFBQSxNQUN6QixHQUFHLEVBQUUsSUFBSSxTQUFTRCxJQUFHQyxJQUFHO0FBQ3RCLGVBQU8sT0FBTyxVQUFVLGVBQWUsS0FBS0QsSUFBR0MsRUFBQztBQUFBLE1BQ2xELEdBQUcsRUFBRSxJQUFJLEtBQUssRUFBRSxFQUFFLElBQUksQ0FBQztBQUFBLElBQ3pCLEVBQUUsQ0FBQyxTQUFTLEdBQUdGLElBQUcsR0FBRztBQUNuQixRQUFFLENBQUM7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQUlILEVBQUUsVUFBVSxXQUFXO0FBQ3JCLFlBQUlDLEtBQUksRUFBRSxDQUFDLEdBQUdDLEtBQUkseUJBQXlCQyxLQUFJO0FBQy9DLGVBQU8sRUFBRSxNQUFNLFNBQVNDLElBQUc7QUFDekIsY0FBSUEsR0FBRSxTQUFTO0FBQ2IsYUFBQyxXQUFXO0FBQ1Ysa0JBQUlEO0FBQ0YsdUJBQU87QUFDVCxjQUFBQSxLQUFJRixHQUFFLFdBQVcsR0FBRyxTQUFTLEtBQUssWUFBWUUsRUFBQztBQUFBLFlBQ2pELEdBQUc7QUFDSCxnQkFBSUUsS0FBSSxNQUFNQyxLQUFJRixHQUFFLFFBQVE7QUFDNUIsb0JBQVFBLEdBQUUsTUFBTTtBQUFBLGNBQ2QsS0FBSztBQUNILGdCQUFBQyxLQUFJSixHQUFFLFFBQVFHLEVBQUM7QUFDZjtBQUFBLGNBQ0YsS0FBSztBQUNILGdCQUFBQyxLQUFJSixHQUFFLE9BQU9HLEVBQUM7QUFDZDtBQUFBLGNBQ0Y7QUFDRSxnQkFBQUMsS0FBSUosR0FBRSxNQUFNRyxFQUFDLEdBQUcsT0FBTyxXQUFXLFdBQVc7QUFDM0Msa0JBQUFDLEdBQUUsT0FBTztBQUFBLGdCQUNYLEdBQUdDLEVBQUM7QUFBQSxZQUNSO0FBQ0EsWUFBQUgsR0FBRSxZQUFZRSxFQUFDLEdBQUdBLEdBQUUsVUFBVSxJQUFJSCxFQUFDO0FBQUEsVUFDckM7QUFBQSxRQUNGLEVBQUU7QUFBQSxNQUNKLEVBQUU7QUFBQSxJQUNKLEdBQUcsU0FBUyxHQUFHRixJQUFHLEdBQUc7QUFDbkIsVUFBSUMsS0FBSSxFQUFFLENBQUM7QUFDWCxhQUFPQSxNQUFLLGFBQWFBLEtBQUksQ0FBQyxDQUFDLEVBQUUsR0FBR0EsSUFBRyxFQUFFLENBQUM7QUFDMUMsVUFBSUMsS0FBSSxFQUFFLEtBQUssTUFBSSxXQUFXLFFBQVEsWUFBWSxPQUFPO0FBQ3pELFFBQUUsQ0FBQyxFQUFFRCxJQUFHQyxFQUFDLEdBQUdELEdBQUUsV0FBVyxFQUFFLFVBQVVBLEdBQUU7QUFBQSxJQUN6QyxHQUFHLFNBQVMsR0FBR0QsSUFBRyxHQUFHO0FBQ25CLE9BQUMsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLEtBQUUsR0FBRyxLQUFLLENBQUMsRUFBRSxHQUFHLHF6RUFBcXpFLEVBQUUsQ0FBQztBQUFBLElBQzUxRSxHQUFHLFNBQVMsR0FBR0EsSUFBRztBQUNoQixRQUFFLFVBQVUsU0FBUyxHQUFHO0FBQ3RCLFlBQUlDLEtBQUksQ0FBQztBQUNULGVBQU9BLEdBQUUsV0FBVyxXQUFXO0FBQzdCLGlCQUFPLEtBQUssSUFBSSxTQUFTQyxJQUFHO0FBQzFCLGdCQUFJQyxLQUFJLFNBQVNDLElBQUdDLElBQUc7QUFDckIsa0JBQUlDLEtBQUlGLEdBQUUsQ0FBQyxLQUFLLElBQUlRLEtBQUlSLEdBQUUsQ0FBQztBQUMzQixrQkFBSSxDQUFDUTtBQUNILHVCQUFPTjtBQUNULGtCQUFJRCxNQUFLLE9BQU8sUUFBUSxZQUFZO0FBQ2xDLG9CQUFJRSxNQUFLRSxLQUFJRyxJQUFHLHFFQUFxRSxLQUFLLFNBQVMsbUJBQW1CLEtBQUssVUFBVUgsRUFBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVFELEtBQUlJLEdBQUUsUUFBUSxJQUFJLFNBQVNGLElBQUc7QUFDakwseUJBQU8sbUJBQW1CRSxHQUFFLGFBQWFGLEtBQUk7QUFBQSxnQkFDL0MsQ0FBQztBQUNELHVCQUFPLENBQUNKLEVBQUMsRUFBRSxPQUFPRSxFQUFDLEVBQUUsT0FBTyxDQUFDRCxFQUFDLENBQUMsRUFBRSxLQUFLO0FBQUEsQ0FDckQ7QUFBQSxjQUNhO0FBQ0Esa0JBQUlFO0FBQ0oscUJBQU8sQ0FBQ0gsRUFBQyxFQUFFLEtBQUs7QUFBQSxDQUM3QjtBQUFBLFlBQ1csRUFBRUosSUFBRyxDQUFDO0FBQ04sbUJBQU9BLEdBQUUsQ0FBQyxJQUFJLFlBQVlBLEdBQUUsQ0FBQyxJQUFJLE1BQU1DLEtBQUksTUFBTUE7QUFBQSxVQUNuRCxDQUFDLEVBQUUsS0FBSyxFQUFFO0FBQUEsUUFDWixHQUFHRixHQUFFLElBQUksU0FBU0MsSUFBR0MsSUFBRztBQUN0QixpQkFBT0QsTUFBSyxhQUFhQSxLQUFJLENBQUMsQ0FBQyxNQUFNQSxJQUFHLEVBQUUsQ0FBQztBQUMzQyxtQkFBU0UsS0FBSSxDQUFDLEdBQUdDLEtBQUksR0FBR0EsS0FBSSxLQUFLLFFBQVFBLE1BQUs7QUFDNUMsZ0JBQUlDLEtBQUksS0FBS0QsRUFBQyxFQUFFLENBQUM7QUFDakIsbUJBQU9DLE1BQUssYUFBYUYsR0FBRUUsRUFBQyxJQUFJO0FBQUEsVUFDbEM7QUFDQSxlQUFLRCxLQUFJLEdBQUdBLEtBQUlILEdBQUUsUUFBUUcsTUFBSztBQUM3QixnQkFBSU8sS0FBSVYsR0FBRUcsRUFBQztBQUNYLG1CQUFPTyxHQUFFLENBQUMsS0FBSyxZQUFZUixHQUFFUSxHQUFFLENBQUMsQ0FBQyxNQUFNVCxNQUFLLENBQUNTLEdBQUUsQ0FBQyxJQUFJQSxHQUFFLENBQUMsSUFBSVQsS0FBSUEsT0FBTVMsR0FBRSxDQUFDLElBQUksTUFBTUEsR0FBRSxDQUFDLElBQUksWUFBWVQsS0FBSSxNQUFNRixHQUFFLEtBQUtXLEVBQUM7QUFBQSxVQUN6SDtBQUFBLFFBQ0YsR0FBR1g7QUFBQSxNQUNMO0FBQUEsSUFDRixHQUFHLFNBQVMsR0FBR0QsSUFBRyxHQUFHO0FBQ25CLFVBQUlDLElBQUdDLElBQUdDLEtBQUksQ0FBQyxHQUFHQyxNQUFLSCxLQUFJLFdBQVc7QUFDcEMsZUFBTyxVQUFVLFlBQVksU0FBUyxPQUFPLENBQUMsT0FBTztBQUFBLE1BQ3ZELEdBQUcsV0FBVztBQUNaLGVBQU9DLE9BQU0sV0FBV0EsS0FBSUQsR0FBRSxNQUFNLE1BQU0sU0FBUyxJQUFJQztBQUFBLE1BQ3pELElBQUlHLEtBQUkseUJBQVNRLElBQUc7QUFDbEIsWUFBSUMsS0FBSSxDQUFDO0FBQ1QsZUFBTyxTQUFTQyxJQUFHO0FBQ2pCLGNBQUksT0FBT0EsTUFBSztBQUNkLG1CQUFPQSxHQUFFO0FBQ1gsY0FBSUQsR0FBRUMsRUFBQyxNQUFNLFFBQVE7QUFDbkIsZ0JBQUlDLEtBQUssU0FBU0MsSUFBRztBQUNuQixxQkFBTyxTQUFTLGNBQWNBLEVBQUM7QUFBQSxZQUNqQyxFQUFHLEtBQUssTUFBTUYsRUFBQztBQUNmLGdCQUFJLE9BQU8scUJBQXFCQyxjQUFhLE9BQU87QUFDbEQsa0JBQUk7QUFDRixnQkFBQUEsS0FBSUEsR0FBRSxnQkFBZ0I7QUFBQSxjQUN4QixRQUFRO0FBQ04sZ0JBQUFBLEtBQUk7QUFBQSxjQUNOO0FBQ0YsWUFBQUYsR0FBRUMsRUFBQyxJQUFJQztBQUFBLFVBQ1Q7QUFDQSxpQkFBT0YsR0FBRUMsRUFBQztBQUFBLFFBQ1o7QUFBQSxNQUNGLEVBQUUsR0FBR1QsS0FBSSxNQUFNTSxLQUFJLEdBQUdMLEtBQUksQ0FBQyxHQUFHQyxLQUFJLEVBQUUsQ0FBQztBQUNyQyxlQUFTQyxHQUFFSSxJQUFHQyxJQUFHO0FBQ2YsaUJBQVNDLEtBQUksR0FBR0EsS0FBSUYsR0FBRSxRQUFRRSxNQUFLO0FBQ2pDLGNBQUlDLEtBQUlILEdBQUVFLEVBQUMsR0FBR0UsS0FBSWQsR0FBRWEsR0FBRSxFQUFFO0FBQ3hCLGNBQUlDLElBQUc7QUFDTCxZQUFBQSxHQUFFO0FBQ0YscUJBQVNDLEtBQUksR0FBR0EsS0FBSUQsR0FBRSxNQUFNLFFBQVFDO0FBQ2xDLGNBQUFELEdBQUUsTUFBTUMsRUFBQyxFQUFFRixHQUFFLE1BQU1FLEVBQUMsQ0FBQztBQUN2QixtQkFBT0EsS0FBSUYsR0FBRSxNQUFNLFFBQVFFO0FBQ3pCLGNBQUFELEdBQUUsTUFBTSxLQUFLRSxHQUFFSCxHQUFFLE1BQU1FLEVBQUMsR0FBR0osRUFBQyxDQUFDO0FBQUEsVUFDakMsT0FBTztBQUNMLGdCQUFJTSxLQUFJLENBQUM7QUFDVCxpQkFBS0YsS0FBSSxHQUFHQSxLQUFJRixHQUFFLE1BQU0sUUFBUUU7QUFDOUIsY0FBQUUsR0FBRSxLQUFLRCxHQUFFSCxHQUFFLE1BQU1FLEVBQUMsR0FBR0osRUFBQyxDQUFDO0FBQ3pCLFlBQUFYLEdBQUVhLEdBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSUEsR0FBRSxJQUFJLE1BQU0sR0FBRyxPQUFPSSxHQUFFO0FBQUEsVUFDMUM7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUNBLGVBQVNWLEdBQUVHLElBQUdDLElBQUc7QUFDZixpQkFBU0MsS0FBSSxDQUFDLEdBQUdDLEtBQUksQ0FBQyxHQUFHQyxLQUFJLEdBQUdBLEtBQUlKLEdBQUUsUUFBUUksTUFBSztBQUNqRCxjQUFJQyxLQUFJTCxHQUFFSSxFQUFDLEdBQUdHLEtBQUlOLEdBQUUsT0FBT0ksR0FBRSxDQUFDLElBQUlKLEdBQUUsT0FBT0ksR0FBRSxDQUFDLEdBQUdHLEtBQUksRUFBRSxLQUFLSCxHQUFFLENBQUMsR0FBRyxPQUFPQSxHQUFFLENBQUMsR0FBRyxXQUFXQSxHQUFFLENBQUMsRUFBRTtBQUMvRixVQUFBRixHQUFFSSxFQUFDLElBQUlKLEdBQUVJLEVBQUMsRUFBRSxNQUFNLEtBQUtDLEVBQUMsSUFBSU4sR0FBRSxLQUFLQyxHQUFFSSxFQUFDLElBQUksRUFBRSxJQUFJQSxJQUFHLE9BQU8sQ0FBQ0MsRUFBQyxFQUFFLENBQUM7QUFBQSxRQUNqRTtBQUNBLGVBQU9OO0FBQUEsTUFDVDtBQUNBLGVBQVNPLEdBQUVULElBQUdDLElBQUc7QUFDZixZQUFJQyxLQUFJVixHQUFFUSxHQUFFLFVBQVU7QUFDdEIsWUFBSSxDQUFDRTtBQUNILGdCQUFNLElBQUksTUFBTSw2R0FBNkc7QUFDL0gsWUFBSUMsS0FBSVQsR0FBRUEsR0FBRSxTQUFTLENBQUM7QUFDdEIsWUFBSU0sR0FBRSxhQUFhO0FBQ2pCLFVBQUFHLEtBQUlBLEdBQUUsY0FBY0QsR0FBRSxhQUFhRCxJQUFHRSxHQUFFLFdBQVcsSUFBSUQsR0FBRSxZQUFZRCxFQUFDLElBQUlDLEdBQUUsYUFBYUQsSUFBR0MsR0FBRSxVQUFVLEdBQUdSLEdBQUUsS0FBS08sRUFBQztBQUFBLGlCQUM1R0QsR0FBRSxhQUFhO0FBQ3RCLFVBQUFFLEdBQUUsWUFBWUQsRUFBQztBQUFBLGFBQ1o7QUFDSCxjQUFJLE9BQU9ELEdBQUUsWUFBWSxZQUFZLENBQUNBLEdBQUUsU0FBUztBQUMvQyxrQkFBTSxJQUFJLE1BQU07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLENBSzNCO0FBQ1MsY0FBSUksS0FBSVosR0FBRVEsR0FBRSxhQUFhLE1BQU1BLEdBQUUsU0FBUyxNQUFNO0FBQ2hELFVBQUFFLEdBQUUsYUFBYUQsSUFBR0csRUFBQztBQUFBLFFBQ3JCO0FBQUEsTUFDRjtBQUNBLGVBQVNOLEdBQUVFLElBQUc7QUFDWixZQUFJQSxHQUFFLGVBQWU7QUFDbkIsaUJBQU87QUFDVCxRQUFBQSxHQUFFLFdBQVcsWUFBWUEsRUFBQztBQUMxQixZQUFJQyxLQUFJUCxHQUFFLFFBQVFNLEVBQUM7QUFDbkIsUUFBQUMsTUFBSyxLQUFLUCxHQUFFLE9BQU9PLElBQUcsQ0FBQztBQUFBLE1BQ3pCO0FBQ0EsZUFBU1MsR0FBRVYsSUFBRztBQUNaLFlBQUlDLEtBQUksU0FBUyxjQUFjLE9BQU87QUFDdEMsZUFBT0QsR0FBRSxNQUFNLFNBQVMsV0FBV0EsR0FBRSxNQUFNLE9BQU8sYUFBYVcsSUFBR1YsSUFBR0QsR0FBRSxLQUFLLEdBQUdTLEdBQUVULElBQUdDLEVBQUMsR0FBR0E7QUFBQSxNQUMxRjtBQUNBLGVBQVNVLElBQUdYLElBQUdDLElBQUc7QUFDaEIsZUFBTyxLQUFLQSxFQUFDLEVBQUUsUUFBUSxTQUFTQyxJQUFHO0FBQ2pDLFVBQUFGLEdBQUUsYUFBYUUsSUFBR0QsR0FBRUMsRUFBQyxDQUFDO0FBQUEsUUFDeEIsQ0FBQztBQUFBLE1BQ0g7QUFDQSxlQUFTSSxHQUFFTixJQUFHQyxJQUFHO0FBQ2YsWUFBSUMsSUFBR0MsSUFBR0MsSUFBR0M7QUFDYixZQUFJSixHQUFFLGFBQWFELEdBQUUsS0FBSztBQUN4QixjQUFJLEVBQUVLLEtBQUlKLEdBQUUsVUFBVUQsR0FBRSxHQUFHO0FBQ3pCLG1CQUFPLFdBQVc7QUFBQSxZQUNsQjtBQUNGLFVBQUFBLEdBQUUsTUFBTUs7QUFBQSxRQUNWO0FBQ0EsWUFBSUosR0FBRSxXQUFXO0FBQ2YsY0FBSU0sS0FBSVI7QUFDUixVQUFBRyxLQUFJVCxPQUFNQSxLQUFJaUIsR0FBRVQsRUFBQyxJQUFJRSxLQUFJUyxJQUFHLEtBQUssTUFBTVYsSUFBR0ssSUFBRyxLQUFFLEdBQUdILEtBQUlRLElBQUcsS0FBSyxNQUFNVixJQUFHSyxJQUFHLElBQUU7QUFBQSxRQUM5RTtBQUNFLFVBQUFQLEdBQUUsYUFBYSxPQUFPLE9BQU8sY0FBYyxPQUFPLElBQUksbUJBQW1CLGNBQWMsT0FBTyxJQUFJLG1CQUFtQixjQUFjLE9BQU8sUUFBUSxjQUFjLE9BQU8sUUFBUSxjQUFjRSxLQUFJLFNBQVNNLElBQUc7QUFDM00sZ0JBQUlLLEtBQUksU0FBUyxjQUFjLE1BQU07QUFDckMsbUJBQU9MLEdBQUUsTUFBTSxTQUFTLFdBQVdBLEdBQUUsTUFBTSxPQUFPLGFBQWFBLEdBQUUsTUFBTSxNQUFNLGNBQWNHLElBQUdFLElBQUdMLEdBQUUsS0FBSyxHQUFHQyxHQUFFRCxJQUFHSyxFQUFDLEdBQUdBO0FBQUEsVUFDdEgsRUFBRVosRUFBQyxHQUFHRSxLQUFLLFNBQVNLLElBQUdLLElBQUdDLEtBQUk7QUFDNUIsZ0JBQUlDLE1BQUtELElBQUcsS0FBS0UsTUFBS0YsSUFBRyxXQUFXLEtBQUtELEdBQUUsMEJBQTBCLFVBQVVHO0FBQy9FLGFBQUNILEdBQUUseUJBQXlCLFFBQVFFLE1BQUtwQixHQUFFb0IsR0FBRSxJQUFJQyxRQUFPRCxPQUFNO0FBQUEsc0RBQ3BCLEtBQUssU0FBUyxtQkFBbUIsS0FBSyxVQUFVQyxHQUFFLENBQUMsQ0FBQyxDQUFDLElBQUk7QUFDbkcsZ0JBQUksS0FBSyxJQUFJLEtBQUssQ0FBQ0QsR0FBRSxHQUFHLEVBQUUsTUFBTSxXQUFXLENBQUMsR0FBR0UsTUFBS1QsR0FBRTtBQUN0RCxZQUFBQSxHQUFFLE9BQU8sSUFBSSxnQkFBZ0IsRUFBRSxHQUFHUyxPQUFNLElBQUksZ0JBQWdCQSxHQUFFO0FBQUEsVUFDaEUsRUFBRyxLQUFLLE1BQU1mLElBQUdELEVBQUMsR0FBR0csS0FBSSxXQUFXO0FBQ2xDLFlBQUFOLEdBQUVJLEVBQUMsR0FBR0EsR0FBRSxRQUFRLElBQUksZ0JBQWdCQSxHQUFFLElBQUk7QUFBQSxVQUM1QyxNQUFNQSxLQUFJUSxHQUFFVCxFQUFDLEdBQUdFLEtBQUssU0FBU0ssSUFBR0ssSUFBRztBQUNsQyxnQkFBSUMsTUFBS0QsR0FBRSxLQUFLRSxNQUFLRixHQUFFO0FBQ3ZCLGdCQUFJRSxPQUFNUCxHQUFFLGFBQWEsU0FBU08sR0FBRSxHQUFHUCxHQUFFO0FBQ3ZDLGNBQUFBLEdBQUUsV0FBVyxVQUFVTTtBQUFBLGlCQUNwQjtBQUNILHFCQUFPTixHQUFFO0FBQ1AsZ0JBQUFBLEdBQUUsWUFBWUEsR0FBRSxVQUFVO0FBQzVCLGNBQUFBLEdBQUUsWUFBWSxTQUFTLGVBQWVNLEdBQUUsQ0FBQztBQUFBLFlBQzNDO0FBQUEsVUFDRixFQUFHLEtBQUssTUFBTVosRUFBQyxHQUFHRSxLQUFJLFdBQVc7QUFDL0IsWUFBQU4sR0FBRUksRUFBQztBQUFBLFVBQ0w7QUFDRixlQUFPQyxHQUFFSCxFQUFDLEdBQUcsU0FBU1EsSUFBRztBQUN2QixjQUFJQSxJQUFHO0FBQ0wsZ0JBQUlBLEdBQUUsUUFBUVIsR0FBRSxPQUFPUSxHQUFFLFVBQVVSLEdBQUUsU0FBU1EsR0FBRSxjQUFjUixHQUFFO0FBQzlEO0FBQ0YsWUFBQUcsR0FBRUgsS0FBSVEsRUFBQztBQUFBLFVBQ1Q7QUFDRSxZQUFBSixHQUFFO0FBQUEsUUFDTjtBQUFBLE1BQ0Y7QUFDQSxRQUFFLFVBQVUsU0FBU0osSUFBR0MsSUFBRztBQUN6QixZQUFJLE9BQU8sUUFBUSxPQUFPLFNBQVMsT0FBTyxZQUFZO0FBQ3BELGdCQUFNLElBQUksTUFBTSw4REFBOEQ7QUFDaEYsU0FBQ0EsS0FBSUEsTUFBSyxDQUFDLEdBQUcsUUFBUSxPQUFPQSxHQUFFLFNBQVMsV0FBV0EsR0FBRSxRQUFRLENBQUMsR0FBR0EsR0FBRSxhQUFhLE9BQU9BLEdBQUUsYUFBYSxjQUFjQSxHQUFFLFlBQVlWLEdBQUUsSUFBSVUsR0FBRSxlQUFlQSxHQUFFLGFBQWEsU0FBU0EsR0FBRSxhQUFhQSxHQUFFLFdBQVc7QUFDN00sWUFBSUMsS0FBSUwsR0FBRUcsSUFBR0MsRUFBQztBQUNkLGVBQU9MLEdBQUVNLElBQUdELEVBQUMsR0FBRyxTQUFTRSxJQUFHO0FBQzFCLG1CQUFTQyxLQUFJLENBQUMsR0FBR0MsS0FBSSxHQUFHQSxLQUFJSCxHQUFFLFFBQVFHLE1BQUs7QUFDekMsZ0JBQUlFLEtBQUlMLEdBQUVHLEVBQUM7QUFDWCxhQUFDRyxLQUFJbEIsR0FBRWlCLEdBQUUsRUFBRSxHQUFHLFFBQVFILEdBQUUsS0FBS0ksRUFBQztBQUFBLFVBQ2hDO0FBQ0EsZUFBS0wsTUFBS1AsR0FBRUMsR0FBRU0sSUFBR0YsRUFBQyxHQUFHQSxFQUFDLEdBQUdJLEtBQUksR0FBR0EsS0FBSUQsR0FBRSxRQUFRQyxNQUFLO0FBQ2pELGdCQUFJRztBQUNKLGlCQUFLQSxLQUFJSixHQUFFQyxFQUFDLEdBQUcsU0FBUyxHQUFHO0FBQ3pCLHVCQUFTUSxLQUFJLEdBQUdBLEtBQUlMLEdBQUUsTUFBTSxRQUFRSztBQUNsQyxnQkFBQUwsR0FBRSxNQUFNSyxFQUFDLEVBQUU7QUFDYixxQkFBT3ZCLEdBQUVrQixHQUFFLEVBQUU7QUFBQSxZQUNmO0FBQUEsVUFDRjtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQ0EsVUFBSVUsSUFBR0MsT0FBTUQsS0FBSSxDQUFDLEdBQUcsU0FBU2xCLElBQUdDLElBQUc7QUFDbEMsZUFBT2lCLEdBQUVsQixFQUFDLElBQUlDLElBQUdpQixHQUFFLE9BQU8sT0FBTyxFQUFFLEtBQUs7QUFBQSxDQUMvQztBQUFBLE1BQ0s7QUFDQSxlQUFTTixJQUFHWixJQUFHQyxJQUFHQyxJQUFHQyxJQUFHO0FBQ3RCLFlBQUlDLEtBQUlGLEtBQUksS0FBS0MsR0FBRTtBQUNuQixZQUFJSCxHQUFFO0FBQ0osVUFBQUEsR0FBRSxXQUFXLFVBQVVtQixJQUFHbEIsSUFBR0csRUFBQztBQUFBLGFBQzNCO0FBQ0gsY0FBSUMsS0FBSSxTQUFTLGVBQWVELEVBQUMsR0FBR0csS0FBSVAsR0FBRTtBQUMxQyxVQUFBTyxHQUFFTixFQUFDLEtBQUtELEdBQUUsWUFBWU8sR0FBRU4sRUFBQyxDQUFDLEdBQUdNLEdBQUUsU0FBU1AsR0FBRSxhQUFhSyxJQUFHRSxHQUFFTixFQUFDLENBQUMsSUFBSUQsR0FBRSxZQUFZSyxFQUFDO0FBQUEsUUFDbkY7QUFBQSxNQUNGO0FBQUEsSUFDRixHQUFHLFNBQVMsR0FBR2xCLElBQUc7QUFDaEIsUUFBRSxVQUFVLFNBQVMsR0FBRztBQUN0QixZQUFJQyxLQUFJLE9BQU8sU0FBUyxPQUFPLE9BQU87QUFDdEMsWUFBSSxDQUFDQTtBQUNILGdCQUFNLElBQUksTUFBTSxrQ0FBa0M7QUFDcEQsWUFBSSxDQUFDLEtBQUssT0FBTyxLQUFLO0FBQ3BCLGlCQUFPO0FBQ1QsWUFBSUMsS0FBSUQsR0FBRSxXQUFXLE9BQU9BLEdBQUUsTUFBTUUsS0FBSUQsS0FBSUQsR0FBRSxTQUFTLFFBQVEsYUFBYSxHQUFHO0FBQy9FLGVBQU8sRUFBRSxRQUFRLHVEQUF1RCxTQUFTRyxJQUFHQyxJQUFHO0FBQ3JGLGNBQUlDLElBQUdNLEtBQUlQLEdBQUUsS0FBSyxFQUFFLFFBQVEsWUFBWSxTQUFTRSxJQUFHQyxJQUFHO0FBQ3JELG1CQUFPQTtBQUFBLFVBQ1QsQ0FBQyxFQUFFLFFBQVEsWUFBWSxTQUFTRCxJQUFHQyxJQUFHO0FBQ3BDLG1CQUFPQTtBQUFBLFVBQ1QsQ0FBQztBQUNELGlCQUFPLG9EQUFvRCxLQUFLSSxFQUFDLElBQUlSLE1BQUtFLEtBQUlNLEdBQUUsUUFBUSxJQUFJLE1BQU0sSUFBSUEsS0FBSUEsR0FBRSxRQUFRLEdBQUcsTUFBTSxJQUFJVixLQUFJVSxLQUFJVCxLQUFJUyxHQUFFLFFBQVEsU0FBUyxFQUFFLEdBQUcsU0FBUyxLQUFLLFVBQVVOLEVBQUMsSUFBSTtBQUFBLFFBQ3BNLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRixHQUFHLFNBQVMsR0FBR04sSUFBRyxHQUFHO0FBQ25CLFVBQUlDLElBQUdDLElBQUdDLElBQUdDLElBQUdDLElBQUdDLElBQUdNLElBQUdMLElBQUdDO0FBQzVCLFFBQUUsV0FBV1AsS0FBSSxnQkFBZ0JDLEtBQUksY0FBY0MsS0FBSSxxQkFBcUJDLEtBQUksK0JBQStCQyxLQUFJLDhCQUE4QkMsS0FBSSxxQkFBcUJNLEtBQUksc0JBQXNCTCxLQUFJLDRCQUE0QixFQUFFLE9BQU9DLEtBQUksU0FBU0MsSUFBRztBQUMzUCxZQUFJQyxLQUFJLFNBQVMsY0FBYyxLQUFLLEdBQUdZLEtBQUksU0FBUyxjQUFjLEtBQUssR0FBR1gsS0FBSUYsR0FBRSxTQUFTYyxLQUFJZCxHQUFFO0FBQy9GLGVBQU9DLEdBQUUsVUFBVSxJQUFJUixFQUFDLEdBQUdxQixNQUFLYixHQUFFLFVBQVUsSUFBSVIsS0FBSSxPQUFPcUIsRUFBQyxHQUFHYixHQUFFLFlBQVlDLElBQUdXLEdBQUUsVUFBVSxJQUFJbkIsRUFBQyxHQUFHbUIsR0FBRSxpQkFBaUIsU0FBU1osR0FBRSxPQUFPLEtBQUtBLEVBQUMsQ0FBQyxHQUFHQSxHQUFFLFlBQVlZLEVBQUMsR0FBR1o7QUFBQSxNQUN2SyxHQUFHLFNBQVMsU0FBU0QsSUFBRztBQUN0QixZQUFJQyxLQUFJRixHQUFFQyxFQUFDLEdBQUdhLEtBQUksU0FBUyxjQUFjLEtBQUssR0FBR1gsS0FBSSxTQUFTLGNBQWMsUUFBUSxHQUFHWSxLQUFJLFNBQVMsY0FBYyxRQUFRLEdBQUdDLE1BQUtkLEdBQUUsY0FBYyxNQUFNUCxFQUFDLEdBQUdnQixLQUFJVixHQUFFLGVBQWVzQixLQUFJdEIsR0FBRTtBQUN2TCxlQUFPYSxHQUFFLFVBQVUsSUFBSWYsRUFBQyxHQUFHSSxHQUFFLFlBQVlGLEdBQUUsVUFBVSxXQUFXYyxHQUFFLFlBQVlkLEdBQUUsY0FBYyxVQUFVRSxHQUFFLFVBQVUsSUFBSUMsRUFBQyxHQUFHVyxHQUFFLFVBQVUsSUFBSVgsRUFBQyxHQUFHRCxHQUFFLFVBQVUsSUFBSVAsRUFBQyxHQUFHbUIsR0FBRSxVQUFVLElBQUlsQixFQUFDLEdBQUdjLE1BQUssT0FBT0EsTUFBSyxlQUFlSSxHQUFFLGlCQUFpQixTQUFTSixFQUFDLEdBQUdLLElBQUcsaUJBQWlCLFNBQVNMLEVBQUMsSUFBSVksTUFBSyxPQUFPQSxNQUFLLGNBQWNwQixHQUFFLGlCQUFpQixTQUFTb0IsRUFBQyxHQUFHcEIsR0FBRSxpQkFBaUIsU0FBU0QsR0FBRSxPQUFPLEtBQUtBLEVBQUMsQ0FBQyxHQUFHYSxHQUFFLGlCQUFpQixTQUFTYixHQUFFLE9BQU8sS0FBS0EsRUFBQyxDQUFDLEdBQUdZLEdBQUUsWUFBWVgsRUFBQyxHQUFHVyxHQUFFLFlBQVlDLEVBQUMsR0FBR2IsR0FBRSxZQUFZWSxFQUFDLEdBQUdaO0FBQUEsTUFDL2UsR0FBRyxRQUFRLFNBQVNELElBQUc7QUFDckIsWUFBSUMsS0FBSUYsR0FBRUMsRUFBQyxHQUFHYSxLQUFJLFNBQVMsY0FBYyxLQUFLLEdBQUdYLEtBQUksU0FBUyxjQUFjLFFBQVEsR0FBR1ksS0FBSSxTQUFTLGNBQWMsT0FBTyxHQUFHQyxNQUFLZCxHQUFFLGNBQWMsTUFBTVAsRUFBQyxHQUFHZ0IsS0FBSVYsR0FBRSxlQUFlc0IsS0FBSXRCLEdBQUU7QUFDdEwsZUFBT2EsR0FBRSxVQUFVLElBQUlmLEVBQUMsR0FBR0ksR0FBRSxZQUFZRixHQUFFLFVBQVUsTUFBTUUsR0FBRSxVQUFVLElBQUlDLEVBQUMsR0FBR0QsR0FBRSxVQUFVLElBQUlQLEVBQUMsR0FBR21CLEdBQUUsVUFBVSxJQUFJakIsRUFBQyxHQUFHRyxHQUFFLGVBQWVjLEdBQUUsYUFBYSxlQUFlZCxHQUFFLFdBQVcsR0FBR0EsR0FBRSxZQUFZYyxHQUFFLFFBQVFkLEdBQUUsVUFBVUEsR0FBRSxjQUFjYyxHQUFFLE9BQU9kLEdBQUUsWUFBWVUsTUFBSyxPQUFPQSxNQUFLLGNBQWNLLElBQUcsaUJBQWlCLFNBQVNMLEVBQUMsR0FBR1ksTUFBSyxPQUFPQSxNQUFLLGNBQWNwQixHQUFFLGlCQUFpQixTQUFTLFdBQVc7QUFDclksVUFBQW9CLEdBQUVSLEdBQUUsS0FBSztBQUFBLFFBQ1gsQ0FBQyxHQUFHWixHQUFFLGlCQUFpQixTQUFTRCxHQUFFLE9BQU8sS0FBS0EsRUFBQyxDQUFDLEdBQUdZLEdBQUUsWUFBWUMsRUFBQyxHQUFHRCxHQUFFLFlBQVlYLEVBQUMsR0FBR0QsR0FBRSxZQUFZWSxFQUFDLEdBQUdaO0FBQUEsTUFDM0csR0FBRyxZQUFZLFdBQVc7QUFDeEIsWUFBSUQsS0FBSSxTQUFTLGNBQWMsS0FBSztBQUNwQyxlQUFPQSxHQUFFLFVBQVUsSUFBSVIsRUFBQyxHQUFHUTtBQUFBLE1BQzdCLEVBQUU7QUFBQSxJQUNKLENBQUMsQ0FBQztBQUFBLEVBQ0osQ0FBQztBQUNILEdBQUcsRUFBRTtBQUNMLElBQUksS0FBSyxHQUFHO0FBQ1osSUFBTSxLQUFxQixtQkFBRyxFQUFFO0FBQ2hDLElBQU0sS0FBTixNQUFTO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVAsS0FBSyxHQUFHO0FBQ04sT0FBRyxLQUFLLENBQUM7QUFBQSxFQUNYO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1qQixZQUFZLEVBQUUsUUFBUSxHQUFHLGtCQUFrQixFQUFFLEdBQUc7QUFDOUMsVUFBTTtBQUFBLE1BQ0osUUFBUTtBQUFBLE1BQ1Isa0JBQWtCO0FBQUEsSUFDcEIsQ0FBQyxHQUFHLEtBQUssV0FBVyxJQUFJLEdBQUc7QUFBQSxFQUM3QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxVQUFVO0FBQ1osV0FBTztBQUFBLE1BQ0wsTUFBTSxDQUFDLE1BQU0sS0FBSyxLQUFLLENBQUM7QUFBQSxJQUMxQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxLQUFLLEdBQUc7QUFDTixXQUFPLEtBQUssU0FBUyxLQUFLLENBQUM7QUFBQSxFQUM3QjtBQUNGO0FBQ0EsSUFBTSxLQUFOLGNBQWlCLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlqQixJQUFJLFVBQVU7QUFDWixVQUFNLElBQUksTUFBTSxLQUFLO0FBQ3JCLFdBQU87QUFBQSxNQUNMLFFBQVEsQ0FBQyxNQUFNLEtBQUssT0FBTyxDQUFDO0FBQUEsTUFDNUIsSUFBSSxZQUFZO0FBQ2QsZUFBTyxFQUFFO0FBQUEsTUFDWDtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLEdBQUc7QUFDUixXQUFPLEtBQUssT0FBTyxTQUFTLE9BQU8sQ0FBQztBQUFBLEVBQ3RDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFlBQVk7QUFDZCxXQUFPLEtBQUssT0FBTyxTQUFTO0FBQUEsRUFDOUI7QUFDRjtBQUNBLElBQUksS0FBSyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQUEsQ0FDdEIsU0FBU1YsSUFBRyxHQUFHO0FBQ2QsR0FBQyxTQUFTLEdBQUdDLElBQUc7QUFDZCxJQUFBRCxHQUFFLFVBQVVDLEdBQUU7QUFBQSxFQUNoQixHQUFHLElBQUksV0FBVztBQUNoQixhQUFTLEVBQUVZLElBQUc7QUFDWixVQUFJTCxLQUFJSyxHQUFFLE1BQU1KLEtBQUksT0FBTyxLQUFLRCxFQUFDLEdBQUdFLEtBQUlELEdBQUUsSUFBSSxTQUFTRSxJQUFHO0FBQ3hELGVBQU8sT0FBT0gsR0FBRUcsRUFBQztBQUFBLE1BQ25CLENBQUMsRUFBRSxNQUFNLFNBQVNBLElBQUc7QUFDbkIsZUFBT0EsT0FBTSxZQUFZQSxPQUFNLGFBQWFBLE9BQU07QUFBQSxNQUNwRCxDQUFDO0FBQ0QsVUFBSSxDQUFDRDtBQUNILGNBQU0sSUFBSSxNQUFNLCtCQUErQjtBQUNqRCxXQUFLLFNBQVNHO0FBQUEsSUFDaEI7QUFDQSxRQUFJWixLQUFJLENBQUMsS0FBSyxNQUFNLE1BQU0sTUFBTSxPQUFPLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLEtBQUs7QUFDaEYsYUFBUyxFQUFFWSxJQUFHO0FBQ1osYUFBT1osR0FBRSxRQUFRWSxHQUFFLFFBQVEsTUFBTTtBQUFBLElBQ25DO0FBQ0EsUUFBSVgsS0FBSSxDQUFDLEtBQUssS0FBSyxVQUFVLEtBQUssTUFBTSxPQUFPLE9BQU8sS0FBSyxRQUFRO0FBQ25FLGFBQVNDLEdBQUVVLElBQUc7QUFDWixhQUFPWCxHQUFFLFFBQVFXLEdBQUUsUUFBUSxNQUFNO0FBQUEsSUFDbkM7QUFDQSxNQUFFLFVBQVUsUUFBUSxTQUFTQSxJQUFHO0FBQzlCLFlBQU1MLEtBQUksU0FBUyxlQUFlLG1CQUFtQixHQUFHQyxLQUFJRCxHQUFFLGNBQWMsS0FBSztBQUNqRixhQUFPQyxHQUFFLFlBQVlJLElBQUcsS0FBSyxVQUFVTCxJQUFHQyxFQUFDLEdBQUdBLEdBQUU7QUFBQSxJQUNsRCxHQUFHLEVBQUUsVUFBVSxZQUFZLFNBQVNJLElBQUdMLElBQUc7QUFDeEMsVUFBSUMsS0FBSUwsR0FBRVMsSUFBR0wsRUFBQyxHQUFHRSxLQUFJRCxHQUFFLFdBQVc7QUFDbEMsVUFBSUM7QUFDRixXQUFHO0FBQ0QsY0FBSUEsR0FBRSxhQUFhLEtBQUs7QUFDdEIsZ0JBQUlBLEdBQUUsS0FBSyxLQUFLLE1BQU0sT0FBT0EsR0FBRSwwQkFBMEIsRUFBRUEsR0FBRSxzQkFBc0IsS0FBS0EsR0FBRSxzQkFBc0IsRUFBRUEsR0FBRSxrQkFBa0IsSUFBSTtBQUN4SSxjQUFBRixHQUFFLFlBQVlFLEVBQUMsR0FBRyxLQUFLLFVBQVVHLElBQUdMLEVBQUM7QUFDckM7QUFBQSxZQUNGO0FBQ0U7QUFDSixjQUFJRSxHQUFFLGFBQWEsS0FBSyxjQUFjO0FBQ3BDLFlBQUFGLEdBQUUsWUFBWUUsRUFBQyxHQUFHLEtBQUssVUFBVUcsSUFBR0wsRUFBQztBQUNyQztBQUFBLFVBQ0Y7QUFDQSxjQUFJRyxLQUFJUixHQUFFTyxFQUFDLEdBQUdhO0FBQ2QsVUFBQVosT0FBTVksS0FBSSxNQUFNLFVBQVUsS0FBSyxLQUFLYixHQUFFLFlBQVksQ0FBQztBQUNuRCxjQUFJRSxLQUFJLENBQUMsQ0FBQ0osR0FBRSxZQUFZZ0IsS0FBSSxFQUFFaEIsRUFBQyxLQUFLLEVBQUVFLEVBQUMsS0FBS0UsSUFBR2EsTUFBS2YsR0FBRSxTQUFTLFlBQVksR0FBR1UsS0FBSWYsR0FBRSxLQUFLLFFBQVFvQixLQUFJZixFQUFDLEdBQUdzQixLQUFJckIsTUFBS1k7QUFDbEgsY0FBSVMsTUFBSzFCLEdBQUVJLElBQUdVLEVBQUMsS0FBSyxDQUFDLEtBQUssT0FBTywyQkFBMkJJLElBQUc7QUFDN0QsZ0JBQUksRUFBRWQsR0FBRSxhQUFhLFlBQVlBLEdBQUUsYUFBYTtBQUM5QyxxQkFBT0EsR0FBRSxXQUFXLFNBQVM7QUFDM0IsZ0JBQUFGLEdBQUUsYUFBYUUsR0FBRSxXQUFXLENBQUMsR0FBR0EsRUFBQztBQUNyQyxZQUFBRixHQUFFLFlBQVlFLEVBQUMsR0FBRyxLQUFLLFVBQVVHLElBQUdMLEVBQUM7QUFDckM7QUFBQSxVQUNGO0FBQ0EsbUJBQVN5QixNQUFLLEdBQUdBLE1BQUt2QixHQUFFLFdBQVcsUUFBUXVCLE9BQU0sR0FBRztBQUNsRCxnQkFBSVAsTUFBS2hCLEdBQUUsV0FBV3VCLEdBQUU7QUFDeEIsWUFBQTFCLEdBQUVtQixLQUFJTixJQUFHVixFQUFDLE1BQU1BLEdBQUUsZ0JBQWdCZ0IsSUFBRyxJQUFJLEdBQUdPLE1BQUtBLE1BQUs7QUFBQSxVQUN4RDtBQUNBLGVBQUssVUFBVXBCLElBQUdILEVBQUM7QUFBQSxRQUNyQixTQUFTQSxLQUFJRCxHQUFFLFlBQVk7QUFBQSxJQUMvQjtBQUNBLGFBQVNMLEdBQUVTLElBQUdMLElBQUc7QUFDZixhQUFPSyxHQUFFO0FBQUEsUUFDUEw7QUFBQSxRQUNBLFdBQVcsWUFBWSxXQUFXLGVBQWUsV0FBVztBQUFBLFFBQzVEO0FBQUEsUUFDQTtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQ0EsYUFBU0gsR0FBRVEsSUFBR0wsSUFBR0MsSUFBRztBQUNsQixhQUFPLE9BQU9JLEdBQUUsS0FBS0wsRUFBQyxLQUFLLGFBQWFLLEdBQUUsS0FBS0wsRUFBQyxFQUFFQyxFQUFDLElBQUlJLEdBQUUsS0FBS0wsRUFBQztBQUFBLElBQ2pFO0FBQ0EsYUFBU0YsR0FBRU8sSUFBR0wsSUFBRztBQUNmLGFBQU8sT0FBT0EsS0FBSSxNQUFNLE9BQUssT0FBT0EsTUFBSyxZQUFZLENBQUNBLEtBQUk7QUFBQSxJQUM1RDtBQUNBLGFBQVNELEdBQUVNLElBQUdMLElBQUdDLElBQUc7QUFDbEIsVUFBSUMsS0FBSUcsR0FBRSxLQUFLLFlBQVk7QUFDM0IsYUFBT0wsT0FBTSxPQUFLLFFBQUssT0FBT0EsR0FBRUUsRUFBQyxLQUFLLGFBQWEsQ0FBQ0YsR0FBRUUsRUFBQyxFQUFFRyxHQUFFLE9BQU9KLEVBQUMsSUFBSSxPQUFPRCxHQUFFRSxFQUFDLElBQUksT0FBT0YsR0FBRUUsRUFBQyxNQUFNLFFBQUssT0FBSyxPQUFPRixHQUFFRSxFQUFDLEtBQUssV0FBV0YsR0FBRUUsRUFBQyxNQUFNRyxHQUFFLFFBQVE7QUFBQSxJQUM5SjtBQUNBLFdBQU87QUFBQSxFQUNULENBQUM7QUFDSCxHQUFHLEVBQUU7QUFDTCxJQUFJLEtBQUssR0FBRztBQUNaLElBQU0sS0FBcUIsbUJBQUcsRUFBRTtBQUNoQyxTQUFTLEdBQUdiLElBQUcsR0FBRztBQUNoQixTQUFPQSxHQUFFLElBQUksQ0FBQyxNQUFNO0FBQ2xCLFVBQU1DLEtBQUksRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLElBQUksSUFBSTtBQUM3QixXQUFPLEVBQUVBLEVBQUMsTUFBTSxFQUFFLE9BQU8sR0FBRyxFQUFFLE1BQU1BLEVBQUMsSUFBSTtBQUFBLEVBQzNDLENBQUM7QUFDSDtBQUNBLFNBQVMsRUFBRUQsSUFBRyxJQUFJLENBQUMsR0FBRztBQUNwQixRQUFNLElBQUk7QUFBQSxJQUNSLE1BQU07QUFBQSxFQUNSO0FBQ0EsU0FBTyxJQUFJLEdBQUcsQ0FBQyxFQUFFLE1BQU1BLEVBQUM7QUFDMUI7QUFDQSxTQUFTLEdBQUdBLElBQUcsR0FBRztBQUNoQixTQUFPLE1BQU0sUUFBUUEsRUFBQyxJQUFJLEdBQUdBLElBQUcsQ0FBQyxJQUFJLEVBQUVBLEVBQUMsSUFBSSxHQUFHQSxJQUFHLENBQUMsSUFBSSxFQUFFQSxFQUFDLElBQUksR0FBR0EsSUFBRyxDQUFDLElBQUlBO0FBQzNFO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUc7QUFDaEIsU0FBT0EsR0FBRSxJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQzlCO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUc7QUFDaEIsUUFBTSxJQUFJLENBQUM7QUFDWCxhQUFXQyxNQUFLRCxJQUFHO0FBQ2pCLFFBQUksQ0FBQyxPQUFPLFVBQVUsZUFBZSxLQUFLQSxJQUFHQyxFQUFDO0FBQzVDO0FBQ0YsVUFBTSxJQUFJRCxHQUFFQyxFQUFDLEdBQUdDLEtBQUksR0FBRyxFQUFFRCxFQUFDLENBQUMsSUFBSSxFQUFFQSxFQUFDLElBQUk7QUFDdEMsTUFBRUEsRUFBQyxJQUFJLEdBQUcsR0FBR0MsRUFBQztBQUFBLEVBQ2hCO0FBQ0EsU0FBTztBQUNUO0FBQ0EsU0FBUyxHQUFHRixJQUFHLEdBQUc7QUFDaEIsU0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFQSxJQUFHLENBQUMsSUFBSSxNQUFNLFFBQUssRUFBRUEsSUFBRyxDQUFDLENBQUMsSUFBSUE7QUFDaEQ7QUFDQSxTQUFTLEdBQUdBLElBQUc7QUFDYixTQUFPLEVBQUVBLEVBQUMsS0FBSyxHQUFHQSxFQUFDLEtBQUssRUFBRUEsRUFBQztBQUM3QjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTWpCLElBQUksVUFBVTtBQUNaLFdBQU87QUFBQSxNQUNMLE9BQU8sQ0FBQyxHQUFHLE1BQU0sS0FBSyxNQUFNLEdBQUcsQ0FBQztBQUFBLElBQ2xDO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxNQUFNLEdBQUcsR0FBRztBQUNWLFdBQU8sRUFBRSxHQUFHLENBQUM7QUFBQSxFQUNmO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1qQixJQUFJLFVBQVU7QUFDWixXQUFPO0FBQUEsTUFDTCxNQUFNLE1BQU0sS0FBSyxLQUFLO0FBQUEsSUFDeEI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsT0FBTztBQUNMLFVBQU0sSUFBSTtBQUNWLFdBQU8sS0FBSyxPQUFPLFNBQVMsYUFBYSxFQUFFLEdBQUcsTUFBTSxHQUFHLFFBQVEsT0FBTyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLE1BQU0sS0FBSztBQUFBLEVBQ2hIO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBLEVBQ2pCLGNBQWM7QUFDWixVQUFNLEdBQUcsU0FBUyxHQUFHLEtBQUssaUJBQWlCLElBQUksRUFBRTtBQUFBLEVBQ25EO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxVQUFVO0FBQ1osV0FBTztBQUFBLE1BQ0wsZUFBZSxDQUFDLEdBQUcsTUFBTSxLQUFLLGNBQWMsR0FBRyxDQUFDO0FBQUEsTUFDaEQsYUFBYSxDQUFDLE1BQU0sS0FBSyxZQUFZLENBQUM7QUFBQSxNQUN0QyxNQUFNLE1BQU0sS0FBSyxlQUFlLEtBQUs7QUFBQSxNQUNyQyxTQUFTLE1BQU0sS0FBSyxlQUFlLFFBQVE7QUFBQSxNQUMzQyxtQkFBbUIsTUFBTSxLQUFLLGVBQWUsa0JBQWtCO0FBQUEsTUFDL0Qsc0JBQXNCLE1BQU0sS0FBSyxlQUFlLHFCQUFxQjtBQUFBLElBQ3ZFO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxjQUFjLEdBQUcsR0FBRztBQUNsQixXQUFPLEtBQUssZUFBZSxjQUFjLEdBQUcsQ0FBQztBQUFBLEVBQy9DO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsWUFBWSxHQUFHO0FBQ2IsU0FBSyxlQUFlLFlBQVksQ0FBQztBQUFBLEVBQ25DO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSWpCLElBQUksVUFBVTtBQUNaLFdBQU87QUFBQSxNQUNMLGVBQWUsTUFBTSxNQUFNLEtBQUssS0FBSyxPQUFPLE1BQU0sV0FBVyxPQUFPLENBQUM7QUFBQSxJQUN2RTtBQUFBLEVBQ0Y7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJakIsSUFBSSxVQUFVO0FBQ1osV0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBLE1BSUwsT0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBLE1BSVAsa0JBQWtCO0FBQUEsTUFDbEIsd0JBQXdCO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFJeEIsT0FBTztBQUFBLE1BQ1AsUUFBUTtBQUFBLE1BQ1IsUUFBUTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BSVIsZ0JBQWdCO0FBQUEsTUFDaEIsc0JBQXNCO0FBQUEsSUFDeEI7QUFBQSxFQUNGO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1qQixJQUFJLFVBQVU7QUFDWixXQUFPO0FBQUEsTUFDTCxPQUFPLE1BQU0sS0FBSyxNQUFNO0FBQUEsTUFDeEIsTUFBTSxNQUFNLEtBQUssS0FBSztBQUFBLE1BQ3RCLHFCQUFxQixDQUFDLE1BQU0sS0FBSyxvQkFBb0IsQ0FBQztBQUFBLE1BQ3RELGVBQWUsQ0FBQyxNQUFNLEtBQUssY0FBYyxDQUFDO0FBQUEsSUFDNUM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsU0FBSyxPQUFPLFFBQVEsWUFBWTtBQUFBLEVBQ2xDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxRQUFRO0FBQ04sU0FBSyxPQUFPLFFBQVEsTUFBTTtBQUFBLEVBQzVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsb0JBQW9CLEdBQUc7QUFDckIsUUFBSSxLQUFLLE9BQU8sYUFBYSxzQkFBc0IsSUFBSTtBQUNyRCxRQUFFLGtFQUFrRSxNQUFNO0FBQzFFO0FBQUEsSUFDRjtBQUNBLFNBQUssQ0FBQyxLQUFLLE9BQU8sY0FBYyxVQUFVLEtBQUssT0FBTyxRQUFRLFlBQVksR0FBRyxLQUFLLE9BQU8sY0FBYyxLQUFLLEtBQUssS0FBSyxPQUFPLGNBQWMsTUFBTTtBQUFBLEVBQ25KO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsY0FBYyxHQUFHO0FBQ2YsUUFBSSxLQUFLLE9BQU8sYUFBYSxzQkFBc0IsSUFBSTtBQUNyRCxRQUFFLGtFQUFrRSxNQUFNO0FBQzFFO0FBQUEsSUFDRjtBQUNBLFNBQUssQ0FBQyxLQUFLLE9BQU8sUUFBUSxRQUFRLFVBQVUsS0FBSyxPQUFPLFFBQVEsWUFBWSxHQUFHLEtBQUssT0FBTyxRQUFRLFFBQVEsS0FBSyxLQUFLLEtBQUssT0FBTyxRQUFRLFFBQVEsTUFBTTtBQUFBLEVBQ3pKO0FBQ0Y7QUFDQSxJQUFJLEtBQUssRUFBRSxTQUFTLENBQUMsRUFBRTtBQUFBLENBV3RCLFNBQVNBLElBQUcsR0FBRztBQUNkLEdBQUMsU0FBUyxHQUFHQyxJQUFHO0FBQ2QsSUFBQUQsR0FBRSxVQUFVQyxHQUFFO0FBQUEsRUFDaEIsR0FBRyxRQUFRLFdBQVc7QUFDcEIsV0FBTyxTQUFTLEdBQUc7QUFDakIsVUFBSUEsS0FBSSxDQUFDO0FBQ1QsZUFBUyxFQUFFQyxJQUFHO0FBQ1osWUFBSUQsR0FBRUMsRUFBQztBQUNMLGlCQUFPRCxHQUFFQyxFQUFDLEVBQUU7QUFDZCxZQUFJQyxLQUFJRixHQUFFQyxFQUFDLElBQUksRUFBRSxHQUFHQSxJQUFHLEdBQUcsT0FBSSxTQUFTLENBQUMsRUFBRTtBQUMxQyxlQUFPLEVBQUVBLEVBQUMsRUFBRSxLQUFLQyxHQUFFLFNBQVNBLElBQUdBLEdBQUUsU0FBUyxDQUFDLEdBQUdBLEdBQUUsSUFBSSxNQUFJQSxHQUFFO0FBQUEsTUFDNUQ7QUFDQSxhQUFPLEVBQUUsSUFBSSxHQUFHLEVBQUUsSUFBSUYsSUFBRyxFQUFFLElBQUksU0FBU0MsSUFBR0MsSUFBR0MsSUFBRztBQUMvQyxVQUFFLEVBQUVGLElBQUdDLEVBQUMsS0FBSyxPQUFPLGVBQWVELElBQUdDLElBQUcsRUFBRSxZQUFZLE1BQUksS0FBS0MsR0FBRSxDQUFDO0FBQUEsTUFDckUsR0FBRyxFQUFFLElBQUksU0FBU0YsSUFBRztBQUNuQixlQUFPLFNBQVMsT0FBTyxPQUFPLGVBQWUsT0FBTyxlQUFlQSxJQUFHLE9BQU8sYUFBYSxFQUFFLE9BQU8sU0FBUyxDQUFDLEdBQUcsT0FBTyxlQUFlQSxJQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQztBQUFBLE1BQ3RLLEdBQUcsRUFBRSxJQUFJLFNBQVNBLElBQUdDLElBQUc7QUFDdEIsWUFBSSxJQUFJQSxPQUFNRCxLQUFJLEVBQUVBLEVBQUMsSUFBSSxJQUFJQyxNQUFLLElBQUlBLE1BQUssT0FBT0QsTUFBSyxZQUFZQSxNQUFLQSxHQUFFO0FBQ3hFLGlCQUFPQTtBQUNULFlBQUlFLEtBQW9CLHVCQUFPLE9BQU8sSUFBSTtBQUMxQyxZQUFJLEVBQUUsRUFBRUEsRUFBQyxHQUFHLE9BQU8sZUFBZUEsSUFBRyxXQUFXLEVBQUUsWUFBWSxNQUFJLE9BQU9GLEdBQUUsQ0FBQyxHQUFHLElBQUlDLE1BQUssT0FBT0QsTUFBSztBQUNsRyxtQkFBU0csTUFBS0g7QUFDWixjQUFFLEVBQUVFLElBQUdDLElBQUksU0FBU0MsSUFBRztBQUNyQixxQkFBT0osR0FBRUksRUFBQztBQUFBLFlBQ1osRUFBRyxLQUFLLE1BQU1ELEVBQUMsQ0FBQztBQUNwQixlQUFPRDtBQUFBLE1BQ1QsR0FBRyxFQUFFLElBQUksU0FBU0YsSUFBRztBQUNuQixZQUFJQyxLQUFJRCxNQUFLQSxHQUFFLGFBQWEsV0FBVztBQUNyQyxpQkFBT0EsR0FBRTtBQUFBLFFBQ1gsSUFBSSxXQUFXO0FBQ2IsaUJBQU9BO0FBQUEsUUFDVDtBQUNBLGVBQU8sRUFBRSxFQUFFQyxJQUFHLEtBQUtBLEVBQUMsR0FBR0E7QUFBQSxNQUN6QixHQUFHLEVBQUUsSUFBSSxTQUFTRCxJQUFHQyxJQUFHO0FBQ3RCLGVBQU8sT0FBTyxVQUFVLGVBQWUsS0FBS0QsSUFBR0MsRUFBQztBQUFBLE1BQ2xELEdBQUcsRUFBRSxJQUFJLElBQUksRUFBRSxFQUFFLElBQUksQ0FBQztBQUFBLElBQ3hCLEVBQUUsQ0FBQyxTQUFTLEdBQUdGLElBQUcsR0FBRztBQUNuQixRQUFFLFVBQVUsRUFBRSxDQUFDO0FBQUEsSUFDakIsR0FBRyxTQUFTLEdBQUdBLElBQUcsR0FBRztBQUNuQixRQUFFLEVBQUVBLEVBQUMsR0FBRyxFQUFFLEVBQUVBLElBQUcsV0FBVyxXQUFXO0FBQ25DLGVBQU9DO0FBQUEsTUFDVCxDQUFDO0FBQUEsTUFDRCxNQUFNQSxHQUFFO0FBQUEsUUFDTixjQUFjO0FBQ1osZUFBSyxRQUFRLEVBQUUsU0FBUyxNQUFNLFNBQVMsS0FBSyxHQUFHLEtBQUssU0FBUyxPQUFJLEtBQUssWUFBWSxJQUFJLEtBQUssYUFBYSxJQUFJLEtBQUssY0FBYyxJQUFJLEtBQUssY0FBYyxHQUFHLEtBQUsscUJBQXFCLE1BQU07QUFDdkwsaUJBQUssVUFBVSxLQUFLLEtBQUssSUFBRTtBQUFBLFVBQzdCLEdBQUcsS0FBSyxXQUFXLEdBQUcsS0FBSyxRQUFRLEdBQUcsT0FBTyxpQkFBaUIsVUFBVSxLQUFLLG9CQUFvQixFQUFFLFNBQVMsS0FBRyxDQUFDO0FBQUEsUUFDbEg7QUFBQSxRQUNBLElBQUksTUFBTTtBQUNSLGlCQUFPLEVBQUUsU0FBUyxNQUFNLGdCQUFnQixlQUFlLGNBQWMsYUFBYSxXQUFXLEVBQUUsTUFBTSxZQUFZLFFBQVEsY0FBYyxPQUFPLGFBQWEsS0FBSyxVQUFVLEVBQUU7QUFBQSxRQUM5SztBQUFBLFFBQ0EsS0FBS0UsSUFBR0MsSUFBR0MsSUFBRztBQUNaLGVBQUssTUFBTSxXQUFXLEtBQUssUUFBUSxHQUFHLEtBQUssaUJBQWlCLGFBQWEsS0FBSyxhQUFhO0FBQzNGLGdCQUFNQyxLQUFJLE9BQU8sT0FBTyxFQUFFLFdBQVcsVUFBVSxXQUFXLEdBQUcsWUFBWSxHQUFHLGFBQWEsR0FBRyxjQUFjLEdBQUcsT0FBTyxJQUFJLGFBQWEsRUFBRSxHQUFHRCxFQUFDO0FBQzNJLGNBQUlDLEdBQUUsZ0JBQWdCLEtBQUssY0FBY0EsR0FBRSxjQUFjLEtBQUssTUFBTSxRQUFRLFlBQVksSUFBSSxPQUFPRixNQUFLO0FBQ3RHLGlCQUFLLE1BQU0sUUFBUSxZQUFZLFNBQVMsZUFBZUEsRUFBQyxDQUFDO0FBQUEsZUFDdEQ7QUFDSCxnQkFBSSxFQUFFQSxjQUFhO0FBQ2pCLG9CQUFNLE1BQU0sMkdBQXFHLE9BQU9BLEtBQUksU0FBUztBQUN2SSxpQkFBSyxNQUFNLFFBQVEsWUFBWUEsRUFBQztBQUFBLFVBQ2xDO0FBQ0Esa0JBQVEsS0FBSyxNQUFNLFFBQVEsVUFBVSxPQUFPLEdBQUcsT0FBTyxPQUFPLEtBQUssSUFBSSxTQUFTLENBQUMsR0FBR0UsR0FBRSxXQUFXO0FBQUEsWUFDOUYsS0FBSztBQUNILG1CQUFLLFNBQVNILElBQUdHLEVBQUM7QUFDbEI7QUFBQSxZQUNGLEtBQUs7QUFDSCxtQkFBSyxVQUFVSCxJQUFHRyxFQUFDO0FBQ25CO0FBQUEsWUFDRixLQUFLO0FBQ0gsbUJBQUssV0FBV0gsSUFBR0csRUFBQztBQUNwQjtBQUFBLFlBQ0YsS0FBSztBQUFBLFlBQ0w7QUFDRSxtQkFBSyxZQUFZSCxJQUFHRyxFQUFDO0FBQUEsVUFDekI7QUFDQSxVQUFBQSxNQUFLQSxHQUFFLFFBQVEsS0FBSyxpQkFBaUIsV0FBVyxNQUFNO0FBQ3BELGlCQUFLLE1BQU0sUUFBUSxVQUFVLElBQUksS0FBSyxJQUFJLFlBQVksR0FBRyxLQUFLLFNBQVM7QUFBQSxVQUN6RSxHQUFHQSxHQUFFLEtBQUssS0FBSyxLQUFLLE1BQU0sUUFBUSxVQUFVLElBQUksS0FBSyxJQUFJLFlBQVksR0FBRyxLQUFLLFNBQVM7QUFBQSxRQUN4RjtBQUFBLFFBQ0EsS0FBS0gsS0FBSSxPQUFJO0FBQ1gsY0FBSSxLQUFLLGVBQWUsQ0FBQ0E7QUFDdkIsbUJBQU8sS0FBSyxpQkFBaUIsYUFBYSxLQUFLLGFBQWEsR0FBRyxNQUFNLEtBQUssZ0JBQWdCLFdBQVcsTUFBTTtBQUN6RyxtQkFBSyxLQUFLLElBQUU7QUFBQSxZQUNkLEdBQUcsS0FBSyxXQUFXO0FBQ3JCLGVBQUssTUFBTSxRQUFRLFVBQVUsT0FBTyxLQUFLLElBQUksWUFBWSxHQUFHLEtBQUssU0FBUyxPQUFJLEtBQUssa0JBQWtCLGFBQWEsS0FBSyxjQUFjO0FBQUEsUUFDdkk7QUFBQSxRQUNBLFFBQVFBLElBQUdDLElBQUdDLElBQUc7QUFDZixVQUFBRixHQUFFLGlCQUFpQixjQUFjLE1BQU07QUFDckMsaUJBQUssS0FBS0EsSUFBR0MsSUFBR0MsRUFBQztBQUFBLFVBQ25CLENBQUMsR0FBR0YsR0FBRSxpQkFBaUIsY0FBYyxNQUFNO0FBQ3pDLGlCQUFLLEtBQUs7QUFBQSxVQUNaLENBQUM7QUFBQSxRQUNIO0FBQUEsUUFDQSxVQUFVO0FBQ1IsZUFBSyxNQUFNLFFBQVEsT0FBTyxHQUFHLE9BQU8sb0JBQW9CLFVBQVUsS0FBSyxrQkFBa0I7QUFBQSxRQUMzRjtBQUFBLFFBQ0EsVUFBVTtBQUNSLGVBQUssTUFBTSxVQUFVLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSSxPQUFPLEdBQUcsS0FBSyxNQUFNLFVBQVUsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJLGNBQWMsR0FBRyxLQUFLLE9BQU8sS0FBSyxNQUFNLFNBQVMsS0FBSyxNQUFNLE9BQU8sR0FBRyxLQUFLLE9BQU8sU0FBUyxNQUFNLEtBQUssTUFBTSxPQUFPO0FBQUEsUUFDN047QUFBQSxRQUNBLGFBQWE7QUFDWCxnQkFBTUEsS0FBSTtBQUNWLGNBQUksU0FBUyxlQUFlQSxFQUFDO0FBQzNCO0FBQ0YsZ0JBQU1DLEtBQUksRUFBRSxDQUFDLEdBQUdDLEtBQUksS0FBSyxLQUFLLFNBQVMsTUFBTSxFQUFFLGFBQWFELEdBQUUsU0FBUyxHQUFHLElBQUlELEdBQUUsQ0FBQztBQUNqRixlQUFLLFFBQVEsU0FBUyxNQUFNRSxFQUFDO0FBQUEsUUFDL0I7QUFBQSxRQUNBLFlBQVlGLElBQUdDLElBQUc7QUFDaEIsZ0JBQU1DLEtBQUlGLEdBQUUsc0JBQXNCLEdBQUdHLEtBQUlELEdBQUUsT0FBT0YsR0FBRSxjQUFjLElBQUksS0FBSyxNQUFNLFFBQVEsY0FBYyxHQUFHUyxLQUFJUCxHQUFFLFNBQVMsT0FBTyxjQUFjLEtBQUssWUFBWUQsR0FBRTtBQUNqSyxlQUFLLGVBQWUsVUFBVUUsSUFBR00sRUFBQztBQUFBLFFBQ3BDO0FBQUEsUUFDQSxTQUFTVCxJQUFHQyxJQUFHO0FBQ2IsZ0JBQU1DLEtBQUlGLEdBQUUsc0JBQXNCLEdBQUdHLEtBQUlELEdBQUUsT0FBT0YsR0FBRSxjQUFjLElBQUksS0FBSyxNQUFNLFFBQVEsY0FBYyxHQUFHUyxLQUFJUCxHQUFFLE1BQU0sT0FBTyxjQUFjLEtBQUssTUFBTSxRQUFRLGVBQWUsS0FBSztBQUNsTCxlQUFLLGVBQWUsT0FBT0MsSUFBR00sRUFBQztBQUFBLFFBQ2pDO0FBQUEsUUFDQSxVQUFVVCxJQUFHQyxJQUFHO0FBQ2QsZ0JBQU1DLEtBQUlGLEdBQUUsc0JBQXNCLEdBQUdHLEtBQUlELEdBQUUsT0FBTyxLQUFLLE1BQU0sUUFBUSxjQUFjLEtBQUssYUFBYUQsR0FBRSxZQUFZUSxLQUFJUCxHQUFFLE1BQU0sT0FBTyxjQUFjRixHQUFFLGVBQWUsSUFBSSxLQUFLLE1BQU0sUUFBUSxlQUFlO0FBQzNNLGVBQUssZUFBZSxRQUFRRyxJQUFHTSxFQUFDO0FBQUEsUUFDbEM7QUFBQSxRQUNBLFdBQVdULElBQUdDLElBQUc7QUFDZixnQkFBTUMsS0FBSUYsR0FBRSxzQkFBc0IsR0FBR0csS0FBSUQsR0FBRSxRQUFRLEtBQUssY0FBY0QsR0FBRSxhQUFhUSxLQUFJUCxHQUFFLE1BQU0sT0FBTyxjQUFjRixHQUFFLGVBQWUsSUFBSSxLQUFLLE1BQU0sUUFBUSxlQUFlO0FBQzdLLGVBQUssZUFBZSxTQUFTRyxJQUFHTSxFQUFDO0FBQUEsUUFDbkM7QUFBQSxRQUNBLGVBQWVULElBQUdDLElBQUdDLElBQUc7QUFDdEIsZUFBSyxNQUFNLFFBQVEsVUFBVSxJQUFJLEtBQUssSUFBSSxVQUFVRixFQUFDLENBQUMsR0FBRyxLQUFLLE1BQU0sUUFBUSxNQUFNLE9BQU9DLEtBQUksTUFBTSxLQUFLLE1BQU0sUUFBUSxNQUFNLE1BQU1DLEtBQUk7QUFBQSxRQUN4STtBQUFBLFFBQ0EsS0FBS0YsSUFBR0MsS0FBSSxNQUFNQyxLQUFJLENBQUMsR0FBRztBQUN4QixnQkFBTUMsS0FBSSxTQUFTLGNBQWNILEVBQUM7QUFDbEMsZ0JBQU0sUUFBUUMsRUFBQyxJQUFJRSxHQUFFLFVBQVUsSUFBSSxHQUFHRixFQUFDLElBQUlBLE1BQUtFLEdBQUUsVUFBVSxJQUFJRixFQUFDO0FBQ2pFLHFCQUFXUSxNQUFLUDtBQUNkLFlBQUFBLEdBQUUsZUFBZU8sRUFBQyxNQUFNTixHQUFFTSxFQUFDLElBQUlQLEdBQUVPLEVBQUM7QUFDcEMsaUJBQU9OO0FBQUEsUUFDVDtBQUFBLFFBQ0EsT0FBT0gsSUFBR0MsSUFBRztBQUNYLGdCQUFNLFFBQVFBLEVBQUMsSUFBSUEsR0FBRSxRQUFRLENBQUNDLE9BQU1GLEdBQUUsWUFBWUUsRUFBQyxDQUFDLElBQUlGLEdBQUUsWUFBWUMsRUFBQztBQUFBLFFBQ3pFO0FBQUEsUUFDQSxRQUFRRCxJQUFHQyxJQUFHO0FBQ1osZ0JBQU0sUUFBUUEsRUFBQyxLQUFLQSxLQUFJQSxHQUFFLFFBQVEsR0FBRyxRQUFRLENBQUNDLE9BQU1GLEdBQUUsUUFBUUUsRUFBQyxDQUFDLElBQUlGLEdBQUUsUUFBUUMsRUFBQztBQUFBLFFBQ2pGO0FBQUEsTUFDRjtBQUFBLElBQ0YsR0FBRyxTQUFTLEdBQUdKLElBQUc7QUFDaEIsUUFBRSxVQUFVO0FBQUEsSUFDZCxDQUFDLENBQUMsRUFBRTtBQUFBLEVBQ04sQ0FBQztBQUNILEdBQUcsRUFBRTtBQUNMLElBQUksS0FBSyxHQUFHO0FBQ1osSUFBTSxLQUFxQixtQkFBRyxFQUFFO0FBQ2hDLElBQUksSUFBSTtBQUNSLFNBQVMsS0FBSztBQUNaLFFBQU0sSUFBSSxJQUFJLEdBQUc7QUFDbkI7QUFDQSxTQUFTLEdBQUdELElBQUcsR0FBRyxHQUFHO0FBQ25CLEtBQUcsR0FBRyxLQUFLLFFBQVEsRUFBRSxLQUFLQSxJQUFHLEdBQUcsQ0FBQztBQUNuQztBQUNBLFNBQVMsR0FBR0EsS0FBSSxPQUFJO0FBQ2xCLEtBQUcsR0FBRyxLQUFLLFFBQVEsRUFBRSxLQUFLQSxFQUFDO0FBQzdCO0FBQ0EsU0FBUyxHQUFHQSxJQUFHLEdBQUcsR0FBRztBQUNuQixLQUFHLEdBQUcsS0FBSyxRQUFRLEVBQUUsUUFBUUEsSUFBRyxHQUFHLENBQUM7QUFDdEM7QUFDQSxTQUFTLEtBQUs7QUFDWixPQUFLLFFBQVEsRUFBRSxRQUFRLEdBQUcsSUFBSTtBQUNoQztBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPakIsWUFBWSxFQUFFLFFBQVEsR0FBRyxrQkFBa0IsRUFBRSxHQUFHO0FBQzlDLFVBQU07QUFBQSxNQUNKLFFBQVE7QUFBQSxNQUNSLGtCQUFrQjtBQUFBLElBQ3BCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFVBQVU7QUFDWixXQUFPO0FBQUEsTUFDTCxNQUFNLENBQUMsR0FBRyxHQUFHQyxPQUFNLEtBQUssS0FBSyxHQUFHLEdBQUdBLEVBQUM7QUFBQSxNQUNwQyxNQUFNLE1BQU0sS0FBSyxLQUFLO0FBQUEsTUFDdEIsU0FBUyxDQUFDLEdBQUcsR0FBR0EsT0FBTSxLQUFLLFFBQVEsR0FBRyxHQUFHQSxFQUFDO0FBQUEsSUFDNUM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLEtBQUssR0FBRyxHQUFHQSxJQUFHO0FBQ1osT0FBRyxHQUFHLEdBQUdBLEVBQUM7QUFBQSxFQUNaO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsT0FBRztBQUFBLEVBQ0w7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsUUFBUSxHQUFHLEdBQUdBLElBQUc7QUFDZixPQUFHLEdBQUcsR0FBR0EsRUFBQztBQUFBLEVBQ1o7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJakIsSUFBSSxVQUFVO0FBQ1osV0FBTztBQUFBLE1BQ0wsT0FBTyxLQUFLO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFJZDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksY0FBYztBQUNoQixXQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFJTCxTQUFTLEtBQUssT0FBTyxHQUFHLE1BQU07QUFBQTtBQUFBO0FBQUE7QUFBQSxNQUk5QixVQUFVLEtBQUssT0FBTyxHQUFHLE1BQU07QUFBQSxJQUNqQztBQUFBLEVBQ0Y7QUFDRjtBQUNBLFNBQVMsR0FBR0QsSUFBRyxHQUFHO0FBQ2hCLFFBQU0sSUFBSSxDQUFDO0FBQ1gsU0FBTyxPQUFPLFFBQVFBLEVBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQ0MsSUFBRyxDQUFDLE1BQU07QUFDM0MsUUFBSSxFQUFFLENBQUMsR0FBRztBQUNSLFlBQU1DLEtBQUksSUFBSSxHQUFHLENBQUMsSUFBSUQsRUFBQyxLQUFLQTtBQUM1QixhQUFPLE9BQU8sQ0FBQyxFQUFFLE1BQU0sQ0FBQ0csT0FBTSxFQUFFQSxFQUFDLENBQUMsSUFBSSxFQUFFSCxFQUFDLElBQUlDLEtBQUksRUFBRUQsRUFBQyxJQUFJLEdBQUcsR0FBR0MsRUFBQztBQUMvRDtBQUFBLElBQ0Y7QUFDQSxNQUFFRCxFQUFDLElBQUk7QUFBQSxFQUNULENBQUMsR0FBRztBQUNOO0FBQ0EsSUFBTSxJQUFJLEdBQUcsRUFBRTtBQUNmLFNBQVMsR0FBR0QsSUFBRyxHQUFHO0FBQ2hCLFFBQU0sSUFBSSxDQUFDO0FBQ1gsU0FBTyxPQUFPLEtBQUtBLEVBQUMsRUFBRSxRQUFRLENBQUNDLE9BQU07QUFDbkMsVUFBTSxJQUFJLEVBQUVBLEVBQUM7QUFDYixVQUFNLFNBQVMsRUFBRSxDQUFDLElBQUlELEdBQUVDLEVBQUMsSUFBSSxFQUFFQSxFQUFDLElBQUlELEdBQUVDLEVBQUM7QUFBQSxFQUN6QyxDQUFDLEdBQUc7QUFDTjtBQUNBLElBQU0sS0FBSyxNQUFNLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS2xCLFlBQVksR0FBRyxHQUFHO0FBQ2hCLFNBQUssU0FBUyxJQUFJLEtBQUssUUFBUSxDQUFDLEdBQUcsS0FBSyxRQUFRLEtBQUssQ0FBQyxHQUFHLEtBQUssa0JBQWtCO0FBQUEsRUFDbEY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGNBQWM7QUFDaEIsV0FBTyxLQUFLLFdBQVcsS0FBSyxPQUFPLEtBQUssTUFBTSxLQUFLLE1BQU07QUFBQSxFQUMzRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFVBQVUsR0FBRztBQUNYLFFBQUksS0FBSyxNQUFNLFVBQVUsS0FBSyxPQUFPLEtBQUssV0FBVyxHQUFHLEtBQUssU0FBUyxHQUFHLEtBQUssTUFBTSxLQUFLLE1BQU0sRUFBRSxVQUFVLElBQUksS0FBSyxlQUFlO0FBQUEsRUFDckk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTLEdBQUc7QUFDVixTQUFLLFFBQVE7QUFBQSxFQUNmO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsU0FBSyxTQUFTLEtBQUssd0JBQXdCLEdBQUcsV0FBVyxLQUFLO0FBQUEsRUFDaEU7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFdBQVc7QUFDVCxTQUFLLFNBQVMsS0FBSyx3QkFBd0IsR0FBRyxXQUFXLElBQUk7QUFBQSxFQUMvRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFNBQUssV0FBVyxPQUFPLEtBQUssTUFBTSxLQUFLLE1BQU0sRUFBRSxVQUFVLE9BQU8sS0FBSyxlQUFlLEdBQUcsS0FBSyxTQUFTO0FBQUEsRUFDdkc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLHdCQUF3QixHQUFHO0FBQ3pCLFFBQUksS0FBSyxNQUFNLFdBQVc7QUFDeEIsYUFBTyxLQUFLO0FBQ2QsUUFBSSxJQUFJLEtBQUs7QUFDYixXQUFPLE1BQU0sS0FBSyxJQUFJLE1BQU0sR0FBRyxXQUFXLFFBQVEsS0FBSyxJQUFJLEtBQUssTUFBTSxDQUFDLEVBQUUsVUFBVSxPQUFPLEtBQUssZUFBZSxHQUFHLE1BQU0sR0FBRyxXQUFXLFFBQVEsS0FBSyxJQUFJLEtBQUssS0FBSyxNQUFNLFNBQVMsS0FBSyxLQUFLLE1BQU0sU0FBUyxJQUFJLEtBQUssS0FBSyxNQUFNLFFBQVEsRUFBRSxZQUFZLEtBQUssTUFBTSxDQUFDLENBQUMsS0FBSyxHQUFHLE1BQU0sRUFBRSxVQUFVLEtBQUssTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsR0FBRyxLQUFLLE1BQU0sQ0FBQyxFQUFFLFVBQVUsSUFBSSxLQUFLLGVBQWUsR0FBRztBQUFBLEVBQ3JXO0FBQ0Y7QUFDQSxHQUFHLGFBQWE7QUFBQSxFQUNkLE9BQU87QUFBQSxFQUNQLE1BQU07QUFDUjtBQUNBLElBQUksS0FBSztBQUNULElBQU0sS0FBTixNQUFNLElBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlQLFlBQVksR0FBRztBQUNiLFNBQUssV0FBVyxNQUFNLEtBQUssWUFBWSxPQUFJLEtBQUssZ0JBQWdCLENBQUMsR0FBRyxLQUFLLFlBQVksQ0FBQyxNQUFNO0FBQzFGLFVBQUksS0FBSyx3QkFBd0IsQ0FBQztBQUNoQyxnQkFBUSxJQUFHLFNBQVMsU0FBUyxFQUFFLE9BQU8sS0FBSyxFQUFFLGVBQWUsR0FBRyxFQUFFLFNBQVM7QUFBQSxVQUN4RSxLQUFLLEVBQUU7QUFDTCxpQkFBSyxlQUFlLENBQUM7QUFDckI7QUFBQSxVQUNGLEtBQUssRUFBRTtBQUFBLFVBQ1AsS0FBSyxFQUFFO0FBQ0wsaUJBQUssU0FBUztBQUNkO0FBQUEsVUFDRixLQUFLLEVBQUU7QUFBQSxVQUNQLEtBQUssRUFBRTtBQUNMLGlCQUFLLFVBQVU7QUFDZjtBQUFBLFVBQ0YsS0FBSyxFQUFFO0FBQ0wsaUJBQUssaUJBQWlCLENBQUM7QUFDdkI7QUFBQSxRQUNKO0FBQUEsSUFDSixHQUFHLEtBQUssV0FBVyxJQUFJLEdBQUcsRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxtQkFBbUIsRUFBRSxrQkFBa0IsS0FBSyxjQUFjLEVBQUUsZUFBZSxJQUFHO0FBQUEsRUFDN0k7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksY0FBYztBQUNoQixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLFdBQVc7QUFDcEIsV0FBTztBQUFBLE1BQ0wsRUFBRTtBQUFBLE1BQ0YsRUFBRTtBQUFBLE1BQ0YsRUFBRTtBQUFBLE1BQ0YsRUFBRTtBQUFBLE1BQ0YsRUFBRTtBQUFBLE1BQ0YsRUFBRTtBQUFBLElBQ0o7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxTQUFTLEdBQUcsR0FBRztBQUNiLFNBQUssWUFBWSxNQUFJLEtBQUssS0FBSyxTQUFTLFNBQVMsQ0FBQyxHQUFHLE1BQU0sVUFBVSxLQUFLLFNBQVMsVUFBVSxDQUFDLEdBQUcsU0FBUyxpQkFBaUIsV0FBVyxLQUFLLFdBQVcsSUFBRTtBQUFBLEVBQzFKO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxhQUFhO0FBQ1gsU0FBSyxZQUFZLE9BQUksS0FBSyxXQUFXLEdBQUcsU0FBUyxvQkFBb0IsV0FBVyxLQUFLLFNBQVM7QUFBQSxFQUNoRztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFNBQUssV0FBVyxHQUFHLEtBQUssVUFBVTtBQUFBLEVBQ3BDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXO0FBQ1QsU0FBSyxTQUFTLFNBQVMsR0FBRyxLQUFLLGFBQWE7QUFBQSxFQUM5QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsWUFBWTtBQUNWLFNBQUssU0FBUyxLQUFLLEdBQUcsS0FBSyxhQUFhO0FBQUEsRUFDMUM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFdBQVc7QUFDVCxXQUFPLENBQUMsQ0FBQyxLQUFLLFNBQVM7QUFBQSxFQUN6QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU8sR0FBRztBQUNSLFNBQUssY0FBYyxLQUFLLENBQUM7QUFBQSxFQUMzQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGFBQWEsR0FBRztBQUNkLFNBQUssZ0JBQWdCLEtBQUssY0FBYyxPQUFPLENBQUMsTUFBTSxNQUFNLENBQUM7QUFBQSxFQUMvRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGFBQWE7QUFDWCxTQUFLLFNBQVMsV0FBVztBQUFBLEVBQzNCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLHdCQUF3QixHQUFHO0FBQ3pCLFdBQU8sS0FBSyxhQUFhLEtBQUssWUFBWSxTQUFTLEVBQUUsT0FBTztBQUFBLEVBQzlEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZUFBZSxHQUFHO0FBQ2hCLFlBQVEsRUFBRSxXQUFXLEdBQUcsV0FBVyxPQUFPLEdBQUcsV0FBVyxPQUFPO0FBQUEsTUFDN0QsS0FBSyxHQUFHLFdBQVc7QUFDakIsYUFBSyxVQUFVO0FBQ2Y7QUFBQSxNQUNGLEtBQUssR0FBRyxXQUFXO0FBQ2pCLGFBQUssU0FBUztBQUNkO0FBQUEsSUFDSjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxpQkFBaUIsR0FBRztBQUNsQixTQUFLLGNBQWMsS0FBSyxTQUFTLGdCQUFnQixFQUFFLGdCQUFnQixHQUFHLEVBQUUsZUFBZSxHQUFHLEtBQUssU0FBUyxZQUFZLE1BQU0sSUFBSSxFQUFFLEtBQUssZ0JBQWdCLEtBQUssS0FBSyxpQkFBaUIsS0FBSyxTQUFTLFdBQVc7QUFBQSxFQUMzTTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZUFBZTtBQUNiLFNBQUssU0FBUyxlQUFlLEtBQUssU0FBUyxZQUFZLHVCQUF1QixHQUFHLEtBQUssY0FBYyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7QUFBQSxFQUN4SDtBQUNGO0FBQ0EsSUFBTSxLQUFLO0FBQVgsSUFBOFcsS0FBSztBQUFuWCxJQUFpbkIsS0FBSztBQUF0bkIsSUFBNDNCLEtBQUs7QUFBajRCLElBQTZvQyxLQUFLO0FBQWxwQyxJQUFnNUMsS0FBSztBQUFyNUMsSUFBb25ELEtBQUs7QUFBem5ELElBQXd5RCxLQUFLO0FBQTd5RCxJQUE0bEUsS0FBSztBQUFqbUUsSUFBd3ZGLEtBQUs7QUFBN3ZGLElBQW01RyxLQUFLO0FBQXg1RyxJQUE2bUgsS0FBSztBQUFsbkgsSUFBcTdILEtBQUs7QUFBMTdILElBQTh0SSxLQUFLO0FBQW51SSxJQUE0d0ssS0FBSztBQUFqeEssSUFBK29MLEtBQUs7QUFBcHBMLElBQTBwTCxLQUFLO0FBQy9wTCxTQUFTLEdBQUdELElBQUc7QUFDYixTQUFPLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQ0EsSUFBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUU7QUFDckY7QUFDQSxJQUFNLEtBQUssR0FBRyxTQUFTO0FBQXZCLElBQTBCLEtBQUs7QUFBQSxFQUM3QixNQUFNLEdBQUc7QUFBQSxFQUNULGNBQWMsR0FBRyxNQUFNLFlBQVk7QUFBQSxFQUNuQyxlQUFlLEdBQUcsTUFBTSxjQUFjO0FBQUEsRUFDdEMsT0FBTyxHQUFHLE9BQU87QUFBQSxFQUNqQixhQUFhLEdBQUcsYUFBYTtBQUMvQjtBQUNBLElBQU0sS0FBTixNQUFTO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVAsWUFBWSxHQUFHO0FBQ2IsU0FBSyxRQUFRO0FBQUEsTUFDWCxNQUFNLEVBQUUsS0FBSyxPQUFPLENBQUMsR0FBRyxNQUFNLEVBQUUsY0FBYyxXQUFXLEdBQUcsZ0JBQWdCLEdBQUcsWUFBWSxDQUFDO0FBQUEsTUFDNUYsT0FBTyxFQUFFLEtBQUssT0FBTyxHQUFHLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxDQUFDO0FBQUEsSUFDekQsR0FBRyxLQUFLLE1BQU0sS0FBSyxZQUFZLEtBQUssTUFBTSxLQUFLLEdBQUcsRUFBRSxnQkFBZ0IsV0FBVyxLQUFLLE1BQU0sY0FBYyxFQUFFLEtBQUssT0FBTyxHQUFHLGFBQWEsRUFBRSxhQUFhLEVBQUUsWUFBWSxDQUFDLEdBQUcsS0FBSyxNQUFNLEtBQUssWUFBWSxLQUFLLE1BQU0sV0FBVztBQUFBLEVBQzNOO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxhQUFhO0FBQ1gsV0FBTyxLQUFLLE1BQU07QUFBQSxFQUNwQjtBQUNGO0FBQ0EsSUFBTSxLQUFOLE1BQVM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUCxZQUFZLEdBQUc7QUFDYixTQUFLLFNBQVM7QUFBQSxFQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxPQUFPO0FBQ1QsUUFBSSxLQUFLLFdBQVcsVUFBVSxVQUFVLEtBQUs7QUFDM0MsYUFBTyxLQUFLLE9BQU87QUFBQSxFQUN2QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsVUFBVTtBQUNSLE9BQUc7QUFBQSxFQUNMO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxpQkFBaUI7QUFDZixRQUFJO0FBQ0osU0FBSyxXQUFXLFVBQVUsY0FBYyxLQUFLLFVBQVUsU0FBUyxJQUFJLEtBQUssT0FBTyxhQUFhLE9BQU8sU0FBUyxFQUFFLFdBQVcsY0FBYyxLQUFLLE9BQU8sU0FBUyxPQUFPO0FBQUEsRUFDdEs7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGtCQUFrQjtBQUNoQixRQUFJO0FBQ0osU0FBSyxXQUFXLFVBQVUsY0FBYyxLQUFLLFVBQVUsU0FBUyxJQUFJLEtBQUssT0FBTyxhQUFhLE9BQU8sU0FBUyxFQUFFLFlBQVksY0FBYyxLQUFLLE9BQU8sU0FBUyxRQUFRO0FBQUEsRUFDeEs7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGNBQWM7QUFDWixRQUFJLEdBQUc7QUFDUCxTQUFLLFdBQVcsVUFBVSxnQkFBZ0IsS0FBSyxZQUFZLEtBQUssSUFBSSxLQUFLLFFBQVEsZUFBZSxRQUFRLEVBQUUsS0FBSyxHQUFHLEtBQUssTUFBTTtBQUFBLEVBQy9IO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxRQUFRLEdBQUcsR0FBRztBQUNaLFVBQU1DLEtBQUksSUFBSSxHQUFHLENBQUM7QUFDbEIsT0FBRyxHQUFHQSxHQUFFLFdBQVcsR0FBRztBQUFBLE1BQ3BCLFdBQVcsRUFBRTtBQUFBLE1BQ2IsYUFBYTtBQUFBLElBQ2YsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksV0FBVztBQUNiLFFBQUk7QUFDSixXQUFPLEtBQUssV0FBVyxVQUFVLGNBQWMsS0FBSyxZQUFZLElBQUksS0FBSyxPQUFPLGFBQWEsT0FBTyxTQUFTLEVBQUUsV0FBVyxTQUFTLEtBQUssT0FBTyxTQUFTLFFBQVEsQ0FBQztBQUFBLEVBQ25LO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGNBQWM7QUFDaEIsV0FBTyxLQUFLLFNBQVMsU0FBUztBQUFBLEVBQ2hDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGlCQUFpQjtBQUNuQixRQUFJO0FBQ0osV0FBTyxLQUFLLFdBQVcsVUFBVSxjQUFjLEtBQUssWUFBWSxJQUFJLEtBQUssT0FBTyxhQUFhLE9BQU8sU0FBUyxFQUFFLFlBQVk7QUFBQSxFQUM3SDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxzQkFBc0I7QUFDeEIsUUFBSTtBQUNKLFdBQU8sRUFBRSxLQUFLLFdBQVcsVUFBVSxFQUFFLGNBQWMsS0FBSyxhQUFhLElBQUksS0FBSyxPQUFPLGFBQWEsT0FBTyxTQUFTLEVBQUUsaUJBQWlCO0FBQUEsRUFDdkk7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksdUJBQXVCO0FBQ3pCLFFBQUk7QUFDSixXQUFPLEtBQUssV0FBVyxVQUFVLGNBQWMsS0FBSyxZQUFZLElBQUksS0FBSyxPQUFPLGFBQWEsT0FBTyxTQUFTLEVBQUUsZ0JBQWdCO0FBQUEsRUFDakk7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksa0JBQWtCO0FBQ3BCLFdBQU8sS0FBSyxXQUFXLFVBQVUscUJBQXFCLEtBQUssVUFBVSxLQUFLLE9BQU87QUFBQSxFQUNuRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxXQUFXO0FBQ2IsV0FBTyxLQUFLLFdBQVcsVUFBVSxFQUFFLGNBQWMsS0FBSyxVQUFVLFFBQUssT0FBTyxLQUFLLE9BQU8sWUFBWSxhQUFhLEtBQUssT0FBTyxTQUFTLElBQUksS0FBSyxPQUFPLGFBQWE7QUFBQSxFQUNySztBQUNGO0FBQ0EsSUFBTSxJQUFJLEdBQUcsaUJBQWlCO0FBQTlCLElBQWlDLElBQUk7QUFBQSxFQUNuQyxXQUFXLEVBQUU7QUFBQSxFQUNiLFFBQVEsRUFBRSxNQUFNLFFBQVE7QUFBQSxFQUN4QixVQUFVLEVBQUUsTUFBTSxVQUFVO0FBQUEsRUFDNUIsU0FBUyxFQUFFLE1BQU0sU0FBUztBQUFBLEVBQzFCLFFBQVEsRUFBRSxNQUFNLFFBQVE7QUFBQSxFQUN4QixtQkFBbUIsRUFBRSxNQUFNLGNBQWM7QUFBQSxFQUN6QyxTQUFTLEVBQUUsTUFBTSxVQUFVO0FBQUEsRUFDM0IsU0FBUyxFQUFFLE1BQU0sVUFBVTtBQUFBLEVBQzNCLE9BQU8sRUFBRSxPQUFPO0FBQUEsRUFDaEIsZ0JBQWdCLEVBQUUsaUJBQWlCO0FBQUEsRUFDbkMsTUFBTSxFQUFFLE1BQU07QUFBQSxFQUNkLFVBQVUsRUFBRSxRQUFRLE1BQU07QUFBQSxFQUMxQixrQkFBa0IsRUFBRSxRQUFRLGVBQWU7QUFBQSxFQUMzQyxpQkFBaUIsR0FBRyxRQUFRLEVBQUU7QUFDaEM7QUFDQSxJQUFNLEtBQU4sY0FBaUIsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRbEIsWUFBWSxHQUFHLEdBQUc7QUFDaEIsVUFBTSxDQUFDLEdBQUcsS0FBSyxTQUFTLEdBQUcsS0FBSyxRQUFRO0FBQUEsTUFDdEMsTUFBTTtBQUFBLE1BQ04sTUFBTTtBQUFBLElBQ1IsR0FBRyxLQUFLLG9CQUFvQixNQUFNLEtBQUssNkJBQTZCLE1BQU07QUFDeEUsVUFBSUE7QUFDSixPQUFDQSxLQUFJLEtBQUssTUFBTSxTQUFTLFFBQVFBLEdBQUUsVUFBVSxPQUFPLEVBQUUsT0FBTztBQUFBLElBQy9ELEdBQUcsS0FBSyw2QkFBNkIsTUFBTTtBQUN6QyxVQUFJQTtBQUNKLE9BQUNBLEtBQUksS0FBSyxNQUFNLFNBQVMsUUFBUUEsR0FBRSxVQUFVLE9BQU8sRUFBRSxPQUFPO0FBQUEsSUFDL0QsR0FBRyxLQUFLLHNCQUFzQixNQUFNO0FBQ2xDLFVBQUlBLElBQUc7QUFDUCxPQUFDQSxLQUFJLEtBQUssTUFBTSxTQUFTLFFBQVFBLEdBQUUsVUFBVSxPQUFPLEVBQUUsZUFBZSxJQUFJLElBQUksS0FBSyxNQUFNLFNBQVMsUUFBUSxFQUFFLG9CQUFvQixnQkFBZ0IsS0FBSyxtQkFBbUI7QUFBQSxJQUN6SyxHQUFHLEtBQUssTUFBTSxPQUFPLEtBQUssS0FBSyxHQUFHLENBQUM7QUFBQSxFQUNyQztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxhQUFhO0FBQ2YsV0FBTyxLQUFLLE9BQU8sZUFBZTtBQUFBLEVBQ3BDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFNBQVM7QUFDWCxXQUFPLEtBQUssT0FBTztBQUFBLEVBQ3JCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFFBQVE7QUFDVixXQUFPLEtBQUssT0FBTztBQUFBLEVBQ3JCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLDZCQUE2QjtBQUMvQixXQUFPLEtBQUssc0JBQXNCO0FBQUEsRUFDcEM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksWUFBWTtBQUNkLFdBQU8sS0FBSyxNQUFNLFNBQVMsT0FBTyxRQUFLLEtBQUssTUFBTSxLQUFLLFVBQVUsU0FBUyxFQUFFLE9BQU87QUFBQSxFQUNyRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFdBQU8sS0FBSyxNQUFNO0FBQUEsRUFDcEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGNBQWM7QUFDWixRQUFJLEtBQUssOEJBQThCLEtBQUssc0JBQXNCLE1BQU07QUFDdEUsV0FBSyxpQ0FBaUMsS0FBSyxpQkFBaUI7QUFDNUQ7QUFBQSxJQUNGO0FBQ0EsU0FBSyxpQ0FBaUMsS0FBSyxNQUFNO0FBQUEsRUFDbkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxhQUFhLEdBQUc7QUFDZCxRQUFJO0FBQ0osS0FBQyxJQUFJLEtBQUssTUFBTSxTQUFTLFFBQVEsRUFBRSxVQUFVLE9BQU8sRUFBRSxRQUFRLENBQUM7QUFBQSxFQUNqRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGFBQWEsR0FBRztBQUNkLFFBQUk7QUFDSixLQUFDLElBQUksS0FBSyxNQUFNLFNBQVMsUUFBUSxFQUFFLFVBQVUsT0FBTyxFQUFFLFFBQVEsQ0FBQztBQUFBLEVBQ2pFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxRQUFRO0FBQ04sU0FBSyw4QkFBOEIsS0FBSyx3QkFBd0I7QUFBQSxFQUNsRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsVUFBVTtBQUNSLFNBQUssb0NBQW9DO0FBQUEsRUFDM0M7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLEtBQUssR0FBRyxHQUFHO0FBQ1QsUUFBSUMsSUFBR0M7QUFDUCxVQUFNRixNQUFLLEtBQUssT0FBTyxTQUFTLEVBQUUsZUFBZSxPQUFPLElBQUksRUFBRSxLQUFLQSxJQUFHLEVBQUUsV0FBVztBQUFBLE1BQ2pGLE1BQU1BLE9BQU0sV0FBVyxXQUFXO0FBQUEsSUFDcEMsQ0FBQztBQUNELFdBQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxXQUFXLEVBQUUsT0FBTyxLQUFLLE1BQU0sT0FBTyxFQUFFLEtBQUssT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsR0FBRztBQUFBLE1BQ3BHLFdBQVcsRUFBRSxRQUFRO0FBQUEsSUFDdkIsQ0FBQyxHQUFHLEVBQUUsWUFBWSxLQUFLLE1BQU0sSUFBSSxHQUFHLEVBQUUsVUFBVSxVQUFVLEVBQUUsWUFBWSxFQUFFLEtBQUssT0FBTyxFQUFFLE9BQU87QUFBQSxNQUM3RixXQUFXLEVBQUUsU0FBUztBQUFBLElBQ3hCLENBQUMsQ0FBQyxHQUFHLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFLEtBQUssT0FBTyxFQUFFLGdCQUFnQjtBQUFBLE1BQ3JFLGFBQWEsRUFBRTtBQUFBLElBQ2pCLENBQUMsQ0FBQyxHQUFHLEtBQUssZUFBZSxFQUFFLFlBQVksRUFBRSxLQUFLLE9BQU8sQ0FBQyxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsR0FBRztBQUFBLE1BQ2pGLFdBQVc7QUFBQSxJQUNiLENBQUMsQ0FBQyxHQUFHLEtBQUssWUFBWSxFQUFFLFVBQVUsSUFBSSxFQUFFLE1BQU0sR0FBRyxFQUFFLGNBQWMsRUFBRSxVQUFVLElBQUksRUFBRSxRQUFRLEdBQUcsRUFBRSxTQUFTLFlBQVlDLEtBQUksS0FBSyxPQUFPLFNBQVMsRUFBRSxTQUFTLE9BQU8sU0FBU0EsR0FBRSxhQUFhLFNBQU0sS0FBSyxRQUFRLEdBQUc7QUFBQSxNQUM1TSxHQUFHLEVBQUU7QUFBQSxNQUNMLFlBQVlDLEtBQUksS0FBSyxPQUFPLFNBQVMsRUFBRSxTQUFTLE9BQU8sU0FBU0EsR0FBRSxhQUFhO0FBQUEsSUFDakYsQ0FBQyxHQUFHO0FBQUEsRUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLHVCQUF1QixHQUFHO0FBQ3hCLFFBQUksS0FBSyxNQUFNLFNBQVM7QUFDdEI7QUFDRixVQUFNLElBQUk7QUFBQSxNQUNSLEdBQUcsS0FBSztBQUFBLE1BQ1IsR0FBRztBQUFBLE1BQ0gsY0FBYyxrQkFBa0IsSUFBSSxFQUFFLGVBQWU7QUFBQSxJQUN2RCxHQUFHRixLQUFJLEtBQUssS0FBSyxDQUFDO0FBQ2xCLFNBQUssTUFBTSxLQUFLLFlBQVlBLEdBQUUsV0FBVyxLQUFLLE1BQU0sS0FBSyxVQUFVLElBQUksRUFBRSxpQkFBaUIsR0FBRyxLQUFLLG9CQUFvQixHQUFHLEtBQUssbUNBQW1DO0FBQUEsRUFDbks7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLDBCQUEwQjtBQUN4QixRQUFJLEtBQUssTUFBTSxTQUFTO0FBQ3RCO0FBQ0YsVUFBTSxJQUFJLEtBQUssS0FBSyxLQUFLLE1BQU07QUFDL0IsU0FBSyxNQUFNLEtBQUssWUFBWSxFQUFFLFdBQVcsS0FBSyxNQUFNLEtBQUssVUFBVSxPQUFPLEVBQUUsaUJBQWlCLEdBQUcsS0FBSyxvQkFBb0IsTUFBTSxLQUFLLG9DQUFvQztBQUFBLEVBQzFLO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLHFDQUFxQztBQUNuQyxRQUFJLEdBQUcsR0FBR0E7QUFDVixLQUFDLElBQUksS0FBSyxNQUFNLFNBQVMsUUFBUSxFQUFFLFVBQVUsSUFBSSxFQUFFLE9BQU8sSUFBSSxJQUFJLEtBQUssTUFBTSxTQUFTLFFBQVEsRUFBRSxVQUFVLElBQUksRUFBRSxPQUFPLElBQUlBLEtBQUksS0FBSyxNQUFNLFNBQVMsUUFBUUEsR0FBRSxpQkFBaUIsY0FBYyxLQUFLLDRCQUE0QixFQUFFLE1BQU0sS0FBRyxDQUFDO0FBQUEsRUFDM087QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHNDQUFzQztBQUNwQyxRQUFJO0FBQ0osU0FBSywyQkFBMkIsR0FBRyxLQUFLLDJCQUEyQixJQUFJLElBQUksS0FBSyxNQUFNLFNBQVMsUUFBUSxFQUFFLG9CQUFvQixjQUFjLEtBQUssMEJBQTBCO0FBQUEsRUFDNUs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxpQ0FBaUMsR0FBRztBQUNsQyxRQUFJO0FBQ0osUUFBSSxFQUFFLGtCQUFrQixNQUFNLEVBQUUsaUJBQWlCO0FBQy9DLFVBQUk7QUFDRixTQUFDLElBQUksRUFBRSxlQUFlLFFBQVEsRUFBRSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssd0JBQXdCO0FBQUEsTUFDM0UsUUFBUTtBQUNOLGFBQUssYUFBYTtBQUFBLE1BQ3BCO0FBQUE7QUFFQSxXQUFLLHVCQUF1QixFQUFFLFlBQVk7QUFBQSxFQUM5QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZUFBZTtBQUNiLFFBQUksR0FBRyxHQUFHQTtBQUNWLEtBQUMsSUFBSSxLQUFLLE1BQU0sU0FBUyxRQUFRLEVBQUUsVUFBVSxTQUFTLEVBQUUsZUFBZSxPQUFPLElBQUksS0FBSyxNQUFNLFNBQVMsUUFBUSxFQUFFLFVBQVUsSUFBSSxFQUFFLGVBQWUsSUFBSUEsS0FBSSxLQUFLLE1BQU0sU0FBUyxRQUFRQSxHQUFFLGlCQUFpQixnQkFBZ0IsS0FBSyxtQkFBbUI7QUFBQSxFQUNoUDtBQUNGO0FBQ0EsSUFBTSxLQUFLLEdBQUcsMkJBQTJCO0FBQXpDLElBQTRDLEtBQUs7QUFBQSxFQUMvQyxXQUFXLEdBQUc7QUFBQSxFQUNkLE1BQU0sR0FBRyxNQUFNO0FBQUEsRUFDZixRQUFRLEdBQUcsTUFBTSxRQUFRO0FBQzNCO0FBQ0EsSUFBTSxLQUFOLGNBQWlCLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlsQixjQUFjO0FBQ1osVUFBTSxHQUFHLEtBQUssUUFBUTtBQUFBLE1BQ3BCLE1BQU0sRUFBRSxLQUFLLE9BQU8sR0FBRyxTQUFTO0FBQUEsTUFDaEMsTUFBTSxFQUFFLEtBQUssT0FBTyxHQUFHLElBQUk7QUFBQSxJQUM3QixHQUFHLEtBQUssTUFBTSxLQUFLLFlBQVksS0FBSyxNQUFNLElBQUk7QUFBQSxFQUNoRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFdBQU8sS0FBSyxNQUFNO0FBQUEsRUFDcEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxhQUFhLEdBQUc7QUFDZCxRQUFJO0FBQ0osS0FBQyxJQUFJLEtBQUssTUFBTSxTQUFTLFFBQVEsRUFBRSxVQUFVLE9BQU8sR0FBRyxRQUFRLENBQUM7QUFBQSxFQUNsRTtBQUNGO0FBQ0EsSUFBSSxJQUFxQixrQkFBQ0QsUUFBT0EsR0FBRSxTQUFTLFVBQVVBLEdBQUUsbUJBQW1CLHNCQUFzQkEsS0FBSSxLQUFLLENBQUMsQ0FBQztBQUM1RyxJQUFNLElBQUksR0FBRyxZQUFZO0FBQXpCLElBQTRCLElBQUk7QUFBQSxFQUM5QixTQUFTLEVBQUU7QUFBQSxFQUNYLGtCQUFrQixFQUFFLFdBQVc7QUFBQSxFQUMvQixnQkFBZ0IsRUFBRSxNQUFNLFVBQVU7QUFBQSxFQUNsQyxpQkFBaUIsRUFBRSxNQUFNLFdBQVc7QUFBQSxFQUNwQyxlQUFlLEVBQUUsTUFBTSxRQUFRO0FBQUEsRUFDL0IsUUFBUSxFQUFFLFFBQVE7QUFBQSxFQUNsQixxQkFBcUIsRUFBRSx1QkFBdUI7QUFBQSxFQUM5Qyw4QkFBOEIsRUFBRSx5QkFBeUIsV0FBVztBQUFBLEVBQ3BFLE9BQU8sRUFBRSxPQUFPO0FBQUEsRUFDaEIsU0FBUyxFQUFFLFNBQVM7QUFBQSxFQUNwQixlQUFlLEVBQUUsV0FBVyxRQUFRO0FBQUEsRUFDcEMsZUFBZSxFQUFFLE1BQU0sUUFBUTtBQUFBLEVBQy9CLHVCQUF1QixDQUFDQSxPQUFNLEVBQUUsTUFBTSxnQkFBZ0JBLEdBQUUsU0FBUyxDQUFDLEVBQUU7QUFBQSxFQUNwRSxlQUFlLEVBQUUsTUFBTSxRQUFRO0FBQUEsRUFDL0IsZUFBZSxFQUFFLFFBQVE7QUFDM0I7QUFDQSxJQUFJLEtBQXNCLGtCQUFDQSxRQUFPQSxHQUFFLGVBQWUsbUJBQW1CQSxHQUFFLGdCQUFnQixvQkFBb0JBLEdBQUUscUJBQXFCLDBCQUEwQkEsR0FBRSxrQkFBa0IsdUJBQXVCQSxHQUFFLGlCQUFpQixzQkFBc0JBLEtBQUksTUFBTSxDQUFDLENBQUM7QUFDN1AsSUFBTSxLQUFLLEdBQUcsc0JBQXNCO0FBQXBDLElBQXVDLEtBQUs7QUFBQSxFQUMxQyxNQUFNLEdBQUc7QUFBQSxFQUNULFFBQVEsR0FBRyxNQUFNLFFBQVE7QUFDM0I7QUFDQSxJQUFNLEtBQU4sY0FBaUIsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRbEIsWUFBWSxHQUFHLEdBQUc7QUFDaEIsUUFBSUMsSUFBRztBQUNQLFVBQU0sQ0FBQyxHQUFHLEtBQUssUUFBUTtBQUFBLE1BQ3JCLE1BQU0sRUFBRSxLQUFLLE9BQU8sR0FBRyxJQUFJO0FBQUEsSUFDN0IsR0FBRyxLQUFLLE1BQU0sS0FBSyxZQUFZLEVBQUUsT0FBTyxHQUFHLEVBQUUsU0FBUyxLQUFLLE1BQU0sS0FBSyxRQUFRLFdBQVcsRUFBRSxPQUFPLEVBQUUsU0FBUyxZQUFZQSxLQUFJLEtBQUssT0FBTyxTQUFTLEVBQUUsU0FBUyxPQUFPLFNBQVNBLEdBQUUsYUFBYSxTQUFNLEtBQUssUUFBUSxLQUFLLE1BQU0sTUFBTTtBQUFBLE1BQzlOLEdBQUcsRUFBRTtBQUFBLE1BQ0wsWUFBWSxJQUFJLEtBQUssT0FBTyxTQUFTLEVBQUUsU0FBUyxPQUFPLFNBQVMsRUFBRSxhQUFhO0FBQUEsSUFDakYsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGFBQWE7QUFDWCxXQUFPLEtBQUssTUFBTTtBQUFBLEVBQ3BCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsYUFBYSxHQUFHO0FBQ2QsUUFBSTtBQUNKLEtBQUMsSUFBSSxLQUFLLE1BQU0sU0FBUyxRQUFRLEVBQUUsVUFBVSxPQUFPLEdBQUcsUUFBUSxDQUFDO0FBQUEsRUFDbEU7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGNBQWM7QUFDWixVQUFNLElBQUksS0FBSyxNQUFNLEtBQUs7QUFBQSxNQUN4QixXQUFXLEVBQUUsaUJBQWlCO0FBQUEsSUFDaEM7QUFDQSxXQUFPLE1BQU0sS0FBSyxDQUFDO0FBQUEsRUFDckI7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixHQUFHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFsQixZQUFZLEdBQUcsSUFBSSxDQUFDLEdBQUc7QUFDckIsVUFBTSxHQUFHLEtBQUssU0FBUyxHQUFHLEtBQUssb0JBQW9CLEdBQUcsS0FBSyxZQUFZLElBQUksR0FBRyxHQUFHLEtBQUssV0FBVztBQUFBLE1BQy9GLGNBQWM7QUFBQSxNQUNkLFFBQVE7QUFBQSxJQUNWLEdBQUcsS0FBSyxRQUFRLEtBQUssV0FBVyxFQUFFLEtBQUssR0FBRyxFQUFFLGFBQWEsS0FBSyxXQUFXO0FBQUEsTUFDdkUsR0FBRyxLQUFLO0FBQUEsTUFDUixHQUFHLEVBQUU7QUFBQSxJQUNQLElBQUksS0FBSyxRQUFRLENBQUMsR0FBRyxLQUFLLE1BQU0sbUJBQW1CLEVBQUUsS0FBSyxPQUFPLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxHQUFHLEtBQUssTUFBTSxzQkFBc0IsRUFBRSxLQUFLLE9BQU8sQ0FBQyxFQUFFLG1CQUFtQixHQUFHO0FBQUEsTUFDOUosYUFBYSxLQUFLLFNBQVM7QUFBQSxJQUM3QixDQUFDLEdBQUcsS0FBSyxNQUFNLGlCQUFpQixZQUFZLEtBQUssTUFBTSxtQkFBbUIsR0FBRyxLQUFLLE1BQU0sUUFBUSxFQUFFLEtBQUssT0FBTyxDQUFDLEVBQUUsS0FBSyxDQUFDLEdBQUcsS0FBSyxNQUFNLFFBQVEsQ0FBQ0EsT0FBTTtBQUNsSixZQUFNLElBQUlBLEdBQUUsV0FBVztBQUN2QixZQUFNLFFBQVEsS0FBSyxNQUFNLE1BQU0sWUFBWSxDQUFDO0FBQUEsSUFDOUMsQ0FBQyxHQUFHLEtBQUssTUFBTSxpQkFBaUIsWUFBWSxLQUFLLE1BQU0sS0FBSyxHQUFHLEtBQUssVUFBVSxHQUFHLEtBQUssTUFBTSxrQkFBa0IsU0FBUyxDQUFDQSxPQUFNLEtBQUssWUFBWUEsRUFBQyxDQUFDLEdBQUcsS0FBSyxNQUFNLFVBQVUsRUFBRSxLQUFLLE9BQU87QUFBQSxNQUNyTCxFQUFFO0FBQUEsTUFDRixLQUFLLE9BQU87QUFBQSxJQUNkLENBQUMsR0FBRyxLQUFLLE1BQU0sUUFBUSxZQUFZLEtBQUssTUFBTSxnQkFBZ0I7QUFBQSxFQUNoRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxlQUFlO0FBQ2pCLFdBQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQyxNQUFNLGFBQWEsRUFBRTtBQUFBLEVBQ2pEO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxhQUFhO0FBQ1gsV0FBTyxLQUFLLE1BQU07QUFBQSxFQUNwQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsT0FBTztBQUNMLFNBQUssTUFBTSxRQUFRLFVBQVUsSUFBSSxFQUFFLGFBQWEsR0FBRyxLQUFLLFdBQVcsVUFBVSxLQUFLLE9BQU8sTUFBTTtBQUFBLEVBQ2pHO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsU0FBSyxNQUFNLFFBQVEsVUFBVSxPQUFPLEVBQUUsYUFBYSxHQUFHLEtBQUssTUFBTSxRQUFRLFVBQVUsT0FBTyxFQUFFLGNBQWMsR0FBRyxLQUFLLGFBQWEsUUFBUSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsR0FBRyxLQUFLLFdBQVcsVUFBVSxLQUFLLE9BQU8sTUFBTSxHQUFHLEtBQUssS0FBSyxFQUFFLE1BQU07QUFBQSxFQUM3TjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsVUFBVTtBQUNSLFFBQUk7QUFDSixTQUFLLE1BQU0sUUFBUSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsR0FBRyxLQUFLLE1BQU0sUUFBUSxPQUFPLEdBQUcsS0FBSyxVQUFVLFVBQVUsSUFBSSxJQUFJLEtBQUssV0FBVyxRQUFRLEVBQUUsUUFBUTtBQUFBLEVBQzFJO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsbUJBQW1CLEdBQUc7QUFDcEIsVUFBTSxJQUFJLEtBQUssTUFBTSxLQUFLLENBQUNBLE9BQU1BLEdBQUUsU0FBUyxDQUFDO0FBQzdDLFNBQUssZ0JBQWdCLENBQUM7QUFBQSxFQUN4QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsR0FBRztBQUNaLFdBQU8sRUFBRSxJQUFJLENBQUMsTUFBTTtBQUNsQixjQUFRLEVBQUUsTUFBTTtBQUFBLFFBQ2QsS0FBSyxFQUFFO0FBQ0wsaUJBQU8sSUFBSSxHQUFHO0FBQUEsUUFDaEIsS0FBSyxFQUFFO0FBQ0wsaUJBQU8sSUFBSSxHQUFHLEdBQUcsS0FBSyxrQkFBa0IsRUFBRSxJQUFJLENBQUM7QUFBQSxRQUNqRDtBQUNFLGlCQUFPLElBQUksR0FBRyxHQUFHLEtBQUssa0JBQWtCLEVBQUUsT0FBTyxDQUFDO0FBQUEsTUFDdEQ7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsY0FBYyxHQUFHO0FBQ2YsV0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDLE1BQU0sYUFBYSxNQUFNLGFBQWEsRUFBRSxFQUFFLEtBQUssQ0FBQyxNQUFNO0FBQzlFLFlBQU1BLEtBQUksRUFBRSxXQUFXO0FBQ3ZCLGFBQU9BLE9BQU0sT0FBTyxRQUFLLEVBQUUsYUFBYSxFQUFFLFNBQVNBLEVBQUM7QUFBQSxJQUN0RCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGdCQUFnQixHQUFHO0FBQ2pCLFFBQUksRUFBRSxnQkFBZ0IsS0FBSyxFQUFFLGFBQWE7QUFDeEMsVUFBSSxFQUFFLGFBQWE7QUFDakIsYUFBSyxnQkFBZ0IsQ0FBQyxHQUFHLGlCQUFpQixLQUFLLE9BQU8sRUFBRSxlQUFlLGNBQWMsRUFBRSxZQUFZO0FBQ25HO0FBQUEsTUFDRjtBQUNBLFdBQUssYUFBYSxPQUFPLENBQUMsTUFBTSxNQUFNLENBQUMsRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxHQUFHLGlCQUFpQixLQUFLLE9BQU8sRUFBRSxlQUFlLGNBQWMsRUFBRSxZQUFZLEdBQUcsS0FBSyw2QkFBNkIsQ0FBQyxHQUFHLEVBQUUsb0JBQW9CLEtBQUssS0FBSyxHQUFHLEtBQUssS0FBSyxFQUFFLGdCQUFnQjtBQUFBLElBQ3hQO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFlBQVksR0FBRztBQUNiLFVBQU0sSUFBSSxLQUFLLGNBQWMsQ0FBQztBQUM5QixVQUFNLFVBQVUsS0FBSyxnQkFBZ0IsQ0FBQztBQUFBLEVBQ3hDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsNkJBQTZCLEdBQUc7QUFDOUIsUUFBSSxhQUFhLE9BQU8sRUFBRSxXQUFXLFFBQU0sRUFBRSxhQUFhLEdBQUcsT0FBTyxFQUFFLFVBQVUsV0FBVztBQUN6RixZQUFNLElBQUksS0FBSyxhQUFhLE9BQU8sQ0FBQ0EsT0FBTUEsR0FBRSxXQUFXLEVBQUUsTUFBTTtBQUMvRCxVQUFJLEVBQUUsV0FBVyxHQUFHO0FBQ2xCLFVBQUUsYUFBYTtBQUNmO0FBQUEsTUFDRjtBQUNBLFFBQUUsUUFBUSxDQUFDQSxPQUFNO0FBQ2YsUUFBQUEsR0FBRSxhQUFhQSxPQUFNLENBQUM7QUFBQSxNQUN4QixDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Y7QUFDRjtBQUNBLElBQUksS0FBc0Isa0JBQUNELFFBQU9BLEdBQUUsU0FBUyxVQUFVQSxLQUFJLE1BQU0sQ0FBQyxDQUFDO0FBQ25FLElBQU0sS0FBSyxHQUFHLGtCQUFrQjtBQUFoQyxJQUFtQyxLQUFLO0FBQUEsRUFDdEMsU0FBUyxHQUFHO0FBQUEsRUFDWixNQUFNLEdBQUcsTUFBTTtBQUFBLEVBQ2YsT0FBTyxHQUFHLE9BQU87QUFDbkI7QUFDQSxJQUFNLEtBQU4sY0FBaUIsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1sQixZQUFZLEVBQUUsT0FBTyxHQUFHLGFBQWEsRUFBRSxHQUFHO0FBQ3hDLFVBQU0sR0FBRyxLQUFLLFlBQVksSUFBSSxHQUFHLEdBQUcsS0FBSyxRQUFRLEdBQUcsS0FBSyxVQUFVLEVBQUUsS0FBSyxPQUFPLEdBQUcsT0FBTztBQUMzRixVQUFNQyxLQUFJLEVBQUUsS0FBSyxPQUFPLEdBQUcsTUFBTTtBQUFBLE1BQy9CLFdBQVc7QUFBQSxJQUNiLENBQUM7QUFDRCxTQUFLLFFBQVEsRUFBRSxLQUFLLFNBQVMsR0FBRyxPQUFPO0FBQUEsTUFDckMsYUFBYTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQU1iLFVBQVU7QUFBQSxJQUNaLENBQUMsR0FBRyxLQUFLLFFBQVEsWUFBWUEsRUFBQyxHQUFHLEtBQUssUUFBUSxZQUFZLEtBQUssS0FBSyxHQUFHLEtBQUssVUFBVSxHQUFHLEtBQUssT0FBTyxTQUFTLE1BQU07QUFDbEgsV0FBSyxjQUFjLEtBQUssTUFBTSxPQUFPLEtBQUssS0FBSyxHQUFHLFFBQVE7QUFBQSxRQUN4RCxPQUFPLEtBQUs7QUFBQSxRQUNaLE9BQU8sS0FBSztBQUFBLE1BQ2QsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGFBQWE7QUFDWCxXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxRQUFRO0FBQ04sU0FBSyxNQUFNLE1BQU07QUFBQSxFQUNuQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsUUFBUTtBQUNOLFNBQUssTUFBTSxRQUFRLElBQUksS0FBSyxjQUFjLElBQUksS0FBSyxLQUFLLEdBQUcsUUFBUTtBQUFBLE1BQ2pFLE9BQU87QUFBQSxNQUNQLE9BQU8sS0FBSztBQUFBLElBQ2QsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixTQUFLLFVBQVUsVUFBVTtBQUFBLEVBQzNCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGFBQWE7QUFDZixXQUFPLEtBQUssTUFBTSxPQUFPLENBQUMsTUFBTSxLQUFLLFVBQVUsQ0FBQyxDQUFDO0FBQUEsRUFDbkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVLEdBQUc7QUFDWCxRQUFJLEdBQUdDO0FBQ1AsVUFBTSxNQUFNLElBQUksRUFBRSxVQUFVLE9BQU8sU0FBUyxFQUFFLFlBQVksTUFBTSxJQUFJRCxNQUFLQyxLQUFJLEtBQUssZ0JBQWdCLE9BQU8sU0FBU0EsR0FBRSxZQUFZO0FBQ2hJLFdBQU9ELE9BQU0sU0FBUyxFQUFFLFNBQVNBLEVBQUMsSUFBSTtBQUFBLEVBQ3hDO0FBQ0Y7QUFDQSxJQUFJLEtBQUssT0FBTztBQUFoQixJQUFnQyxLQUFLLE9BQU87QUFBNUMsSUFBc0UsS0FBSyxDQUFDRCxJQUFHLEdBQUcsR0FBR0MsT0FBTTtBQUN6RixXQUFTLElBQUlBLEtBQUksSUFBSSxTQUFTQSxLQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksR0FBR0MsS0FBSUYsR0FBRSxTQUFTLEdBQUdHLElBQUdELE1BQUssR0FBR0E7QUFDM0UsS0FBQ0MsS0FBSUgsR0FBRUUsRUFBQyxPQUFPLEtBQUtELEtBQUlFLEdBQUUsR0FBRyxHQUFHLENBQUMsSUFBSUEsR0FBRSxDQUFDLE1BQU07QUFDaEQsU0FBT0YsTUFBSyxLQUFLLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRztBQUNoQztBQUNBLElBQU0sS0FBSyxNQUFNLFdBQVcsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRN0IsWUFBWSxHQUFHLEdBQUc7QUFDaEIsVUFBTSxHQUFHLENBQUMsR0FBRyxLQUFLLGVBQWUsR0FBRyxLQUFLLDJCQUEyQixNQUFNLEtBQUssd0JBQXdCLE1BQU0sS0FBSyxlQUFlLFNBQVMsTUFBTSxLQUFLLE9BQU8sTUFBTTtBQUNoSyxVQUFJQTtBQUNKLFlBQU0sS0FBSyxHQUFHLEtBQUssNkJBQTZCLElBQUlBLEtBQUksS0FBSyxZQUFZLFFBQVFBLEdBQUUsV0FBVyxHQUFHLEtBQUssd0JBQXdCO0FBQUEsSUFDaEksR0FBRyxLQUFLLFNBQVMsTUFBTTtBQUNyQixZQUFNQSxLQUFJLEtBQUssYUFBYSxLQUFLLENBQUMsTUFBTSxFQUFFLFNBQVM7QUFDbkQsTUFBQUEsTUFBSyxRQUFRQSxHQUFFLFFBQVE7QUFBQSxJQUN6QixHQUFHLEtBQUssV0FBVyxDQUFDQSxPQUFNO0FBQ3hCLFVBQUlHO0FBQ0osWUFBTSxJQUFJSCxHQUFFLFVBQVUsSUFBSUMsS0FBSUQsR0FBRSxNQUFNLFdBQVc7QUFDakQsV0FBSyxNQUFNLFFBQVEsQ0FBQ0ksT0FBTTtBQUN4QixZQUFJQyxLQUFJO0FBQ1IsUUFBQUQsY0FBYSxLQUFLQyxLQUFJLENBQUNMLEdBQUUsTUFBTSxTQUFTSSxFQUFDLEtBQUtBLGNBQWEsTUFBTUEsY0FBYSxRQUFRQyxLQUFJSixNQUFLLENBQUMsSUFBSUcsR0FBRSxhQUFhQyxFQUFDO0FBQUEsTUFDdEgsQ0FBQyxHQUFHLEtBQUssMEJBQTBCSixFQUFDO0FBQ3BDLFlBQU1DLEtBQUlGLEdBQUUsVUFBVSxLQUFLLEtBQUssb0JBQW9CQSxHQUFFLE1BQU0sSUFBSSxDQUFDSSxPQUFNQSxHQUFFLFdBQVcsQ0FBQztBQUNyRixPQUFDRCxLQUFJLEtBQUssWUFBWSxRQUFRQSxHQUFFLGdCQUFnQixLQUFLLFFBQVEsV0FBVyxHQUFHLEtBQUssUUFBUSxTQUFTRCxFQUFDO0FBQUEsSUFDcEcsR0FBRyxFQUFFLGlCQUFpQixXQUFXLEtBQUssZUFBZSxFQUFFLGVBQWUsS0FBSyxlQUFlLEtBQUssS0FBSyxNQUFNLFFBQVEsVUFBVSxJQUFJLEVBQUUsYUFBYSxHQUFHLEVBQUUsaUJBQWlCLFdBQVcsS0FBSyxlQUFlLEVBQUUsZUFBZSxLQUFLLE1BQU0scUJBQXFCLFFBQVEsS0FBSyxVQUFVLEdBQUcsS0FBSyxNQUFNLGtCQUFrQixhQUFhLENBQUNGLE9BQU0sS0FBSyxZQUFZQSxFQUFDLENBQUMsR0FBRyxFQUFFLGNBQWMsS0FBSyxVQUFVLEdBQUcsRUFBRSxjQUFjLFVBQU8sS0FBSyxVQUFVLElBQUksR0FBRztBQUFBLE1BQ25hLE9BQU8sS0FBSztBQUFBLE1BQ1osa0JBQWtCLEVBQUU7QUFBQSxNQUNwQixhQUFhO0FBQUEsUUFDWCxFQUFFO0FBQUEsUUFDRixFQUFFO0FBQUEsUUFDRixFQUFFO0FBQUEsUUFDRixFQUFFO0FBQUEsTUFDSjtBQUFBLElBQ0YsQ0FBQyxHQUFHLEtBQUssUUFBUSxPQUFPLEtBQUssTUFBTTtBQUFBLEVBQ3JDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXO0FBQ1QsV0FBTyxLQUFLLFlBQVksU0FBUyxRQUFLLEtBQUssUUFBUSxTQUFTO0FBQUEsRUFDOUQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksWUFBWTtBQUNkLFdBQU8sS0FBSyxNQUFNLFVBQVUsT0FBTyxJQUFJLEtBQUssTUFBTSxNQUFNO0FBQUEsRUFDMUQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksWUFBWTtBQUNkLFdBQU8sS0FBSyxNQUFNLHFCQUFxQixPQUFPLElBQUksS0FBSyxNQUFNLGlCQUFpQjtBQUFBLEVBQ2hGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsUUFBSTtBQUNKLFNBQUssTUFBTSxRQUFRLE1BQU0sWUFBWSxHQUFHLGVBQWUsS0FBSyxLQUFLLFNBQVMsSUFBSSxHQUFHLEtBQUssb0JBQW9CLEtBQUssTUFBTSxRQUFRLFVBQVUsSUFBSSxFQUFFLGNBQWMsR0FBRyxLQUFLLG1CQUFtQixLQUFLLE1BQU0sUUFBUSxVQUFVLElBQUksRUFBRSxlQUFlLEdBQUcsTUFBTSxLQUFLLElBQUksSUFBSSxLQUFLLFlBQVksUUFBUSxFQUFFLFNBQVMsS0FBSyxpQkFBaUI7QUFBQSxFQUMxVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsVUFBVTtBQUNSLFNBQUssS0FBSyxHQUFHLE1BQU0sUUFBUTtBQUFBLEVBQzdCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZ0JBQWdCLEdBQUc7QUFDakIsU0FBSyxrQkFBa0IsUUFBUSxLQUFLLGtCQUFrQixXQUFXLEtBQUssMkJBQTJCLEdBQUcsS0FBSyx5QkFBeUIsQ0FBQztBQUFBLEVBQ3JJO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsWUFBWSxHQUFHO0FBQ2IsVUFBTSxJQUFJLEtBQUssY0FBYyxDQUFDO0FBQzlCLFVBQU0sVUFBVSxLQUFLLDBCQUEwQixNQUFNLEtBQUssNkJBQTZCLEdBQUcsS0FBSyx3QkFBd0IsR0FBRyxFQUFFLGVBQWUsS0FBSyx5QkFBeUIsQ0FBQztBQUFBLEVBQzVLO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLHVCQUF1QixHQUFHLEdBQUc7QUFDM0IsVUFBTUEsS0FBSSxFQUFFLFdBQVcsR0FBRyxLQUFLQSxLQUFJQSxHQUFFLFlBQVksS0FBSyxLQUFLLFdBQVdDLEtBQUksS0FBSyxZQUFZO0FBQzNGLE1BQUUsTUFBTSxZQUFZLEdBQUcsZ0JBQWdCQSxLQUFJLElBQUk7QUFBQSxFQUNqRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsK0JBQStCO0FBQzdCLFFBQUksR0FBRztBQUNQLFNBQUssa0JBQWtCLFVBQVUsS0FBSyxrQkFBa0IsU0FBUyxLQUFLLGNBQWMsSUFBSSxFQUFFLGtCQUFrQixLQUFLLElBQUksR0FBRyxLQUFLLGNBQWMsS0FBSyxHQUFHLEtBQUssY0FBYyxRQUFRLEdBQUcsS0FBSyxjQUFjLFdBQVcsRUFBRSxPQUFPLEdBQUcsS0FBSyxnQkFBZ0IsT0FBTyxJQUFJLEtBQUssWUFBWSxRQUFRLEVBQUUsU0FBUyxLQUFLLGlCQUFpQixJQUFJLElBQUksS0FBSyw2QkFBNkIsUUFBUSxFQUFFLGdCQUFnQjtBQUFBLEVBQzNYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSx5QkFBeUIsR0FBRztBQUMxQixRQUFJRDtBQUNKLFNBQUssZ0JBQWdCLElBQUksR0FBRztBQUFBLE1BQzFCLFlBQVksRUFBRTtBQUFBLE1BQ2QsT0FBTyxFQUFFO0FBQUEsTUFDVCxjQUFjLEtBQUssZUFBZTtBQUFBLE1BQ2xDLFdBQVcsRUFBRTtBQUFBLE1BQ2IsVUFBVSxLQUFLO0FBQUEsSUFDakIsQ0FBQyxHQUFHLEVBQUUsZUFBZSxHQUFHLEtBQUssY0FBYyxHQUFHLEVBQUUsa0JBQWtCLEtBQUssSUFBSTtBQUMzRSxVQUFNLElBQUksS0FBSyxjQUFjLFdBQVc7QUFDeEMsV0FBTyxLQUFLLE1BQU0sUUFBUSxZQUFZLENBQUMsR0FBRyxLQUFLLHVCQUF1QixHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sWUFBWSxHQUFHLGNBQWMsS0FBSyxjQUFjLGFBQWEsU0FBUyxDQUFDLEdBQUcsS0FBSyxjQUFjLEtBQUssSUFBSUEsS0FBSSxLQUFLLFlBQVksUUFBUUEsR0FBRSxXQUFXLEdBQUcsS0FBSztBQUFBLEVBQy9PO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLElBQUksbUJBQW1CO0FBQ3JCLFFBQUksS0FBSyxNQUFNLFlBQVksVUFBVSxLQUFLLE1BQU0sWUFBWTtBQUMxRCxhQUFPO0FBQ1QsVUFBTSxJQUFJLEtBQUssTUFBTSxpQkFBaUIsc0JBQXNCLEdBQUcsSUFBSSxLQUFLLGFBQWEsc0JBQXNCLEdBQUdBLEtBQUksS0FBSyxLQUFLLFFBQVEsSUFBSSxFQUFFLE1BQU1BLElBQUdDLEtBQUksRUFBRSxNQUFNRCxJQUFHRSxLQUFJLEtBQUssSUFBSSxPQUFPLGFBQWEsRUFBRSxNQUFNO0FBQzNNLFdBQU9ELEtBQUksRUFBRSxPQUFPLEtBQUtDO0FBQUEsRUFDM0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsSUFBSSxrQkFBa0I7QUFDcEIsUUFBSSxLQUFLLE1BQU0sWUFBWSxVQUFVLEtBQUssTUFBTSxZQUFZO0FBQzFELGFBQU87QUFDVCxVQUFNLElBQUksS0FBSyxNQUFNLFFBQVEsc0JBQXNCLEdBQUcsSUFBSSxLQUFLLGFBQWEsc0JBQXNCLEdBQUdGLEtBQUksS0FBSyxLQUFLLE9BQU8sSUFBSSxFQUFFLFFBQVFBLElBQUdDLEtBQUksRUFBRSxPQUFPRCxJQUFHRSxLQUFJLEtBQUssSUFBSSxPQUFPLFlBQVksRUFBRSxLQUFLO0FBQ2xNLFdBQU9ELEtBQUksRUFBRSxRQUFRLEtBQUtDO0FBQUEsRUFDNUI7QUFBQSxFQUNBLElBQUksT0FBTztBQUNULFFBQUk7QUFDSixVQUFNLElBQUk7QUFBQSxNQUNSLFFBQVE7QUFBQSxNQUNSLE9BQU87QUFBQSxJQUNUO0FBQ0EsUUFBSSxLQUFLLE1BQU0sWUFBWTtBQUN6QixhQUFPO0FBQ1QsVUFBTSxJQUFJLEtBQUssTUFBTSxRQUFRLFVBQVUsSUFBRTtBQUN6QyxNQUFFLE1BQU0sYUFBYSxVQUFVLEVBQUUsTUFBTSxXQUFXLFlBQVksRUFBRSxNQUFNLE1BQU0sV0FBVyxFQUFFLFVBQVUsSUFBSSxFQUFFLGFBQWEsSUFBSSxJQUFJLEVBQUUsY0FBYyxNQUFNLEVBQUUsYUFBYSxNQUFNLFFBQVEsRUFBRSxPQUFPLEdBQUcsU0FBUyxLQUFLLFlBQVksQ0FBQztBQUN4TixVQUFNRixLQUFJLEVBQUUsY0FBYyxNQUFNLEVBQUUsZ0JBQWdCO0FBQ2xELFdBQU8sRUFBRSxTQUFTQSxHQUFFLGNBQWMsRUFBRSxRQUFRQSxHQUFFLGFBQWEsRUFBRSxPQUFPLEdBQUc7QUFBQSxFQUN6RTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxvQkFBb0I7QUFDdEIsV0FBTyxLQUFLLE1BQU0sSUFBSSxDQUFDLE1BQU07QUFDM0IsVUFBSSxhQUFhO0FBQ2YsZUFBTyxFQUFFLFdBQVc7QUFDdEIsVUFBSSxhQUFhO0FBQ2YsZUFBTyxFQUFFLFlBQVk7QUFBQSxJQUN6QixDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxNQUFNLEtBQUssSUFBSTtBQUFBLEVBQ25DO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxZQUFZO0FBQ1YsU0FBSyxTQUFTLElBQUksR0FBRztBQUFBLE1BQ25CLE9BQU8sS0FBSztBQUFBLE1BQ1osYUFBYSxLQUFLLFNBQVM7QUFBQSxJQUM3QixDQUFDLEdBQUcsS0FBSyxPQUFPLEdBQUcsR0FBRyxRQUFRLEtBQUssUUFBUTtBQUMzQyxVQUFNLElBQUksS0FBSyxPQUFPLFdBQVc7QUFDakMsTUFBRSxVQUFVLElBQUksRUFBRSxNQUFNLEdBQUcsS0FBSyxNQUFNLGlCQUFpQixhQUFhLEdBQUcsS0FBSyxNQUFNLGlCQUFpQixVQUFVO0FBQUEsRUFDL0c7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSwwQkFBMEIsR0FBRztBQUMzQixTQUFLLE1BQU0sb0JBQW9CLFVBQVUsT0FBTyxFQUFFLDhCQUE4QixDQUFDO0FBQUEsRUFDbkY7QUFDRjtBQUNBLEdBQUc7QUFBQSxFQUNEO0FBQ0YsR0FBRyxHQUFHLFdBQVcsUUFBUSxDQUFDO0FBQzFCLElBQUksS0FBSztBQUNULElBQU0sS0FBTixjQUFpQixHQUFHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTWxCLFlBQVksR0FBRztBQUNiLFVBQU0sSUFBSSxDQUFDLEdBQUc7QUFDZDtBQUFBLE1BQ0U7QUFBQSxRQUNFLEdBQUc7QUFBQSxRQUNILE9BQU8sRUFBRTtBQUFBLE1BQ1g7QUFBQSxNQUNBO0FBQUEsUUFDRSxDQUFDLEVBQUUsT0FBTyxHQUFHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBTVgsWUFBWTtBQUFBLFVBQ1osTUFBTTtBQUFBLFlBQ0osVUFBVTtBQUFBLFlBQ1YsV0FBVztBQUFBLFlBQ1gsU0FBUztBQUFBLFVBQ1g7QUFBQSxRQUNGO0FBQUEsUUFDQSxDQUFDLEVBQUUsSUFBSSxHQUFHO0FBQUEsVUFDUixNQUFNO0FBQUEsWUFDSixVQUFVO0FBQUEsWUFDVixXQUFXO0FBQUEsWUFDWCxTQUFTO0FBQUEsVUFDWDtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsSUFDRixHQUFHLEtBQUssTUFBTSxRQUFRLENBQUNBLE9BQU07QUFDM0IsUUFBRUEsY0FBYSxPQUFPLEVBQUVBLGNBQWEsT0FBT0EsR0FBRSxlQUFlQSxHQUFFLGtCQUFrQixLQUFLLGdCQUFnQkEsRUFBQztBQUFBLElBQ3pHLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGFBQWE7QUFDZixXQUFPLEtBQUssTUFBTSxxQkFBcUIsT0FBTyxJQUFJLEtBQUssTUFBTSxpQkFBaUI7QUFBQSxFQUNoRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsT0FBTztBQUNMLFNBQUssaUJBQWlCLEtBQUssS0FBSyxNQUFNLFFBQVEsTUFBTTtBQUFBLE1BQ2xELEdBQUc7QUFBQSxNQUNILEtBQUssS0FBSyxRQUFRO0FBQUEsSUFDcEIsR0FBRyxNQUFNLEtBQUs7QUFBQSxFQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxjQUFjO0FBQUEsRUFDZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSx1QkFBdUIsR0FBRyxHQUFHO0FBQzNCLFVBQU1BLEtBQUksRUFBRSxXQUFXLEdBQUcsSUFBSUEsS0FBSUEsR0FBRSxhQUFhLEdBQUdDLEtBQUksS0FBSyxhQUFhO0FBQzFFLE1BQUUsTUFBTTtBQUFBLE1BQ04sR0FBRztBQUFBLE1BQ0hBLEtBQUk7QUFBQSxJQUNOO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsZ0JBQWdCLEdBQUc7QUFDakIsUUFBSSxLQUFLLDZCQUE2QixHQUFHO0FBQ3ZDLFdBQUssNkJBQTZCLEdBQUcsS0FBSywyQkFBMkI7QUFDckU7QUFBQSxJQUNGO0FBQ0EsVUFBTSxnQkFBZ0IsQ0FBQztBQUFBLEVBQ3pCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSx5QkFBeUIsR0FBRztBQUMxQixVQUFNLElBQUksTUFBTSx5QkFBeUIsQ0FBQztBQUMxQyxXQUFPLEVBQUUsV0FBVyxFQUFFLFVBQVUsSUFBSSxFQUFFLHNCQUFzQixFQUFFLFlBQVksQ0FBQyxHQUFHO0FBQUEsRUFDaEY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGdCQUFnQixHQUFHO0FBQ2pCLFFBQUk7QUFDSixVQUFNLEtBQUssOEJBQThCLElBQUksS0FBSyw2QkFBNkIsUUFBUSxFQUFFLFlBQVksR0FBRyxNQUFNLDZCQUE2QixJQUFJLE1BQU0sZ0JBQWdCLENBQUM7QUFBQSxFQUN4SztBQUNGO0FBQ0EsSUFBTSxLQUFLLE1BQU0sR0FBRztBQUFBLEVBQ2xCLGNBQWM7QUFDWixTQUFLLGlCQUFpQjtBQUFBLEVBQ3hCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsU0FBSyxLQUFLLFNBQVMsSUFBSSxTQUFTLEtBQUssVUFBVSxJQUFJLEdBQUcsSUFBSSxZQUFZO0FBQUEsRUFDeEU7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVM7QUFDUCxTQUFLLEtBQUssV0FBVyxJQUFJLFNBQVMsS0FBSyxVQUFVLE9BQU8sR0FBRyxJQUFJLFlBQVk7QUFBQSxFQUM3RTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsV0FBVztBQUNULFNBQUssaUJBQWlCLE9BQU8sYUFBYSxTQUFTLGdCQUFnQixNQUFNO0FBQUEsTUFDdkU7QUFBQSxNQUNBLEdBQUcsS0FBSyxjQUFjO0FBQUEsSUFDeEIsR0FBRyxTQUFTLEtBQUssVUFBVSxJQUFJLEdBQUcsSUFBSSxnQkFBZ0I7QUFBQSxFQUN4RDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLGFBQVMsS0FBSyxVQUFVLE9BQU8sR0FBRyxJQUFJLGdCQUFnQixHQUFHLEtBQUssbUJBQW1CLFFBQVEsT0FBTyxTQUFTLEdBQUcsS0FBSyxjQUFjLEdBQUcsS0FBSyxpQkFBaUI7QUFBQSxFQUMxSjtBQUNGO0FBQ0EsR0FBRyxNQUFNO0FBQUEsRUFDUCxjQUFjO0FBQUEsRUFDZCxrQkFBa0I7QUFDcEI7QUFDQSxJQUFJLEtBQUs7QUFDVCxJQUFNLEtBQUssR0FBRyxtQkFBbUI7QUFBakMsSUFBb0MsS0FBSztBQUFBLEVBQ3ZDLE1BQU0sR0FBRztBQUFBLEVBQ1QsTUFBTSxHQUFHLE1BQU07QUFBQSxFQUNmLFlBQVksR0FBRyxhQUFhO0FBQzlCO0FBQ0EsSUFBTSxLQUFOLE1BQVM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUCxZQUFZLEVBQUUsTUFBTSxHQUFHLG1CQUFtQixFQUFFLEdBQUc7QUFDN0MsU0FBSyxZQUFZLElBQUksR0FBRyxHQUFHLEtBQUssT0FBTyxHQUFHLEtBQUssb0JBQW9CLEdBQUcsS0FBSyxRQUFRO0FBQUEsTUFDakYsTUFBTSxFQUFFLEtBQUssT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQUEsTUFDN0IsWUFBWSxFQUFFLEtBQUssVUFBVSxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQUEsTUFDNUMsTUFBTSxFQUFFLEtBQUssT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQUEsSUFDL0IsR0FBRyxLQUFLLE1BQU0sV0FBVyxZQUFZLElBQUksS0FBSyxNQUFNLEtBQUssWUFBWSxLQUFLLE1BQU0sVUFBVSxHQUFHLEtBQUssVUFBVSxHQUFHLEtBQUssTUFBTSxZQUFZLFNBQVMsS0FBSyxpQkFBaUIsR0FBRyxLQUFLLE1BQU0sS0FBSyxZQUFZLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxZQUFZLEtBQUssTUFBTSxJQUFJO0FBQUEsRUFDNVA7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGFBQWE7QUFDWCxXQUFPLEtBQUssTUFBTTtBQUFBLEVBQ3BCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxVQUFVO0FBQ1IsU0FBSyxNQUFNLEtBQUssT0FBTyxHQUFHLEtBQUssVUFBVSxRQUFRO0FBQUEsRUFDbkQ7QUFDRjtBQUNBLElBQU0sS0FBTixNQUFTO0FBQUEsRUFDUCxjQUFjO0FBQ1osU0FBSyxVQUFVLENBQUM7QUFBQSxFQUNsQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLEtBQUssR0FBRztBQUNOLFNBQUssUUFBUSxLQUFLLENBQUM7QUFBQSxFQUNyQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsTUFBTTtBQUNKLFdBQU8sS0FBSyxRQUFRLElBQUk7QUFBQSxFQUMxQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxlQUFlO0FBQ2pCLFdBQU8sS0FBSyxRQUFRLFdBQVcsSUFBSSxLQUFLLEtBQUssUUFBUSxLQUFLLFFBQVEsU0FBUyxDQUFDLEVBQUU7QUFBQSxFQUNoRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxlQUFlO0FBQ2pCLFdBQU8sS0FBSyxRQUFRLFdBQVcsSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEtBQUssUUFBUSxTQUFTLENBQUMsRUFBRTtBQUFBLEVBQ2hGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxRQUFRO0FBQ04sV0FBTyxLQUFLLFFBQVEsU0FBUztBQUMzQixXQUFLLElBQUk7QUFBQSxFQUNiO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1sQixZQUFZLEdBQUc7QUFDYixVQUFNLEdBQUc7QUFBQSxNQUNQLENBQUMsRUFBRSxPQUFPLEdBQUc7QUFBQSxRQUNYLE1BQU07QUFBQSxVQUNKLFNBQVM7QUFBQSxRQUNYO0FBQUEsTUFDRjtBQUFBLE1BQ0EsQ0FBQyxFQUFFLElBQUksR0FBRztBQUFBLFFBQ1IsTUFBTTtBQUFBLFVBQ0osU0FBUztBQUFBLFFBQ1g7QUFBQSxNQUNGO0FBQUEsSUFDRixDQUFDLEdBQUcsS0FBSyxlQUFlLElBQUksR0FBRyxHQUFHLEtBQUssVUFBVSxJQUFJLEdBQUcsR0FBRyxLQUFLLFdBQVcsTUFBSSxLQUFLLE1BQU0sVUFBVSxFQUFFLEtBQUssT0FBTyxDQUFDLEVBQUUsU0FBUyxFQUFFLGFBQWEsQ0FBQyxHQUFHLEtBQUssTUFBTSxRQUFRLGFBQWEsS0FBSyxNQUFNLFNBQVMsS0FBSyxNQUFNLFFBQVEsVUFBVSxHQUFHLEtBQUssVUFBVSxHQUFHLEtBQUssTUFBTSxTQUFTLFNBQVMsTUFBTTtBQUN4UixXQUFLLEtBQUs7QUFBQSxJQUNaLENBQUMsR0FBRyxLQUFLLFFBQVEsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUM7QUFBQSxFQUMxQztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsT0FBTztBQUNMLFNBQUssTUFBTSxRQUFRLFVBQVUsT0FBTyxFQUFFLGFBQWEsR0FBRyxNQUFNLEtBQUssR0FBRyxLQUFLLGFBQWEsS0FBSyxHQUFHLEtBQUssV0FBVztBQUFBLEVBQ2hIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsU0FBSyxhQUFhLE1BQU0sS0FBSyxHQUFHLEtBQUssTUFBTSxRQUFRLFVBQVUsSUFBSSxFQUFFLGFBQWEsR0FBRyxLQUFLLGFBQWEsT0FBTyxHQUFHLEtBQUssUUFBUSxNQUFNLEdBQUcsS0FBSyxXQUFXO0FBQUEsRUFDdko7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixVQUFNLFFBQVEsR0FBRyxLQUFLLGFBQWEsT0FBTztBQUFBLEVBQzVDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZ0JBQWdCLEdBQUc7QUFDakIsU0FBSyxxQkFBcUIsRUFBRSxVQUFVLEVBQUUsS0FBSyxHQUFHLEtBQUssUUFBUSxLQUFLO0FBQUEsTUFDaEUsT0FBTyxFQUFFO0FBQUEsTUFDVCxPQUFPLEVBQUU7QUFBQSxJQUNYLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxxQkFBcUIsR0FBRyxHQUFHO0FBQ3pCLFFBQUksS0FBSyxXQUFXLFFBQVEsS0FBSyxXQUFXLFdBQVcsS0FBSyxPQUFPLFFBQVEsR0FBRyxLQUFLLFNBQVMsT0FBTyxNQUFNLFFBQVE7QUFDL0csV0FBSyxTQUFTLElBQUksR0FBRztBQUFBLFFBQ25CLE1BQU07QUFBQSxRQUNOLG1CQUFtQixNQUFNO0FBQ3ZCLGVBQUssUUFBUSxJQUFJLEdBQUcsS0FBSyxxQkFBcUIsS0FBSyxRQUFRLGNBQWMsS0FBSyxRQUFRLFlBQVk7QUFBQSxRQUNwRztBQUFBLE1BQ0YsQ0FBQztBQUNELFlBQU1ELEtBQUksS0FBSyxPQUFPLFdBQVc7QUFDakMsTUFBQUEsT0FBTSxRQUFRLEtBQUssTUFBTSxpQkFBaUIsYUFBYUEsSUFBRyxLQUFLLE1BQU0saUJBQWlCLFVBQVU7QUFBQSxJQUNsRztBQUNBLFNBQUssTUFBTSxRQUFRLENBQUNBLE9BQU07QUFDeEIsVUFBSTtBQUNKLGNBQVEsSUFBSUEsR0FBRSxXQUFXLE1BQU0sT0FBTyxTQUFTLEVBQUUsT0FBTztBQUFBLElBQzFELENBQUMsR0FBRyxLQUFLLFFBQVEsS0FBSyxXQUFXLENBQUMsR0FBRyxLQUFLLE1BQU0sUUFBUSxDQUFDQSxPQUFNO0FBQzdELFVBQUlDO0FBQ0osWUFBTSxJQUFJRCxHQUFFLFdBQVc7QUFDdkIsWUFBTSxVQUFVQyxLQUFJLEtBQUssTUFBTSxVQUFVLFFBQVFBLEdBQUUsWUFBWSxDQUFDO0FBQUEsSUFDbEUsQ0FBQztBQUFBLEVBQ0g7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUEsRUFDakIsY0FBYztBQUNaLFVBQU0sR0FBRyxTQUFTLEdBQUcsS0FBSyxTQUFTLE9BQUksS0FBSyxZQUFZLElBQUksRUFBRSxHQUFHLEtBQUssVUFBVSxNQUFNLEtBQUssUUFBUSxNQUFNO0FBQ3ZHLFdBQUssV0FBVyxLQUFLLFNBQVMsT0FBSSxFQUFFLGNBQWMsS0FBSyxVQUFVLFFBQVEsR0FBRyxLQUFLLFVBQVUsV0FBVyxHQUFHLENBQUMsS0FBSyxPQUFPLG9CQUFvQixnQ0FBZ0MsS0FBSyxPQUFPLGFBQWEsZ0JBQWdCLEtBQUssT0FBTyxlQUFlLGNBQWMsS0FBSyxPQUFPLGFBQWEsWUFBWSxHQUFHLEtBQUssaUJBQWlCLEtBQUssS0FBSyxPQUFPLE1BQU0sR0FBRyxLQUFLLFlBQVksS0FBSyxRQUFRLElBQUksRUFBRSxRQUFRLEtBQUssY0FBYyxHQUFHLEtBQUssUUFBUSxRQUFRLEdBQUcsS0FBSyxRQUFRLFdBQVcsRUFBRSxPQUFPLEdBQUcsS0FBSyxVQUFVO0FBQUEsSUFDbmUsR0FBRyxLQUFLLGlCQUFpQixNQUFNO0FBQzdCLFdBQUssTUFBTTtBQUFBLElBQ2I7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFNBQVM7QUFDWCxXQUFPO0FBQUEsTUFDTCxRQUFRO0FBQUEsTUFDUixRQUFRO0FBQUEsSUFDVjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksTUFBTTtBQUNSLFdBQU87QUFBQSxNQUNMLFVBQVU7QUFBQSxJQUNaO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksVUFBVTtBQUNaLFFBQUk7QUFDSixRQUFJLEtBQUssWUFBWTtBQUNuQixhQUFPLGFBQWEsS0FBSyxXQUFXLElBQUksS0FBSyxZQUFZLE9BQU8sU0FBUyxFQUFFLFVBQVU7QUFBQSxFQUN6RjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU87QUFDTCxTQUFLLE1BQU0sVUFBVSxFQUFFLEtBQUssT0FBTyxDQUFDLEtBQUssSUFBSSxRQUFRLENBQUMsR0FBRyxLQUFLLGlCQUFpQixHQUFHLElBQUksS0FBSyxLQUFLO0FBQUEsRUFDbEc7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixTQUFLLGVBQWUsR0FBRyxLQUFLLFVBQVUsUUFBUSxHQUFHLEtBQUssaUJBQWlCLElBQUksSUFBSSxLQUFLLEtBQUs7QUFBQSxFQUMzRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQU0sS0FBSyxJQUFJLEtBQUssT0FBTyxhQUFhLGNBQWM7QUFDcEQsUUFBSUE7QUFDSixTQUFLLFNBQVMsTUFBSSxLQUFLLFVBQVUsS0FBSyxHQUFHLEtBQUssT0FBTyxlQUFlLFlBQVksQ0FBQyxHQUFHLEtBQUssT0FBTyxlQUFlLFdBQVc7QUFDMUgsVUFBTSxFQUFFLFdBQVcsR0FBRyxhQUFhRCxHQUFFLElBQUksRUFBRSxTQUFTO0FBQ3BELFNBQUssaUJBQWlCLEtBQUssS0FBSyxPQUFPLE1BQU07QUFDN0MsVUFBTSxJQUFJLEdBQUcsSUFBSSxLQUFLO0FBQ3RCLFNBQUssVUFBVSxJQUFJLEVBQUU7QUFBQSxNQUNuQixZQUFZO0FBQUEsTUFDWixPQUFPLE1BQU0sS0FBSyxjQUFjLEdBQUdBLElBQUcsQ0FBQztBQUFBLE1BQ3ZDLGNBQWMsS0FBSyxPQUFPLElBQUksUUFBUSxHQUFHLE1BQU07QUFBQSxNQUMvQyxVQUFVO0FBQUEsUUFDUixjQUFjLEVBQUUsR0FBRyxFQUFFLEdBQUcsU0FBUyxlQUFlO0FBQUEsUUFDaEQsUUFBUSxFQUFFLEdBQUcsRUFBRSxHQUFHLFNBQVMsUUFBUTtBQUFBLE1BQ3JDO0FBQUEsSUFDRixDQUFDLEdBQUcsS0FBSyxRQUFRLEdBQUcsRUFBRSxRQUFRLEtBQUssY0FBYyxJQUFJQyxLQUFJLEtBQUssTUFBTSxZQUFZLFFBQVFBLEdBQUUsT0FBTyxLQUFLLFFBQVEsV0FBVyxDQUFDLEdBQUcsS0FBSyxRQUFRLEtBQUs7QUFBQSxFQUNqSjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFdBQU8sS0FBSyxNQUFNO0FBQUEsRUFDcEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxNQUFNLGNBQWMsR0FBRyxHQUFHRCxJQUFHO0FBQzNCLFVBQU0sSUFBSSxDQUFDO0FBQ1gsSUFBQUEsT0FBTSxVQUFVQSxHQUFFLFNBQVMsTUFBTSxFQUFFLEtBQUssR0FBR0EsRUFBQyxHQUFHLEVBQUUsS0FBSztBQUFBLE1BQ3BELE1BQU0sRUFBRTtBQUFBLElBQ1YsQ0FBQztBQUNELFVBQU1DLEtBQUksTUFBTSxLQUFLLEtBQUssT0FBTyxNQUFNLFdBQVcsT0FBTyxDQUFDLEdBQUdFLE1BQUssTUFBTSxHQUFHLEdBQUdGLEVBQUMsR0FBRyxPQUFPLENBQUNHLElBQUdDLFFBQU9BLEdBQUUsUUFBUSxRQUFRLENBQUNDLE9BQU07QUFDM0gsTUFBQUYsR0FBRSxLQUFLO0FBQUEsUUFDTCxNQUFNRSxHQUFFO0FBQUEsUUFDUixPQUFPLEVBQUUsRUFBRSxFQUFFLFdBQVdBLEdBQUUsS0FBSztBQUFBLFFBQy9CLE1BQU1ELEdBQUU7QUFBQSxRQUNSLGlCQUFpQjtBQUFBLFFBQ2pCLFlBQVksWUFBWTtBQUN0QixnQkFBTSxFQUFFLGNBQWNPLElBQUcsT0FBT0wsSUFBRyxTQUFTQyxHQUFFLElBQUksS0FBSyxRQUFRQyxLQUFJLE1BQU1HLEdBQUUsUUFBUSxHQUFHUCxHQUFFLE1BQU1DLEdBQUUsSUFBSTtBQUNwRyxVQUFBRSxHQUFFLE1BQU0sR0FBR0QsR0FBRSxXQUFXRSxJQUFHRixHQUFFLFVBQVUsR0FBRztBQUFBLFFBQzVDO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSCxDQUFDLEdBQUdILEtBQUksQ0FBQyxDQUFDO0FBQ1YsV0FBT0QsR0FBRSxTQUFTLE1BQU0sRUFBRSxLQUFLO0FBQUEsTUFDN0IsTUFBTTtBQUFBLE1BQ04sTUFBTTtBQUFBLE1BQ04sT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFHLFNBQVMsWUFBWTtBQUFBLE1BQ3RDLFVBQVU7QUFBQSxRQUNSLFlBQVk7QUFBQSxRQUNaLE9BQU9BO0FBQUEsTUFDVDtBQUFBLElBQ0YsQ0FBQyxHQUFHLEVBQUUsS0FBSztBQUFBLE1BQ1QsTUFBTSxFQUFFO0FBQUEsSUFDVixDQUFDLElBQUksRUFBRSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDQyxPQUFNLEtBQUssbUJBQW1CQSxFQUFDLENBQUM7QUFBQSxFQUM1RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLG1CQUFtQixHQUFHO0FBQ3BCLFFBQUksRUFBRSxTQUFTLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRTtBQUN6QyxhQUFPO0FBQ1QsVUFBTSxJQUFJLEdBQUcsR0FBRyxFQUFFLE9BQU8sUUFBUSxDQUFDO0FBQ2xDLFdBQU8sRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEtBQUssbUJBQW1CLEVBQUUsWUFBWSxJQUFJO0FBQUEsRUFDdkY7QUFDRjtBQUNBLElBQUksS0FBSyxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQUEsQ0FRdEIsU0FBU0wsSUFBRyxHQUFHO0FBQ2QsR0FBQyxTQUFTLEdBQUdDLElBQUc7QUFDZCxJQUFBRCxHQUFFLFVBQVVDLEdBQUU7QUFBQSxFQUNoQixHQUFHLFFBQVEsV0FBVztBQUNwQixXQUFPLFNBQVMsR0FBRztBQUNqQixVQUFJQSxLQUFJLENBQUM7QUFDVCxlQUFTLEVBQUVDLElBQUc7QUFDWixZQUFJRCxHQUFFQyxFQUFDO0FBQ0wsaUJBQU9ELEdBQUVDLEVBQUMsRUFBRTtBQUNkLFlBQUlDLEtBQUlGLEdBQUVDLEVBQUMsSUFBSSxFQUFFLEdBQUdBLElBQUcsR0FBRyxPQUFJLFNBQVMsQ0FBQyxFQUFFO0FBQzFDLGVBQU8sRUFBRUEsRUFBQyxFQUFFLEtBQUtDLEdBQUUsU0FBU0EsSUFBR0EsR0FBRSxTQUFTLENBQUMsR0FBR0EsR0FBRSxJQUFJLE1BQUlBLEdBQUU7QUFBQSxNQUM1RDtBQUNBLGFBQU8sRUFBRSxJQUFJLEdBQUcsRUFBRSxJQUFJRixJQUFHLEVBQUUsSUFBSSxTQUFTQyxJQUFHQyxJQUFHQyxJQUFHO0FBQy9DLFVBQUUsRUFBRUYsSUFBR0MsRUFBQyxLQUFLLE9BQU8sZUFBZUQsSUFBR0MsSUFBRyxFQUFFLFlBQVksTUFBSSxLQUFLQyxHQUFFLENBQUM7QUFBQSxNQUNyRSxHQUFHLEVBQUUsSUFBSSxTQUFTRixJQUFHO0FBQ25CLGVBQU8sU0FBUyxPQUFPLE9BQU8sZUFBZSxPQUFPLGVBQWVBLElBQUcsT0FBTyxhQUFhLEVBQUUsT0FBTyxTQUFTLENBQUMsR0FBRyxPQUFPLGVBQWVBLElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQUEsTUFDdEssR0FBRyxFQUFFLElBQUksU0FBU0EsSUFBR0MsSUFBRztBQUN0QixZQUFJLElBQUlBLE9BQU1ELEtBQUksRUFBRUEsRUFBQyxJQUFJLElBQUlDLE1BQUssSUFBSUEsTUFBSyxPQUFPRCxNQUFLLFlBQVlBLE1BQUtBLEdBQUU7QUFDeEUsaUJBQU9BO0FBQ1QsWUFBSUUsS0FBb0IsdUJBQU8sT0FBTyxJQUFJO0FBQzFDLFlBQUksRUFBRSxFQUFFQSxFQUFDLEdBQUcsT0FBTyxlQUFlQSxJQUFHLFdBQVcsRUFBRSxZQUFZLE1BQUksT0FBT0YsR0FBRSxDQUFDLEdBQUcsSUFBSUMsTUFBSyxPQUFPRCxNQUFLO0FBQ2xHLG1CQUFTRyxNQUFLSDtBQUNaLGNBQUUsRUFBRUUsSUFBR0MsSUFBSSxTQUFTQyxJQUFHO0FBQ3JCLHFCQUFPSixHQUFFSSxFQUFDO0FBQUEsWUFDWixFQUFHLEtBQUssTUFBTUQsRUFBQyxDQUFDO0FBQ3BCLGVBQU9EO0FBQUEsTUFDVCxHQUFHLEVBQUUsSUFBSSxTQUFTRixJQUFHO0FBQ25CLFlBQUlDLEtBQUlELE1BQUtBLEdBQUUsYUFBYSxXQUFXO0FBQ3JDLGlCQUFPQSxHQUFFO0FBQUEsUUFDWCxJQUFJLFdBQVc7QUFDYixpQkFBT0E7QUFBQSxRQUNUO0FBQ0EsZUFBTyxFQUFFLEVBQUVDLElBQUcsS0FBS0EsRUFBQyxHQUFHQTtBQUFBLE1BQ3pCLEdBQUcsRUFBRSxJQUFJLFNBQVNELElBQUdDLElBQUc7QUFDdEIsZUFBTyxPQUFPLFVBQVUsZUFBZSxLQUFLRCxJQUFHQyxFQUFDO0FBQUEsTUFDbEQsR0FBRyxFQUFFLElBQUksSUFBSSxFQUFFLEVBQUUsSUFBSSxDQUFDO0FBQUEsSUFDeEIsRUFBRSxDQUFDLFNBQVMsR0FBR0YsSUFBRyxHQUFHO0FBQ25CLGVBQVNDLEdBQUVHLElBQUdDLElBQUc7QUFDZixpQkFBU0MsS0FBSSxHQUFHQSxLQUFJRCxHQUFFLFFBQVFDLE1BQUs7QUFDakMsY0FBSU0sS0FBSVAsR0FBRUMsRUFBQztBQUNYLFVBQUFNLEdBQUUsYUFBYUEsR0FBRSxjQUFjLE9BQUlBLEdBQUUsZUFBZSxNQUFJLFdBQVdBLE9BQU1BLEdBQUUsV0FBVyxPQUFLLE9BQU8sZUFBZVIsSUFBR1EsR0FBRSxLQUFLQSxFQUFDO0FBQUEsUUFDOUg7QUFBQSxNQUNGO0FBQ0EsZUFBU1YsR0FBRUUsSUFBR0MsSUFBR0MsSUFBRztBQUNsQixlQUFPRCxNQUFLSixHQUFFRyxHQUFFLFdBQVdDLEVBQUMsR0FBR0MsTUFBS0wsR0FBRUcsSUFBR0UsRUFBQyxHQUFHRjtBQUFBLE1BQy9DO0FBQ0EsUUFBRSxFQUFFSixFQUFDO0FBQ0wsVUFBSUcsS0FBSSxXQUFXO0FBQ2pCLGlCQUFTQyxHQUFFQyxJQUFHO0FBQ1osY0FBSUMsS0FBSTtBQUNSLFdBQUMsU0FBU00sSUFBR0wsSUFBRztBQUNkLGdCQUFJLEVBQUVLLGNBQWFMO0FBQ2pCLG9CQUFNLElBQUksVUFBVSxtQ0FBbUM7QUFBQSxVQUMzRCxHQUFHLE1BQU1ILEVBQUMsR0FBRyxLQUFLLFdBQVcsQ0FBQyxHQUFHLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPQyxHQUFFLE1BQU0sS0FBSyxrQkFBa0JBLEdBQUUsSUFBSSxHQUFHLEtBQUssVUFBVUEsR0FBRSxJQUFJLEtBQUssV0FBV0EsR0FBRSxVQUFVLEtBQUssa0JBQWtCLFNBQVNPLElBQUc7QUFDdkwsWUFBQU4sR0FBRSxRQUFRTSxFQUFDO0FBQUEsVUFDYixHQUFHLEtBQUssUUFBUSxpQkFBaUIsV0FBVyxLQUFLLGlCQUFpQixLQUFFO0FBQUEsUUFDdEU7QUFDQSxlQUFPVixHQUFFRSxJQUFHLE1BQU0sQ0FBQyxFQUFFLEtBQUsscUJBQXFCLEtBQUssV0FBVztBQUM3RCxpQkFBTyxFQUFFLE9BQU8sQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sV0FBVyxXQUFXLFdBQVcsTUFBTSxHQUFHLEtBQUssQ0FBQyxPQUFPLFFBQVEsRUFBRTtBQUFBLFFBQzNHLEVBQUUsR0FBRyxFQUFFLEtBQUssWUFBWSxLQUFLLFdBQVc7QUFDdEMsaUJBQU8sRUFBRSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxXQUFXLEdBQUcsT0FBTyxJQUFJLFFBQVEsSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLE9BQU8sSUFBSSxNQUFNLElBQUksUUFBUSxJQUFJLFFBQVEsSUFBSSxLQUFLLElBQUk7QUFBQSxRQUNwWCxFQUFFLENBQUMsQ0FBQyxHQUFHRixHQUFFRSxJQUFHLENBQUMsRUFBRSxLQUFLLHFCQUFxQixPQUFPLFNBQVNDLElBQUc7QUFDMUQsVUFBQUEsS0FBSUEsR0FBRSxNQUFNLEdBQUc7QUFDZixtQkFBU0MsS0FBSSxHQUFHQSxLQUFJRCxHQUFFLFFBQVFDLE1BQUs7QUFDakMsWUFBQUQsR0FBRUMsRUFBQyxJQUFJRCxHQUFFQyxFQUFDLEVBQUUsWUFBWTtBQUN4QixnQkFBSU0sS0FBSTtBQUNSLHFCQUFTTCxNQUFLSCxHQUFFO0FBQ2Qsa0JBQUlBLEdBQUUsa0JBQWtCRyxFQUFDLEVBQUUsU0FBU0YsR0FBRUMsRUFBQyxDQUFDLEdBQUc7QUFDekMsZ0JBQUFNLEtBQUksS0FBSyxTQUFTTCxFQUFDLElBQUk7QUFDdkI7QUFBQSxjQUNGO0FBQ0YsWUFBQUssT0FBTSxLQUFLLEtBQUtQLEdBQUVDLEVBQUMsQ0FBQyxJQUFJO0FBQUEsVUFDMUI7QUFDQSxtQkFBU0UsTUFBS0osR0FBRTtBQUNkLGlCQUFLLFNBQVNJLEVBQUMsTUFBTSxLQUFLLFNBQVNBLEVBQUMsSUFBSTtBQUFBLFFBQzVDLEVBQUUsR0FBRyxFQUFFLEtBQUssV0FBVyxPQUFPLFNBQVNILElBQUc7QUFDeEMsY0FBSUMsSUFBR00sS0FBSSxFQUFFLEtBQUtQLEdBQUUsV0FBV0EsR0FBRSxTQUFTLE9BQU9BLEdBQUUsVUFBVSxLQUFLQSxHQUFFLE9BQU8sR0FBR0UsS0FBSTtBQUNsRixlQUFLRCxNQUFLLEtBQUs7QUFDYixpQkFBSyxTQUFTQSxFQUFDLE1BQU1NLEdBQUVOLEVBQUMsTUFBTUMsS0FBSTtBQUNwQyxjQUFJQyxJQUFHQyxLQUFJO0FBQ1gsZUFBS0QsTUFBSyxLQUFLO0FBQ2IsWUFBQUMsS0FBSUEsTUFBS0osR0FBRSxZQUFZRCxHQUFFLFNBQVNJLEVBQUM7QUFDckMsVUFBQUQsTUFBS0UsTUFBSyxLQUFLLFNBQVNKLEVBQUM7QUFBQSxRQUMzQixFQUFFLEdBQUcsRUFBRSxLQUFLLFVBQVUsT0FBTyxXQUFXO0FBQ3RDLGVBQUssUUFBUSxvQkFBb0IsV0FBVyxLQUFLLGVBQWU7QUFBQSxRQUNsRSxFQUFFLENBQUMsQ0FBQyxHQUFHRDtBQUFBLE1BQ1QsRUFBRTtBQUNGLE1BQUFKLEdBQUUsVUFBVUc7QUFBQSxJQUNkLENBQUMsQ0FBQyxFQUFFO0FBQUEsRUFDTixDQUFDO0FBQ0gsR0FBRyxFQUFFO0FBQ0wsSUFBSSxLQUFLLEdBQUc7QUFDWixJQUFNLEtBQXFCLG1CQUFHLEVBQUU7QUFDaEMsSUFBTSxLQUFOLE1BQVM7QUFBQSxFQUNQLGNBQWM7QUFDWixTQUFLLHNCQUFzQyxvQkFBSSxJQUFJO0FBQUEsRUFDckQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLEdBQUc7QUFDTCxRQUFJLEtBQUssYUFBYSxFQUFFLElBQUksRUFBRSxJQUFJO0FBQ2hDLFlBQU07QUFBQSxRQUNKLFlBQVksRUFBRSxJQUFJLDhCQUE4QixFQUFFLEVBQUU7QUFBQSxNQUN0RDtBQUNGLFVBQU1ILEtBQUksSUFBSSxHQUFHO0FBQUEsTUFDZixNQUFNLEVBQUU7QUFBQSxNQUNSLElBQUksRUFBRTtBQUFBLE1BQ04sVUFBVSxFQUFFO0FBQUEsSUFDZCxDQUFDLEdBQUcsSUFBSSxLQUFLLG9CQUFvQixJQUFJLEVBQUUsRUFBRSxLQUFLLENBQUM7QUFDL0MsU0FBSyxvQkFBb0IsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLEdBQUdBLEVBQUMsQ0FBQztBQUFBLEVBQzlDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLEdBQUcsR0FBRztBQUNYLFVBQU1BLEtBQUksS0FBSyxhQUFhLEdBQUcsQ0FBQztBQUNoQyxRQUFJLENBQUNBO0FBQ0g7QUFDRixJQUFBQSxHQUFFLE9BQU87QUFDVCxVQUFNLElBQUksS0FBSyxvQkFBb0IsSUFBSSxDQUFDO0FBQ3hDLFNBQUssb0JBQW9CLElBQUksR0FBRyxFQUFFLE9BQU8sQ0FBQ0MsT0FBTUEsT0FBTUQsRUFBQyxDQUFDO0FBQUEsRUFDMUQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsYUFBYSxHQUFHLEdBQUc7QUFDakIsWUFBUSxLQUFLLG9CQUFvQixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQUEsRUFDOUU7QUFDRjtBQUNBLElBQU0sS0FBSyxJQUFJLEdBQUc7QUFDbEIsSUFBSSxLQUFLLE9BQU87QUFBaEIsSUFBZ0MsS0FBSyxPQUFPO0FBQTVDLElBQXNFLEtBQUssQ0FBQ0QsSUFBRyxHQUFHLEdBQUdDLE9BQU07QUFDekYsV0FBUyxJQUFJQSxLQUFJLElBQUksU0FBU0EsS0FBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEdBQUdDLEtBQUlGLEdBQUUsU0FBUyxHQUFHRyxJQUFHRCxNQUFLLEdBQUdBO0FBQzNFLEtBQUNDLEtBQUlILEdBQUVFLEVBQUMsT0FBTyxLQUFLRCxLQUFJRSxHQUFFLEdBQUcsR0FBRyxDQUFDLElBQUlBLEdBQUUsQ0FBQyxNQUFNO0FBQ2hELFNBQU9GLE1BQUssS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUc7QUFDaEM7QUFKQSxJQUlHLEtBQXNCLGtCQUFDRCxRQUFPQSxHQUFFLFNBQVMsa0JBQWtCQSxHQUFFLFNBQVMsa0JBQWtCQSxHQUFFLGFBQWEsdUJBQXVCQSxLQUFJLE1BQU0sQ0FBQyxDQUFDO0FBQzdJLElBQU0sS0FBSyxNQUFNLFdBQVcsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRN0IsWUFBWSxFQUFFLEtBQUssR0FBRyxPQUFPLEdBQUcsWUFBWUMsR0FBRSxHQUFHO0FBQy9DLFVBQU0sR0FBRyxLQUFLLFNBQVMsT0FBSSxLQUFLLFlBQVksSUFBSSxHQUFHLEdBQUcsS0FBSyxVQUFVLE1BQU0sS0FBSywyQkFBMkIsTUFBTTtBQUMvRyxXQUFLLGVBQWUsR0FBRyxLQUFLLFlBQVk7QUFBQSxJQUMxQyxHQUFHLEtBQUssaUJBQWlCLE1BQU07QUFDN0IsV0FBSyxTQUFTLE9BQUksS0FBSztBQUFBLFFBQ3JCO0FBQUE7QUFBQSxNQUVGO0FBQUEsSUFDRixHQUFHLEtBQUssTUFBTSxHQUFHLEtBQUssUUFBUSxHQUFHLEtBQUssYUFBYUEsSUFBRyxLQUFLLGdCQUFnQixHQUFHLEtBQUssUUFBUTtBQUFBLE1BQ3pGLFNBQVMsRUFBRSxLQUFLLE9BQU8sR0FBRyxJQUFJLE9BQU87QUFBQSxJQUN2QyxHQUFHLEtBQUssWUFBWSxHQUFHLEtBQUssSUFBSSxPQUFPLEdBQUcsSUFBSSxLQUFLLHdCQUF3QjtBQUFBLEVBQzdFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxVQUFVO0FBQ1osV0FBTyxLQUFLLG1CQUFtQixXQUFXO0FBQUEsRUFDNUM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFdBQVcsTUFBTTtBQUNmLFdBQU87QUFBQSxNQUNMLFNBQVM7QUFBQSxJQUNYO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFdBQU8sS0FBSyxNQUFNO0FBQUEsRUFDcEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFdBQVc7QUFDVCxRQUFJLEtBQUssWUFBWTtBQUNuQixhQUFPLGNBQWMsS0FBSyxVQUFVLEtBQUssUUFBUSxTQUFTLElBQUk7QUFBQSxFQUNsRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsVUFBVTtBQUNSLFFBQUk7QUFDSixVQUFNLFFBQVEsR0FBRyxLQUFLLFNBQVMsS0FBSyxNQUFNLFdBQVcsS0FBSyxNQUFNLFFBQVEsT0FBTyxHQUFHLEtBQUssbUJBQW1CLElBQUksSUFBSSxLQUFLLFlBQVksUUFBUSxFQUFFLElBQUksRUFBRSxRQUFRLEtBQUssY0FBYyxHQUFHLEtBQUssVUFBVSxRQUFRLEdBQUcsS0FBSyxJQUFJLE9BQU8sSUFBSSxJQUFJLEtBQUssd0JBQXdCO0FBQUEsRUFDbFE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLG9CQUFvQixHQUFHLEdBQUc7QUFDeEIsU0FBSyxlQUFlLEdBQUcsQ0FBQztBQUFBLEVBQzFCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsUUFBSTtBQUNKLFNBQUssYUFBYSxJQUFJLEtBQUssWUFBWSxRQUFRLEVBQUUsS0FBSyxHQUFHLEtBQUssU0FBUyxNQUFJLEtBQUs7QUFBQSxNQUM5RTtBQUFBO0FBQUEsSUFFRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFFBQVE7QUFDTixRQUFJO0FBQ0osS0FBQyxJQUFJLEtBQUssWUFBWSxRQUFRLEVBQUUsS0FBSyxHQUFHLEtBQUssU0FBUyxPQUFJLEtBQUs7QUFBQSxNQUM3RDtBQUFBO0FBQUEsSUFFRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVM7QUFDUCxTQUFLLFNBQVMsS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGNBQWM7QUFDWixRQUFJO0FBQ0osVUFBTSxJQUFJLEdBQUcsSUFBSSxLQUFLO0FBQ3RCLFNBQUssVUFBVSxJQUFJLEVBQUU7QUFBQSxNQUNuQixjQUFjLEtBQUssSUFBSSxHQUFHLE1BQU07QUFBQSxNQUNoQyxZQUFZO0FBQUEsTUFDWixVQUFVO0FBQUEsUUFDUixjQUFjLEtBQUssV0FBVztBQUFBLFFBQzlCLFFBQVEsS0FBSyxXQUFXO0FBQUEsTUFDMUI7QUFBQSxNQUNBLE9BQU8sS0FBSztBQUFBLElBQ2QsQ0FBQyxHQUFHLEtBQUssUUFBUSxHQUFHLEVBQUUsUUFBUSxLQUFLLGNBQWMsSUFBSSxJQUFJLEtBQUssTUFBTSxZQUFZLFFBQVEsRUFBRSxPQUFPLEtBQUssUUFBUSxXQUFXLENBQUM7QUFBQSxFQUM1SDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsaUJBQWlCO0FBQ2YsU0FBSyxZQUFZLFNBQVMsS0FBSyxRQUFRLEtBQUssR0FBRyxLQUFLLFFBQVEsSUFBSSxFQUFFLFFBQVEsS0FBSyxjQUFjLEdBQUcsS0FBSyxRQUFRLFFBQVEsR0FBRyxLQUFLLFVBQVUsT0FBTyxLQUFLLE1BQU0sWUFBWSxTQUFTLEtBQUssTUFBTSxRQUFRLFlBQVk7QUFBQSxFQUMvTTtBQUFBLEVBQ0EsSUFBSSxxQkFBcUI7QUFDdkIsVUFBTSxJQUFJLENBQUM7QUFDWCxXQUFPLEtBQUssTUFBTSxRQUFRLENBQUMsTUFBTTtBQUMvQixRQUFFLFdBQVcsRUFBRSxLQUFLLENBQUM7QUFBQSxJQUN2QixDQUFDLEdBQUc7QUFBQSxFQUNOO0FBQUEsRUFDQSxJQUFJLDRCQUE0QjtBQUM5QixVQUFNLElBQUksQ0FBQyxHQUFHQSxRQUFPO0FBQUEsTUFDbkIsTUFBTSxFQUFFO0FBQUEsTUFDUixPQUFPLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxTQUFTLEdBQUdBLEdBQUUsSUFBSSxDQUFDO0FBQUEsTUFDN0MsTUFBTUEsR0FBRTtBQUFBLE1BQ1IsWUFBWSxNQUFNO0FBQ2hCLGFBQUssb0JBQW9CQSxHQUFFLE1BQU0sRUFBRSxJQUFJO0FBQUEsTUFDekM7QUFBQSxNQUNBLGdCQUFnQkEsR0FBRSxXQUFXLEdBQUdBLEdBQUUsUUFBUSxJQUFJO0FBQUEsSUFDaEQ7QUFDQSxXQUFPLEtBQUssbUJBQW1CLE9BQU8sQ0FBQyxHQUFHQSxRQUFPLE1BQU0sUUFBUUEsR0FBRSxPQUFPLElBQUlBLEdBQUUsUUFBUSxRQUFRLENBQUMsTUFBTTtBQUNuRyxRQUFFLEtBQUssRUFBRSxHQUFHQSxFQUFDLENBQUM7QUFBQSxJQUNoQixDQUFDLElBQUlBLEdBQUUsWUFBWSxVQUFVLEVBQUUsS0FBSyxFQUFFQSxHQUFFLFNBQVNBLEVBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0FBQUEsRUFDOUQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGtCQUFrQjtBQUNoQixTQUFLLG1CQUFtQixRQUFRLENBQUMsTUFBTTtBQUNyQyxZQUFNLElBQUksRUFBRTtBQUNaLFdBQUssS0FBSyxzQkFBc0IsRUFBRSxNQUFNLENBQUM7QUFBQSxJQUMzQyxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0Esc0JBQXNCLEdBQUcsR0FBRztBQUMxQixPQUFHLElBQUk7QUFBQSxNQUNMLE1BQU07QUFBQSxNQUNOLElBQUksS0FBSyxJQUFJLEdBQUcsTUFBTTtBQUFBLE1BQ3RCLFNBQVMsT0FBT0EsT0FBTTtBQUNwQixRQUFBQSxHQUFFLGVBQWU7QUFDakIsY0FBTSxJQUFJLEtBQUssSUFBSSxPQUFPLHFCQUFxQixHQUFHQyxLQUFJLEtBQUssSUFBSSxPQUFPLGdCQUFnQixDQUFDO0FBQ3ZGLFlBQUlBO0FBQ0YsY0FBSTtBQUNGLGtCQUFNQyxLQUFJLE1BQU0sS0FBSyxJQUFJLE9BQU8sUUFBUUQsR0FBRSxJQUFJLENBQUM7QUFDL0MsaUJBQUssSUFBSSxNQUFNLFdBQVdDLElBQUcsS0FBSztBQUNsQztBQUFBLFVBQ0YsUUFBUTtBQUFBLFVBQ1I7QUFDRixhQUFLLGVBQWUsQ0FBQztBQUFBLE1BQ3ZCO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxxQkFBcUI7QUFDbkIsU0FBSyxtQkFBbUIsUUFBUSxDQUFDLE1BQU07QUFDckMsWUFBTSxJQUFJLEVBQUU7QUFDWixXQUFLLEdBQUcsT0FBTyxLQUFLLElBQUksR0FBRyxNQUFNLFVBQVUsQ0FBQztBQUFBLElBQzlDLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE1BQU0sZUFBZSxHQUFHLEdBQUc7QUFDekIsVUFBTUYsS0FBSSxLQUFLLElBQUksT0FBTyxxQkFBcUIsR0FBRyxJQUFJLEtBQUssSUFBSSxPQUFPLGdCQUFnQkEsRUFBQztBQUN2RixRQUFJLENBQUM7QUFDSDtBQUNGLFVBQU1DLEtBQUksRUFBRSxVQUFVRCxLQUFJQSxLQUFJO0FBQzlCLFFBQUlFO0FBQ0osUUFBSSxHQUFHO0FBQ0wsWUFBTUUsS0FBSSxNQUFNLEtBQUssSUFBSSxPQUFPLGlCQUFpQixDQUFDO0FBQ2xELE1BQUFGLEtBQUksT0FBTyxPQUFPRSxJQUFHLENBQUM7QUFBQSxJQUN4QjtBQUNBLFVBQU1ELEtBQUksS0FBSyxJQUFJLE9BQU87QUFBQSxNQUN4QjtBQUFBLE1BQ0FEO0FBQUEsTUFDQTtBQUFBLE1BQ0FEO0FBQUEsTUFDQTtBQUFBLE1BQ0EsRUFBRTtBQUFBLElBQ0o7QUFDQSxJQUFBRSxHQUFFLEtBQUssRUFBRSxlQUFlLEdBQUcsS0FBSyxJQUFJLE1BQU0sV0FBV0YsRUFBQyxHQUFHLEtBQUssS0FBSyx1QkFBdUI7QUFBQSxNQUN4RixPQUFPRTtBQUFBLElBQ1QsQ0FBQyxHQUFHLEtBQUssSUFBSSxRQUFRLE1BQU07QUFBQSxFQUM3QjtBQUNGO0FBQ0EsR0FBRztBQUFBLEVBQ0Q7QUFDRixHQUFHLEdBQUcsV0FBVyxzQkFBc0IsQ0FBQztBQUN4QyxHQUFHO0FBQUEsRUFDRDtBQUNGLEdBQUcsR0FBRyxXQUFXLDZCQUE2QixDQUFDO0FBQy9DLElBQUksS0FBSztBQUNULElBQU0sS0FBSztBQUNYLGVBQWUsR0FBR0osSUFBRyxHQUFHO0FBQ3RCLFFBQU0sSUFBSSxVQUFVO0FBQ3BCLE1BQUksQ0FBQztBQUNILFdBQU87QUFDVCxNQUFJO0FBQ0YsWUFBUSxNQUFNLEVBQUUsYUFBYSxHQUFHLElBQUlBLEVBQUMsS0FBSztBQUFBLEVBQzVDLFNBQVNDLElBQUc7QUFDVixXQUFPLFFBQVEsTUFBTUEsRUFBQyxHQUFHO0FBQUEsRUFDM0I7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPakIsWUFBWSxFQUFFLFFBQVEsR0FBRyxrQkFBa0IsRUFBRSxHQUFHO0FBQzlDLFVBQU07QUFBQSxNQUNKLFFBQVE7QUFBQSxNQUNSLGtCQUFrQjtBQUFBLElBQ3BCLENBQUMsR0FBRyxLQUFLLGtCQUFrQjtBQUFBLEVBQzdCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxNQUFNO0FBQ1IsV0FBTztBQUFBLE1BQ0wsU0FBUztBQUFBLE1BQ1QsU0FBUztBQUFBLE1BQ1QsU0FBUztBQUFBLE1BQ1QsZUFBZTtBQUFBLE1BQ2YsZUFBZTtBQUFBLE1BQ2YsNkJBQTZCO0FBQUEsTUFDN0IsWUFBWTtBQUFBLE1BQ1osb0JBQW9CO0FBQUEsTUFDcEIsaUJBQWlCO0FBQUEsTUFDakIsdUJBQXVCO0FBQUEsSUFDekI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxTQUFTO0FBQ1gsV0FBTyxLQUFLLE1BQU0sUUFBUSxVQUFVLFNBQVMsS0FBSyxJQUFJLGFBQWE7QUFBQSxFQUNyRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxVQUFVO0FBQ1osUUFBSTtBQUNKLFdBQU87QUFBQSxNQUNMLFNBQVMsSUFBSSxLQUFLLG9CQUFvQixPQUFPLFNBQVMsRUFBRTtBQUFBLE1BQ3hELE9BQU8sTUFBTTtBQUNYLFlBQUk7QUFDSixTQUFDLElBQUksS0FBSyxvQkFBb0IsUUFBUSxFQUFFLE1BQU07QUFBQSxNQUNoRDtBQUFBLE1BQ0EsTUFBTSxNQUFNO0FBQ1YsWUFBSSxLQUFLLG9CQUFvQixNQUFNO0FBQ2pDLFlBQUUsMkRBQTJELE1BQU07QUFDbkU7QUFBQSxRQUNGO0FBQ0EsYUFBSyxPQUFPLGFBQWEsZUFBZSxLQUFLLGNBQWMsS0FBSyxnQkFBZ0IsS0FBSztBQUFBLE1BQ3ZGO0FBQUEsTUFDQSxRQUFRLE1BQU07QUFDWixZQUFJLEtBQUssb0JBQW9CLE1BQU07QUFDakMsWUFBRSw2REFBNkQsTUFBTTtBQUNyRTtBQUFBLFFBQ0Y7QUFDQSxhQUFLLGdCQUFnQixPQUFPO0FBQUEsTUFDOUI7QUFBQSxNQUNBLFVBQVUsTUFBTTtBQUNkLFlBQUk7QUFDSixnQkFBUSxJQUFJLEtBQUssb0JBQW9CLE9BQU8sU0FBUyxFQUFFLFNBQVM7QUFBQSxNQUNsRTtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGVBQWU7QUFDakIsV0FBTztBQUFBLE1BQ0wsTUFBTSxNQUFNO0FBQ1YsYUFBSyxNQUFNLFFBQVEsVUFBVSxPQUFPLEtBQUssSUFBSSxhQUFhO0FBQUEsTUFDNUQ7QUFBQSxNQUNBLE1BQU0sTUFBTTtBQUNWLGFBQUssTUFBTSxRQUFRLFVBQVUsSUFBSSxLQUFLLElBQUksYUFBYTtBQUFBLE1BQ3pEO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksb0JBQW9CO0FBQ3RCLFdBQU87QUFBQSxNQUNMLE1BQU0sTUFBTSxLQUFLLE1BQU0sZ0JBQWdCLFVBQVUsSUFBSSxLQUFLLElBQUkscUJBQXFCO0FBQUEsTUFDbkYsTUFBTSxNQUFNLEtBQUssTUFBTSxnQkFBZ0IsVUFBVSxPQUFPLEtBQUssSUFBSSxxQkFBcUI7QUFBQSxJQUN4RjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxlQUFlLEdBQUc7QUFDaEIsU0FBSyxLQUFLLFFBQVEsR0FBRyxLQUFLLE9BQU8sY0FBYyxRQUFRLEdBQUcsS0FBSyxzQkFBc0IsS0FBSyxPQUFPLG9CQUFvQixNQUFNO0FBQ3pILFdBQUssT0FBTyxHQUFHLEtBQUsscUJBQXFCO0FBQUEsSUFDM0MsR0FBRyxFQUFFLFNBQVMsSUFBSSxDQUFDO0FBQUEsRUFDckI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxZQUFZLElBQUksS0FBSyxPQUFPLGFBQWEsY0FBYztBQUNyRCxRQUFJLEtBQUssb0JBQW9CLE1BQU07QUFDakMsUUFBRSxzRUFBc0UsTUFBTTtBQUM5RTtBQUFBLElBQ0Y7QUFDQSxRQUFJLEtBQUssZ0JBQWdCLFVBQVUsS0FBSyxnQkFBZ0IsTUFBTSxHQUFHLEtBQUssT0FBTyxjQUFjLFVBQVUsS0FBSyxPQUFPLGNBQWMsTUFBTSxHQUFHLENBQUM7QUFDdkk7QUFDRixTQUFLLGVBQWU7QUFDcEIsVUFBTSxJQUFJLEVBQUUsUUFBUSxFQUFFLFVBQVVBLEdBQUUsSUFBSSxLQUFLLE9BQU87QUFDbEQsUUFBSTtBQUNKLFVBQU1DLEtBQUksSUFBSUMsS0FBSSxFQUFFLFlBQVlDLEtBQUksRUFBRSxzQkFBc0IsR0FBR0MsS0FBSUYsT0FBTSxTQUFTQSxHQUFFLHNCQUFzQixJQUFJLE1BQU1HLEtBQUlELE9BQU0sT0FBT0EsR0FBRSxNQUFNRCxHQUFFLE1BQU0sTUFBTUcsS0FBSUQsT0FBTSxPQUFPQSxLQUFJSixLQUFJO0FBQ3BMLFFBQUlEO0FBQ0YsVUFBSSxFQUFFLFlBQVksRUFBRTtBQUFBLGFBQ2JFLE9BQU0sVUFBVUksSUFBRztBQUMxQixZQUFNTSxLQUFJLFNBQVMsT0FBTyxpQkFBaUIsRUFBRSxjQUFjLEVBQUUsVUFBVTtBQUN2RSxVQUFJLEVBQUUsWUFBWUE7QUFBQSxJQUNwQixPQUFPO0FBQ0wsWUFBTUEsS0FBSSxHQUFHVixFQUFDLEdBQUdLLEtBQUksU0FBUyxPQUFPLGlCQUFpQixLQUFLLE1BQU0sVUFBVSxFQUFFLFFBQVEsRUFBRSxHQUFHQyxLQUFJO0FBQzlGLFVBQUksRUFBRSxZQUFZSSxLQUFJTCxLQUFJQyxLQUFJSDtBQUFBLElBQ2hDO0FBQ0EsU0FBSyxNQUFNLFFBQVEsTUFBTSxNQUFNLEdBQUcsS0FBSyxNQUFNLENBQUMsQ0FBQyxNQUFNLEtBQUssT0FBTyxhQUFhLE9BQU8sV0FBVyxLQUFLLEVBQUUsVUFBVSxLQUFLLGtCQUFrQixLQUFLLElBQUksS0FBSyxrQkFBa0IsS0FBSyxHQUFHLEtBQUssS0FBSztBQUFBLEVBQzVMO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxRQUFRO0FBQ04sUUFBSSxHQUFHO0FBQ1AsU0FBSyxPQUFPLFNBQVMsZUFBZSxJQUFJLEtBQUssTUFBTSxZQUFZLFFBQVEsRUFBRSxVQUFVLE9BQU8sS0FBSyxJQUFJLGFBQWEsR0FBRyxLQUFLLGFBQWEsS0FBSyxJQUFJLElBQUksS0FBSyxvQkFBb0IsUUFBUSxFQUFFLE1BQU0sR0FBRyxLQUFLLE9BQU8sY0FBYyxNQUFNLEdBQUcsS0FBSyxNQUFNO0FBQUEsRUFDOU87QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFFBQVE7QUFDTixTQUFLLE1BQU0sUUFBUSxNQUFNLE1BQU07QUFBQSxFQUNqQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsS0FBSyxJQUFJLE1BQUk7QUFDWCxTQUFLLE1BQU0sUUFBUSxVQUFVLElBQUksS0FBSyxJQUFJLGFBQWEsR0FBRyxJQUFJLEtBQUssYUFBYSxLQUFLLElBQUksS0FBSyxhQUFhLEtBQUs7QUFBQSxFQUNsSDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsTUFBTSxPQUFPO0FBQ1gsU0FBSyxNQUFNLFVBQVUsRUFBRSxLQUFLLE9BQU8sS0FBSyxJQUFJLE9BQU8sR0FBRyxDQUFDLFdBQVcsU0FBUyxFQUFFLFFBQVEsQ0FBQ0osT0FBTTtBQUMxRixXQUFLLE1BQU1BLEVBQUMsSUFBSSxFQUFFLEtBQUssT0FBTyxLQUFLLElBQUlBLEVBQUMsQ0FBQztBQUFBLElBQzNDLENBQUMsR0FBRyxFQUFFLE9BQU8sS0FBSyxNQUFNLFNBQVMsS0FBSyxNQUFNLE9BQU8sR0FBRyxFQUFFLE9BQU8sS0FBSyxNQUFNLFNBQVMsS0FBSyxNQUFNLE9BQU8sR0FBRyxLQUFLLE1BQU0sYUFBYSxFQUFFLEtBQUssT0FBTyxLQUFLLElBQUksWUFBWTtBQUFBLE1BQ2pLLFdBQVc7QUFBQSxJQUNiLENBQUMsR0FBRyxFQUFFLE9BQU8sS0FBSyxNQUFNLFNBQVMsS0FBSyxNQUFNLFVBQVUsR0FBRyxLQUFLLHlCQUF5QixHQUFHLEtBQUssTUFBTSxZQUFZLFNBQVMsTUFBTTtBQUM5SCxTQUFHLElBQUUsR0FBRyxLQUFLLGtCQUFrQjtBQUFBLElBQ2pDLEdBQUcsS0FBRTtBQUNMLFVBQU0sSUFBSSxFQUFFLEtBQUssS0FBSztBQUN0QixNQUFFLFlBQVksU0FBUyxlQUFlLEVBQUUsR0FBRyxFQUFFLEdBQUcsUUFBUSxTQUFTLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUUsS0FBSyxPQUFPLEtBQUssSUFBSSxvQkFBb0I7QUFBQSxNQUNsSSxhQUFhO0FBQUEsSUFDZixDQUFDLENBQUMsR0FBRyxHQUFHLEtBQUssTUFBTSxZQUFZLEdBQUc7QUFBQSxNQUNoQyxhQUFhO0FBQUEsSUFDZixDQUFDLEdBQUcsS0FBSyxNQUFNLGtCQUFrQixFQUFFLEtBQUssUUFBUSxLQUFLLElBQUksaUJBQWlCO0FBQUEsTUFDeEUsV0FBVztBQUFBLElBQ2IsQ0FBQyxHQUFHLEVBQUUsT0FBTyxLQUFLLE1BQU0sU0FBUyxLQUFLLE1BQU0sZUFBZTtBQUMzRCxVQUFNLElBQUksRUFBRSxLQUFLLEtBQUssR0FBR0QsS0FBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxXQUFXLFNBQVMsZUFBZSxDQUFDLEdBQUcsSUFBSSxNQUFNLEdBQUcsU0FBUyxHQUFHO0FBQzlHLE1BQUUsWUFBWUEsRUFBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLEtBQUssT0FBTyxLQUFLLElBQUksb0JBQW9CO0FBQUEsTUFDekUsYUFBYSxHQUFHLFNBQVMsQ0FBQyxFQUFFO0FBQUEsSUFDOUIsQ0FBQyxDQUFDLEdBQUcsR0FBRyxLQUFLLE1BQU0saUJBQWlCLEdBQUc7QUFBQSxNQUNyQyxhQUFhO0FBQUEsSUFDZixDQUFDLEdBQUcsRUFBRSxPQUFPLEtBQUssTUFBTSxTQUFTLEtBQUssWUFBWSxDQUFDLEdBQUcsRUFBRSxPQUFPLEtBQUssTUFBTSxTQUFTLEtBQUssT0FBTyxjQUFjLFdBQVcsQ0FBQyxHQUFHLEVBQUUsT0FBTyxLQUFLLE9BQU8sR0FBRyxNQUFNLFNBQVMsS0FBSyxNQUFNLE9BQU87QUFBQSxFQUN2TDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsY0FBYztBQUNaLFdBQU8sS0FBSyxrQkFBa0IsSUFBSSxHQUFHO0FBQUEsTUFDbkMsS0FBSyxLQUFLLE9BQU8sSUFBSTtBQUFBLE1BQ3JCLE9BQU8sS0FBSyxPQUFPLE1BQU07QUFBQSxNQUN6QixZQUFZO0FBQUEsUUFDVixRQUFRLEVBQUUsR0FBRyxFQUFFLEdBQUcsU0FBUyxRQUFRO0FBQUEsUUFDbkMsY0FBYyxFQUFFLEdBQUcsRUFBRSxHQUFHLFNBQVMsZUFBZTtBQUFBLE1BQ2xEO0FBQUEsSUFDRixDQUFDLEdBQUcsS0FBSyxnQkFBZ0IsR0FBRyxHQUFHLFFBQVEsTUFBTTtBQUMzQyxXQUFLLE9BQU8sR0FBRyxNQUFNLFFBQVEsVUFBVSxJQUFJLEtBQUssSUFBSSwyQkFBMkI7QUFBQSxJQUNqRixDQUFDLEdBQUcsS0FBSyxnQkFBZ0IsR0FBRyxHQUFHLFFBQVEsTUFBTTtBQUMzQyxXQUFLLE9BQU8sR0FBRyxNQUFNLFFBQVEsVUFBVSxPQUFPLEtBQUssSUFBSSwyQkFBMkI7QUFBQSxJQUNwRixDQUFDLEdBQUcsS0FBSyxnQkFBZ0IsR0FBRyxHQUFHLFlBQVksQ0FBQyxFQUFFLE9BQU8sRUFBRSxNQUFNO0FBQzNELFlBQU0sRUFBRSxjQUFjLEdBQUcsT0FBT0EsR0FBRSxJQUFJLEtBQUssUUFBUSxJQUFJLEVBQUUsYUFBYSxFQUFFLEVBQUU7QUFDMUUsUUFBRSxPQUFPLFdBQVcsTUFBTSxNQUFNLEVBQUUsYUFBYSxFQUFFLFlBQVksR0FBR0EsR0FBRSxXQUFXLEVBQUUsU0FBUyxLQUFLQSxHQUFFLFdBQVcsRUFBRSxTQUFTO0FBQUEsSUFDdkgsQ0FBQyxHQUFHLEtBQUssZ0JBQWdCLFdBQVc7QUFBQSxFQUN0QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsb0JBQW9CO0FBQ2xCLFFBQUk7QUFDSixTQUFLLE9BQU8sYUFBYSxlQUFlLEtBQUssZUFBZSxJQUFJLEtBQUssb0JBQW9CLFFBQVEsRUFBRSxPQUFPO0FBQUEsRUFDNUc7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHVCQUF1QjtBQUNyQixTQUFLLHlCQUF5QixHQUFHLEtBQUssTUFBTSxpQkFBaUIsYUFBYSxDQUFDLE1BQU07QUFDL0UsVUFBSTtBQUNKLFFBQUUsZ0JBQWdCLEdBQUcsS0FBSyx1QkFBdUIsSUFBSSxJQUFJLEtBQUssb0JBQW9CLFFBQVEsRUFBRSxVQUFVLEtBQUssZ0JBQWdCLE1BQU0sR0FBRyxHQUFHLElBQUU7QUFBQSxJQUMzSSxHQUFHLElBQUUsR0FBRyxHQUFHLEtBQUssS0FBSyxpQkFBaUIsR0FBRyxJQUFJLENBQUMsTUFBTTtBQUNsRCxVQUFJO0FBQ0osV0FBSyxPQUFPLGNBQWMsV0FBVyxJQUFJLEtBQUssb0JBQW9CLFFBQVEsRUFBRSxVQUFVLEtBQUssWUFBWSxFQUFFLEtBQUs7QUFBQSxJQUNoSCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsd0JBQXdCO0FBQ3RCLFNBQUsseUJBQXlCLFNBQVM7QUFBQSxFQUN6QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEseUJBQXlCO0FBQ3ZCLFNBQUssT0FBTyxhQUFhLGVBQWUsS0FBSyxjQUFjLEtBQUssT0FBTyxjQUFjLFNBQVMsS0FBSyxPQUFPLGNBQWMsTUFBTSxJQUFJLEtBQUssT0FBTyxjQUFjLEtBQUssS0FBSyxZQUFZO0FBQUEsRUFDcEw7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFZQSxTQUFTO0FBQ1AsU0FBSyxPQUFPLGNBQWMsS0FBSyxHQUFHLEtBQUssS0FBSztBQUFBLEVBQzlDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLFVBQVU7QUFDUixTQUFLLGVBQWUsR0FBRyxLQUFLLG1CQUFtQixLQUFLLGdCQUFnQixRQUFRO0FBQUEsRUFDOUU7QUFDRjtBQUNBLElBQUksS0FBc0Isa0JBQUNELFFBQU9BLEdBQUVBLEdBQUUsUUFBUSxDQUFDLElBQUksU0FBU0EsR0FBRUEsR0FBRSxTQUFTLENBQUMsSUFBSSxVQUFVQSxHQUFFQSxHQUFFLE9BQU8sQ0FBQyxJQUFJLFFBQVFBLEtBQUksTUFBTSxDQUFDLENBQUM7QUFBNUgsSUFBK0gsS0FBc0Isa0JBQUNBLFFBQU9BLEdBQUUsV0FBVyxZQUFZQSxHQUFFLFVBQVUsV0FBV0EsR0FBRSxxQkFBcUIsaUJBQWlCQSxHQUFFLG9CQUFvQixTQUFTQSxHQUFFLFNBQVMsVUFBVUEsS0FBSSxNQUFNLENBQUMsQ0FBQztBQUFyVCxJQUF3VCxLQUFzQixrQkFBQ0EsUUFBT0EsR0FBRSxXQUFXLFlBQVlBLEdBQUUsaUJBQWlCLFlBQVlBLEtBQUksTUFBTSxDQUFDLENBQUM7QUFBMVosSUFBNlosS0FBc0Isa0JBQUNBLFFBQU9BLEdBQUUsc0JBQXNCLG9CQUFvQkEsR0FBRSxVQUFVLFdBQVdBLEdBQUUsbUJBQW1CLG9CQUFvQkEsR0FBRSxzQkFBc0IsdUJBQXVCQSxHQUFFLGNBQWMsZUFBZUEsS0FBSSxNQUFNLENBQUMsQ0FBQztBQUFqb0IsSUFBb29CLEtBQXNCLGtCQUFDQSxRQUFPQSxHQUFFLFdBQVcsWUFBWUEsR0FBRSxRQUFRLFNBQVNBLEtBQUksTUFBTSxDQUFDLENBQUM7QUFBMXRCLElBQTZ0QixLQUFzQixrQkFBQ0EsUUFBT0EsR0FBRSxTQUFTLFVBQVVBLEtBQUksTUFBTSxDQUFDLENBQUM7QUFDNXhCLElBQU0sS0FBTixNQUFTO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtQLFlBQVk7QUFBQSxJQUNWLE1BQU07QUFBQSxJQUNOLGVBQWU7QUFBQSxJQUNmLFFBQVFDO0FBQUEsSUFDUixLQUFLO0FBQUEsSUFDTCxXQUFXQztBQUFBLElBQ1gsWUFBWUMsS0FBSTtBQUFBLElBQ2hCLG9CQUFvQkM7QUFBQSxFQUN0QixHQUFHO0FBQ0QsU0FBSyxNQUFNLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxnQkFBZ0IsR0FBRyxLQUFLLFNBQVNILElBQUcsS0FBSyxZQUFZQyxJQUFHLEtBQUssYUFBYUMsSUFBRyxLQUFLLHFCQUFxQkM7QUFBQSxFQUMzSTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxXQUFXO0FBQ2IsVUFBTSxJQUFJLEtBQUssT0FBTyxVQUFVLENBQUM7QUFDakMsV0FBTyxLQUFLLGFBQWEsRUFBRSxpQkFBaUIsTUFBTSxLQUFLLHVCQUF1QixFQUFFLGNBQWMsS0FBSyxxQkFBcUI7QUFBQSxFQUMxSDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsUUFBUTtBQUNOLFFBQUksRUFBRSxLQUFLLGNBQWMsS0FBSztBQUM1QixhQUFPLEtBQUssY0FBYyxNQUFNO0FBQUEsRUFDcEM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixRQUFJLEVBQUUsS0FBSyxjQUFjLE9BQU87QUFDOUIsYUFBTyxLQUFLLGNBQWMsUUFBUTtBQUFBLFFBQ2hDLFVBQVUsS0FBSztBQUFBLFFBQ2YsUUFBUSxLQUFLO0FBQUEsTUFDZixDQUFDO0FBQUEsRUFDTDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxXQUFXO0FBQ2IsVUFBTSxJQUFJLEtBQUssY0FBYztBQUM3QixXQUFPLEtBQUssT0FBTyxZQUFZO0FBQUEsRUFDakM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksaUJBQWlCO0FBQ25CLFdBQU8sS0FBSyxjQUFjLFlBQVksQ0FBQztBQUFBLEVBQ3pDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXO0FBQ1QsV0FBTyxLQUFLLFNBQVMsR0FBRztBQUFBLEVBQzFCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxVQUFVO0FBQ1IsV0FBTyxLQUFLLFNBQVMsR0FBRztBQUFBLEVBQzFCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxTQUFTO0FBQ1AsV0FBTyxLQUFLLFNBQVMsR0FBRztBQUFBLEVBQzFCO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1qQixZQUFZLEVBQUUsUUFBUSxHQUFHLGtCQUFrQixFQUFFLEdBQUc7QUFDOUMsVUFBTTtBQUFBLE1BQ0osUUFBUTtBQUFBLE1BQ1Isa0JBQWtCO0FBQUEsSUFDcEIsQ0FBQyxHQUFHLEtBQUssTUFBTTtBQUFBLE1BQ2IsZUFBZTtBQUFBLElBQ2pCLEdBQUcsS0FBSyxTQUFTLE9BQUksS0FBSyxVQUFVLE1BQU0sS0FBSyx3QkFBd0IsR0FBRyxJQUFJLEtBQUssR0FBRyxLQUFLLGlCQUFpQyxvQkFBSSxJQUFJO0FBQUEsRUFDdEk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxlQUFlLEdBQUc7QUFDaEIsUUFBSSxLQUFLLFFBQVEsSUFBSSxPQUFPLG9CQUFvQixNQUFNO0FBQ3BELFdBQUssS0FBSztBQUFBLElBQ1osR0FBRyxFQUFFLFNBQVMsSUFBSSxDQUFDO0FBQUEsRUFDckI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBV0EsTUFBTSxVQUFVLElBQUksT0FBSTtBQUN0QixTQUFLLEtBQUssTUFBTSxHQUFHLEtBQUssY0FBYyxNQUFNLE1BQU0sS0FBSyxLQUFLLEdBQUcsS0FBSyxPQUFPLFFBQVEsTUFBTTtBQUFBLEVBQzNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxRQUFRO0FBQ04sUUFBSSxHQUFHO0FBQ1AsU0FBSyxXQUFXLEtBQUssT0FBTyxTQUFTLGNBQWMsTUFBTSxLQUFLLEtBQUssZUFBZSxRQUFRLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQ0gsSUFBRyxDQUFDLE1BQU07QUFDL0csWUFBTUMsS0FBSSxLQUFLLGdCQUFnQkQsRUFBQztBQUNoQyxNQUFBQyxNQUFLLEdBQUcsT0FBTyxLQUFLLE9BQU8sR0FBRyxNQUFNLFVBQVVBLEVBQUMsR0FBRyxFQUFFLEVBQUUsS0FBSyxLQUFLLEVBQUUsTUFBTTtBQUFBLElBQzFFLENBQUMsR0FBRyxLQUFLLGlCQUFpQixNQUFNLEtBQUssTUFBTSxHQUFHLEtBQUssU0FBUyxRQUFLLElBQUksS0FBSyxZQUFZLFFBQVEsRUFBRSxLQUFLLElBQUksSUFBSSxLQUFLLFlBQVksUUFBUSxFQUFFLFFBQVEsR0FBRyxLQUFLLFVBQVU7QUFBQSxFQUNwSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGFBQWEsR0FBRztBQUNkLFdBQU8sS0FBSyxNQUFNLFlBQVksU0FBUyxRQUFLLEtBQUssTUFBTSxRQUFRLFNBQVMsQ0FBQztBQUFBLEVBQzNFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxVQUFVO0FBQ1IsUUFBSTtBQUNKLFNBQUssZUFBZSxJQUFJLElBQUksS0FBSyxZQUFZLFFBQVEsRUFBRSxRQUFRLEdBQUcsS0FBSyxVQUFVO0FBQUEsRUFDbkY7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLE9BQU87QUFDTCxTQUFLLE1BQU0sVUFBVSxFQUFFLEtBQUssT0FBTztBQUFBLE1BQ2pDLEtBQUssSUFBSTtBQUFBLE1BQ1QsR0FBRyxLQUFLLFFBQVEsQ0FBQyxLQUFLLE9BQU8sR0FBRyxJQUFJLFlBQVksSUFBSSxDQUFDO0FBQUEsSUFDdkQsQ0FBQyxHQUFHLEVBQUUsT0FBTyxLQUFLLE9BQU8sR0FBRyxNQUFNLFNBQVMsS0FBSyxNQUFNLE9BQU87QUFBQSxFQUMvRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsTUFBTSxPQUFPO0FBQ1gsUUFBSTtBQUNKLFFBQUksS0FBSztBQUNQO0FBQ0YsU0FBSyxTQUFTLE1BQUksS0FBSyxZQUFZLFFBQVEsS0FBSyxRQUFRLFFBQVE7QUFDaEUsVUFBTSxJQUFJLE1BQU0sS0FBSyxlQUFlO0FBQ3BDLFNBQUssVUFBVSxJQUFJLEdBQUc7QUFBQSxNQUNwQixPQUFPO0FBQUEsTUFDUCxjQUFjLEtBQUssT0FBTyxJQUFJLFFBQVEsR0FBRyxNQUFNO0FBQUEsTUFDL0MsVUFBVTtBQUFBLFFBQ1IsY0FBYyxFQUFFLEdBQUcsRUFBRSxHQUFHLFNBQVMsZUFBZTtBQUFBLFFBQ2hELFFBQVEsRUFBRSxHQUFHLEVBQUUsR0FBRyxTQUFTLFFBQVE7QUFBQSxNQUNyQztBQUFBLElBQ0YsQ0FBQyxHQUFHLEtBQUssS0FBSyxLQUFLLFFBQVEsS0FBSyxLQUFLLElBQUksSUFBSSxLQUFLLE1BQU0sWUFBWSxRQUFRLEVBQUUsT0FBTyxLQUFLLFFBQVEsV0FBVyxDQUFDLEdBQUcsS0FBSyxRQUFRLEtBQUs7QUFBQSxFQUNySTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLEtBQUssR0FBRztBQUNOLFVBQU0sSUFBSSxFQUFFLE1BQU1ELEtBQUksS0FBSyxPQUFPLEdBQUcsTUFBTSxRQUFRLHNCQUFzQixHQUFHLElBQUk7QUFBQSxNQUM5RSxHQUFHLEVBQUUsSUFBSUEsR0FBRTtBQUFBLE1BQ1gsR0FBRyxFQUFFLElBQUksRUFBRTtBQUFBLE1BQ1hBLEdBQUUsTUFBTSxLQUFLO0FBQUEsSUFDZjtBQUNBLE1BQUUsSUFBSSxJQUFJQSxHQUFFLElBQUksS0FBSyxPQUFPLEdBQUcsWUFBWSxVQUFVLEVBQUUsSUFBSSxLQUFLLE9BQU8sR0FBRyxZQUFZLFFBQVEsSUFBSUEsR0FBRSxJQUFJLEtBQUssTUFBTSxRQUFRLE1BQU0sT0FBTyxLQUFLLE1BQU0sRUFBRSxDQUFDLElBQUksTUFBTSxLQUFLLE1BQU0sUUFBUSxNQUFNLE1BQU0sS0FBSyxNQUFNLEVBQUUsQ0FBQyxJQUFJO0FBQUEsRUFDbk47QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFFBQVE7QUFDTixTQUFLLE1BQU0sUUFBUSxNQUFNLE9BQU8sS0FBSyxLQUFLLE1BQU0sUUFBUSxNQUFNLE1BQU07QUFBQSxFQUN0RTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZ0JBQWdCO0FBQ2QsVUFBTSxJQUFJLENBQUMsT0FBTyxPQUFPLEdBQUcsSUFBSSxFQUFFLElBQUksR0FBR0EsS0FBSSxFQUFFO0FBQy9DLFFBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxjQUFjLEVBQUUsZUFBZUEsR0FBRSxTQUFTO0FBQ3JELGFBQU87QUFDVCxVQUFNLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxJQUFJLEVBQUUsYUFBYSxFQUFFLFdBQVc7QUFDbEUsUUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLFNBQVMsRUFBRSxPQUFPLEtBQUssRUFBRSxRQUFRLDBCQUEwQixNQUFNO0FBQ3hGLGFBQU87QUFDVCxVQUFNRSxLQUFJLEtBQUssT0FBTyxhQUFhLFNBQVMsRUFBRSxVQUFVO0FBQ3hELFdBQU9BLEtBQUlBLEdBQUUsS0FBSyxZQUFZLFNBQVMsSUFBSTtBQUFBLEVBQzdDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsTUFBTSxpQkFBaUI7QUFDckIsVUFBTSxJQUFJLEVBQUUsSUFBSSxHQUFHLElBQUksS0FBSyxPQUFPLGFBQWEsU0FBUyxFQUFFLFVBQVUsR0FBR0YsS0FBSSxNQUFNLEtBQUssRUFBRSxLQUFLLFlBQVksT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQzFILFNBQUssbUJBQW1CLFNBQVMsS0FBSyxpQkFBaUMsb0JBQUksSUFBSTtBQUMvRSxhQUFTQyxLQUFJLEdBQUdBLEtBQUlELEdBQUUsUUFBUUMsTUFBSztBQUNqQyxZQUFNQyxLQUFJRixHQUFFQyxFQUFDLEdBQUdFLEtBQUlELEdBQUUsT0FBTyxHQUFHRSxLQUFJLE1BQU1ELEdBQUUsT0FBTztBQUNuRCxXQUFLLGVBQWUsSUFBSUQsR0FBRSxNQUFNQyxFQUFDO0FBQ2pDLFlBQU1FLEtBQUksS0FBSyxnQkFBZ0JILEdBQUUsSUFBSTtBQUNyQyxVQUFJRztBQUNGLFlBQUk7QUFDRixlQUFLLGdCQUFnQkgsR0FBRSxNQUFNRyxFQUFDO0FBQUEsUUFDaEMsUUFBUTtBQUFBLFFBQ1I7QUFDRixZQUFNQyxLQUFJRCxPQUFNLFNBQVMsR0FBR0EsRUFBQyxJQUFJLFFBQVFPLEtBQUksRUFBRTtBQUFBLFFBQzdDLEVBQUU7QUFBQSxRQUNGVixHQUFFLFNBQVMsR0FBR0EsR0FBRSxJQUFJO0FBQUEsTUFDdEI7QUFDQSxPQUFDRSxFQUFDLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQ0csT0FBTTtBQUN4QixZQUFJRSxJQUFHQztBQUNQLGNBQU1GLEtBQUk7QUFBQSxVQUNSLE1BQU1OLEdBQUU7QUFBQSxVQUNSLFlBQVksTUFBTTtBQUNoQixpQkFBSyxZQUFZQyxFQUFDO0FBQUEsVUFDcEI7QUFBQSxVQUNBLE1BQU07QUFBQSxZQUNKLE9BQU9TO0FBQUEsWUFDUCxhQUFhTjtBQUFBLFVBQ2Y7QUFBQSxRQUNGO0FBQ0EsWUFBSSxFQUFFLFVBQVVDLEVBQUMsR0FBRztBQUNsQixnQkFBTWUsS0FBSTtBQUFBLFlBQ1IsR0FBR2Q7QUFBQSxZQUNILFNBQVNEO0FBQUEsWUFDVCxNQUFNLEVBQUU7QUFBQSxVQUNWO0FBQ0EsY0FBSSxFQUFFSixHQUFFLGFBQWEsR0FBRztBQUN0QixrQkFBTVEsS0FBSVIsR0FBRSxjQUFjO0FBQzFCLFlBQUFtQixHQUFFLFdBQVc7QUFBQSxjQUNYLFNBQVNiLEtBQUlOLEdBQUUsZUFBZSxPQUFPLFNBQVNNLEdBQUUsS0FBS04sSUFBRyxFQUFFLElBQUksQ0FBQztBQUFBO0FBQUEsY0FFL0QsYUFBYTtBQUFBLGNBQ2IsT0FBTztBQUFBLGdCQUNMO0FBQUEsa0JBQ0UsTUFBTSxFQUFFO0FBQUEsa0JBQ1IsU0FBU1E7QUFBQSxnQkFDWDtBQUFBLGNBQ0Y7QUFBQSxZQUNGO0FBQUEsVUFDRjtBQUNFLGFBQUNELEtBQUlQLEdBQUUsZUFBZSxRQUFRTyxHQUFFLEtBQUtQLElBQUcsRUFBRSxJQUFJLENBQUM7QUFDakQsWUFBRSxLQUFLbUIsRUFBQztBQUFBLFFBQ1YsV0FBV2YsR0FBRSxTQUFTLEVBQUU7QUFDdEIsWUFBRSxLQUFLO0FBQUEsWUFDTCxHQUFHQztBQUFBLFlBQ0gsR0FBR0Q7QUFBQSxZQUNILE1BQU0sRUFBRTtBQUFBLFVBQ1YsQ0FBQztBQUFBLGlCQUNNQSxHQUFFLFNBQVMsRUFBRTtBQUNwQixZQUFFLEtBQUs7QUFBQSxZQUNMLE1BQU0sRUFBRTtBQUFBLFVBQ1YsQ0FBQztBQUFBLGFBQ0U7QUFDSCxnQkFBTWUsS0FBSTtBQUFBLFlBQ1IsR0FBR2Q7QUFBQSxZQUNILEdBQUdEO0FBQUEsWUFDSCxNQUFNLEVBQUU7QUFBQSxVQUNWO0FBQ0Esd0JBQWNlLE1BQUtyQixPQUFNLEtBQUssRUFBRSxLQUFLO0FBQUEsWUFDbkMsTUFBTSxFQUFFO0FBQUEsVUFDVixDQUFDLEdBQUcsRUFBRSxLQUFLcUIsRUFBQyxHQUFHLGNBQWNBLE1BQUtyQixLQUFJRCxHQUFFLFNBQVMsS0FBSyxFQUFFLEtBQUs7QUFBQSxZQUMzRCxNQUFNLEVBQUU7QUFBQSxVQUNWLENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUNBLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZ0JBQWdCLEdBQUc7QUFDakIsVUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLEtBQUssUUFBUUEsS0FBSSxFQUFFLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxFQUFFLFNBQVM7QUFDM0UsV0FBTyxNQUFNLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRSxTQUFTLENBQUMsSUFBSSxLQUFLLFlBQVksQ0FBQyxFQUFFLEdBQUcsUUFBUSxJQUFJQSxNQUFLLE9BQU8sU0FBU0EsR0FBRTtBQUFBLEVBQ3RHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxnQkFBZ0IsR0FBRyxHQUFHO0FBQ3BCLE9BQUcsSUFBSTtBQUFBLE1BQ0wsTUFBTTtBQUFBLE1BQ04sU0FBUyxDQUFDQSxPQUFNO0FBQ2QsWUFBSUM7QUFDSixjQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSyxPQUFPO0FBQ3hDLGFBQUssRUFBRSxLQUFLLHVCQUF1QkQsR0FBRSxlQUFlLElBQUlDLEtBQUksS0FBSyxZQUFZLFFBQVFBLEdBQUUsbUJBQW1CLENBQUM7QUFBQSxNQUM3RztBQUFBLE1BQ0EsSUFBSSxLQUFLLE9BQU8sR0FBRyxNQUFNO0FBQUEsSUFDM0IsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxZQUFZLEdBQUc7QUFDYixRQUFJRDtBQUNKLFVBQU0sSUFBSSxFQUFFO0FBQ1osS0FBQ0EsS0FBSSxFQUFFLGFBQWEsUUFBUUEsR0FBRSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssZ0JBQWdCO0FBQUEsRUFDakU7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGtCQUFrQjtBQUNoQixRQUFJO0FBQ0osS0FBQyxJQUFJLEtBQUssbUJBQW1CLFFBQVEsRUFBRSxRQUFRLENBQUMsTUFBTTtBQUNwRCxVQUFJQTtBQUNKLE9BQUNBLEtBQUksRUFBRSxlQUFlLFFBQVFBLEdBQUUsS0FBSyxHQUFHLEVBQUUsSUFBSSxDQUFDO0FBQUEsSUFDakQsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsSUFBSSxjQUFjO0FBQ2hCLFVBQU0sSUFBSSxDQUFDO0FBQ1gsV0FBTyxNQUFNLEtBQUssS0FBSyxPQUFPLE1BQU0sWUFBWSxRQUFRLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxHQUFHQSxFQUFDLE1BQU07QUFDN0UsUUFBRSxDQUFDLElBQUlBLEdBQUUsT0FBTztBQUFBLElBQ2xCLENBQUMsR0FBRztBQUFBLEVBQ047QUFDRjtBQUNBLFNBQVMsS0FBSztBQUNaLFFBQU1ELEtBQUksT0FBTyxhQUFhO0FBQzlCLE1BQUlBLE9BQU07QUFDUixXQUFPLENBQUMsTUFBTSxDQUFDO0FBQ2pCLE1BQUksSUFBSUEsR0FBRSxXQUFXLElBQUlBLEdBQUU7QUFDM0IsU0FBTyxNQUFNLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLGFBQWEsS0FBSyxhQUFhLEVBQUUsV0FBVyxTQUFTLE1BQU0sRUFBRSxXQUFXLENBQUMsS0FBSyxJQUFJLEVBQUUsV0FBVyxDQUFDLEdBQUcsSUFBSSxNQUFNLElBQUksRUFBRSxXQUFXLElBQUksQ0FBQyxHQUFHLElBQUksRUFBRSxZQUFZLFVBQVUsQ0FBQyxHQUFHLENBQUM7QUFDNU07QUFDQSxTQUFTLEdBQUdBLElBQUcsR0FBRyxHQUFHQyxJQUFHO0FBQ3RCLFFBQU0sSUFBSSxTQUFTLFlBQVk7QUFDL0IsRUFBQUEsT0FBTSxVQUFVLEVBQUUsU0FBU0QsSUFBRyxDQUFDLEdBQUcsRUFBRSxPQUFPLEdBQUcsQ0FBQyxNQUFNLEVBQUUsU0FBUyxHQUFHLENBQUMsR0FBRyxFQUFFLE9BQU9BLElBQUdBLEdBQUUsV0FBVyxNQUFNO0FBQ3RHLFFBQU1FLEtBQUksRUFBRSxjQUFjLEdBQUdDLEtBQUksU0FBUyxjQUFjLEtBQUs7QUFDN0QsRUFBQUEsR0FBRSxZQUFZRCxFQUFDO0FBQ2YsUUFBTUUsS0FBSUQsR0FBRSxlQUFlO0FBQzNCLFNBQU8sR0FBR0MsRUFBQztBQUNiO0FBQ0EsU0FBUyxHQUFHSixJQUFHO0FBQ2IsUUFBTSxJQUFJLEVBQUUsZUFBZUEsRUFBQztBQUM1QixNQUFJLE1BQU0sUUFBUSxFQUFFLFFBQVFBLEVBQUM7QUFDM0IsV0FBTztBQUNULE1BQUksRUFBRSxjQUFjLENBQUM7QUFDbkIsV0FBTyxFQUFFLGlCQUFpQjtBQUM1QixNQUFJLEVBQUUsUUFBUUEsRUFBQztBQUNiLFdBQU87QUFDVCxRQUFNLENBQUMsR0FBR0MsRUFBQyxJQUFJLEdBQUc7QUFDbEIsU0FBTyxNQUFNLE9BQU8sUUFBSyxHQUFHRCxJQUFHLEdBQUdDLElBQUcsTUFBTTtBQUM3QztBQUNBLFNBQVMsR0FBR0QsSUFBRztBQUNiLFFBQU0sSUFBSSxFQUFFLGVBQWVBLElBQUcsSUFBRTtBQUNoQyxNQUFJLE1BQU07QUFDUixXQUFPO0FBQ1QsTUFBSSxFQUFFLGNBQWMsQ0FBQztBQUNuQixXQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTTtBQUNwQyxRQUFNLENBQUMsR0FBR0MsRUFBQyxJQUFJLEdBQUc7QUFDbEIsU0FBTyxNQUFNLE9BQU8sUUFBSyxHQUFHRCxJQUFHLEdBQUdDLElBQUcsT0FBTztBQUM5QztBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTWpCLFFBQVEsR0FBRztBQUNULFlBQVEsS0FBSyx3QkFBd0IsQ0FBQyxHQUFHLEVBQUUsU0FBUztBQUFBLE1BQ2xELEtBQUssRUFBRTtBQUNMLGFBQUssVUFBVSxDQUFDO0FBQ2hCO0FBQUEsTUFDRixLQUFLLEVBQUU7QUFDTCxhQUFLLE9BQU8sQ0FBQztBQUNiO0FBQUEsTUFDRixLQUFLLEVBQUU7QUFDTCxhQUFLLE1BQU0sQ0FBQztBQUNaO0FBQUEsTUFDRixLQUFLLEVBQUU7QUFBQSxNQUNQLEtBQUssRUFBRTtBQUNMLGFBQUssa0JBQWtCLENBQUM7QUFDeEI7QUFBQSxNQUNGLEtBQUssRUFBRTtBQUFBLE1BQ1AsS0FBSyxFQUFFO0FBQ0wsYUFBSyxlQUFlLENBQUM7QUFDckI7QUFBQSxNQUNGLEtBQUssRUFBRTtBQUNMLGFBQUssV0FBVyxDQUFDO0FBQ2pCO0FBQUEsSUFDSjtBQUNBLE1BQUUsUUFBUSxPQUFPLENBQUMsRUFBRSxXQUFXLENBQUMsRUFBRSxXQUFXLEtBQUssYUFBYSxDQUFDLEdBQUcsRUFBRSxTQUFTLFlBQVksRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLGVBQWUsR0FBRyxLQUFLLG9CQUFvQjtBQUFBLEVBQ3JLO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsd0JBQXdCLEdBQUc7QUFDekIsU0FBSyxtQkFBbUIsQ0FBQyxLQUFLLEdBQUcsRUFBRSxPQUFPLE1BQU0sS0FBSyxPQUFPLFFBQVEsTUFBTSxHQUFHLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsWUFBWSxLQUFLLE9BQU8sZUFBZSxlQUFlLENBQUM7QUFBQSxFQUM5SztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxNQUFNLEdBQUc7QUFDUCxNQUFFLFlBQVksS0FBSyxPQUFPLEdBQUcsZUFBZTtBQUFBLEVBQzlDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsU0FBUyxHQUFHO0FBQ1YsVUFBTSxJQUFJLEtBQUssT0FBTyxhQUFhLG9CQUFvQixFQUFFLE1BQU07QUFDL0QsTUFBRSxhQUFhO0FBQUEsRUFDakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVLEdBQUc7QUFDWCxVQUFNLElBQUksS0FBSyxPQUFPLGFBQWEsb0JBQW9CLEVBQUUsTUFBTTtBQUMvRCxNQUFFLGFBQWE7QUFBQSxFQUNqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsZUFBZSxHQUFHO0FBQ2hCLFVBQU0sRUFBRSxnQkFBZ0IsRUFBRSxJQUFJLEtBQUs7QUFDbkMsTUFBRSxvQkFBb0IsRUFBRSxtQkFBbUIsQ0FBQztBQUFBLEVBQzlDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZUFBZSxHQUFHO0FBQ2hCLFVBQU0sRUFBRSxnQkFBZ0IsR0FBRyxjQUFjQSxJQUFHLE9BQU8sRUFBRSxJQUFJLEtBQUs7QUFDOUQsTUFBRSxvQkFBb0IsRUFBRSxtQkFBbUIsQ0FBQyxFQUFFLEtBQUssTUFBTTtBQUN2RCxZQUFNQyxLQUFJRCxHQUFFLHFCQUFxQixHQUFHRSxLQUFJRixHQUFFLDBCQUEwQkMsSUFBRyxJQUFFO0FBQ3pFLFFBQUUsV0FBV0MsSUFBRyxFQUFFLFVBQVUsS0FBSyxHQUFHLEVBQUUsZUFBZSxDQUFDO0FBQUEsSUFDeEQsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLEdBQUc7QUFDWixVQUFNLEVBQUUsZUFBZSxHQUFHLE9BQU9GLEdBQUUsSUFBSSxLQUFLO0FBQzVDLFFBQUksRUFBRTtBQUNKO0FBQ0YsS0FBQyxFQUFFLFdBQVdBLEdBQUUsaUJBQWlCLElBQUUsSUFBSUEsR0FBRSxhQUFhLElBQUUsTUFBTSxFQUFFLGVBQWU7QUFBQSxFQUNqRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsc0JBQXNCO0FBQ3BCLFNBQUssT0FBTyxlQUFlLGVBQWUsU0FBUyxLQUFLLEtBQUssc0JBQXNCO0FBQUEsRUFDckY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxhQUFhLEdBQUc7QUFDZCxTQUFLLE9BQU8sYUFBYSxhQUFhLFlBQVksRUFBRSxlQUFlLEdBQUcsS0FBSyxPQUFPLE1BQU0sNkJBQTZCLEdBQUcsR0FBRyxLQUFLLGdCQUFnQjtBQUFBLEVBQ2xKO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsTUFBTSxHQUFHO0FBQ1AsVUFBTSxFQUFFLGNBQWMsR0FBRyxJQUFJQSxHQUFFLElBQUksS0FBSyxRQUFRLElBQUksRUFBRTtBQUN0RCxRQUFJLE1BQU0sVUFBVSxFQUFFLEtBQUssdUJBQXVCQSxHQUFFLHFCQUFxQkEsR0FBRSw0QkFBNEIsRUFBRSxZQUFZLENBQUM7QUFDcEg7QUFDRixRQUFJQyxLQUFJO0FBQ1IsTUFBRSxpQkFBaUIsVUFBVSxHQUFHLEVBQUUsWUFBWSxLQUFLLENBQUMsRUFBRSxXQUFXLEtBQUssT0FBTyxhQUFhLDBCQUEwQixLQUFLLE9BQU8sYUFBYSxpQkFBaUIsSUFBSSxFQUFFLGdCQUFnQixHQUFHLEVBQUUsWUFBWSxJQUFJQSxLQUFJLEtBQUssT0FBTyxhQUFhLDBCQUEwQixLQUFLLE9BQU8sYUFBYSxvQkFBb0IsQ0FBQyxJQUFJQSxLQUFJLEtBQUssT0FBTyxhQUFhLE1BQU0sR0FBRyxLQUFLLE9BQU8sTUFBTSxXQUFXQSxFQUFDLEdBQUcsS0FBSyxPQUFPLFFBQVEsWUFBWUEsRUFBQyxHQUFHLEVBQUUsZUFBZTtBQUFBLEVBQ2hiO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsVUFBVSxHQUFHO0FBQ1gsVUFBTSxFQUFFLGNBQWMsR0FBRyxPQUFPRCxHQUFFLElBQUksS0FBSyxRQUFRLEVBQUUsY0FBYyxHQUFHLGVBQWVDLEdBQUUsSUFBSTtBQUMzRixRQUFJLE1BQU0sVUFBVSxDQUFDLEVBQUUsZUFBZSxDQUFDLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLFlBQVk7QUFDekU7QUFDRixRQUFJLEVBQUUsZUFBZSxHQUFHLEtBQUssT0FBTyxRQUFRLE1BQU0sR0FBRyxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsYUFBYTtBQUN2RixNQUFBRCxHQUFFLGlCQUFpQjtBQUNuQjtBQUFBLElBQ0Y7QUFDQSxRQUFJQyxPQUFNO0FBQ1I7QUFDRixRQUFJQSxHQUFFLFNBQVM7QUFDYixRQUFFLFlBQVlBLEVBQUM7QUFDZjtBQUFBLElBQ0Y7QUFDQSxRQUFJLEVBQUUsU0FBUztBQUNiLFFBQUUsWUFBWSxDQUFDO0FBQ2YsWUFBTUcsS0FBSSxFQUFFO0FBQ1osTUFBQUosR0FBRSxXQUFXSSxJQUFHSixHQUFFLFVBQVUsR0FBRztBQUMvQjtBQUFBLElBQ0Y7QUFDQSxPQUFHQyxJQUFHLENBQUMsSUFBSSxLQUFLLFlBQVlBLElBQUcsQ0FBQyxJQUFJRCxHQUFFLFdBQVdDLElBQUdELEdBQUUsVUFBVSxHQUFHO0FBQUEsRUFDckU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsT0FBTyxHQUFHO0FBQ1IsVUFBTSxFQUFFLGNBQWMsR0FBRyxPQUFPQSxHQUFFLElBQUksS0FBSyxRQUFRLEVBQUUsY0FBYyxHQUFHLFdBQVdDLEdBQUUsSUFBSTtBQUN2RixRQUFJLENBQUMsRUFBRSxlQUFlLENBQUMsR0FBRyxFQUFFLFlBQVk7QUFDdEM7QUFDRixRQUFJLEVBQUUsZUFBZSxHQUFHLEtBQUssT0FBTyxRQUFRLE1BQU0sR0FBRyxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsWUFBWTtBQUN0RixNQUFBRCxHQUFFLGFBQWE7QUFDZjtBQUFBLElBQ0Y7QUFDQSxRQUFJQyxPQUFNO0FBQ1I7QUFDRixRQUFJQSxHQUFFLFNBQVM7QUFDYixRQUFFLFlBQVlBLEVBQUM7QUFDZjtBQUFBLElBQ0Y7QUFDQSxRQUFJLEVBQUUsU0FBUztBQUNiLFFBQUUsWUFBWSxDQUFDLEdBQUdELEdBQUUsV0FBV0MsSUFBR0QsR0FBRSxVQUFVLEtBQUs7QUFDbkQ7QUFBQSxJQUNGO0FBQ0EsT0FBRyxHQUFHQyxFQUFDLElBQUksS0FBSyxZQUFZLEdBQUdBLEVBQUMsSUFBSUQsR0FBRSxXQUFXQyxJQUFHRCxHQUFFLFVBQVUsS0FBSztBQUFBLEVBQ3ZFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxZQUFZLEdBQUcsR0FBRztBQUNoQixVQUFNLEVBQUUsY0FBY0EsSUFBRyxPQUFPLEdBQUcsU0FBU0MsR0FBRSxJQUFJLEtBQUs7QUFDdkQsTUFBRSxhQUFhLEVBQUUsU0FBUyxHQUFHRCxHQUFFLFlBQVksR0FBRyxDQUFDLEVBQUUsS0FBSyxNQUFNO0FBQzFELFFBQUUsYUFBYSxFQUFFLGNBQWMsR0FBR0MsR0FBRSxNQUFNO0FBQUEsSUFDNUMsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxrQkFBa0IsR0FBRztBQUNuQixVQUFNLElBQUksR0FBRyxTQUFTLFNBQVMsRUFBRSxPQUFPLE1BQU0sQ0FBQyxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUU7QUFDN0UsUUFBSSxLQUFLLE9BQU8sR0FBRyxxQkFBcUI7QUFDdEM7QUFDRixTQUFLLE9BQU8sUUFBUSxNQUFNO0FBQzFCLFVBQU0sRUFBRSxjQUFjRCxHQUFFLElBQUksS0FBSyxPQUFPLGNBQWNDLE9BQU1ELE1BQUssT0FBTyxTQUFTQSxHQUFFLGtCQUFrQixTQUFTLEdBQUdBLEdBQUUsWUFBWSxJQUFJLFdBQVcsS0FBSyxPQUFPLGVBQWU7QUFDekssUUFBSSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsUUFBUUMsSUFBRztBQUMzQyxXQUFLLE9BQU8sb0JBQW9CLHlCQUF5QjtBQUN6RDtBQUFBLElBQ0Y7QUFDQSxRQUFJLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsU0FBUyxDQUFDLEtBQUssUUFBUSxLQUFLLE9BQU8sTUFBTSxhQUFhLElBQUksS0FBSyxPQUFPLE1BQU0saUJBQWlCLEdBQUc7QUFDMUksUUFBRSxlQUFlO0FBQ2pCO0FBQUEsSUFDRjtBQUNBLE9BQUcsTUFBTTtBQUNQLFdBQUssT0FBTyxhQUFhLGdCQUFnQixLQUFLLE9BQU8sYUFBYSxhQUFhLG1CQUFtQjtBQUFBLElBQ3BHLEdBQUcsRUFBRSxFQUFFLEdBQUcsS0FBSyxPQUFPLGVBQWUsZUFBZSxDQUFDO0FBQUEsRUFDdkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxlQUFlLEdBQUc7QUFDaEIsUUFBSSxLQUFLLE9BQU8sR0FBRyxtQkFBbUI7QUFDcEMsVUFBSSxHQUFHLFNBQVMsU0FBUyxFQUFFLE9BQU8sTUFBTSxDQUFDLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRTtBQUNyRTtBQUNGLFdBQUssT0FBTyxHQUFHLGlCQUFpQjtBQUFBLElBQ2xDO0FBQ0EsU0FBSyxPQUFPLFFBQVEsTUFBTTtBQUMxQixVQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSyxPQUFPLGNBQWMsTUFBTSxLQUFLLE9BQU8sU0FBUyxFQUFFLGtCQUFrQixTQUFTLEdBQUcsRUFBRSxZQUFZLElBQUksV0FBVyxLQUFLLE9BQU8sZUFBZTtBQUN6SyxRQUFJLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxNQUFNLEdBQUc7QUFDekMsV0FBSyxPQUFPLG9CQUFvQix5QkFBeUIsS0FBRTtBQUMzRDtBQUFBLElBQ0Y7QUFDQSxRQUFJLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsUUFBUSxDQUFDLEtBQUssUUFBUSxLQUFLLE9BQU8sTUFBTSxpQkFBaUIsSUFBSSxLQUFLLE9BQU8sTUFBTSxhQUFhLEdBQUc7QUFDdkksUUFBRSxlQUFlO0FBQ2pCO0FBQUEsSUFDRjtBQUNBLE9BQUcsTUFBTTtBQUNQLFdBQUssT0FBTyxhQUFhLGdCQUFnQixLQUFLLE9BQU8sYUFBYSxhQUFhLG1CQUFtQjtBQUFBLElBQ3BHLEdBQUcsRUFBRSxFQUFFLEdBQUcsS0FBSyxPQUFPLGVBQWUsZUFBZSxDQUFDO0FBQUEsRUFDdkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxtQkFBbUIsR0FBRztBQUNwQixVQUFNLElBQUksRUFBRSxZQUFZLEVBQUUsU0FBUyxLQUFLLE9BQU8sUUFBUSxRQUFRLFFBQVFELEtBQUksRUFBRSxZQUFZLEVBQUUsU0FBUyxLQUFLLE9BQU8sY0FBYyxRQUFRLElBQUksRUFBRSxZQUFZLEVBQUUsU0FBUyxLQUFLLE9BQU8sY0FBYyxRQUFRQyxLQUFJLEVBQUUsWUFBWSxFQUFFO0FBQ3pOLFdBQU8sRUFBRSxFQUFFLFlBQVlBLE1BQUssS0FBS0QsTUFBSztBQUFBLEVBQ3hDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxrQkFBa0I7QUFDaEIsU0FBSyxPQUFPLFFBQVEsVUFBVSxLQUFLLE9BQU8sUUFBUSxZQUFZLEdBQUcsS0FBSyxPQUFPLFFBQVEsUUFBUSxLQUFLO0FBQUEsRUFDcEc7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHdCQUF3QjtBQUN0QixTQUFLLE9BQU8sUUFBUSxVQUFVLEtBQUssT0FBTyxRQUFRLFlBQVksR0FBRyxLQUFLLE9BQU8sY0FBYyxVQUFVLEtBQUssT0FBTyxjQUFjLEtBQUs7QUFBQSxFQUN0STtBQUNGO0FBQ0EsSUFBTSxLQUFOLE1BQVM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS1AsWUFBWSxHQUFHO0FBQ2IsU0FBSyxTQUFTLENBQUMsR0FBRyxLQUFLLGNBQWM7QUFBQSxFQUN2QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksU0FBUztBQUNYLFdBQU8sS0FBSyxPQUFPO0FBQUEsRUFDckI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLFFBQVE7QUFDVixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxRQUFRO0FBQ1YsV0FBTyxHQUFHLEtBQUssWUFBWSxRQUFRO0FBQUEsRUFDckM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBV0EsT0FBTyxJQUFJLEdBQUcsR0FBR0EsSUFBRztBQUNsQixXQUFPLE1BQU0sT0FBTyxDQUFDLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxHQUFHQSxFQUFDLEdBQUcsU0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHQSxFQUFDLEdBQUc7QUFBQSxFQUMzRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxPQUFPLElBQUksR0FBRyxHQUFHO0FBQ2YsV0FBTyxNQUFNLE9BQU8sQ0FBQyxDQUFDLElBQUksUUFBUSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFBQSxFQUN4RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLEtBQUssR0FBRztBQUNOLFNBQUssT0FBTyxLQUFLLENBQUMsR0FBRyxLQUFLLFlBQVksQ0FBQztBQUFBLEVBQ3pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLEtBQUssR0FBRyxHQUFHO0FBQ1QsVUFBTUEsS0FBSSxLQUFLLE9BQU8sQ0FBQztBQUN2QixNQUFFLEtBQUssS0FBSyxPQUFPLENBQUMsRUFBRSxRQUFRQSxHQUFFLE1BQU0sR0FBRyxLQUFLLE9BQU8sQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDLEdBQUcsS0FBSyxPQUFPLENBQUMsSUFBSUE7QUFBQSxFQUM3RjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsS0FBSyxHQUFHLEdBQUc7QUFDVCxVQUFNQSxLQUFJLEtBQUssT0FBTyxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLElBQUksR0FBR0MsS0FBSSxLQUFLLElBQUksR0FBRyxDQUFDLEdBQUdDLEtBQUksS0FBSyxPQUFPRCxFQUFDO0FBQ3ZGLFFBQUksSUFBSSxLQUFLLFlBQVlELElBQUcsWUFBWUUsRUFBQyxJQUFJLEtBQUssWUFBWUYsSUFBRyxlQUFlRSxFQUFDLEdBQUcsS0FBSyxPQUFPLE9BQU8sR0FBRyxHQUFHRixFQUFDO0FBQzlHLFVBQU1HLEtBQUksS0FBSyxrQkFBa0IsUUFBUTtBQUFBLE1BQ3ZDLFdBQVc7QUFBQSxNQUNYLFNBQVM7QUFBQSxJQUNYLENBQUM7QUFDRCxJQUFBSCxHQUFFLEtBQUssRUFBRSxPQUFPRyxFQUFDO0FBQUEsRUFDbkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsT0FBTyxHQUFHLEdBQUdILEtBQUksT0FBSTtBQUNuQixRQUFJLENBQUMsS0FBSyxRQUFRO0FBQ2hCLFdBQUssS0FBSyxDQUFDO0FBQ1g7QUFBQSxJQUNGO0FBQ0EsUUFBSSxLQUFLLFdBQVcsSUFBSSxLQUFLLFNBQVNBLE9BQU0sS0FBSyxPQUFPLENBQUMsRUFBRSxPQUFPLE9BQU8sR0FBRyxLQUFLLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBRSxPQUFPO0FBQ3pHLFVBQU0sSUFBSUEsS0FBSSxJQUFJO0FBQ2xCLFFBQUksS0FBSyxPQUFPLE9BQU8sR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUc7QUFDdEMsWUFBTUMsS0FBSSxLQUFLLE9BQU8sSUFBSSxDQUFDO0FBQzNCLFdBQUssWUFBWSxHQUFHLFlBQVlBLEVBQUM7QUFBQSxJQUNuQyxPQUFPO0FBQ0wsWUFBTUEsS0FBSSxLQUFLLE9BQU8sSUFBSSxDQUFDO0FBQzNCLE1BQUFBLEtBQUksS0FBSyxZQUFZLEdBQUcsZUFBZUEsRUFBQyxJQUFJLEtBQUssWUFBWSxDQUFDO0FBQUEsSUFDaEU7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxRQUFRLEdBQUcsR0FBRztBQUNaLFFBQUksS0FBSyxPQUFPLENBQUMsTUFBTTtBQUNyQixZQUFNLE1BQU0saUJBQWlCO0FBQy9CLFNBQUssT0FBTyxDQUFDLEVBQUUsT0FBTyxZQUFZLEVBQUUsTUFBTSxHQUFHLEtBQUssT0FBTyxDQUFDLElBQUk7QUFBQSxFQUNoRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsV0FBVyxHQUFHLEdBQUc7QUFDZixVQUFNRCxLQUFJLElBQUksaUJBQWlCO0FBQy9CLGVBQVcsS0FBSztBQUNkLE1BQUFBLEdBQUUsWUFBWSxFQUFFLE1BQU07QUFDeEIsUUFBSSxLQUFLLFNBQVMsR0FBRztBQUNuQixVQUFJLElBQUksR0FBRztBQUNULGNBQU0sSUFBSSxLQUFLLElBQUksSUFBSSxHQUFHLEtBQUssU0FBUyxDQUFDO0FBQ3pDLGFBQUssT0FBTyxDQUFDLEVBQUUsT0FBTyxNQUFNQSxFQUFDO0FBQUEsTUFDL0I7QUFDRSxjQUFNLEtBQUssS0FBSyxZQUFZLFFBQVFBLEVBQUM7QUFDdkMsV0FBSyxPQUFPLE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQy9CO0FBQ0UsV0FBSyxPQUFPLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxZQUFZLFlBQVlBLEVBQUM7QUFDeEQsTUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUM7QUFBQSxFQUNyQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU8sR0FBRztBQUNSLFVBQU0sQ0FBQyxNQUFNLElBQUksS0FBSyxTQUFTLElBQUksS0FBSyxPQUFPLENBQUMsRUFBRSxPQUFPLE9BQU8sR0FBRyxLQUFLLE9BQU8sQ0FBQyxFQUFFLEtBQUssRUFBRSxPQUFPLEdBQUcsS0FBSyxPQUFPLE9BQU8sR0FBRyxDQUFDO0FBQUEsRUFDNUg7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFlBQVk7QUFDVixTQUFLLFlBQVksWUFBWSxJQUFJLEtBQUssT0FBTyxRQUFRLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxLQUFLLE9BQU8sU0FBUztBQUFBLEVBQ3ZHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLFlBQVksR0FBRyxHQUFHO0FBQ2hCLFVBQU1BLEtBQUksS0FBSyxPQUFPLFFBQVEsQ0FBQztBQUMvQixTQUFLLE9BQU9BLEtBQUksR0FBRyxDQUFDO0FBQUEsRUFDdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksR0FBRztBQUNMLFdBQU8sS0FBSyxPQUFPLENBQUM7QUFBQSxFQUN0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsUUFBUSxHQUFHO0FBQ1QsV0FBTyxLQUFLLE9BQU8sUUFBUSxDQUFDO0FBQUEsRUFDOUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsWUFBWSxHQUFHLEdBQUdBLElBQUc7QUFDbkIsUUFBSUEsR0FBRSxPQUFPLHNCQUFzQixHQUFHLEVBQUUsTUFBTSxJQUFJLEtBQUssWUFBWSxZQUFZLEVBQUUsTUFBTSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVE7QUFBQSxFQUM3RztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0Esa0JBQWtCLEdBQUcsR0FBRztBQUN0QixXQUFPLElBQUksWUFBWSxHQUFHO0FBQUEsTUFDeEIsUUFBUTtBQUFBLElBQ1YsQ0FBQztBQUFBLEVBQ0g7QUFDRjtBQUNBLElBQU0sS0FBSztBQUFYLElBQTRCLEtBQUs7QUFBakMsSUFBZ0QsS0FBSztBQUFyRCxJQUFvRSxLQUFLO0FBQ3pFLElBQU0sS0FBTixNQUFTO0FBQUEsRUFDUCxjQUFjO0FBQ1osU0FBSyxZQUFZLFFBQVEsUUFBUTtBQUFBLEVBQ25DO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxHQUFHO0FBQ0wsV0FBTyxJQUFJLFFBQVEsQ0FBQyxHQUFHQSxPQUFNO0FBQzNCLFdBQUssWUFBWSxLQUFLLFVBQVUsS0FBSyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsTUFBTUEsRUFBQztBQUFBLElBQ3pELENBQUM7QUFBQSxFQUNIO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBLEVBQ2pCLGNBQWM7QUFDWixVQUFNLEdBQUcsU0FBUyxHQUFHLEtBQUsscUJBQXFCLElBQUksS0FBSyxVQUFVO0FBQUEsRUFDcEU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLG9CQUFvQjtBQUN0QixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxrQkFBa0IsR0FBRztBQUN2QixTQUFLLHFCQUFxQjtBQUFBLEVBQzVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxhQUFhO0FBQ2YsV0FBTyxLQUFLLFFBQVEsQ0FBQztBQUFBLEVBQ3ZCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxZQUFZO0FBQ2QsV0FBTyxLQUFLLFFBQVEsS0FBSyxRQUFRLFNBQVMsQ0FBQztBQUFBLEVBQzdDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxlQUFlO0FBQ2pCLFdBQU8sS0FBSyxRQUFRLEtBQUssaUJBQWlCO0FBQUEsRUFDNUM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGFBQWEsR0FBRztBQUNsQixTQUFLLG9CQUFvQixLQUFLLGNBQWMsQ0FBQztBQUFBLEVBQy9DO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxZQUFZO0FBQ2QsV0FBTyxLQUFLLHNCQUFzQixLQUFLLFFBQVEsU0FBUyxJQUFJLE9BQU8sS0FBSyxRQUFRLEtBQUssb0JBQW9CLENBQUM7QUFBQSxFQUM1RztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksc0JBQXNCO0FBQ3hCLFdBQU8sS0FBSyxPQUFPLE1BQU0sS0FBSyxvQkFBb0IsQ0FBQyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE9BQU8sTUFBTTtBQUFBLEVBQ3BGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSwwQkFBMEI7QUFDNUIsV0FBTyxLQUFLLE9BQU8sTUFBTSxHQUFHLEtBQUssaUJBQWlCLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE9BQU8sTUFBTTtBQUFBLEVBQzdGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxnQkFBZ0I7QUFDbEIsV0FBTyxLQUFLLHNCQUFzQixJQUFJLE9BQU8sS0FBSyxRQUFRLEtBQUssb0JBQW9CLENBQUM7QUFBQSxFQUN0RjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksU0FBUztBQUNYLFdBQU8sS0FBSyxRQUFRO0FBQUEsRUFDdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGdCQUFnQjtBQUNsQixXQUFPLEtBQUssT0FBTyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU87QUFBQSxFQUMzQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxVQUFVO0FBQ1IsVUFBTSxJQUFJLElBQUksR0FBRyxLQUFLLE9BQU8sR0FBRyxNQUFNLFFBQVE7QUFDOUMsU0FBSyxVQUFVLElBQUksTUFBTSxHQUFHO0FBQUEsTUFDMUIsS0FBSyxHQUFHO0FBQUEsTUFDUixLQUFLLEdBQUc7QUFBQSxJQUNWLENBQUMsR0FBRyxLQUFLLFVBQVU7QUFBQSxNQUNqQjtBQUFBLE1BQ0E7QUFBQSxNQUNBLENBQUMsTUFBTSxLQUFLLE9BQU8sWUFBWSxlQUFlLENBQUM7QUFBQSxJQUNqRDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFZQSxlQUFlLEdBQUc7QUFDaEIsUUFBSSxLQUFLLHNCQUFzQixJQUFJLEtBQUsscUJBQXFCO0FBQUEsRUFDL0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVVBLGFBQWE7QUFBQSxJQUNYLE1BQU07QUFBQSxJQUNOLE1BQU0sSUFBSSxDQUFDO0FBQUEsSUFDWCxJQUFJQSxLQUFJO0FBQUEsSUFDUixPQUFPLElBQUksQ0FBQztBQUFBLEVBQ2QsR0FBRztBQUNELFVBQU1DLEtBQUksS0FBSyxPQUFPLFNBQVMsV0FBV0MsS0FBSSxLQUFLLE9BQU8sTUFBTSxXQUFXLElBQUksQ0FBQyxHQUFHQyxLQUFJLElBQUksRUFBRTtBQUFBLE1BQzNGLElBQUlIO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixNQUFNRTtBQUFBLE1BQ04sS0FBSyxLQUFLLE9BQU87QUFBQSxNQUNqQixVQUFVRDtBQUFBLE1BQ1YsV0FBVztBQUFBLElBQ2IsR0FBRyxLQUFLLGdCQUFnQjtBQUN4QixXQUFPQSxNQUFLLE9BQU8sb0JBQW9CLE1BQU07QUFDM0MsV0FBSyxnQkFBZ0JFLEVBQUM7QUFBQSxJQUN4QixHQUFHLEVBQUUsU0FBUyxJQUFJLENBQUMsR0FBR0E7QUFBQSxFQUN4QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBYUEsT0FBTztBQUFBLElBQ0wsSUFBSSxJQUFJO0FBQUEsSUFDUixNQUFNLElBQUksS0FBSyxPQUFPO0FBQUEsSUFDdEIsTUFBTUgsS0FBSSxDQUFDO0FBQUEsSUFDWCxPQUFPO0FBQUEsSUFDUCxhQUFhQyxLQUFJO0FBQUEsSUFDakIsU0FBU0MsS0FBSTtBQUFBLElBQ2IsT0FBT0MsS0FBSSxDQUFDO0FBQUEsRUFDZCxJQUFJLENBQUMsR0FBRztBQUNOLFFBQUlDLEtBQUk7QUFDUixJQUFBQSxPQUFNLFdBQVdBLEtBQUksS0FBSyxxQkFBcUJGLEtBQUksSUFBSTtBQUN2RCxVQUFNRyxLQUFJLEtBQUssYUFBYTtBQUFBLE1BQzFCLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLE1BQU1MO0FBQUEsTUFDTixPQUFPRztBQUFBLElBQ1QsQ0FBQztBQUNELFdBQU9ELE1BQUssS0FBSyxnQkFBZ0IsSUFBSSxLQUFLLGdCQUFnQkUsRUFBQyxHQUFHO0FBQUEsTUFDNUQsT0FBT0E7QUFBQSxJQUNULENBQUMsR0FBRyxLQUFLLFFBQVEsT0FBT0EsSUFBR0MsSUFBR0gsRUFBQyxHQUFHLEtBQUssZ0JBQWdCLElBQUlHLElBQUc7QUFBQSxNQUM1RCxPQUFPRDtBQUFBLElBQ1QsQ0FBQyxHQUFHSCxLQUFJLEtBQUssb0JBQW9CRyxLQUFJQSxNQUFLLEtBQUsscUJBQXFCLEtBQUsscUJBQXFCQztBQUFBLEVBQ2hHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLEdBQUcsSUFBSSxHQUFHO0FBQ25CLFNBQUssUUFBUSxXQUFXLEdBQUcsQ0FBQztBQUFBLEVBQzlCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFhQSxNQUFNLE9BQU8sR0FBRyxHQUFHTCxJQUFHO0FBQ3BCLFFBQUksQ0FBQyxLQUFLLENBQUNBO0FBQ1QsYUFBTztBQUNULFVBQU0sSUFBSSxNQUFNLEVBQUUsTUFBTUMsS0FBSSxLQUFLLGFBQWE7QUFBQSxNQUM1QyxJQUFJLEVBQUU7QUFBQSxNQUNOLE1BQU0sRUFBRTtBQUFBLE1BQ1IsTUFBTSxPQUFPLE9BQU8sQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFBQSxNQUNsQyxPQUFPRCxNQUFLLEVBQUU7QUFBQSxJQUNoQixDQUFDLEdBQUdFLEtBQUksS0FBSyxjQUFjLENBQUM7QUFDNUIsV0FBTyxLQUFLLFFBQVEsUUFBUUEsSUFBR0QsRUFBQyxHQUFHLEtBQUssZ0JBQWdCLElBQUlBLElBQUc7QUFBQSxNQUM3RCxPQUFPQztBQUFBLElBQ1QsQ0FBQyxHQUFHRDtBQUFBLEVBQ047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsUUFBUSxHQUFHLEdBQUdELElBQUc7QUFDZixVQUFNLElBQUksS0FBSyxjQUFjLENBQUM7QUFDOUIsV0FBTyxLQUFLLE9BQU87QUFBQSxNQUNqQixNQUFNO0FBQUEsTUFDTixNQUFNQTtBQUFBLE1BQ04sT0FBTztBQUFBLE1BQ1AsU0FBUztBQUFBLElBQ1gsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsTUFBTSxHQUFHLEdBQUdBLEtBQUksT0FBSTtBQUNsQixVQUFNLElBQUksS0FBSyxPQUFPO0FBQUEsTUFDcEIsTUFBTTtBQUFBLE1BQ04sU0FBU0E7QUFBQSxJQUNYLENBQUM7QUFDRCxRQUFJO0FBQ0YsYUFBTyxvQkFBb0IsTUFBTTtBQUMvQixVQUFFLEtBQUssRUFBRSxVQUFVLENBQUM7QUFBQSxNQUN0QixDQUFDO0FBQUEsSUFDSCxTQUFTQyxJQUFHO0FBQ1YsUUFBRSxHQUFHLENBQUMscUNBQXFDLFNBQVNBLEVBQUM7QUFBQSxJQUN2RDtBQUNBLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFVQSwwQkFBMEIsR0FBRyxJQUFJLE9BQUk7QUFDbkMsVUFBTUQsS0FBSSxLQUFLLGFBQWEsRUFBRSxNQUFNLEtBQUssT0FBTyxhQUFhLENBQUM7QUFDOUQsV0FBTyxLQUFLLFFBQVEsQ0FBQyxJQUFJQSxJQUFHLEtBQUssZ0JBQWdCLElBQUlBLElBQUc7QUFBQSxNQUN0RCxPQUFPO0FBQUEsSUFDVCxDQUFDLEdBQUcsSUFBSSxLQUFLLG9CQUFvQixJQUFJLEtBQUssS0FBSyxxQkFBcUIsS0FBSyxxQkFBcUJBO0FBQUEsRUFDaEc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxjQUFjO0FBQ1osV0FBTyxLQUFLLG9CQUFvQixLQUFLLE9BQU8sU0FBUyxHQUFHLEtBQUssT0FBTztBQUFBLEVBQ3RFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE1BQU0sWUFBWSxHQUFHLEdBQUc7QUFDdEIsUUFBSUE7QUFDSixRQUFJLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxXQUFXO0FBQ3BDLFlBQU0sSUFBSSxNQUFNLEVBQUU7QUFDbEIsVUFBSSxFQUFFLENBQUMsR0FBRztBQUNSLGdCQUFRLE1BQU0sK0RBQStEO0FBQzdFO0FBQUEsTUFDRjtBQUNBLFlBQU0sQ0FBQ0MsRUFBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLGNBQWM7QUFDekMsTUFBQUQsS0FBSUM7QUFBQSxJQUNOLFdBQVcsRUFBRSxhQUFhLEdBQUcsR0FBRyxRQUFRLEtBQUssR0FBRyxHQUFHLFFBQVEsR0FBRztBQUM1RCxZQUFNLElBQUksTUFBTSxFQUFFLG1CQUFtQixHQUFHQSxLQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssY0FBYztBQUN0RSxNQUFBRCxLQUFJLEdBQUdDLElBQUcsRUFBRSxLQUFLLGdCQUFnQjtBQUFBLElBQ25DO0FBQ0EsSUFBQUQsT0FBTSxXQUFXLE1BQU0sRUFBRSxVQUFVQSxFQUFDLEdBQUcsS0FBSyxZQUFZLENBQUMsR0FBRyxLQUFLLG9CQUFvQixLQUFLLFFBQVEsUUFBUSxDQUFDO0FBQUEsRUFDN0c7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFlBQVksR0FBRyxJQUFJLE1BQUk7QUFDckIsV0FBTyxJQUFJLFFBQVEsQ0FBQ0EsT0FBTTtBQUN4QixZQUFNLElBQUksS0FBSyxRQUFRLFFBQVEsQ0FBQztBQUNoQyxVQUFJLENBQUMsS0FBSyxjQUFjLENBQUM7QUFDdkIsY0FBTSxJQUFJLE1BQU0sOEJBQThCO0FBQ2hELFFBQUUsUUFBUSxHQUFHLEtBQUssUUFBUSxPQUFPLENBQUMsR0FBRyxLQUFLLGdCQUFnQixJQUFJLEdBQUc7QUFBQSxRQUMvRCxPQUFPO0FBQUEsTUFDVCxDQUFDLEdBQUcsS0FBSyxxQkFBcUIsS0FBSyxLQUFLLHFCQUFxQixLQUFLLE9BQU8sU0FBUyxNQUFNLE1BQU0sS0FBSyxvQkFBb0IsTUFBTSxLQUFLLGtCQUFrQixHQUFHLEtBQUssS0FBSyxPQUFPLElBQUlBLEdBQUU7QUFBQSxJQUNoTCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsdUJBQXVCO0FBQ3JCLFFBQUk7QUFDSixhQUFTLElBQUksS0FBSyxPQUFPLFNBQVMsR0FBRyxLQUFLLEdBQUc7QUFDM0MsV0FBSyxPQUFPLENBQUMsRUFBRSxhQUFhLEtBQUssWUFBWSxLQUFLLE9BQU8sQ0FBQyxDQUFDLEdBQUcsSUFBSTtBQUNwRSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGtCQUFrQjtBQUNoQixhQUFTLElBQUksS0FBSyxPQUFPLFNBQVMsR0FBRyxLQUFLLEdBQUc7QUFDM0MsV0FBSyxRQUFRLE9BQU8sQ0FBQztBQUN2QixTQUFLLGtCQUFrQixHQUFHLEtBQUssT0FBTyxHQUFHLEtBQUssYUFBYSxXQUFXLE1BQU07QUFBQSxFQUM5RTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxRQUFRO0FBQ04sVUFBTSxJQUFJLEtBQUssT0FBTyxNQUFNLGlDQUFpQyxHQUFHLElBQUksRUFBRSxLQUFLLEtBQUs7QUFDaEYsTUFBRSxZQUFZLENBQUM7QUFDZixVQUFNQSxLQUFJO0FBQUEsTUFDUixNQUFNLEVBQUUsUUFBUSxDQUFDLElBQUksS0FBSyxFQUFFO0FBQUEsSUFDOUI7QUFDQSxXQUFPLEtBQUssT0FBTyxFQUFFLE1BQU1BLEdBQUUsQ0FBQztBQUFBLEVBQ2hDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxnQkFBZ0IsR0FBRztBQUNqQixXQUFPLE1BQU0sT0FBTyxJQUFJLEtBQUssUUFBUSxTQUFTLElBQUksS0FBSyxRQUFRLENBQUM7QUFBQSxFQUNsRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGNBQWMsR0FBRztBQUNmLFdBQU8sS0FBSyxRQUFRLFFBQVEsQ0FBQztBQUFBLEVBQy9CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxhQUFhLEdBQUc7QUFDZCxXQUFPLEtBQUssUUFBUSxNQUFNLEtBQUssQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO0FBQUEsRUFDbEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTLEdBQUc7QUFDVixNQUFFLFVBQVUsQ0FBQyxNQUFNLElBQUksRUFBRTtBQUN6QixVQUFNLElBQUksS0FBSyxRQUFRLE9BQU9BLEtBQUksRUFBRSxRQUFRLElBQUksRUFBRSxJQUFJLE9BQU8sRUFBRSxHQUFHLElBQUksRUFBRSxRQUFRQSxFQUFDO0FBQ2pGLFFBQUksS0FBSztBQUNQLGFBQU8sS0FBSyxRQUFRLENBQUM7QUFBQSxFQUN6QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSwyQkFBMkIsR0FBRztBQUM1QixNQUFFLFVBQVUsQ0FBQyxNQUFNLElBQUksRUFBRTtBQUN6QixVQUFNLElBQUksRUFBRSxRQUFRLElBQUksRUFBRSxJQUFJLE9BQU8sRUFBRTtBQUN2QyxRQUFJLENBQUM7QUFDSDtBQUNGLFVBQU1BLEtBQUksRUFBRSxRQUFRLElBQUksS0FBSyxPQUFPLEdBQUcsSUFBSSxhQUFhLEVBQUU7QUFDMUQsUUFBSUEsTUFBSyxRQUFRQSxHQUFFLFlBQVksS0FBSyxPQUFPLEdBQUcsTUFBTSxPQUFPO0FBQ3pELGFBQU8sS0FBSyxvQkFBb0IsS0FBSyxRQUFRLE1BQU0sUUFBUSxDQUFDLEdBQUcsS0FBSyxhQUFhLG1CQUFtQixHQUFHLEtBQUs7QUFBQSxFQUNoSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0Esb0JBQW9CLEdBQUc7QUFDckIsUUFBSSxDQUFDLEtBQUssRUFBRSxhQUFhO0FBQ3ZCO0FBQ0YsTUFBRSxVQUFVLENBQUMsTUFBTSxJQUFJLEVBQUU7QUFDekIsVUFBTSxJQUFJLEVBQUUsUUFBUSxJQUFJLEVBQUUsSUFBSSxPQUFPLEVBQUU7QUFDdkMsV0FBTyxLQUFLLE9BQU8sS0FBSyxDQUFDQSxPQUFNQSxHQUFFLFdBQVcsQ0FBQztBQUFBLEVBQy9DO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLEtBQUssR0FBRyxHQUFHO0FBQ1QsU0FBSyxRQUFRLEtBQUssR0FBRyxDQUFDLEdBQUcsS0FBSyxvQkFBb0I7QUFBQSxFQUNwRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsS0FBSyxHQUFHLElBQUksS0FBSyxtQkFBbUI7QUFDbEMsUUFBSSxNQUFNLENBQUMsS0FBSyxNQUFNLENBQUMsR0FBRztBQUN4QixRQUFFLDJEQUEyRCxNQUFNO0FBQ25FO0FBQUEsSUFDRjtBQUNBLFFBQUksQ0FBQyxLQUFLLGNBQWMsQ0FBQyxLQUFLLENBQUMsS0FBSyxjQUFjLENBQUMsR0FBRztBQUNwRCxRQUFFLG9HQUFvRyxNQUFNO0FBQzVHO0FBQUEsSUFDRjtBQUNBLFNBQUssUUFBUSxLQUFLLEdBQUcsQ0FBQyxHQUFHLEtBQUssb0JBQW9CLEdBQUcsS0FBSyxnQkFBZ0IsSUFBSSxLQUFLLGNBQWM7QUFBQSxNQUMvRixXQUFXO0FBQUEsTUFDWCxTQUFTO0FBQUEsSUFDWCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLE1BQU0sUUFBUSxHQUFHLEdBQUdBLElBQUc7QUFDckIsUUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLO0FBQ2hCLFlBQU0sSUFBSSxNQUFNLGlFQUFpRTtBQUNuRixVQUFNQyxLQUFJLEtBQUssT0FBTyxNQUFNLFdBQVcsSUFBSSxDQUFDO0FBQzVDLFFBQUksQ0FBQ0E7QUFDSCxZQUFNLElBQUksTUFBTSxxQ0FBa0MsQ0FBQyxpQkFBYztBQUNuRSxVQUFNQyxLQUFJLE1BQU0sRUFBRSxtQkFBbUIsR0FBR0MsS0FBSTtBQUFBLE1BQzFDRDtBQUFBLE1BQ0FELEdBQUU7QUFBQSxJQUNKO0FBQ0EsUUFBSUcsS0FBSSxHQUFHRCxJQUFHRixHQUFFLGdCQUFnQjtBQUNoQyxXQUFPRCxPQUFNSSxLQUFJLE9BQU8sT0FBT0EsSUFBR0osRUFBQyxJQUFJLEtBQUssUUFBUSxHQUFHQyxHQUFFLE1BQU1HLEVBQUM7QUFBQSxFQUNsRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxvQkFBb0I7QUFDbEIsU0FBSyxvQkFBb0I7QUFBQSxFQUMzQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxNQUFNLE1BQU0sSUFBSSxPQUFJO0FBQ2xCLFVBQU0sSUFBSSxJQUFJLEdBQUc7QUFDakIsU0FBSyxPQUFPLFFBQVEsQ0FBQ0osT0FBTTtBQUN6QixRQUFFLElBQUksWUFBWTtBQUNoQixjQUFNLEtBQUssWUFBWUEsSUFBRyxLQUFFO0FBQUEsTUFDOUIsQ0FBQztBQUFBLElBQ0gsQ0FBQyxHQUFHLE1BQU0sRUFBRSxXQUFXLEtBQUssa0JBQWtCLEdBQUcsS0FBSyxLQUFLLE9BQU8sR0FBRyxLQUFLLE9BQU8sR0FBRyxlQUFlO0FBQUEsRUFDckc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsTUFBTSxVQUFVO0FBQ2QsVUFBTSxRQUFRLElBQUksS0FBSyxPQUFPLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFBQSxFQUN2RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGdCQUFnQixHQUFHO0FBQ2pCLFVBQU0sRUFBRSxhQUFhLEVBQUUsSUFBSSxLQUFLO0FBQ2hDLFNBQUsseUJBQXlCLEdBQUcsRUFBRSxRQUFRLFdBQVcsQ0FBQ0EsT0FBTTtBQUMzRCxRQUFFLFFBQVFBLEVBQUM7QUFBQSxJQUNiLENBQUMsR0FBRyxLQUFLLHlCQUF5QixHQUFHLEVBQUUsUUFBUSxTQUFTLENBQUNBLE9BQU07QUFDN0QsUUFBRSxNQUFNQSxFQUFDO0FBQUEsSUFDWCxDQUFDLEdBQUcsS0FBSyx5QkFBeUIsR0FBRyxFQUFFLFFBQVEsWUFBWSxDQUFDQSxPQUFNO0FBQ2hFLFFBQUUsU0FBU0EsRUFBQztBQUFBLElBQ2QsQ0FBQyxHQUFHLEtBQUsseUJBQXlCLEdBQUcsRUFBRSxRQUFRLGFBQWEsQ0FBQ0EsT0FBTTtBQUNqRSxRQUFFLFVBQVVBLEVBQUM7QUFBQSxJQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsY0FBYyxDQUFDQSxPQUFNLEtBQUssZ0JBQWdCLElBQUlBLElBQUc7QUFBQSxNQUN4RCxPQUFPLEtBQUssY0FBY0EsRUFBQztBQUFBLElBQzdCLENBQUMsQ0FBQztBQUFBLEVBQ0o7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHdCQUF3QjtBQUN0QixTQUFLLHlCQUF5QixTQUFTO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHVCQUF1QjtBQUNyQixTQUFLLHlCQUF5QjtBQUFBLE1BQzVCO0FBQUEsTUFDQTtBQUFBLE1BQ0EsQ0FBQyxNQUFNLEtBQUssT0FBTyxZQUFZLGVBQWUsQ0FBQztBQUFBLElBQ2pELEdBQUcsS0FBSyxPQUFPLFFBQVEsQ0FBQyxNQUFNO0FBQzVCLFdBQUssZ0JBQWdCLENBQUM7QUFBQSxJQUN4QixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsY0FBYyxHQUFHO0FBQ2YsV0FBTyxFQUFFLElBQUksS0FBSyxLQUFLLEtBQUssUUFBUTtBQUFBLEVBQ3RDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLGdCQUFnQixHQUFHLEdBQUdBLElBQUc7QUFDdkIsVUFBTSxJQUFJLElBQUksWUFBWSxHQUFHO0FBQUEsTUFDM0IsUUFBUTtBQUFBLFFBQ04sUUFBUSxJQUFJLEVBQUUsQ0FBQztBQUFBLFFBQ2YsR0FBR0E7QUFBQSxNQUNMO0FBQUEsSUFDRixDQUFDO0FBQ0QsV0FBTyxLQUFLLGlCQUFpQixLQUFLLElBQUk7QUFBQSxNQUNwQyxPQUFPO0FBQUEsSUFDVCxDQUFDLEdBQUc7QUFBQSxFQUNOO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBLEVBQ2pCLGNBQWM7QUFDWixVQUFNLEdBQUcsU0FBUyxHQUFHLEtBQUssd0JBQXdCLE1BQU0sS0FBSyxrQkFBa0IsT0FBSSxLQUFLLHNCQUFzQixPQUFJLEtBQUssd0JBQXdCO0FBQUEsRUFDako7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGtCQUFrQjtBQUNwQixXQUFPO0FBQUEsTUFDTCxHQUFHLENBQUM7QUFBQSxNQUNKLElBQUksQ0FBQztBQUFBLE1BQ0wsSUFBSSxDQUFDO0FBQUEsTUFDTCxJQUFJLENBQUM7QUFBQSxNQUNMLElBQUksQ0FBQztBQUFBLE1BQ0wsSUFBSSxDQUFDO0FBQUEsTUFDTCxJQUFJLENBQUM7QUFBQSxNQUNMLElBQUksQ0FBQztBQUFBLE1BQ0wsSUFBSSxDQUFDO0FBQUEsTUFDTCxJQUFJLENBQUM7QUFBQSxNQUNMLElBQUk7QUFBQSxNQUNKLEtBQUs7QUFBQSxRQUNILEtBQUs7QUFBQSxRQUNMLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxNQUNWO0FBQUEsTUFDQSxHQUFHO0FBQUEsUUFDRCxNQUFNO0FBQUEsTUFDUjtBQUFBLE1BQ0EsR0FBRyxDQUFDO0FBQUEsTUFDSixHQUFHLENBQUM7QUFBQSxNQUNKLEdBQUcsQ0FBQztBQUFBLElBQ047QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxvQkFBb0I7QUFDdEIsVUFBTSxFQUFFLGNBQWMsRUFBRSxJQUFJLEtBQUs7QUFDakMsV0FBTyxFQUFFLE9BQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxhQUFhLElBQUU7QUFBQSxFQUNoRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksa0JBQWtCLEdBQUc7QUFDdkIsVUFBTSxFQUFFLGNBQWMsRUFBRSxJQUFJLEtBQUs7QUFDakMsTUFBRSxPQUFPLFFBQVEsQ0FBQ0EsT0FBTTtBQUN0QixNQUFBQSxHQUFFLFdBQVc7QUFBQSxJQUNmLENBQUMsR0FBRyxLQUFLLFdBQVc7QUFBQSxFQUN0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksbUJBQW1CO0FBQ3JCLFVBQU0sRUFBRSxjQUFjLEVBQUUsSUFBSSxLQUFLO0FBQ2pDLFdBQU8sS0FBSywwQkFBMEIsU0FBUyxLQUFLLHdCQUF3QixFQUFFLE9BQU8sS0FBSyxDQUFDLE1BQU0sRUFBRSxhQUFhLElBQUUsSUFBSSxLQUFLO0FBQUEsRUFDN0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGlCQUFpQjtBQUNuQixXQUFPLEtBQUssT0FBTyxhQUFhLE9BQU8sT0FBTyxDQUFDLE1BQU0sRUFBRSxRQUFRO0FBQUEsRUFDakU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVO0FBQ1IsU0FBSyxZQUFZLElBQUksRUFBRSxHQUFHLEdBQUcsSUFBSTtBQUFBLE1BQy9CLE1BQU07QUFBQSxNQUNOLFNBQVMsQ0FBQyxNQUFNO0FBQ2QsY0FBTSxFQUFFLGNBQWMsR0FBRyxVQUFVQSxHQUFFLElBQUksS0FBSztBQUM5QyxZQUFJQSxHQUFFLFdBQVc7QUFDZixZQUFFLGVBQWUsR0FBRyxLQUFLLGdCQUFnQjtBQUN6QztBQUFBLFFBQ0Y7QUFDQSxVQUFFLGdCQUFnQixLQUFLLGVBQWUsQ0FBQztBQUFBLE1BQ3pDO0FBQUEsTUFDQSxJQUFJLEtBQUssT0FBTyxHQUFHLE1BQU07QUFBQSxJQUMzQixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsaUJBQWlCO0FBQ2YsTUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxvQkFBb0I7QUFBQSxFQUN0RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLHFCQUFxQixHQUFHO0FBQ3RCLFVBQU0sRUFBRSxjQUFjLEVBQUUsSUFBSSxLQUFLO0FBQ2pDLFFBQUlBO0FBQ0osVUFBTSxDQUFDLElBQUlBLEtBQUksRUFBRSxlQUFlQSxLQUFJLEVBQUUsZ0JBQWdCLENBQUMsR0FBR0EsR0FBRSxXQUFXLE9BQUksS0FBSyxXQUFXO0FBQUEsRUFDN0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGVBQWUsR0FBRyxJQUFJLE9BQUk7QUFDeEIsVUFBTSxFQUFFLGNBQWNBLElBQUcsT0FBTyxHQUFHLG9CQUFvQkMsR0FBRSxJQUFJLEtBQUs7QUFDbEUsU0FBSyxrQkFBa0IsT0FBSSxLQUFLLHNCQUFzQixPQUFJLEtBQUssd0JBQXdCO0FBQ3ZGLFVBQU1DLEtBQUksS0FBSyxhQUFhLGVBQWVDLEtBQUlELE1BQUssR0FBRyxFQUFFLE9BQU87QUFDaEUsUUFBSSxLQUFLLG9CQUFvQkEsTUFBS0MsTUFBSyxDQUFDLEVBQUUsbUJBQW1CO0FBQzNELFlBQU1DLEtBQUlKLEdBQUUscUJBQXFCO0FBQ2pDLE1BQUFBLEdBQUUsMEJBQTBCSSxJQUFHLElBQUUsR0FBRyxFQUFFLFdBQVdKLEdBQUUsWUFBWSxHQUFHLEdBQUcsTUFBTTtBQUN6RSxjQUFNSyxLQUFJLEVBQUU7QUFDWixVQUFFLDZCQUE2QkEsR0FBRSxTQUFTLElBQUksS0FBS0EsRUFBQztBQUFBLE1BQ3RELEdBQUcsRUFBRSxFQUFFO0FBQUEsSUFDVDtBQUNBLFFBQUksS0FBSyxPQUFPLG9CQUFvQixNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssb0JBQW9CSixHQUFFLGdCQUFnQixHQUFHO0FBQzNGLFdBQUssT0FBTyxtQkFBbUIsZUFBZTtBQUM5QztBQUFBLElBQ0Y7QUFDQSxTQUFLLEtBQUssVUFBVSxRQUFRLEdBQUcsS0FBSyxvQkFBb0I7QUFBQSxFQUMxRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsbUJBQW1CLEdBQUc7QUFDcEIsTUFBRSxlQUFlO0FBQ2pCLFVBQU0sSUFBSSxFQUFFLEtBQUssS0FBSztBQUN0QixTQUFLLGVBQWUsUUFBUSxDQUFDQSxPQUFNO0FBQ2pDLFlBQU1DLEtBQUksRUFBRUQsR0FBRSxPQUFPLFdBQVcsS0FBSyxlQUFlLEdBQUdFLEtBQUksRUFBRSxLQUFLLEdBQUc7QUFDckUsTUFBQUEsR0FBRSxZQUFZRCxJQUFHLEVBQUUsWUFBWUMsRUFBQztBQUFBLElBQ2xDLENBQUM7QUFDRCxVQUFNSCxLQUFJLE1BQU0sS0FBSyxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUNDLE9BQU1BLEdBQUUsV0FBVyxFQUFFLEtBQUs7QUFBQTtBQUFBLENBRXJFLEdBQUcsSUFBSSxFQUFFO0FBQ04sV0FBTyxFQUFFLGNBQWMsUUFBUSxjQUFjRCxFQUFDLEdBQUcsRUFBRSxjQUFjLFFBQVEsYUFBYSxDQUFDLEdBQUcsUUFBUSxJQUFJLEtBQUssZUFBZSxJQUFJLENBQUNDLE9BQU1BLEdBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUNBLE9BQU07QUFDMUosVUFBSTtBQUNGLFVBQUUsY0FBYyxRQUFRLEtBQUssT0FBTyxNQUFNLFdBQVcsS0FBSyxVQUFVQSxFQUFDLENBQUM7QUFBQSxNQUN4RSxRQUFRO0FBQUEsTUFDUjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxtQkFBbUIsR0FBRztBQUNwQixVQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSyxRQUFRRCxLQUFJLEVBQUUsZ0JBQWdCLENBQUM7QUFDaEUsSUFBQUEsT0FBTSxVQUFVLEtBQUssWUFBWUEsRUFBQztBQUFBLEVBQ3BDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsWUFBWSxHQUFHO0FBQ2IsU0FBSyxVQUFVLEtBQUssR0FBRyxFQUFFLElBQUksRUFBRSxnQkFBZ0IsR0FBRyxFQUFFLFdBQVcsTUFBSSxLQUFLLFdBQVcsR0FBRyxLQUFLLE9BQU8sY0FBYyxNQUFNO0FBQUEsRUFDeEg7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxjQUFjLEdBQUc7QUFDZixNQUFFLFdBQVcsT0FBSSxLQUFLLFdBQVc7QUFBQSxFQUNuQztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFNBQUssd0JBQXdCO0FBQUEsRUFDL0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsVUFBVTtBQUNSLE9BQUcsT0FBTyxLQUFLLE9BQU8sR0FBRyxNQUFNLFVBQVUsT0FBTztBQUFBLEVBQ2xEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxlQUFlLEdBQUc7QUFDaEIsUUFBSSxLQUFLLE9BQU8sbUJBQW1CLGVBQWUsR0FBRyxFQUFFLGNBQWMsRUFBRSxNQUFNLEtBQUssQ0FBQyxLQUFLLHVCQUF1QjtBQUM3RyxXQUFLLHdCQUF3QjtBQUM3QjtBQUFBLElBQ0Y7QUFDQSxVQUFNLElBQUksS0FBSyxPQUFPLGFBQWEsU0FBUyxFQUFFLE1BQU0sR0FBR0EsS0FBSSxFQUFFO0FBQzdELFFBQUlBLEdBQUUsU0FBUyxLQUFLLENBQUMsS0FBSyx1QkFBdUI7QUFDL0MsV0FBSyx3QkFBd0I7QUFDN0I7QUFBQSxJQUNGO0FBQ0EsUUFBSUEsR0FBRSxXQUFXLEtBQUssQ0FBQyxLQUFLLGlCQUFpQjtBQUMzQyxXQUFLLGtCQUFrQjtBQUN2QjtBQUFBLElBQ0Y7QUFDQSxTQUFLLG1CQUFtQixFQUFFLGVBQWUsR0FBRyxLQUFLLGdCQUFnQixHQUFHLEtBQUssa0JBQWtCLE9BQUksS0FBSyx3QkFBd0IsU0FBTSxLQUFLLDBCQUEwQixFQUFFLGVBQWUsR0FBRyxLQUFLLFlBQVksQ0FBQyxHQUFHLEtBQUssa0JBQWtCO0FBQUEsRUFDbk87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0Esa0JBQWtCO0FBQ2hCLFNBQUssVUFBVSxLQUFLLEdBQUcsRUFBRSxJQUFJLEVBQUUsZ0JBQWdCLEdBQUcsS0FBSyxvQkFBb0IsTUFBSSxLQUFLLE9BQU8sY0FBYyxNQUFNO0FBQUEsRUFDakg7QUFDRjtBQUNBLElBQU0sS0FBTixNQUFNLFlBQVcsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT2pCLElBQUksWUFBWTtBQUNkLFdBQU87QUFBQSxNQUNMLE9BQU87QUFBQSxNQUNQLEtBQUs7QUFBQSxNQUNMLFNBQVM7QUFBQSxJQUNYO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsV0FBVyxNQUFNO0FBQ2YsV0FBTztBQUFBLE1BQ0wsYUFBYTtBQUFBLElBQ2Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBWUEsV0FBVyxHQUFHLElBQUksS0FBSyxVQUFVLFNBQVNBLEtBQUksR0FBRztBQUMvQyxRQUFJSztBQUNKLFVBQU0sRUFBRSxjQUFjLEdBQUcsZ0JBQWdCSixHQUFFLElBQUksS0FBSztBQUNwRCxRQUFJQSxHQUFFLGVBQWUsR0FBRyxDQUFDLEVBQUUsV0FBVztBQUNwQyxPQUFDSSxLQUFJLE9BQU8sYUFBYSxNQUFNLFFBQVFBLEdBQUUsZ0JBQWdCLEdBQUdKLEdBQUUsWUFBWSxDQUFDLEdBQUcsRUFBRSxlQUFlO0FBQy9GO0FBQUEsSUFDRjtBQUNBLFFBQUlDO0FBQ0osWUFBUSxHQUFHO0FBQUEsTUFDVCxLQUFLLEtBQUssVUFBVTtBQUNsQixRQUFBQSxLQUFJLEVBQUU7QUFDTjtBQUFBLE1BQ0YsS0FBSyxLQUFLLFVBQVU7QUFDbEIsUUFBQUEsS0FBSSxFQUFFO0FBQ047QUFBQSxNQUNGO0FBQ0UsUUFBQUEsS0FBSSxFQUFFO0FBQUEsSUFDVjtBQUNBLFFBQUksQ0FBQ0E7QUFDSDtBQUNGLFVBQU1DLEtBQUksRUFBRSxlQUFlRCxJQUFHLE1BQU0sS0FBSyxVQUFVLEdBQUcsR0FBR0UsS0FBSSxFQUFFLGlCQUFpQkQsRUFBQztBQUNqRixZQUFRLE1BQUk7QUFBQSxNQUNWLEtBQUssTUFBTSxLQUFLLFVBQVU7QUFDeEIsUUFBQUgsS0FBSTtBQUNKO0FBQUEsTUFDRixLQUFLLE1BQU0sS0FBSyxVQUFVO0FBQUEsTUFDMUIsS0FBS0EsS0FBSUk7QUFDUCxRQUFBSixLQUFJSTtBQUNKO0FBQUEsSUFDSjtBQUNBLFNBQUssSUFBSUQsSUFBR0gsRUFBQyxHQUFHLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxHQUFHLEVBQUUsYUFBYSxlQUFlRTtBQUFBLEVBQ3hGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsV0FBVyxHQUFHLElBQUksS0FBSyxVQUFVLFNBQVNGLEtBQUksR0FBRztBQUMvQyxVQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSyxPQUFPLGNBQWNDLEtBQUksRUFBRSxlQUFlLENBQUM7QUFDNUUsWUFBUSxHQUFHO0FBQUEsTUFDVCxLQUFLLEtBQUssVUFBVTtBQUNsQixhQUFLLElBQUlBLElBQUcsQ0FBQztBQUNiO0FBQUEsTUFDRixLQUFLLEtBQUssVUFBVTtBQUNsQixhQUFLLElBQUlBLElBQUcsRUFBRSxpQkFBaUJBLEVBQUMsQ0FBQztBQUNqQztBQUFBLE1BQ0Y7QUFDRSxRQUFBRCxNQUFLLEtBQUssSUFBSUMsSUFBR0QsRUFBQztBQUFBLElBQ3RCO0FBQ0EsTUFBRSxlQUFlO0FBQUEsRUFDbkI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksR0FBRyxJQUFJLEdBQUc7QUFDWixVQUFNLEVBQUUsS0FBSyxHQUFHLFFBQVFDLEdBQUUsSUFBSSxFQUFFLFVBQVUsR0FBRyxDQUFDLEdBQUcsRUFBRSxhQUFhQyxHQUFFLElBQUk7QUFDdEUsUUFBSSxJQUFJLE9BQU8sU0FBUyxHQUFHLElBQUksRUFBRSxJQUFJRCxLQUFJQyxNQUFLLE9BQU8sU0FBUyxHQUFHRCxLQUFJQyxLQUFJLEVBQUU7QUFBQSxFQUM3RTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxvQkFBb0I7QUFDbEIsVUFBTSxJQUFJLEtBQUssT0FBTyxhQUFhO0FBQ25DLFFBQUk7QUFDRixVQUFJLEVBQUUsS0FBSyxhQUFhLEVBQUU7QUFDeEIsYUFBSyxXQUFXLENBQUM7QUFBQSxXQUNkO0FBQ0gsY0FBTSxJQUFJLEtBQUssT0FBTyxhQUFhLFlBQVk7QUFDL0MsYUFBSyxXQUFXLENBQUM7QUFBQSxNQUNuQjtBQUFBLEVBQ0o7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLG1DQUFtQztBQUNqQyxVQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hCLFFBQUksRUFBRSxZQUFZO0FBQ2hCLFlBQU0sSUFBSSxFQUFFLFdBQVcsQ0FBQyxHQUFHRixLQUFJLEtBQUssT0FBTyxhQUFhLGFBQWE7QUFDckUsVUFBSSxFQUFFLGVBQWUsR0FBR0E7QUFDdEIsWUFBSSxFQUFFLGNBQWNBLEVBQUMsR0FBRztBQUN0QixnQkFBTSxJQUFJQSxJQUFHQyxLQUFJLFNBQVMsdUJBQXVCLEdBQUdDLEtBQUksRUFBRSxNQUFNLFVBQVUsR0FBRyxFQUFFLGNBQWMsR0FBR0MsS0FBSSxFQUFFLE1BQU0sVUFBVSxFQUFFLGNBQWM7QUFDdEksaUJBQU9GLEdBQUUsY0FBY0UsSUFBRyxFQUFFLFFBQVFELElBQUdEO0FBQUEsUUFDekMsT0FBTztBQUNMLGdCQUFNLElBQUksRUFBRSxXQUFXO0FBQ3ZCLGlCQUFPLEVBQUUsbUJBQW1CRCxFQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsY0FBYyxFQUFFLFNBQVMsR0FBRyxFQUFFLGdCQUFnQjtBQUFBLFFBQzdGO0FBQUEsSUFDSjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsYUFBYSxJQUFJLE9BQUk7QUFDbkIsVUFBTSxFQUFFLGNBQWMsRUFBRSxJQUFJLEtBQUssUUFBUSxFQUFFLGNBQWNBLElBQUcsV0FBVyxFQUFFLElBQUk7QUFDN0UsUUFBSUEsT0FBTTtBQUNSLGFBQU87QUFDVCxVQUFNLEVBQUUsV0FBV0MsSUFBRyxjQUFjQyxHQUFFLElBQUlGLElBQUdHLEtBQUlELE9BQU0sU0FBUyxHQUFHQSxFQUFDLElBQUk7QUFDeEUsUUFBSUUsS0FBSTtBQUNSLFVBQU1DLEtBQUksS0FBS0YsTUFBSyxDQUFDSCxHQUFFO0FBQ3ZCLFFBQUlDLE1BQUtJO0FBQ1AsYUFBTyxLQUFLLFdBQVdKLElBQUcsS0FBSyxVQUFVLEtBQUssR0FBRztBQUNuRCxRQUFJRyxPQUFNLE1BQU07QUFDZCxVQUFJSixHQUFFLEtBQUssYUFBYSxDQUFDSztBQUN2QixlQUFPO0FBQ1QsTUFBQUQsS0FBSSxFQUFFLFlBQVk7QUFBQSxJQUNwQjtBQUNBLFdBQU9DLE1BQUssS0FBSyxXQUFXRCxJQUFHLEtBQUssVUFBVSxLQUFLLEdBQUcsUUFBTTtBQUFBLEVBQzlEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLGlCQUFpQixJQUFJLE9BQUk7QUFDdkIsVUFBTSxFQUFFLGNBQWMsR0FBRyxlQUFlSixHQUFFLElBQUksS0FBSyxPQUFPO0FBQzFELFFBQUksQ0FBQztBQUNILGFBQU87QUFDVCxVQUFNLEVBQUUsZUFBZSxHQUFHLGNBQWNDLEdBQUUsSUFBSSxHQUFHQyxLQUFJRCxPQUFNLFNBQVMsR0FBR0EsRUFBQyxJQUFJLFFBQVFFLEtBQUksS0FBS0QsTUFBSyxDQUFDLEVBQUU7QUFDckcsV0FBTyxLQUFLQyxNQUFLLEtBQUssV0FBVyxHQUFHLEtBQUssVUFBVSxHQUFHLEdBQUcsUUFBTUgsT0FBTSxRQUFRRyxNQUFLLEtBQUssV0FBV0gsSUFBRyxLQUFLLFVBQVUsR0FBRyxHQUFHLFFBQU07QUFBQSxFQUNsSTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGFBQWEsR0FBRztBQUNkLFVBQU0sSUFBSSxTQUFTLGNBQWMsTUFBTTtBQUN2QyxNQUFFLFVBQVUsSUFBSSxJQUFHLElBQUksV0FBVyxHQUFHLEVBQUUsc0JBQXNCLGFBQWEsQ0FBQztBQUFBLEVBQzdFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsYUFBYSxHQUFHO0FBQ2QsVUFBTSxJQUFJLEVBQUUsY0FBYyxJQUFJLElBQUcsSUFBSSxXQUFXLEVBQUU7QUFDbEQsUUFBSSxDQUFDO0FBQ0g7QUFDRixRQUFJLEVBQUUsRUFBRSxZQUFZLENBQUM7QUFDckIsVUFBTSxJQUFJLFNBQVMsWUFBWTtBQUMvQixNQUFFLFdBQVcsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCO0FBQUEsRUFDckM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSw2QkFBNkIsR0FBRztBQUM5QixVQUFNLElBQUksU0FBUyx1QkFBdUIsR0FBR0EsS0FBSSxTQUFTLGNBQWMsS0FBSyxHQUFHLElBQUksRUFBRSxJQUFJLEdBQUdDLEtBQUksRUFBRTtBQUNuRyxJQUFBRCxHQUFFLFlBQVksR0FBRyxNQUFNLEtBQUtBLEdBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQ0ssT0FBTSxFQUFFLFlBQVlBLEVBQUMsQ0FBQyxHQUFHLEVBQUUsV0FBVyxXQUFXLEtBQUssRUFBRSxZQUFZLElBQUksS0FBSyxDQUFDO0FBQ2pJLFVBQU1ILEtBQUksRUFBRTtBQUNaLElBQUFELEdBQUUsZUFBZSxHQUFHQSxHQUFFLFdBQVcsQ0FBQztBQUNsQyxVQUFNRSxLQUFJLFNBQVMsWUFBWSxHQUFHQyxLQUFJRixHQUFFLGFBQWEsS0FBSyxZQUFZQSxLQUFJQSxHQUFFO0FBQzVFLElBQUFFLE9BQU0sUUFBUUEsR0FBRSxnQkFBZ0IsUUFBUUQsR0FBRSxTQUFTQyxJQUFHQSxHQUFFLFlBQVksTUFBTSxHQUFHLEVBQUUsZ0JBQWdCLEdBQUcsRUFBRSxTQUFTRCxFQUFDO0FBQUEsRUFDaEg7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUEsRUFDakIsY0FBYztBQUNaLFVBQU0sR0FBRyxTQUFTLEdBQUcsS0FBSyxZQUFZLE1BQU07QUFDMUMsV0FBSyxVQUFVLElBQUksVUFBVSxhQUFhLEtBQUssV0FBVyxHQUFHLEtBQUssVUFBVSxJQUFJLFVBQVUsV0FBVyxLQUFLLFNBQVM7QUFBQSxJQUNySCxHQUFHLEtBQUssY0FBYyxDQUFDLE1BQU07QUFDM0IsWUFBTSxFQUFFLGNBQWMsR0FBRyxnQkFBZ0JILEdBQUUsSUFBSSxLQUFLO0FBQ3BELFVBQUksRUFBRSxrQkFBa0IsUUFBUSxFQUFFLFdBQVc7QUFDM0M7QUFDRixZQUFNLElBQUksRUFBRSxvQkFBb0IsRUFBRSxhQUFhLEtBQUssS0FBSyxtQkFBbUJDLEtBQUksRUFBRSxvQkFBb0IsRUFBRSxNQUFNO0FBQzlHLFVBQUksRUFBRSxDQUFDLEtBQUssQ0FBQ0EsT0FBTUEsT0FBTSxHQUFHO0FBQzFCLFlBQUksTUFBTSxLQUFLLG9CQUFvQjtBQUNqQyxZQUFFLElBQUksRUFBRSxnQkFBZ0IsR0FBRyxFQUFFLFdBQVcsTUFBSUEsR0FBRSxXQUFXLE1BQUlELEdBQUUsV0FBVztBQUMxRTtBQUFBLFFBQ0Y7QUFDQSxZQUFJQyxPQUFNLEtBQUssb0JBQW9CO0FBQ2pDLFlBQUUsV0FBVyxPQUFJQSxHQUFFLFdBQVcsT0FBSUQsR0FBRSxXQUFXO0FBQy9DO0FBQUEsUUFDRjtBQUNBLGFBQUssT0FBTyxjQUFjLE1BQU0sR0FBRyxLQUFLLDBCQUEwQixHQUFHQyxFQUFDLEdBQUcsS0FBSyxvQkFBb0JBO0FBQUEsTUFDcEc7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQU0sVUFBVTtBQUNkLFNBQUssVUFBVSxHQUFHLFVBQVUsYUFBYSxDQUFDLE1BQU07QUFDOUMsV0FBSywwQkFBMEIsQ0FBQztBQUFBLElBQ2xDLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZUFBZSxHQUFHO0FBQ2hCLFFBQUksRUFBRSxXQUFXLEdBQUc7QUFDbEI7QUFDRixVQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSztBQUNqQyxTQUFLLHFCQUFxQixFQUFFLFNBQVMsRUFBRSxNQUFNLEdBQUcsS0FBSyxvQkFBb0IsS0FBSyxvQkFBb0IsS0FBSyxVQUFVLEdBQUcsVUFBVSxhQUFhLEtBQUssV0FBVyxHQUFHLEtBQUssVUFBVSxHQUFHLFVBQVUsV0FBVyxLQUFLLFNBQVM7QUFBQSxFQUNyTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxJQUFJLCtCQUErQjtBQUNqQyxXQUFPLENBQUMsQ0FBQyxLQUFLLHNCQUFzQixDQUFDLENBQUMsS0FBSyxxQkFBcUIsS0FBSyx1QkFBdUIsS0FBSztBQUFBLEVBQ25HO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSx5QkFBeUIsSUFBSSxNQUFJO0FBQy9CLFVBQU0sRUFBRSxjQUFjLEdBQUcsZ0JBQWdCRCxHQUFFLElBQUksS0FBSztBQUNwRCxTQUFLLHNCQUFzQixLQUFLLG9CQUFvQixLQUFLLHFCQUFxQixFQUFFLGVBQWUsS0FBSyx1QkFBdUIsS0FBSyxzQkFBc0IsS0FBSyxtQkFBbUIsV0FBVyxNQUFJQSxHQUFFLFdBQVcsR0FBRyxFQUFFLElBQUksRUFBRSxnQkFBZ0I7QUFDck8sVUFBTSxJQUFJLEVBQUUsT0FBTyxRQUFRLEtBQUssaUJBQWlCLEtBQUssSUFBSSxJQUFJLEtBQUtDLEtBQUksRUFBRSxPQUFPLENBQUM7QUFDakYsSUFBQUEsT0FBTSxLQUFLLGtCQUFrQixhQUFhQSxHQUFFLFlBQVlBLEdBQUUsV0FBVyxNQUFJRCxHQUFFLFdBQVcsTUFBTSxLQUFLLGtCQUFrQixXQUFXLE9BQUlBLEdBQUUsV0FBVyxJQUFJLEtBQUssb0JBQW9CQyxJQUFHLEtBQUssT0FBTyxjQUFjLE1BQU0sR0FBR0EsR0FBRSxPQUFPLGVBQWU7QUFBQSxNQUN4TyxPQUFPO0FBQUEsSUFDVCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQU0sR0FBRztBQUNQLFVBQU0sRUFBRSxjQUFjLEdBQUcsZ0JBQWdCRCxJQUFHLE9BQU8sRUFBRSxJQUFJLEtBQUssUUFBUUMsS0FBSSxFQUFFLE9BQU8sUUFBUSxLQUFLLGtCQUFrQixHQUFHQyxLQUFJLEVBQUUsT0FBTyxRQUFRLEtBQUssaUJBQWlCO0FBQ2hLLFFBQUlGLEdBQUUsb0JBQW9CQyxLQUFJLE1BQU1DLEtBQUksTUFBTSxLQUFLLGFBQWE7QUFDOUQsY0FBUSxFQUFFLFNBQVM7QUFBQSxRQUNqQixLQUFLLEVBQUU7QUFBQSxRQUNQLEtBQUssRUFBRTtBQUNMLFlBQUUsV0FBVyxFQUFFLE9BQU8sS0FBSyxJQUFJRCxJQUFHQyxFQUFDLENBQUMsR0FBRyxFQUFFLFVBQVUsR0FBRztBQUN0RDtBQUFBLFFBQ0YsS0FBSyxFQUFFO0FBQUEsUUFDUCxLQUFLLEVBQUU7QUFDTCxZQUFFLFdBQVcsRUFBRSxPQUFPLEtBQUssSUFBSUQsSUFBR0MsRUFBQyxDQUFDLEdBQUcsRUFBRSxVQUFVLEtBQUs7QUFDeEQ7QUFBQSxRQUNGO0FBQ0UsWUFBRSxXQUFXLEVBQUUsT0FBTyxLQUFLLElBQUlELElBQUdDLEVBQUMsQ0FBQyxHQUFHLEVBQUUsVUFBVSxHQUFHO0FBQUEsTUFDMUQ7QUFDRixTQUFLLHFCQUFxQixLQUFLLG9CQUFvQjtBQUFBLEVBQ3JEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsMEJBQTBCLEdBQUc7QUFDM0IsVUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEtBQUs7QUFDdkIsTUFBRSxlQUFlLEtBQUssT0FBTyxlQUFlLGVBQWUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxTQUFTLFNBQVMsRUFBRSxNQUFNLElBQUksS0FBSyxlQUFlLENBQUMsSUFBSSxLQUFLLE9BQU8sZUFBZSxlQUFlLENBQUM7QUFBQSxFQUMzSztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsMEJBQTBCLEdBQUcsR0FBRztBQUM5QixVQUFNLEVBQUUsY0FBY0YsSUFBRyxnQkFBZ0IsRUFBRSxJQUFJLEtBQUssUUFBUUMsS0FBSUQsR0FBRSxPQUFPLFFBQVEsQ0FBQyxHQUFHRSxLQUFJRixHQUFFLE9BQU8sUUFBUSxDQUFDLEdBQUdHLEtBQUksRUFBRSxhQUFhLEVBQUU7QUFDbkksYUFBU0MsS0FBSSxLQUFLLElBQUlILElBQUdDLEVBQUMsR0FBR0UsTUFBSyxLQUFLLElBQUlILElBQUdDLEVBQUMsR0FBR0UsTUFBSztBQUNyRCxZQUFNQyxLQUFJTCxHQUFFLE9BQU9JLEVBQUM7QUFDcEIsTUFBQUMsT0FBTSxLQUFLLHNCQUFzQkEsUUFBT0YsS0FBSSxJQUFJLE9BQU9ILEdBQUUsT0FBT0ksRUFBQyxFQUFFLFdBQVcsQ0FBQ0osR0FBRSxPQUFPSSxFQUFDLEVBQUUsVUFBVSxFQUFFLFdBQVc7QUFBQSxJQUNwSDtBQUFBLEVBQ0Y7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUEsRUFDakIsY0FBYztBQUNaLFVBQU0sR0FBRyxTQUFTLEdBQUcsS0FBSyxvQkFBb0I7QUFBQSxFQUNoRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVlBLGVBQWUsR0FBRztBQUNoQixRQUFJLEtBQUssc0JBQXNCLElBQUksS0FBSyxxQkFBcUI7QUFBQSxFQUMvRDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsdUJBQXVCO0FBQ3JCLFVBQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxLQUFLO0FBQ3ZCLFNBQUsseUJBQXlCLEdBQUcsRUFBRSxNQUFNLFFBQVEsUUFBUSxPQUFPLE1BQU07QUFDcEUsWUFBTSxLQUFLLFlBQVksQ0FBQztBQUFBLElBQzFCLEdBQUcsSUFBRSxHQUFHLEtBQUsseUJBQXlCLEdBQUcsRUFBRSxNQUFNLFFBQVEsYUFBYSxNQUFNO0FBQzFFLFdBQUssaUJBQWlCO0FBQUEsSUFDeEIsQ0FBQyxHQUFHLEtBQUsseUJBQXlCLEdBQUcsRUFBRSxNQUFNLFFBQVEsWUFBWSxDQUFDLE1BQU07QUFDdEUsV0FBSyxnQkFBZ0IsQ0FBQztBQUFBLElBQ3hCLEdBQUcsSUFBRTtBQUFBLEVBQ1A7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHdCQUF3QjtBQUN0QixTQUFLLHlCQUF5QixTQUFTO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLFlBQVksR0FBRztBQUNuQixVQUFNO0FBQUEsTUFDSixjQUFjO0FBQUEsTUFDZCxPQUFPSjtBQUFBLE1BQ1AsT0FBTztBQUFBLElBQ1QsSUFBSSxLQUFLO0FBQ1QsTUFBRSxlQUFlLEdBQUcsRUFBRSxPQUFPLFFBQVEsQ0FBQ0UsT0FBTTtBQUMxQyxNQUFBQSxHQUFFLGFBQWE7QUFBQSxJQUNqQixDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUMsRUFBRSxlQUFlLEtBQUsscUJBQXFCLFNBQVMsWUFBWSxRQUFRLEdBQUcsS0FBSyxvQkFBb0I7QUFDekgsVUFBTUQsS0FBSSxFQUFFLDJCQUEyQixFQUFFLE1BQU07QUFDL0MsUUFBSUE7QUFDRixXQUFLLE9BQU8sTUFBTSxXQUFXQSxJQUFHLEVBQUUsVUFBVSxHQUFHO0FBQUEsU0FDNUM7QUFDSCxZQUFNQyxLQUFJLEVBQUUsMkJBQTJCLEVBQUUsVUFBVSxNQUFNO0FBQ3pELFdBQUssT0FBTyxNQUFNLFdBQVdBLElBQUcsRUFBRSxVQUFVLEdBQUc7QUFBQSxJQUNqRDtBQUNBLFVBQU1GLEdBQUUsb0JBQW9CLEVBQUUsY0FBYyxJQUFFO0FBQUEsRUFDaEQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLG1CQUFtQjtBQUNqQixNQUFFLGNBQWMsQ0FBQyxFQUFFLGdCQUFnQixLQUFLLG9CQUFvQixPQUFLLEtBQUssT0FBTyxjQUFjLE1BQU07QUFBQSxFQUNuRztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZ0JBQWdCLEdBQUc7QUFDakIsTUFBRSxlQUFlO0FBQUEsRUFDbkI7QUFDRjtBQUNBLElBQU0sS0FBSztBQUFYLElBQWdCLEtBQUs7QUFDckIsSUFBTSxLQUFOLGNBQWlCLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUWpCLFlBQVksRUFBRSxRQUFRLEdBQUcsa0JBQWtCLEVBQUUsR0FBRztBQUM5QyxVQUFNO0FBQUEsTUFDSixRQUFRO0FBQUEsTUFDUixrQkFBa0I7QUFBQSxJQUNwQixDQUFDLEdBQUcsS0FBSyxXQUFXLE9BQUksS0FBSyxrQkFBa0IsTUFBTSxLQUFLLHdCQUF3QyxvQkFBSSxJQUFJLEdBQUcsS0FBSyxZQUFZLElBQUksS0FBSyxtQkFBbUIsSUFBSSxpQkFBaUIsQ0FBQ0EsT0FBTTtBQUNwTCxXQUFLLGdCQUFnQkEsRUFBQztBQUFBLElBQ3hCLENBQUMsR0FBRyxLQUFLLGlCQUFpQixHQUFHLElBQUksQ0FBQ0EsT0FBTTtBQUN0QyxXQUFLLHVCQUF1QkEsR0FBRSxLQUFLO0FBQUEsSUFDckMsQ0FBQyxHQUFHLEtBQUssaUJBQWlCLEdBQUcsSUFBSSxNQUFNO0FBQ3JDLFdBQUssUUFBUTtBQUFBLElBQ2YsQ0FBQyxHQUFHLEtBQUssaUJBQWlCLEdBQUcsSUFBSSxNQUFNO0FBQ3JDLFdBQUssT0FBTztBQUFBLElBQ2QsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVM7QUFDUCxTQUFLLGlCQUFpQjtBQUFBLE1BQ3BCLEtBQUssT0FBTyxHQUFHLE1BQU07QUFBQSxNQUNyQjtBQUFBLFFBQ0UsV0FBVztBQUFBLFFBQ1gsU0FBUztBQUFBLFFBQ1QsZUFBZTtBQUFBLFFBQ2YsWUFBWTtBQUFBLE1BQ2Q7QUFBQSxJQUNGLEdBQUcsS0FBSyxXQUFXO0FBQUEsRUFDckI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixTQUFLLGlCQUFpQixXQUFXLEdBQUcsS0FBSyxXQUFXO0FBQUEsRUFDdEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSx1QkFBdUIsR0FBRztBQUN4QixTQUFLLFlBQVksQ0FBQyxFQUFFLEtBQUssT0FBTyxRQUFRLE1BQU0sS0FBSyxzQkFBc0IsSUFBSSxTQUFTLEVBQUUsT0FBTyxPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksSUFBSSxDQUFDLEdBQUcsS0FBSyxtQkFBbUIsYUFBYSxLQUFLLGVBQWUsR0FBRyxLQUFLLGtCQUFrQixXQUFXLE1BQU07QUFDbE8sVUFBSTtBQUNKLFdBQUssc0JBQXNCLFNBQVMsSUFBSSxJQUFJLEtBQUssc0JBQXNCLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxJQUFJLE1BQU0sS0FBSyxLQUFLLHNCQUFzQixPQUFPLENBQUMsR0FBRyxLQUFLLE9BQU8sWUFBWSxLQUFLLE9BQU8sU0FBUyxLQUFLLE9BQU8sSUFBSSxTQUFTLENBQUMsR0FBRyxLQUFLLHNCQUFzQixNQUFNO0FBQUEsSUFDalEsR0FBRyxLQUFLLFNBQVM7QUFBQSxFQUNuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGdCQUFnQixHQUFHO0FBQ2pCLFNBQUssaUJBQWlCLEtBQUssSUFBSTtBQUFBLE1BQzdCLFdBQVc7QUFBQSxJQUNiLENBQUM7QUFBQSxFQUNIO0FBQ0Y7QUFDQSxJQUFNLEtBQUssTUFBTSxXQUFXLEVBQUU7QUFBQSxFQUM1QixjQUFjO0FBQ1osVUFBTSxHQUFHLFNBQVMsR0FBRyxLQUFLLFlBQVksMkJBQTJCLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxhQUFhLENBQUMsR0FBRyxLQUFLLGdCQUFnQixDQUFDLEdBQUcsS0FBSyxhQUFhLENBQUMsR0FBRyxLQUFLLGdCQUFnQixDQUFDLEdBQUcsS0FBSyxjQUFjLENBQUMsTUFBTTtBQUM1TSxVQUFJO0FBQ0YsY0FBTSxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUU7QUFDN0IsWUFBSSxFQUFFLGdCQUFnQixPQUFJO0FBQ3hCLGVBQUssY0FBYyxLQUFLLEVBQUUsSUFBSTtBQUM5QjtBQUFBLFFBQ0Y7QUFDQSxZQUFJLENBQUMsRUFBRSxFQUFFLE9BQU87QUFDZDtBQUNGLGFBQUssY0FBYyxDQUFDLEdBQUcsS0FBSyxlQUFlLENBQUMsR0FBRyxLQUFLLGtCQUFrQixDQUFDO0FBQUEsTUFDekUsU0FBUyxHQUFHO0FBQ1Y7QUFBQSxVQUNFLDBCQUF1QixFQUFFLElBQUk7QUFBQSxVQUM3QjtBQUFBLFVBQ0E7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLElBQ0YsR0FBRyxLQUFLLG1CQUFtQixPQUFPLE1BQU07QUFDdEMsWUFBTSxFQUFFLGNBQWMsR0FBRyxTQUFTQSxHQUFFLElBQUksS0FBSyxRQUFRLElBQUksRUFBRSwyQkFBMkIsRUFBRSxNQUFNO0FBQzlGLE9BQUMsS0FBSyxLQUFLLGtCQUFrQixFQUFFLE1BQU0sS0FBSyxDQUFDLEVBQUUsY0FBYyxNQUFNLFNBQVMsT0FBTyxLQUFLLEtBQUssS0FBSyxjQUFjLFNBQVMsRUFBRSxJQUFJLE1BQU0sRUFBRSxlQUFlLEdBQUcsS0FBSyxvQkFBb0IsRUFBRSxhQUFhLEdBQUdBLEdBQUUsTUFBTTtBQUFBLElBQzVNO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsTUFBTSxVQUFVO0FBQ2QsU0FBSyxhQUFhO0FBQUEsRUFDcEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxlQUFlLEdBQUc7QUFDaEIsUUFBSSxLQUFLLGNBQWMsSUFBSSxLQUFLLFlBQVk7QUFBQSxFQUM5QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLE9BQUk7QUFDbkMsVUFBTSxFQUFFLE9BQU9BLEdBQUUsSUFBSSxLQUFLLFFBQVEsSUFBSSxFQUFFO0FBQ3hDLFNBQUssRUFBRSxXQUFXLEVBQUUsU0FBUyxPQUFPLElBQUksRUFBRSxTQUFTLE9BQU8sTUFBTSxDQUFDLEVBQUUsS0FBSyxVQUFVLEdBQUc7QUFDbkYsWUFBTSxLQUFLLGFBQWEsRUFBRSxLQUFLO0FBQy9CO0FBQUEsSUFDRjtBQUNBLFVBQU1FLEtBQUksRUFBRSxRQUFRLEtBQUssU0FBUyxHQUFHQyxLQUFJLEVBQUUsUUFBUSxZQUFZO0FBQy9ELFFBQUlDLEtBQUksRUFBRSxRQUFRLFdBQVc7QUFDN0IsUUFBSUY7QUFDRixVQUFJO0FBQ0YsYUFBSyxtQkFBbUIsS0FBSyxNQUFNQSxFQUFDLENBQUM7QUFDckM7QUFBQSxNQUNGLFFBQVE7QUFBQSxNQUNSO0FBQ0YsU0FBS0MsR0FBRSxLQUFLLEtBQUtDLEdBQUUsS0FBSyxNQUFNQSxLQUFJLFNBQVNBLEdBQUUsS0FBSyxJQUFJQSxLQUFJRCxNQUFLO0FBQy9ELFVBQU1FLEtBQUksT0FBTyxLQUFLLEtBQUssU0FBUyxFQUFFLE9BQU8sQ0FBQ0UsSUFBR0MsUUFBT0QsR0FBRUMsR0FBRSxZQUFZLENBQUMsSUFBSSxLQUFLLFVBQVVBLEVBQUMsRUFBRSxzQkFBc0IsQ0FBQyxHQUFHRCxLQUFJLENBQUMsQ0FBQyxHQUFHRCxLQUFJLE9BQU8sT0FBTyxDQUFDLEdBQUdELElBQUdMLEdBQUUsZ0NBQWdDLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUdZLEtBQUksRUFBRVIsSUFBR0UsRUFBQztBQUN2TixLQUFDTSxHQUFFLEtBQUssS0FBS0EsR0FBRSxLQUFLLE1BQU1ULE1BQUssQ0FBQyxFQUFFLGFBQWFTLEVBQUMsSUFBSSxNQUFNLEtBQUssWUFBWVQsRUFBQyxJQUFJLE1BQU0sS0FBSyxZQUFZUyxJQUFHLElBQUU7QUFBQSxFQUM5RztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxZQUFZLEdBQUcsSUFBSSxPQUFJO0FBQzNCLFVBQU0sRUFBRSxPQUFPWixJQUFHLGNBQWMsRUFBRSxJQUFJLEtBQUssUUFBUUMsS0FBSSxJQUFJLEtBQUssWUFBWSxDQUFDLElBQUksS0FBSyxhQUFhLENBQUM7QUFDcEcsUUFBSSxDQUFDQSxHQUFFO0FBQ0w7QUFDRixRQUFJQSxHQUFFLFdBQVcsR0FBRztBQUNsQixNQUFBQSxHQUFFLENBQUMsRUFBRSxVQUFVLEtBQUssbUJBQW1CQSxHQUFFLElBQUksQ0FBQyxJQUFJLEtBQUssbUJBQW1CQSxHQUFFLElBQUksQ0FBQztBQUNqRjtBQUFBLElBQ0Y7QUFDQSxVQUFNRSxLQUFJLEVBQUUsZ0JBQWdCLEVBQUUsYUFBYSxLQUFLLGFBQWEsRUFBRSxhQUFhO0FBQzVFLElBQUFGLEdBQUU7QUFBQSxNQUNBLE9BQU9HLElBQUdDLE9BQU0sS0FBSyxZQUFZRCxJQUFHQyxPQUFNLEtBQUtGLEVBQUM7QUFBQSxJQUNsRCxHQUFHLEVBQUUsZ0JBQWdCSCxHQUFFLFdBQVcsRUFBRSxjQUFjQSxHQUFFLFVBQVUsR0FBRztBQUFBLEVBQ25FO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxjQUFjO0FBQ1osU0FBSyxVQUFVLEdBQUcsS0FBSyxPQUFPLEdBQUcsTUFBTSxRQUFRLFNBQVMsS0FBSyxnQkFBZ0I7QUFBQSxFQUMvRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZ0JBQWdCO0FBQ2QsU0FBSyxVQUFVLElBQUksS0FBSyxPQUFPLEdBQUcsTUFBTSxRQUFRLFNBQVMsS0FBSyxnQkFBZ0I7QUFBQSxFQUNoRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZUFBZTtBQUNiLFVBQU0sSUFBSSxLQUFLLE9BQU8sTUFBTTtBQUM1QixVQUFNLEtBQUssRUFBRSxPQUFPLENBQUMsRUFBRSxRQUFRLEtBQUssV0FBVztBQUFBLEVBQ2pEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxnQkFBZ0IsR0FBRztBQUNqQixXQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQztBQUFBLEVBQy9DO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsY0FBYyxHQUFHO0FBQ2YsUUFBSSxFQUFFLGdCQUFnQjtBQUNwQjtBQUNGLFVBQU0sSUFBSSxFQUFFLFlBQVksUUFBUSxDQUFDLEdBQUdBLEtBQUksQ0FBQztBQUN6QyxNQUFFLFFBQVEsQ0FBQyxNQUFNO0FBQ2YsWUFBTUMsS0FBSSxLQUFLLGdCQUFnQixDQUFDO0FBQ2hDLE1BQUFELEdBQUUsS0FBSyxHQUFHQyxFQUFDLEdBQUdBLEdBQUUsUUFBUSxDQUFDQyxPQUFNO0FBQzdCLFlBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxLQUFLLFdBQVdBLEVBQUMsR0FBRztBQUMzRDtBQUFBLFlBQ0UseUJBQXNCLEVBQUUsSUFBSSxvQkFBY0EsRUFBQyx5REFBbUQsS0FBSyxVQUFVQSxFQUFDLEVBQUUsS0FBSyxJQUFJO0FBQUEsWUFDekg7QUFBQSxVQUNGO0FBQ0E7QUFBQSxRQUNGO0FBQ0EsY0FBTUMsS0FBSSxFQUFFLENBQUMsSUFBSSxFQUFFRCxFQUFDLElBQUk7QUFDeEIsYUFBSyxVQUFVQSxHQUFFLFlBQVksQ0FBQyxJQUFJO0FBQUEsVUFDaEMsTUFBTTtBQUFBLFVBQ04sb0JBQW9CQztBQUFBLFFBQ3RCO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSCxDQUFDLEdBQUcsS0FBSyxXQUFXLEVBQUUsSUFBSSxJQUFJSCxHQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDO0FBQUEsRUFDNUQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxlQUFlLEdBQUc7QUFDaEIsUUFBSSxFQUFFLGdCQUFnQjtBQUNwQjtBQUNGLFVBQU0sRUFBRSxPQUFPLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRTtBQUM1QixRQUFJLEVBQUUsWUFBWUEsSUFBRyxXQUFXLEVBQUUsSUFBSTtBQUN0QyxLQUFDQSxNQUFLLENBQUMsTUFBTUEsTUFBSyxDQUFDLE1BQU0sUUFBUUEsRUFBQyxNQUFNLEVBQUUsNERBQW1ELEVBQUUsSUFBSSw4QkFBMkIsR0FBR0EsS0FBSSxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDLE1BQU0sRUFBRSwyREFBa0QsRUFBRSxJQUFJLDhCQUEyQixHQUFHLElBQUksQ0FBQyxJQUFJLE1BQU0sSUFBSSxFQUFFLE9BQU8sQ0FBQ0MsT0FBTSxHQUFHQSxFQUFDLElBQUksUUFBTSxFQUFFLHVCQUFvQkEsRUFBQyxvQkFBYyxFQUFFLElBQUksc0NBQW1DLE1BQU0sR0FBRyxNQUFHLElBQUksS0FBSyxXQUFXLEVBQUUsSUFBSSxJQUFJO0FBQUEsTUFDcGEsWUFBWUQsTUFBSyxDQUFDO0FBQUEsTUFDbEIsV0FBVyxLQUFLLENBQUM7QUFBQSxJQUNuQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxrQkFBa0IsR0FBRztBQUNuQixNQUFFLGdCQUFnQixTQUFNLENBQUMsRUFBRSxZQUFZLFlBQVksRUFBRSxFQUFFLFlBQVksUUFBUSxLQUFLLE9BQU8sUUFBUSxFQUFFLFlBQVksUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLEdBQUdBLEVBQUMsTUFBTTtBQUN6SSxNQUFBQSxjQUFhLFVBQVU7QUFBQSxRQUNyQixXQUFXQSxFQUFDLFlBQVMsRUFBRSxJQUFJO0FBQUEsUUFDM0I7QUFBQSxNQUNGLEdBQUcsS0FBSyxjQUFjLEtBQUs7QUFBQSxRQUN6QixLQUFLO0FBQUEsUUFDTCxTQUFTQTtBQUFBLFFBQ1QsTUFBTTtBQUFBLE1BQ1IsQ0FBQztBQUFBLElBQ0gsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGtCQUFrQixHQUFHO0FBQ25CLFdBQU8sRUFBRSxjQUFjLENBQUM7QUFBQSxFQUMxQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQU0sYUFBYSxHQUFHO0FBQ3BCLFVBQU0sRUFBRSxjQUFjLEVBQUUsSUFBSSxLQUFLO0FBQ2pDLFFBQUlBO0FBQ0osSUFBQUEsS0FBSSxNQUFNLFFBQVE7QUFBQSxNQUNoQixNQUFNLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQ0UsT0FBTSxLQUFLLFlBQVlBLEVBQUMsQ0FBQztBQUFBLElBQzlDLEdBQUdGLEtBQUlBLEdBQUUsT0FBTyxDQUFDRSxPQUFNLENBQUMsQ0FBQ0EsRUFBQztBQUMxQixVQUFNRCxLQUFJLEVBQUUsYUFBYSxLQUFLLGFBQWEsRUFBRSxhQUFhO0FBQzFELElBQUFELEdBQUU7QUFBQSxNQUNBLENBQUNFLElBQUdDLE9BQU07QUFDUixVQUFFLE1BQU1ELEdBQUUsTUFBTUEsR0FBRSxPQUFPQyxPQUFNLEtBQUtGLEVBQUM7QUFBQSxNQUN2QztBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsTUFBTSxZQUFZLEdBQUc7QUFDbkIsVUFBTSxJQUFJLEdBQUcsQ0FBQyxHQUFHRCxLQUFJLE9BQU8sUUFBUSxLQUFLLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQ0UsSUFBRyxFQUFFLFdBQVdDLElBQUcsWUFBWUMsR0FBRSxDQUFDLE1BQU07QUFDbEcsWUFBTSxDQUFDQyxJQUFHQyxFQUFDLElBQUksRUFBRSxLQUFLLE1BQU0sR0FBRyxHQUFHTSxLQUFJUixHQUFFLEtBQUssQ0FBQ0ksT0FBTUEsR0FBRSxZQUFZLE1BQU0sRUFBRSxZQUFZLENBQUMsR0FBR0QsS0FBSUosR0FBRSxLQUFLLENBQUNLLE9BQU07QUFDMUcsY0FBTSxDQUFDQyxJQUFHQyxFQUFDLElBQUlGLEdBQUUsTUFBTSxHQUFHO0FBQzFCLGVBQU9DLE9BQU1KLE9BQU1LLE9BQU1KLE1BQUtJLE9BQU07QUFBQSxNQUN0QyxDQUFDO0FBQ0QsYUFBTyxDQUFDLENBQUNFLE1BQUssQ0FBQyxDQUFDTDtBQUFBLElBQ2xCLENBQUM7QUFDRCxRQUFJLENBQUNQO0FBQ0g7QUFDRixVQUFNLENBQUMsQ0FBQyxJQUFJQTtBQUNaLFdBQU87QUFBQSxNQUNMLE9BQU8sS0FBSyxrQkFBa0IsUUFBUTtBQUFBLFFBQ3BDLE1BQU07QUFBQSxNQUNSLENBQUM7QUFBQSxNQUNELE1BQU07QUFBQSxJQUNSO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsWUFBWSxHQUFHO0FBQ2IsVUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLEtBQUssUUFBUUEsS0FBSSxFQUFFLEtBQUssS0FBSztBQUNsRCxXQUFPQSxHQUFFLFlBQVksR0FBRyxLQUFLLFNBQVNBLEVBQUMsRUFBRSxJQUFJLENBQUNDLE9BQU07QUFDbEQsVUFBSUMsSUFBR0MsS0FBSSxFQUFFLGFBQWFDLEtBQUk7QUFDOUIsY0FBUUgsR0FBRSxVQUFVO0FBQUEsUUFDbEIsS0FBSyxLQUFLO0FBQ1IsVUFBQUMsS0FBSSxFQUFFLEtBQUssS0FBSyxHQUFHQSxHQUFFLFlBQVlELEVBQUM7QUFDbEM7QUFBQSxRQUNGLEtBQUssS0FBSztBQUNSLFVBQUFDLEtBQUlELElBQUdHLEtBQUksTUFBSSxLQUFLLFVBQVVGLEdBQUUsT0FBTyxNQUFNQyxLQUFJLEtBQUssVUFBVUQsR0FBRSxPQUFPLEVBQUU7QUFDM0U7QUFBQSxNQUNKO0FBQ0EsWUFBTSxFQUFFLE1BQU1HLEdBQUUsSUFBSUYsR0FBRSxlQUFlLEVBQUUsTUFBTSxDQUFDLEVBQUUsR0FBR0csS0FBSUQsR0FBRSxPQUFPLENBQUNHLElBQUdDLFFBQU8sS0FBSyxnQkFBZ0JBLEVBQUMsRUFBRSxRQUFRLENBQUNhLE9BQU07QUFDaEgsY0FBTVgsS0FBSSxFQUFFRixFQUFDLElBQUlBLEdBQUVhLEVBQUMsSUFBSTtBQUN4QixRQUFBZCxHQUFFYyxHQUFFLFlBQVksQ0FBQyxJQUFJWCxNQUFLLENBQUM7QUFBQSxNQUM3QixDQUFDLEdBQUdILEtBQUksQ0FBQyxDQUFDLEdBQUdJLEtBQUksT0FBTyxPQUFPLENBQUMsR0FBR04sSUFBR0gsR0FBRSxrQkFBa0I7QUFDMUQsVUFBSUQsR0FBRSxRQUFRLFlBQVksTUFBTSxTQUFTO0FBQ3ZDLGNBQU1NLEtBQUksRUFBRU4sR0FBRSxXQUFXVSxFQUFDO0FBQzFCLFFBQUFWLEtBQUksRUFBRSxLQUFLLE9BQU8sUUFBUTtBQUFBLFVBQ3hCLFdBQVdNO0FBQUEsUUFDYixDQUFDLEVBQUU7QUFBQSxNQUNMO0FBQ0UsUUFBQU4sR0FBRSxZQUFZLEVBQUVBLEdBQUUsV0FBV1UsRUFBQztBQUNoQyxZQUFNTCxLQUFJLEtBQUssa0JBQWtCLE9BQU87QUFBQSxRQUN0QyxNQUFNTDtBQUFBLE1BQ1IsQ0FBQztBQUNELGFBQU87QUFBQSxRQUNMLFNBQVNBO0FBQUEsUUFDVCxTQUFTRTtBQUFBLFFBQ1QsTUFBTUQsR0FBRTtBQUFBLFFBQ1IsT0FBT0k7QUFBQSxNQUNUO0FBQUEsSUFDRixDQUFDLEVBQUUsT0FBTyxDQUFDTixPQUFNO0FBQ2YsWUFBTUMsS0FBSSxFQUFFLFFBQVFELEdBQUUsT0FBTyxHQUFHRSxLQUFJLEVBQUUsWUFBWUYsR0FBRSxPQUFPO0FBQzNELGFBQU8sQ0FBQ0MsTUFBS0M7QUFBQSxJQUNmLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxhQUFhLEdBQUc7QUFDZCxVQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSztBQUNqQyxRQUFJLENBQUM7QUFDSCxhQUFPLENBQUM7QUFDVixVQUFNSCxLQUFJO0FBQ1YsV0FBTyxFQUFFLE1BQU0sT0FBTyxFQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU07QUFDekQsWUFBTUMsS0FBSSxFQUFFLEtBQUssS0FBSztBQUN0QixNQUFBQSxHQUFFLGNBQWM7QUFDaEIsWUFBTUMsS0FBSSxLQUFLLGtCQUFrQixPQUFPO0FBQUEsUUFDdEMsTUFBTUQ7QUFBQSxNQUNSLENBQUM7QUFDRCxhQUFPO0FBQUEsUUFDTCxTQUFTQTtBQUFBLFFBQ1QsTUFBTUQ7QUFBQSxRQUNOLFNBQVM7QUFBQSxRQUNULE9BQU9FO0FBQUEsTUFDVDtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLG1CQUFtQixHQUFHO0FBQzFCLFVBQU0sRUFBRSxPQUFPLEdBQUcsY0FBY0YsR0FBRSxJQUFJLEtBQUssUUFBUSxFQUFFLGNBQWMsRUFBRSxJQUFJQTtBQUN6RSxRQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsRUFBRSwyQkFBMkIsRUFBRSxRQUFRLFNBQVMsR0FBRztBQUNqRixXQUFLLFlBQVksSUFBSSxLQUFLLE9BQU8sU0FBUyxFQUFFLEtBQUssY0FBYyxFQUFFLE9BQU87QUFDeEU7QUFBQSxJQUNGO0FBQ0EsTUFBRSw2QkFBNkIsRUFBRSxRQUFRLFNBQVM7QUFBQSxFQUNwRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLE1BQU0sbUJBQW1CLEdBQUc7QUFDMUIsVUFBTSxFQUFFLGNBQWMsR0FBRyxPQUFPQSxHQUFFLElBQUksS0FBSyxRQUFRLEVBQUUsU0FBUyxFQUFFLElBQUk7QUFDcEUsUUFBSSxFQUFFLGdCQUFnQixFQUFFLGFBQWEsS0FBSyxhQUFhLEVBQUUsWUFBWSxTQUFTLEdBQUcsK0JBQStCO0FBQzlHLFlBQU1FLEtBQUksTUFBTSxLQUFLLGVBQWUsRUFBRSxXQUFXO0FBQ2pELFVBQUlBLElBQUc7QUFDTCxjQUFNQyxLQUFJLEVBQUUsZ0JBQWdCLEVBQUUsYUFBYSxLQUFLLGFBQWEsRUFBRSxhQUFhLFNBQVNDLEtBQUksRUFBRSxNQUFNRixHQUFFLE1BQU1BLEdBQUUsT0FBT0MsRUFBQztBQUNuSCxRQUFBSCxHQUFFLFdBQVdJLElBQUdKLEdBQUUsVUFBVSxHQUFHO0FBQy9CO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFDQSxRQUFJLEVBQUUsZ0JBQWdCLEVBQUUsYUFBYSxjQUFjO0FBQ2pELFlBQU1FLEtBQUksRUFBRSxhQUFhLEtBQUs7QUFDOUIsZUFBUztBQUFBLFFBQ1A7QUFBQSxRQUNBO0FBQUEsUUFDQSxFQUFFLEVBQUUsV0FBV0EsRUFBQztBQUFBLE1BQ2xCO0FBQUEsSUFDRjtBQUNFLFdBQUssWUFBWSxDQUFDO0FBQUEsRUFDdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLE1BQU0sZUFBZSxHQUFHO0FBQ3RCLFVBQU0sSUFBSSxLQUFLLGNBQWMsS0FBSyxDQUFDLE1BQU07QUFDdkMsWUFBTUQsS0FBSSxFQUFFLFFBQVEsS0FBSyxDQUFDO0FBQzFCLGFBQU9BLEtBQUksTUFBTUEsR0FBRSxNQUFNLElBQUk7QUFBQSxJQUMvQixDQUFDO0FBQ0QsV0FBTyxJQUFJO0FBQUEsTUFDVCxPQUFPLEtBQUssa0JBQWtCLFdBQVc7QUFBQSxRQUN2QyxLQUFLLEVBQUU7QUFBQSxRQUNQLE1BQU07QUFBQSxNQUNSLENBQUM7QUFBQSxNQUNELE1BQU0sRUFBRSxLQUFLO0FBQUEsSUFDZixJQUFJO0FBQUEsRUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxZQUFZLEdBQUcsSUFBSSxPQUFJO0FBQ3JCLFVBQU0sRUFBRSxjQUFjRCxJQUFHLE9BQU8sRUFBRSxJQUFJLEtBQUssUUFBUSxFQUFFLGNBQWNDLEdBQUUsSUFBSUQ7QUFDekUsUUFBSUU7QUFDSixRQUFJLEtBQUtELE1BQUtBLEdBQUUsU0FBUztBQUN2QixNQUFBQyxLQUFJRixHQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxJQUFFLEdBQUcsRUFBRSxXQUFXRSxJQUFHLEVBQUUsVUFBVSxHQUFHO0FBQ2pFO0FBQUEsSUFDRjtBQUNBLElBQUFBLEtBQUlGLEdBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEdBQUcsRUFBRSxXQUFXRSxJQUFHLEVBQUUsVUFBVSxHQUFHO0FBQUEsRUFDL0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLG1CQUFtQixHQUFHO0FBQ3BCLFVBQU0sRUFBRSxjQUFjLEdBQUcsT0FBT0YsSUFBRyxPQUFPLEVBQUUsSUFBSSxLQUFLO0FBQ3JEO0FBQUEsTUFDRTtBQUFBLE1BQ0EsQ0FBQ0UsT0FBTSxFQUFFLFdBQVcsSUFBSUEsRUFBQyxFQUFFO0FBQUEsSUFDN0IsRUFBRSxRQUFRLENBQUMsRUFBRSxNQUFNQSxJQUFHLE1BQU1DLEdBQUUsR0FBR0MsT0FBTTtBQUNyQyxVQUFJQyxLQUFJO0FBQ1IsTUFBQUQsT0FBTSxNQUFNQyxLQUFJLEVBQUUsZ0JBQWdCLEVBQUUsYUFBYSxLQUFLLGFBQWEsRUFBRSxhQUFhO0FBQ2xGLFlBQU1DLEtBQUksRUFBRSxPQUFPO0FBQUEsUUFDakIsTUFBTUo7QUFBQSxRQUNOLE1BQU1DO0FBQUEsUUFDTixTQUFTRTtBQUFBLE1BQ1gsQ0FBQztBQUNELE1BQUFMLEdBQUUsV0FBV00sSUFBR04sR0FBRSxVQUFVLEdBQUc7QUFBQSxJQUNqQyxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxtQkFBbUIsR0FBRyxHQUFHQSxJQUFHO0FBQzFCLFVBQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxTQUFTLEdBQUdDLEtBQUksR0FBRyxFQUFFLE1BQU1DLEdBQUUsSUFBSSxLQUFLLFVBQVVELEdBQUUsT0FBTyxLQUFLLENBQUMsR0FBR0UsS0FBSSxLQUFLLFdBQVdELE1BQUssT0FBTyxTQUFTQSxHQUFFLElBQUksS0FBSyxDQUFDLEdBQUdFLEtBQUksRUFBRSxTQUFTSCxHQUFFLE9BQU8sR0FBR0ksS0FBSSxFQUFFLGNBQWMsU0FBU0osR0FBRSxRQUFRLFlBQVksQ0FBQyxHQUFHSyxLQUFJLE1BQU0sS0FBS0wsR0FBRSxRQUFRLEVBQUU7QUFBQSxNQUNoUSxDQUFDLEVBQUUsU0FBU00sR0FBRSxNQUFNLEVBQUUsU0FBU0EsRUFBQyxLQUFLLENBQUNKLEdBQUUsU0FBU0ksRUFBQztBQUFBLElBQ3BELEdBQUdLLEtBQUksTUFBTSxLQUFLWCxHQUFFLFFBQVEsRUFBRTtBQUFBLE1BQzVCLENBQUMsRUFBRSxTQUFTTSxHQUFFLE1BQU0sRUFBRSxjQUFjLFNBQVNBLEdBQUUsWUFBWSxDQUFDO0FBQUEsSUFDOUQ7QUFDQSxRQUFJLENBQUNGLE1BQUssQ0FBQ0QsTUFBSyxDQUFDRTtBQUNmLGFBQU9OLEdBQUUsWUFBWUMsRUFBQyxHQUFHLENBQUMsR0FBRyxHQUFHRCxFQUFDO0FBQ25DLFFBQUlJLE1BQUssQ0FBQ0UsTUFBS0QsTUFBSyxDQUFDTyxNQUFLLENBQUNOO0FBQ3pCLGFBQU8sQ0FBQyxHQUFHLEdBQUdOLElBQUdDLEVBQUM7QUFBQSxFQUN0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLFNBQVMsR0FBRztBQUNWLFVBQU0sSUFBSSxNQUFNLEtBQUssRUFBRSxVQUFVO0FBQ2pDLFFBQUlEO0FBQ0osVUFBTSxJQUFJLENBQUNDLElBQUdDLE9BQU07QUFDbEIsVUFBSSxFQUFFLFFBQVFBLEVBQUMsS0FBSyxDQUFDLEVBQUUsWUFBWUEsRUFBQztBQUNsQyxlQUFPRDtBQUNULFlBQU1FLEtBQUlGLEdBQUVBLEdBQUUsU0FBUyxDQUFDO0FBQ3hCLFVBQUlHLEtBQUksSUFBSSxpQkFBaUI7QUFDN0IsY0FBUUQsTUFBSyxFQUFFLFdBQVdBLEVBQUMsTUFBTUMsS0FBSUgsR0FBRSxJQUFJLElBQUlDLEdBQUUsVUFBVTtBQUFBLFFBQ3pELEtBQUssS0FBSztBQUNSLGNBQUlGLEtBQUksS0FBSyxtQkFBbUJFLElBQUdELElBQUdHLEVBQUMsR0FBR0o7QUFDeEMsbUJBQU9BO0FBQ1Q7QUFBQSxRQUNGLEtBQUssS0FBSztBQUNSLGlCQUFPSSxHQUFFLFlBQVlGLEVBQUMsR0FBRyxDQUFDLEdBQUdELElBQUdHLEVBQUM7QUFBQSxRQUNuQztBQUNFLGlCQUFPLENBQUMsR0FBR0gsSUFBR0csRUFBQztBQUFBLE1BQ25CO0FBQ0EsYUFBTyxDQUFDLEdBQUdILElBQUcsR0FBRyxNQUFNLEtBQUtDLEdBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUFBLElBQ3pEO0FBQ0EsV0FBTyxFQUFFLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFBQSxFQUN2QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0Esa0JBQWtCLEdBQUcsR0FBRztBQUN0QixXQUFPLElBQUksWUFBWSxHQUFHO0FBQUEsTUFDeEIsUUFBUTtBQUFBLElBQ1YsQ0FBQztBQUFBLEVBQ0g7QUFDRjtBQUNBLEdBQUcsZ0NBQWdDO0FBQ25DLElBQUksS0FBSztBQUNULElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUEsRUFDakIsY0FBYztBQUNaLFVBQU0sR0FBRyxTQUFTLEdBQUcsS0FBSywyQkFBMkIsQ0FBQyxHQUFHLEtBQUssa0JBQWtCO0FBQUEsRUFDbEY7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksWUFBWTtBQUNkLFdBQU8sS0FBSztBQUFBLEVBQ2Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLE1BQU0sVUFBVTtBQUNkLFVBQU0sRUFBRSxPQUFPLEVBQUUsSUFBSSxLQUFLLFFBQVEsRUFBRSxZQUFZLEVBQUUsSUFBSSxHQUFHRixLQUFJLENBQUM7QUFDOUQsVUFBTSxLQUFLLEVBQUUsUUFBUSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsR0FBR0MsRUFBQyxNQUFNO0FBQzFDLE1BQUFBLEdBQUUsdUJBQXVCRCxHQUFFLEtBQUssQ0FBQztBQUFBLElBQ25DLENBQUMsR0FBRyxLQUFLLDJCQUEyQkEsSUFBRyxLQUFLLE9BQU8sWUFBWUEsR0FBRSxTQUFTLEtBQUssS0FBSyxtQkFBbUIsR0FBRyxLQUFLLE9BQU8sS0FBSyxPQUFPLFVBQVUsSUFBRTtBQUFBLEVBQ2hKO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE1BQU0sT0FBTyxJQUFJLENBQUMsS0FBSyxpQkFBaUIsSUFBSSxPQUFJO0FBQzlDLFNBQUssS0FBSyx5QkFBeUIsU0FBUyxLQUFLLEtBQUssbUJBQW1CO0FBQ3pFLFVBQU1BLEtBQUksS0FBSztBQUNmLFNBQUssa0JBQWtCO0FBQ3ZCLGVBQVdDLE1BQUssS0FBSztBQUNuQixXQUFLLE9BQU9BLEVBQUMsRUFBRSxrQkFBa0IsS0FBSyxPQUFPQSxFQUFDLEVBQUUsZUFBZSxDQUFDO0FBQ2xFLFFBQUlELE9BQU07QUFDUixhQUFPLEtBQUs7QUFDZCxRQUFJO0FBQ0YsYUFBTyxLQUFLO0FBQ2QsU0FBSyxPQUFPLHNCQUFzQixRQUFRO0FBQzFDLFVBQU0sSUFBSSxNQUFNLEtBQUssT0FBTyxNQUFNLEtBQUs7QUFDdkMsV0FBTyxNQUFNLEtBQUssT0FBTyxhQUFhLE1BQU0sR0FBRyxNQUFNLEtBQUssT0FBTyxTQUFTLE9BQU8sRUFBRSxNQUFNLEdBQUcsS0FBSyxPQUFPLHNCQUFzQixPQUFPLEdBQUcsS0FBSztBQUFBLEVBQy9JO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxxQkFBcUI7QUFDbkIsVUFBTSxJQUFJO0FBQUEsTUFDUix5RUFBeUUsS0FBSyx5QkFBeUIsS0FBSyxJQUFJLENBQUM7QUFBQSxJQUNuSDtBQUFBLEVBQ0Y7QUFDRjtBQUNBLElBQU0sS0FBTixNQUFNLFlBQVcsRUFBRTtBQUFBLEVBQ2pCLGNBQWM7QUFDWixVQUFNLEdBQUcsU0FBUyxHQUFHLEtBQUssMkJBQTJCLE9BQUksS0FBSyxlQUFlLEdBQUcsS0FBSyx3QkFBd0IsSUFBSSxLQUFLLHFCQUFxQixHQUFHLEtBQUssa0JBQWtCLEdBQUcsS0FBSyxvQkFBb0IsR0FBRyxLQUFLLFlBQVksT0FBSSxLQUFLLGNBQWMsT0FBSSxLQUFLLGVBQWUsTUFBTSxLQUFLLFNBQVMsR0FBRyxLQUFLLFNBQVMsR0FBRyxLQUFLLFNBQVMsR0FBRyxLQUFLLFNBQVMsR0FBRyxLQUFLLGtCQUFrQixDQUFDLEdBQUcsS0FBSyxjQUFjLENBQUM7QUFBQSxFQUMvWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsTUFBTTtBQUNmLFdBQU87QUFBQSxNQUNMLFNBQVM7QUFBQSxNQUNULGtCQUFrQjtBQUFBLE1BQ2xCLE1BQU07QUFBQSxNQUNOLGVBQWU7QUFBQSxNQUNmLGtCQUFrQjtBQUFBLElBQ3BCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxVQUFVO0FBQ1IsU0FBSyxxQkFBcUI7QUFBQSxFQUM1QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsZUFBZSxHQUFHLEdBQUc7QUFDbkIsVUFBTUEsS0FBSSxTQUFTLGlCQUFpQixJQUFJLE9BQU8sYUFBYSxJQUFJLE9BQU8sV0FBVztBQUNsRixJQUFBQSxHQUFFLFFBQVEsSUFBSSxLQUFLLE9BQU8sUUFBUSxJQUFJLE9BQU8sRUFBRSxNQUFNLEtBQUssT0FBTyxlQUFlLG9CQUFvQixPQUFJLEtBQUssZUFBZSxHQUFHLEtBQUssa0JBQWtCLENBQUM7QUFDdkosVUFBTUMsS0FBSTtBQUFBLE1BQ1IsSUFBSSxFQUFFLElBQUksT0FBTztBQUFBLE1BQ2pCLElBQUksS0FBSyxPQUFPLFFBQVEsSUFBSSxPQUFPO0FBQUEsTUFDbkMsSUFBSSxLQUFLLE9BQU8sY0FBYyxJQUFJLGFBQWE7QUFBQSxJQUNqRCxHQUFHQyxLQUFJRixHQUFFLFFBQVEsTUFBTSxLQUFLLE9BQU8sR0FBRyxJQUFJLGFBQWEsR0FBR0csS0FBSUYsR0FBRSxLQUFLLENBQUNHLE9BQU0sQ0FBQyxDQUFDSixHQUFFLFFBQVFJLEVBQUMsQ0FBQztBQUMxRixLQUFDRixNQUFLQyxPQUFNLEtBQUssWUFBWSxNQUFJLEtBQUssU0FBUyxHQUFHLEtBQUssU0FBUztBQUFBLEVBQ2xFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxlQUFlO0FBQ2IsU0FBSyxZQUFZLE9BQUksS0FBSyxTQUFTLEdBQUcsS0FBSyxTQUFTLEdBQUcsS0FBSyxpQkFBaUIsTUFBTSxVQUFVO0FBQUEsRUFDL0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGtCQUFrQjtBQUNoQixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxpQkFBaUI7QUFDZixTQUFLLDJCQUEyQjtBQUFBLEVBQ2xDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSx1QkFBdUI7QUFDckIsVUFBTSxFQUFFLFdBQVcsRUFBRSxJQUFJLEtBQUssUUFBUTtBQUN0QyxTQUFLLFVBQVUsR0FBRyxHQUFHLGFBQWEsQ0FBQyxNQUFNO0FBQ3ZDLFdBQUssaUJBQWlCLENBQUM7QUFBQSxJQUN6QixHQUFHLEtBQUUsR0FBRyxLQUFLLFVBQVUsR0FBRyxTQUFTLE1BQU0sYUFBYSxHQUFHLENBQUMsTUFBTTtBQUM5RCxXQUFLLGlCQUFpQixDQUFDO0FBQUEsSUFDekIsR0FBRyxFQUFFLEdBQUc7QUFBQSxNQUNOLFNBQVM7QUFBQSxJQUNYLENBQUMsR0FBRyxLQUFLLFVBQVUsR0FBRyxTQUFTLE1BQU0sY0FBYyxNQUFNO0FBQ3ZELFdBQUssa0JBQWtCO0FBQUEsSUFDekIsQ0FBQyxHQUFHLEtBQUssVUFBVSxHQUFHLFFBQVEsVUFBVSxHQUFHLENBQUMsTUFBTTtBQUNoRCxXQUFLLGNBQWMsQ0FBQztBQUFBLElBQ3RCLEdBQUcsRUFBRSxHQUFHO0FBQUEsTUFDTixTQUFTO0FBQUEsSUFDWCxDQUFDLEdBQUcsS0FBSyxVQUFVLEdBQUcsU0FBUyxNQUFNLFdBQVcsTUFBTTtBQUNwRCxXQUFLLGVBQWU7QUFBQSxJQUN0QixHQUFHLEtBQUU7QUFBQSxFQUNQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsaUJBQWlCLEdBQUc7QUFDbEIsUUFBSSxFQUFFLFdBQVcsS0FBSztBQUNwQjtBQUNGLE1BQUUsT0FBTyxRQUFRLEVBQUUsaUJBQWlCLE1BQU0sUUFBUSxLQUFLLGVBQWUsRUFBRSxPQUFPLEVBQUUsS0FBSztBQUFBLEVBQ3hGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsaUJBQWlCLEdBQUc7QUFDbEIsU0FBSyxrQkFBa0IsQ0FBQyxHQUFHLEtBQUssY0FBYyxFQUFFLE9BQU87QUFBQSxFQUN6RDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsb0JBQW9CO0FBQ2xCLFNBQUssZUFBZSxHQUFHLEtBQUssYUFBYTtBQUFBLEVBQzNDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxjQUFjLEdBQUc7QUFDZixTQUFLLGtCQUFrQixDQUFDO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGlCQUFpQjtBQUNmLFNBQUssZUFBZSxHQUFHLEtBQUssYUFBYTtBQUFBLEVBQzNDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsY0FBYyxHQUFHO0FBQ2YsUUFBSSxLQUFLLGVBQWUsTUFBTSxLQUFLLEtBQUssMEJBQTBCLEtBQUssZUFBZSxLQUFLLGtCQUFrQixTQUFTLGdCQUFnQixlQUFlLEtBQUssS0FBSywwQkFBMEIsS0FBSyxlQUFlLEtBQUsscUJBQXFCLENBQUMsS0FBSyxjQUFjO0FBQ3pQLFdBQUssY0FBYztBQUNuQjtBQUFBLElBQ0Y7QUFDQSxTQUFLLGdCQUFnQixLQUFLLGVBQWUsS0FBSyxpQkFBaUIsS0FBSyxrQkFBa0IsQ0FBQyxLQUFLLGVBQWUsS0FBSyxZQUFZLEdBQUcsS0FBSyxjQUFjO0FBQUEsRUFDcEo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVO0FBQ1IsVUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEtBQUssUUFBUSxJQUFJLEVBQUUsTUFBTSxPQUFPLGNBQWMsTUFBTSxFQUFFLElBQUksYUFBYSxHQUFHSCxLQUFJLEVBQUUsS0FBSyxPQUFPLElBQUcsSUFBSSxTQUFTLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLE9BQU8sSUFBRyxJQUFJLGtCQUFrQixDQUFDLENBQUMsR0FBR0MsS0FBSSxFQUFFLEtBQUssT0FBTyxJQUFHLElBQUksTUFBTSxDQUFDLENBQUM7QUFDcE4sV0FBTyxFQUFFLFlBQVlBLEVBQUMsR0FBR0QsR0FBRSxZQUFZLENBQUMsR0FBRyxFQUFFLFlBQVlBLEVBQUMsR0FBRyxLQUFLLG1CQUFtQkMsSUFBRztBQUFBLE1BQ3RGLFdBQVc7QUFBQSxNQUNYLFNBQVNEO0FBQUEsSUFDWDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxlQUFlLEdBQUc7QUFDaEIsUUFBSSxFQUFFLEtBQUssZ0JBQWdCLEtBQUs7QUFDOUI7QUFDRixVQUFNLElBQUksT0FBTztBQUNqQixXQUFPLFNBQVMsR0FBRyxDQUFDLEdBQUcsS0FBSyxVQUFVLE9BQU8sY0FBYyxHQUFHLFdBQVcsTUFBTTtBQUM3RSxXQUFLLGVBQWUsQ0FBQztBQUFBLElBQ3ZCLEdBQUcsQ0FBQztBQUFBLEVBQ047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxrQkFBa0IsR0FBRztBQUNuQixRQUFJLENBQUMsS0FBSztBQUNSO0FBQ0YsTUFBRSxVQUFVLFdBQVcsS0FBSyxTQUFTLEVBQUUsT0FBTyxLQUFLLFNBQVMsRUFBRTtBQUM5RCxVQUFNLEVBQUUsVUFBVSxHQUFHLFNBQVNBLElBQUcsT0FBTyxFQUFFLElBQUksS0FBSyx5QkFBeUIsR0FBR0MsS0FBSSxLQUFLLFNBQVMsS0FBSyxLQUFLLFNBQVMsR0FBR0MsS0FBSSxLQUFLLFNBQVNGLE1BQUssS0FBSyxTQUFTQTtBQUM1SixTQUFLLG9CQUFvQixFQUFFQyxNQUFLQyxLQUFJLEtBQUssNkJBQTZCLEtBQUssb0JBQW9CLE9BQUksS0FBSywyQkFBMkIsTUFBSSxLQUFLLHVCQUF1QixHQUFHLEtBQUssaUJBQWlCLE1BQU0sVUFBVSxVQUFVLEtBQUssb0JBQW9CLEdBQUcsS0FBSyxPQUFPLFFBQVEsTUFBTSxHQUFHLE1BQU0sV0FBVyxLQUFLLG1CQUFtQixDQUFDLEdBQUcsS0FBSyxpQkFBaUIsR0FBRyxFQUFFLElBQUksRUFBRSxnQkFBZ0I7QUFBQSxFQUMvVztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEseUJBQXlCO0FBQ3ZCLFNBQUssaUJBQWlCLE1BQU0sT0FBTyxHQUFHLEtBQUssU0FBUyxPQUFPLFdBQVcsTUFBTSxLQUFLLGlCQUFpQixNQUFNLE1BQU0sR0FBRyxLQUFLLFNBQVMsT0FBTyxXQUFXLE1BQU0sS0FBSyxpQkFBaUIsTUFBTSxTQUFTLGVBQWUsS0FBSyxTQUFTLE9BQU8sV0FBVyxNQUFNLEtBQUssaUJBQWlCLE1BQU0sUUFBUSxlQUFlLEtBQUssU0FBUyxPQUFPLFdBQVc7QUFBQSxFQUN0VTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsbUJBQW1CO0FBQ2pCLFVBQU0sSUFBSSxLQUFLLE9BQU8sYUFBYSxnQkFBZ0IsS0FBSyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7QUFDNUUsUUFBSSxLQUFLLHFCQUFxQixDQUFDO0FBQzdCLGlCQUFXRixNQUFLLEtBQUs7QUFDbkIsYUFBSyxPQUFPLGVBQWUsbUJBQW1CQSxFQUFDO0FBQ25ELFFBQUksQ0FBQyxLQUFLLHFCQUFxQjtBQUM3QixpQkFBV0EsTUFBSyxLQUFLO0FBQ25CLGFBQUssT0FBTyxlQUFlLHFCQUFxQkEsRUFBQztBQUFBLEVBQ3ZEO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxzQkFBc0I7QUFDcEIsU0FBSyxVQUFVLEtBQUssVUFBVSxLQUFLLGlCQUFpQixNQUFNLE1BQU0sR0FBRyxLQUFLLFNBQVMsT0FBTyxXQUFXLE1BQU0sS0FBSyxpQkFBaUIsTUFBTSxTQUFTLGVBQWUsS0FBSyxTQUFTLE9BQU8sV0FBVyxTQUFTLEtBQUssaUJBQWlCLE1BQU0sU0FBUyxlQUFlLEtBQUssU0FBUyxPQUFPLFdBQVcsTUFBTSxLQUFLLGlCQUFpQixNQUFNLE1BQU0sR0FBRyxLQUFLLFNBQVMsT0FBTyxXQUFXLE9BQU8sS0FBSyxVQUFVLEtBQUssVUFBVSxLQUFLLGlCQUFpQixNQUFNLE9BQU8sR0FBRyxLQUFLLFNBQVMsT0FBTyxXQUFXLE1BQU0sS0FBSyxpQkFBaUIsTUFBTSxRQUFRLGVBQWUsS0FBSyxTQUFTLE9BQU8sV0FBVyxTQUFTLEtBQUssaUJBQWlCLE1BQU0sUUFBUSxlQUFlLEtBQUssU0FBUyxPQUFPLFdBQVcsTUFBTSxLQUFLLGlCQUFpQixNQUFNLE9BQU8sR0FBRyxLQUFLLFNBQVMsT0FBTyxXQUFXO0FBQUEsRUFDbnRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsMkJBQTJCO0FBQ3pCLFVBQU0sSUFBSSxTQUFTLEtBQUssY0FBYyxHQUFHQSxLQUFJLEtBQUssU0FBUyxPQUFPLGFBQWEsSUFBSSxTQUFTLGlCQUFpQixHQUFHQSxFQUFDLEdBQUdDLEtBQUksS0FBSyxPQUFPLGFBQWEsb0JBQW9CLENBQUM7QUFDdEssUUFBSUM7QUFDSixJQUFBRCxPQUFNLFdBQVdDLEtBQUksS0FBSyxPQUFPLGFBQWEsT0FBTyxVQUFVLENBQUNVLE9BQU1BLEdBQUUsV0FBV1gsR0FBRSxNQUFNO0FBQzNGLFVBQU1FLEtBQUksS0FBSyxPQUFPLGFBQWEsVUFBVSxPQUFPLGNBQWMsTUFBTSxFQUFFLElBQUksT0FBTyxHQUFHQyxLQUFJLE9BQU8sU0FBUyxPQUFPLGlCQUFpQkQsRUFBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLEdBQUdFLEtBQUksSUFBSUQsSUFBR0UsS0FBSSxJQUFJRjtBQUMxSyxXQUFPO0FBQUEsTUFDTCxPQUFPRjtBQUFBLE1BQ1AsU0FBU0c7QUFBQSxNQUNULFVBQVVDO0FBQUEsSUFDWjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxvQkFBb0IsR0FBRztBQUNyQixTQUFLLHFCQUFxQixLQUFLLE9BQU8sZUFBZSxtQkFBbUIsQ0FBQyxHQUFHLEtBQUssZ0JBQWdCLEtBQUssQ0FBQztBQUFBLEVBQ3pHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsbUJBQW1CLEdBQUc7QUFDcEIsVUFBTSxJQUFJLEtBQUssZ0JBQWdCLEtBQUssZ0JBQWdCLFNBQVMsQ0FBQyxNQUFNLEdBQUdOLEtBQUksS0FBSyxnQkFBZ0IsUUFBUSxJQUFJLEdBQUdDLEtBQUksSUFBSUMsS0FBSTtBQUMzSCxRQUFJO0FBQ0Y7QUFDRixVQUFNQyxLQUFJLEtBQUssZ0JBQWdCSCxLQUFJLENBQUMsSUFBSSxLQUFLLGdCQUFnQkEsS0FBSSxDQUFDLElBQUk7QUFDdEUsUUFBSUksS0FBSUY7QUFDUixJQUFBRixLQUFJLE1BQU1JLEtBQUlELEtBQUksSUFBSUY7QUFDdEIsVUFBTUksS0FBSSxJQUFJLEtBQUssZ0JBQWdCTCxLQUFJLENBQUMsS0FBS0ksT0FBTSxHQUFHRSxLQUFJLElBQUksS0FBSyxnQkFBZ0JOLEtBQUksQ0FBQyxLQUFLSSxPQUFNSCxJQUFHTSxLQUFJLEVBQUVGLE1BQUtDLE1BQUtGLE9BQU1GO0FBQzVILFFBQUksQ0FBQ0ssT0FBTSxJQUFJLEtBQUssZ0JBQWdCUCxLQUFJLENBQUMsS0FBSyxLQUFLLGdCQUFnQkEsS0FBSSxDQUFDLE1BQU0sU0FBUztBQUNyRixVQUFJVSxLQUFJLEtBQUssZ0JBQWdCVixLQUFJLENBQUMsSUFBSSxLQUFLO0FBQzNDLFdBQUtVLElBQUdBLE1BQUssR0FBR0E7QUFDZCxhQUFLLG9CQUFvQkEsRUFBQztBQUM1QjtBQUFBLElBQ0Y7QUFDQSxRQUFJLENBQUNILE1BQUssSUFBSSxLQUFLLGdCQUFnQlAsS0FBSSxDQUFDLEdBQUc7QUFDekMsZUFBU1UsS0FBSSxLQUFLLGdCQUFnQlYsS0FBSSxDQUFDLElBQUksR0FBR1UsTUFBSyxHQUFHQTtBQUNwRCxhQUFLLG9CQUFvQkEsRUFBQztBQUM1QjtBQUFBLElBQ0Y7QUFDQSxRQUFJLENBQUNIO0FBQ0g7QUFDRixRQUFJQyxLQUFJUixLQUFJLEdBQUdTO0FBQ2YsU0FBSyxJQUFJLEtBQUssZ0JBQWdCVCxLQUFJLENBQUMsSUFBSVMsS0FBSSxNQUFNLElBQUksS0FBSyxnQkFBZ0JELEVBQUMsSUFBSUMsS0FBSSxNQUFNLElBQUksS0FBSyxnQkFBZ0JELEVBQUMsR0FBR0MsR0FBRTtBQUN0SCxXQUFLLHFCQUFxQixLQUFLLE9BQU8sZUFBZSxxQkFBcUIsS0FBSyxnQkFBZ0JELEVBQUMsQ0FBQyxHQUFHLEtBQUssZ0JBQWdCLElBQUksR0FBR0E7QUFBQSxFQUNwSTtBQUNGO0FBQ0EsSUFBTSxLQUFOLGNBQWlCLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNakIsTUFBTSxPQUFPLEdBQUc7QUFDZCxXQUFPLElBQUksUUFBUSxDQUFDLE1BQU07QUFDeEIsWUFBTSxFQUFFLE9BQU9SLElBQUcsY0FBYyxFQUFFLElBQUksS0FBSztBQUMzQyxVQUFJLEVBQUUsV0FBVztBQUNmLFVBQUUsT0FBTztBQUFBLFdBQ047QUFDSCxjQUFNQyxLQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsTUFBTUMsSUFBRyxNQUFNQyxJQUFHLE9BQU9DLElBQUcsSUFBSUMsR0FBRSxNQUFNO0FBQ3pELFVBQUFMLEdBQUUsVUFBVSxJQUFJRSxFQUFDLE1BQU0sVUFBTyxFQUFFLFlBQVNBLEVBQUMsc0VBQW1FLE1BQU0sR0FBR0MsS0FBSSxLQUFLLHVCQUF1QkQsSUFBR0MsSUFBR0UsRUFBQyxHQUFHSCxLQUFJRixHQUFFO0FBQ3RLLGNBQUlNO0FBQ0osY0FBSTtBQUNGLFlBQUFBLEtBQUksRUFBRSxhQUFhO0FBQUEsY0FDakIsSUFBSUQ7QUFBQSxjQUNKLE1BQU1IO0FBQUEsY0FDTixNQUFNQztBQUFBLGNBQ04sT0FBT0M7QUFBQSxZQUNULENBQUM7QUFBQSxVQUNILFNBQVNRLElBQUc7QUFDVixjQUFFLGFBQVVWLEVBQUMseUNBQXNDLFNBQVM7QUFBQSxjQUMxRCxNQUFNQztBQUFBLGNBQ04sT0FBT1M7QUFBQSxZQUNULENBQUMsR0FBR1QsS0FBSSxLQUFLLHVCQUF1QkQsSUFBR0MsSUFBR0UsRUFBQyxHQUFHSCxLQUFJRixHQUFFLFVBQVVNLEtBQUksRUFBRSxhQUFhO0FBQUEsY0FDL0UsSUFBSUQ7QUFBQSxjQUNKLE1BQU1IO0FBQUEsY0FDTixNQUFNQztBQUFBLGNBQ04sT0FBT0M7QUFBQSxZQUNULENBQUM7QUFBQSxVQUNIO0FBQ0EsaUJBQU9FO0FBQUEsUUFDVCxDQUFDO0FBQ0QsVUFBRSxXQUFXTCxFQUFDO0FBQUEsTUFDaEI7QUFDQSxhQUFPLG9CQUFvQixNQUFNO0FBQy9CLFVBQUU7QUFBQSxNQUNKLEdBQUcsRUFBRSxTQUFTLElBQUksQ0FBQztBQUFBLElBQ3JCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLHVCQUF1QixHQUFHLEdBQUdELElBQUc7QUFDOUIsVUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLEtBQUs7QUFDMUIsUUFBSUMsS0FBSTtBQUNSLFFBQUksRUFBRSxZQUFZLElBQUksQ0FBQyxHQUFHO0FBQ3hCLFlBQU1DLEtBQUksRUFBRSxZQUFZLElBQUksQ0FBQyxFQUFFO0FBQy9CLE1BQUFBLE9BQU0sVUFBVUEsR0FBRSxDQUFDLEVBQUUsVUFBVSxXQUFXRCxLQUFJQyxHQUFFLENBQUMsRUFBRTtBQUFBLElBQ3JEO0FBQ0EsV0FBTztBQUFBLE1BQ0wsV0FBVztBQUFBLFFBQ1QsSUFBSUY7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxNQUNSO0FBQUEsTUFDQSxPQUFPQztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sY0FBaUIsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1qQixNQUFNLE9BQU87QUFDWCxVQUFNLEVBQUUsY0FBYyxHQUFHLE9BQU8sRUFBRSxJQUFJLEtBQUssUUFBUUQsS0FBSSxFQUFFLFFBQVEsSUFBSSxDQUFDO0FBQ3RFLFFBQUk7QUFDRixNQUFBQSxHQUFFLFFBQVEsQ0FBQ0csT0FBTTtBQUNmLFVBQUUsS0FBSyxLQUFLLGFBQWFBLEVBQUMsQ0FBQztBQUFBLE1BQzdCLENBQUM7QUFDRCxZQUFNRixLQUFJLE1BQU0sUUFBUSxJQUFJLENBQUMsR0FBR0MsS0FBSSxNQUFNLEdBQUdELElBQUcsQ0FBQ0UsT0FBTSxFQUFFLFdBQVcsSUFBSUEsRUFBQyxFQUFFLGNBQWM7QUFDekYsYUFBTyxLQUFLLFdBQVdELEVBQUM7QUFBQSxJQUMxQixTQUFTRCxJQUFHO0FBQ1YsUUFBRSxxQ0FBcUMsU0FBU0EsRUFBQztBQUFBLElBQ25EO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxhQUFhLEdBQUc7QUFDcEIsVUFBTSxJQUFJLE1BQU0sRUFBRSxLQUFLLEdBQUdELEtBQUksS0FBSyxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUk7QUFDMUQsV0FBTztBQUFBLE1BQ0wsR0FBRztBQUFBLE1BQ0gsU0FBU0E7QUFBQSxJQUNYO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsV0FBVyxHQUFHO0FBQ1osVUFBTSxJQUFJLENBQUM7QUFDWCxXQUFPLEVBQUUsUUFBUSxDQUFDLEVBQUUsSUFBSUEsSUFBRyxNQUFNLEdBQUcsTUFBTUMsSUFBRyxPQUFPQyxJQUFHLFNBQVNDLEdBQUUsTUFBTTtBQUN0RSxVQUFJLENBQUNBLElBQUc7QUFDTixVQUFFLGFBQVUsQ0FBQyw0Q0FBeUM7QUFDdEQ7QUFBQSxNQUNGO0FBQ0EsVUFBSSxNQUFNLEtBQUssT0FBTyxNQUFNLFVBQVU7QUFDcEMsVUFBRSxLQUFLRixFQUFDO0FBQ1I7QUFBQSxNQUNGO0FBQ0EsWUFBTUcsS0FBSTtBQUFBLFFBQ1IsSUFBSUo7QUFBQSxRQUNKLE1BQU07QUFBQSxRQUNOLE1BQU1DO0FBQUEsUUFDTixHQUFHLENBQUMsRUFBRUMsRUFBQyxLQUFLO0FBQUEsVUFDVixPQUFPQTtBQUFBLFFBQ1Q7QUFBQSxNQUNGO0FBQ0EsUUFBRSxLQUFLRSxFQUFDO0FBQUEsSUFDVixDQUFDLEdBQUc7QUFBQSxNQUNGLE1BQU0sQ0FBaUIsb0JBQUksS0FBSztBQUFBLE1BQ2hDLFFBQVE7QUFBQSxNQUNSLFNBQVM7QUFBQSxJQUNYO0FBQUEsRUFDRjtBQUNGO0FBQUEsQ0FDQyxXQUFXO0FBQ1YsTUFBSTtBQUNGLFFBQUksT0FBTyxXQUFXLEtBQUs7QUFDekIsVUFBSUwsS0FBSSxTQUFTLGNBQWMsT0FBTztBQUN0QyxNQUFBQSxHQUFFLFlBQVksU0FBUyxlQUFlLDhVQUE4VSxDQUFDLEdBQUcsU0FBUyxLQUFLLFlBQVlBLEVBQUM7QUFBQSxJQUNyWjtBQUFBLEVBQ0YsU0FBUyxHQUFHO0FBQ1YsWUFBUSxNQUFNLGtDQUFrQyxDQUFDO0FBQUEsRUFDbkQ7QUFDRixHQUFHO0FBQ0gsSUFBTSxLQUFLO0FBQ1gsU0FBUyxHQUFHQSxJQUFHO0FBQ2IsUUFBTSxJQUFJLFNBQVMsY0FBYyxLQUFLO0FBQ3RDLElBQUUsWUFBWUEsR0FBRSxLQUFLO0FBQ3JCLFFBQU0sSUFBSSxTQUFTLHVCQUF1QjtBQUMxQyxTQUFPLEVBQUUsT0FBTyxHQUFHLE1BQU0sS0FBSyxFQUFFLFVBQVUsQ0FBQyxHQUFHO0FBQ2hEO0FBU0EsSUFBTSxLQUFOLE1BQU0sSUFBRztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT1AsV0FBVyxzQkFBc0I7QUFDL0IsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVVBLFlBQVksRUFBRSxNQUFNLEdBQUcsUUFBUSxHQUFHLEtBQUtDLElBQUcsVUFBVSxFQUFFLEdBQUc7QUFDdkQsU0FBSyxNQUFNQSxJQUFHLEtBQUssV0FBVyxHQUFHLEtBQUssT0FBTztBQUFBLE1BQzNDLE9BQU8sS0FBSyxJQUFJLE9BQU87QUFBQSxNQUN2QixTQUFTO0FBQUEsSUFDWCxHQUFHLEtBQUssYUFBYSxLQUFLLFVBQVUsS0FBSyxRQUFRLEtBQUssSUFBSSxJQUFJLEtBQUssZUFBZSxFQUFFLGNBQWMsRUFBRSxjQUFjLElBQUcscUJBQXFCLEtBQUssUUFBUSxLQUFLLENBQUMsR0FBRyxLQUFLLFdBQVcsTUFBTSxLQUFLLGlCQUFpQixFQUFFLGlCQUFpQjtBQUFBLEVBQ2pPO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxRQUFRLEdBQUc7QUFDVCxRQUFJLEVBQUUsU0FBUyxlQUFlLEVBQUUsU0FBUyxZQUFZLENBQUMsS0FBSztBQUN6RDtBQUNGLFVBQU0sRUFBRSxhQUFhLEVBQUUsSUFBSSxLQUFLO0FBQ2hDLFVBQU0sT0FBTyxLQUFLLFNBQVMsWUFBWTtBQUFBLEVBQ3pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXO0FBQ1QsVUFBTSxJQUFJLFNBQVMsY0FBYyxLQUFLO0FBQ3RDLFdBQU8sRUFBRSxVQUFVLElBQUksS0FBSyxLQUFLLFNBQVMsS0FBSyxLQUFLLEtBQUssR0FBRyxFQUFFLGtCQUFrQixTQUFTLEVBQUUsUUFBUSxvQkFBb0IsS0FBSyxJQUFJLEtBQUssRUFBRSxLQUFLLFlBQVksR0FBRyxLQUFLLE1BQU0sU0FBUyxFQUFFLFlBQVksS0FBSyxNQUFNLE9BQU8sS0FBSyxhQUFhLEVBQUUsa0JBQWtCLFFBQVEsRUFBRSxpQkFBaUIsU0FBUyxLQUFLLE9BQU8sSUFBSTtBQUFBLEVBQzNTO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsU0FBUztBQUNQLFdBQU8sS0FBSyxXQUFXLEtBQUssU0FBUyxHQUFHLEtBQUs7QUFBQSxFQUMvQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxNQUFNLEdBQUc7QUFDUCxRQUFJLENBQUMsS0FBSztBQUNSO0FBQ0YsU0FBSyxNQUFNLFFBQVEsRUFBRTtBQUNyQixVQUFNLElBQUksR0FBRyxFQUFFLElBQUk7QUFDbkIsU0FBSyxTQUFTLFlBQVksQ0FBQyxHQUFHLEtBQUssU0FBUyxVQUFVO0FBQUEsRUFDeEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxTQUFTLEdBQUc7QUFDVixXQUFPLEVBQUUsRUFBRSxLQUFLLEtBQUssTUFBTSxNQUFNLENBQUMsS0FBSztBQUFBLEVBQ3pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLEtBQUssR0FBRztBQUNOLFdBQU87QUFBQSxNQUNMLE1BQU0sRUFBRTtBQUFBLElBQ1Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsUUFBUSxHQUFHO0FBQ1QsVUFBTSxJQUFJO0FBQUEsTUFDUixNQUFNLEVBQUUsT0FBTyxLQUFLO0FBQUEsSUFDdEI7QUFDQSxTQUFLLFFBQVEsR0FBRyxPQUFPLHNCQUFzQixNQUFNO0FBQ2pELFdBQUssYUFBYSxLQUFLLFNBQVMsWUFBWSxLQUFLLE1BQU0sUUFBUTtBQUFBLElBQ2pFLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLFdBQVcsbUJBQW1CO0FBQzVCLFdBQU87QUFBQSxNQUNMLFFBQVE7QUFBQTtBQUFBLE1BRVIsUUFBUTtBQUFBO0FBQUEsSUFFVjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsV0FBVyxXQUFXO0FBQ3BCLFdBQU87QUFBQSxNQUNMLE1BQU07QUFBQSxRQUNKLElBQUk7QUFBQSxNQUNOO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLHNCQUFzQjtBQUMvQixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsV0FBVyxjQUFjO0FBQ3ZCLFdBQU87QUFBQSxNQUNMLE1BQU0sQ0FBQyxHQUFHO0FBQUEsSUFDWjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLFVBQVU7QUFDbkIsV0FBTztBQUFBLE1BQ0wsTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sTUFBUztBQUFBLEVBQ1AsY0FBYztBQUNaLFNBQUssY0FBYztBQUFBLEVBQ3JCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLFdBQVc7QUFDcEIsV0FBTztBQUFBLE1BQ0wsR0FBRyxDQUFDO0FBQUEsSUFDTjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVM7QUFDUCxXQUFPO0FBQUEsTUFDTCxNQUFNO0FBQUEsTUFDTixNQUFNO0FBQUEsTUFDTixZQUFZLE1BQU07QUFDaEIsaUJBQVMsWUFBWSxLQUFLLFdBQVc7QUFBQSxNQUN2QztBQUFBLE1BQ0EsVUFBVSxNQUFNLFNBQVMsa0JBQWtCLEtBQUssV0FBVztBQUFBLElBQzdEO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksV0FBVztBQUNiLFdBQU87QUFBQSxFQUNUO0FBQ0Y7QUFDQSxHQUFHLFdBQVc7QUFDZCxHQUFHLFFBQVE7QUFDWCxJQUFNLEtBQU4sTUFBUztBQUFBLEVBQ1AsY0FBYztBQUNaLFNBQUssY0FBYyxVQUFVLEtBQUssTUFBTTtBQUFBLE1BQ3RDLFFBQVE7QUFBQSxNQUNSLGNBQWM7QUFBQSxNQUNkLGdCQUFnQjtBQUFBLElBQ2xCLEdBQUcsS0FBSyxRQUFRO0FBQUEsTUFDZCxRQUFRO0FBQUEsSUFDVjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFdBQVcsV0FBVztBQUNwQixXQUFPO0FBQUEsTUFDTCxHQUFHLENBQUM7QUFBQSxJQUNOO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsU0FBUztBQUNQLFdBQU8sS0FBSyxNQUFNLFNBQVMsU0FBUyxjQUFjLFFBQVEsR0FBRyxLQUFLLE1BQU0sT0FBTyxPQUFPLFVBQVUsS0FBSyxNQUFNLE9BQU8sVUFBVSxJQUFJLEtBQUssSUFBSSxRQUFRLEtBQUssSUFBSSxjQUFjLEdBQUcsS0FBSyxNQUFNLE9BQU8sWUFBWSxJQUFJLEtBQUssTUFBTTtBQUFBLEVBQzFOO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXO0FBQ1QsYUFBUyxZQUFZLEtBQUssV0FBVztBQUFBLEVBQ3ZDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxhQUFhO0FBQ1gsVUFBTSxJQUFJLFNBQVMsa0JBQWtCLEtBQUssV0FBVztBQUNyRCxXQUFPLEtBQUssTUFBTSxPQUFPLFVBQVUsT0FBTyxLQUFLLElBQUksY0FBYyxDQUFDLEdBQUc7QUFBQSxFQUN2RTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxXQUFXO0FBQ2IsV0FBTztBQUFBLEVBQ1Q7QUFDRjtBQUNBLEdBQUcsV0FBVztBQUNkLEdBQUcsUUFBUTtBQUNYLElBQU0sS0FBTixNQUFTO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJUCxZQUFZLEVBQUUsS0FBSyxFQUFFLEdBQUc7QUFDdEIsU0FBSyxjQUFjLGNBQWMsS0FBSyxnQkFBZ0IsVUFBVSxLQUFLLFlBQVksSUFBSSxLQUFLLE1BQU07QUFBQSxNQUM5RixRQUFRO0FBQUEsTUFDUixjQUFjO0FBQUEsTUFDZCxnQkFBZ0I7QUFBQSxNQUNoQixjQUFjO0FBQUEsTUFDZCxPQUFPO0FBQUEsTUFDUCxhQUFhO0FBQUEsSUFDZixHQUFHLEtBQUssUUFBUTtBQUFBLE1BQ2QsUUFBUTtBQUFBLE1BQ1IsT0FBTztBQUFBLElBQ1QsR0FBRyxLQUFLLGNBQWMsT0FBSSxLQUFLLFVBQVUsRUFBRSxTQUFTLEtBQUssZ0JBQWdCLEVBQUUsZUFBZSxLQUFLLFdBQVcsRUFBRSxVQUFVLEtBQUssT0FBTyxFQUFFLE1BQU0sS0FBSyxZQUFZLElBQUksRUFBRTtBQUFBLEVBQ25LO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLFdBQVc7QUFDcEIsV0FBTztBQUFBLE1BQ0wsR0FBRztBQUFBLFFBQ0QsTUFBTTtBQUFBLFFBQ04sUUFBUTtBQUFBLFFBQ1IsS0FBSztBQUFBLE1BQ1A7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsU0FBUztBQUNQLFdBQU8sS0FBSyxNQUFNLFNBQVMsU0FBUyxjQUFjLFFBQVEsR0FBRyxLQUFLLE1BQU0sT0FBTyxPQUFPLFVBQVUsS0FBSyxNQUFNLE9BQU8sVUFBVSxJQUFJLEtBQUssSUFBSSxRQUFRLEtBQUssSUFBSSxjQUFjLEdBQUcsS0FBSyxNQUFNLE9BQU8sWUFBWSxJQUFJLEtBQUssTUFBTTtBQUFBLEVBQzFOO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxnQkFBZ0I7QUFDZCxXQUFPLEtBQUssTUFBTSxRQUFRLFNBQVMsY0FBYyxPQUFPLEdBQUcsS0FBSyxNQUFNLE1BQU0sY0FBYyxLQUFLLEtBQUssRUFBRSxZQUFZLEdBQUcsS0FBSyxNQUFNLE1BQU0sZUFBZSxRQUFRLEtBQUssTUFBTSxNQUFNLFVBQVUsSUFBSSxLQUFLLElBQUksS0FBSyxHQUFHLEtBQUssTUFBTSxNQUFNLGlCQUFpQixXQUFXLENBQUMsTUFBTTtBQUMvUCxRQUFFLFlBQVksS0FBSyxhQUFhLEtBQUssYUFBYSxDQUFDO0FBQUEsSUFDckQsQ0FBQyxHQUFHLEtBQUssTUFBTTtBQUFBLEVBQ2pCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsU0FBUyxHQUFHO0FBQ1YsUUFBSSxHQUFHO0FBQ0wsV0FBSyxlQUFlLEtBQUssVUFBVSxRQUFRLEdBQUcsS0FBSyxVQUFVLHFCQUFxQixNQUFNLEtBQUssVUFBVSxrQkFBa0IsR0FBRyxLQUFLLFVBQVUsS0FBSztBQUNoSixZQUFNLElBQUksS0FBSyxVQUFVLGNBQWMsR0FBRztBQUMxQyxVQUFJLEdBQUc7QUFDTCxhQUFLLFVBQVUsWUFBWSxDQUFDLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxhQUFhLEdBQUcsS0FBSyxXQUFXLEdBQUcsS0FBSyxRQUFRLE1BQU07QUFDekc7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUNBLFNBQUssY0FBYztBQUFBLEVBQ3JCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxhQUFhO0FBQ1gsVUFBTSxJQUFJLEtBQUssVUFBVSxjQUFjLEdBQUc7QUFDMUMsUUFBSSxHQUFHO0FBQ0wsV0FBSyxNQUFNLE9BQU8sWUFBWSxJQUFJLEtBQUssTUFBTSxPQUFPLFVBQVUsSUFBSSxLQUFLLElBQUksWUFBWSxHQUFHLEtBQUssTUFBTSxPQUFPLFVBQVUsSUFBSSxLQUFLLElBQUksWUFBWSxHQUFHLEtBQUssWUFBWTtBQUNuSyxZQUFNLElBQUksRUFBRSxhQUFhLE1BQU07QUFDL0IsV0FBSyxNQUFNLE1BQU0sUUFBUSxNQUFNLFNBQVMsSUFBSSxJQUFJLEtBQUssVUFBVSxLQUFLO0FBQUEsSUFDdEU7QUFDRSxXQUFLLE1BQU0sT0FBTyxZQUFZLElBQUksS0FBSyxNQUFNLE9BQU8sVUFBVSxPQUFPLEtBQUssSUFBSSxZQUFZLEdBQUcsS0FBSyxNQUFNLE9BQU8sVUFBVSxPQUFPLEtBQUssSUFBSSxZQUFZO0FBQ3ZKLFdBQU8sQ0FBQyxDQUFDO0FBQUEsRUFDWDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsUUFBUTtBQUNOLFNBQUssYUFBYTtBQUFBLEVBQ3BCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFdBQVc7QUFDYixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZ0JBQWdCO0FBQ2QsU0FBSyxjQUFjLEtBQUssYUFBYSxLQUFFLElBQUksS0FBSyxZQUFZLElBQUU7QUFBQSxFQUNoRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsWUFBWSxJQUFJLE9BQUk7QUFDbEIsU0FBSyxNQUFNLE1BQU0sVUFBVSxJQUFJLEtBQUssSUFBSSxXQUFXLEdBQUcsS0FBSyxLQUFLLE1BQU0sTUFBTSxNQUFNLEdBQUcsS0FBSyxjQUFjO0FBQUEsRUFDMUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGFBQWEsSUFBSSxNQUFJO0FBQ25CLFFBQUksS0FBSyxVQUFVLHlCQUF5QjtBQUMxQyxZQUFNLElBQUksSUFBSSxFQUFFO0FBQ2hCLFFBQUUsS0FBSyxHQUFHLEtBQUssVUFBVSxRQUFRLEdBQUcsS0FBSyxVQUFVLHFCQUFxQixHQUFHLEVBQUUsUUFBUTtBQUFBLElBQ3ZGO0FBQ0EsU0FBSyxNQUFNLE1BQU0sVUFBVSxPQUFPLEtBQUssSUFBSSxXQUFXLEdBQUcsS0FBSyxNQUFNLE1BQU0sUUFBUSxJQUFJLEtBQUssS0FBSyxVQUFVLFdBQVcsR0FBRyxLQUFLLGNBQWM7QUFBQSxFQUM3STtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGFBQWEsR0FBRztBQUNkLFFBQUksSUFBSSxLQUFLLE1BQU0sTUFBTSxTQUFTO0FBQ2xDLFFBQUksQ0FBQyxFQUFFLEtBQUssR0FBRztBQUNiLFdBQUssVUFBVSxRQUFRLEdBQUcsS0FBSyxPQUFPLEdBQUcsRUFBRSxlQUFlLEdBQUcsS0FBSyxhQUFhO0FBQy9FO0FBQUEsSUFDRjtBQUNBLFFBQUksQ0FBQyxLQUFLLFlBQVksQ0FBQyxHQUFHO0FBQ3hCLFdBQUssU0FBUyxLQUFLO0FBQUEsUUFDakIsU0FBUztBQUFBLFFBQ1QsT0FBTztBQUFBLE1BQ1QsQ0FBQyxHQUFHLEVBQUUseUJBQXlCLFFBQVEsQ0FBQztBQUN4QztBQUFBLElBQ0Y7QUFDQSxRQUFJLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxVQUFVLFFBQVEsR0FBRyxLQUFLLFVBQVUscUJBQXFCLEdBQUcsS0FBSyxXQUFXLENBQUMsR0FBRyxFQUFFLGVBQWUsR0FBRyxFQUFFLGdCQUFnQixHQUFHLEVBQUUseUJBQXlCLEdBQUcsS0FBSyxVQUFVLGNBQWMsR0FBRyxLQUFLLGNBQWMsTUFBTTtBQUFBLEVBQ2hQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxZQUFZLEdBQUc7QUFDYixXQUFPLENBQUMsS0FBSyxLQUFLLENBQUM7QUFBQSxFQUNyQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxZQUFZLEdBQUc7QUFDYixXQUFPLElBQUksRUFBRSxLQUFLLEdBQUcsSUFBSSxLQUFLLFlBQVksQ0FBQyxHQUFHO0FBQUEsRUFDaEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxZQUFZLEdBQUc7QUFDYixRQUFJLGlCQUFpQixLQUFLLENBQUM7QUFDekIsYUFBTztBQUNULFVBQU0sSUFBSSxZQUFZLEtBQUssQ0FBQyxHQUFHQSxLQUFJLEVBQUUsVUFBVSxHQUFHLENBQUMsTUFBTSxLQUFLLElBQUksY0FBYyxLQUFLLENBQUM7QUFDdEYsV0FBTyxDQUFDLEtBQUssQ0FBQ0EsTUFBSyxDQUFDLE1BQU0sSUFBSSxZQUFZLElBQUk7QUFBQSxFQUNoRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsR0FBRztBQUNaLFVBQU0sSUFBSSxLQUFLLFVBQVUsY0FBYyxHQUFHO0FBQzFDLFNBQUssS0FBSyxVQUFVLFlBQVksQ0FBQyxHQUFHLFNBQVMsWUFBWSxLQUFLLGFBQWEsT0FBSSxDQUFDO0FBQUEsRUFDbEY7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVM7QUFDUCxhQUFTLFlBQVksS0FBSyxhQUFhO0FBQUEsRUFDekM7QUFDRjtBQUNBLEdBQUcsV0FBVztBQUNkLEdBQUcsUUFBUTtBQUNYLElBQU0sS0FBTixNQUFTO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJUCxZQUFZLEVBQUUsS0FBSyxFQUFFLEdBQUc7QUFDdEIsU0FBSyxVQUFVLEVBQUUsTUFBTSxLQUFLLFlBQVksRUFBRSxRQUFRLEtBQUssZUFBZSxFQUFFLFdBQVcsS0FBSyxXQUFXLEVBQUUsT0FBTyxLQUFLLFdBQVcsRUFBRTtBQUFBLEVBQ2hJO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxNQUFNLFNBQVM7QUFDYixVQUFNLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBSSxLQUFLLFVBQVUsa0JBQWtCLEVBQUUsVUFBVTtBQUNwRSxRQUFJLE1BQU07QUFDUixhQUFPLENBQUM7QUFDVixVQUFNQSxLQUFJLEtBQUssU0FBUyxjQUFjLEdBQUcsSUFBSSxNQUFNLEdBQUcsR0FBR0EsRUFBQztBQUMxRCxRQUFJLEVBQUUsV0FBVztBQUNmLGFBQU8sQ0FBQztBQUNWLFVBQU1DLEtBQUksRUFBRSxPQUFPLENBQUNJLElBQUdDLE9BQU07QUFDM0IsVUFBSU07QUFDSixjQUFRQSxLQUFJTixHQUFFLFlBQVksUUFBUU0sR0FBRSxRQUFRLENBQUNMLE9BQU07QUFDakQsUUFBQUYsR0FBRSxLQUFLO0FBQUEsVUFDTCxNQUFNRSxHQUFFO0FBQUEsVUFDUixPQUFPLEVBQUUsRUFBRSxFQUFFLFdBQVdBLEdBQUUsS0FBSztBQUFBLFVBQy9CLE1BQU1ELEdBQUU7QUFBQSxVQUNSLGlCQUFpQjtBQUFBLFVBQ2pCLFlBQVksWUFBWTtBQUN0QixrQkFBTUUsS0FBSSxNQUFNLEtBQUssVUFBVSxRQUFRLEVBQUUsSUFBSUYsR0FBRSxNQUFNQyxHQUFFLElBQUk7QUFDM0QsaUJBQUssU0FBUyxXQUFXQyxJQUFHLEtBQUs7QUFBQSxVQUNuQztBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0gsQ0FBQyxHQUFHSDtBQUFBLElBQ04sR0FBRyxDQUFDLENBQUMsR0FBR0gsS0FBSSxNQUFNLEVBQUUsc0JBQXNCLEdBQUdDLEtBQUlELE9BQU0sU0FBU0EsR0FBRSxPQUFPLElBQUlFLEtBQUksQ0FBQyxHQUFHO0FBQ3JGLFdBQU87QUFBQSxNQUNMLE1BQU1EO0FBQUEsTUFDTixNQUFNO0FBQUEsTUFDTixNQUFNO0FBQUEsUUFDSixPQUFPLEtBQUssUUFBUSxFQUFFLFlBQVk7QUFBQSxNQUNwQztBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1IsWUFBWUM7QUFBQSxRQUNaLE9BQU9IO0FBQUEsUUFDUCxRQUFRLE1BQU07QUFDWixVQUFBRyxPQUFNLEtBQUssYUFBYSxrQkFBa0IsR0FBRyxLQUFLLGFBQWEsS0FBSztBQUFBLFFBQ3RFO0FBQUEsUUFDQSxTQUFTLE1BQU07QUFDYixVQUFBQSxPQUFNLEtBQUssYUFBYSxRQUFRLEdBQUcsS0FBSyxhQUFhLHFCQUFxQjtBQUFBLFFBQzVFO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0Y7QUFDQSxHQUFHLFdBQVc7QUFDZCxJQUFNLEtBQU4sTUFBUztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1QLFlBQVksRUFBRSxNQUFNLEdBQUcsS0FBSyxFQUFFLEdBQUc7QUFDL0IsU0FBSyxNQUFNO0FBQUEsTUFDVCxTQUFTO0FBQUEsTUFDVCxNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsTUFDUCxVQUFVO0FBQUEsSUFDWixHQUFHLEtBQUssTUFBTSxHQUFHLEtBQUssUUFBUSxFQUFFLFNBQVMsS0FBSyxJQUFJLEtBQUssRUFBRSxPQUFPLEdBQUcsS0FBSyxXQUFXLEtBQUssSUFBSSxLQUFLLEVBQUUsMkNBQTJDLEdBQUcsS0FBSyxZQUFZLEVBQUUsV0FBVyxLQUFLLFVBQVUsS0FBSyxLQUFLO0FBQUEsRUFDMU07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTO0FBQ1AsV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU87QUFDTCxXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsT0FBTztBQUNMLFVBQU0sSUFBSSxFQUFFLEtBQUssT0FBTyxLQUFLLElBQUksT0FBTyxHQUFHLElBQUksSUFBSUosS0FBSSxFQUFFLEtBQUssT0FBTyxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxJQUFJLE9BQU87QUFBQSxNQUNySCxhQUFhLEtBQUs7QUFBQSxJQUNwQixDQUFDLEdBQUdDLEtBQUksRUFBRSxLQUFLLE9BQU8sS0FBSyxJQUFJLFVBQVU7QUFBQSxNQUN2QyxhQUFhLEtBQUs7QUFBQSxJQUNwQixDQUFDO0FBQ0QsV0FBTyxFQUFFLFlBQVksR0FBR0QsR0FBRSxZQUFZLENBQUMsR0FBR0EsR0FBRSxZQUFZQyxFQUFDLEdBQUcsRUFBRSxZQUFZRCxFQUFDLEdBQUc7QUFBQSxFQUNoRjtBQUNGO0FBQ0EsR0FBRyxzQkFBc0I7QUFDekIsSUFBTSxLQUFOLGNBQWlCLEdBQUc7QUFBQSxFQUNsQixjQUFjO0FBQ1osVUFBTSxHQUFHLFNBQVMsR0FBRyxLQUFLLE9BQU8sR0FBRztBQUFBLEVBQ3RDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLFFBQVE7QUFDVixXQUFPLEtBQUssY0FBYyxHQUFHLEtBQUs7QUFBQSxFQUNwQztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsU0FBUztBQUNQLFdBQU8sSUFBSSxLQUFLLGNBQWM7QUFBQSxNQUM1QixLQUFLLEtBQUs7QUFBQSxNQUNWLFFBQVEsS0FBSztBQUFBLElBQ2YsQ0FBQztBQUFBLEVBQ0g7QUFDRjtBQUNBLElBQU0sS0FBTixjQUFpQixHQUFHO0FBQUEsRUFDbEIsY0FBYztBQUNaLFVBQU0sR0FBRyxTQUFTLEdBQUcsS0FBSyxPQUFPLEdBQUc7QUFBQSxFQUN0QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsT0FBTyxHQUFHLEdBQUc7QUFDWCxXQUFPLElBQUksS0FBSyxjQUFjO0FBQUEsTUFDNUIsS0FBSyxLQUFLO0FBQUEsTUFDVixRQUFRLEtBQUs7QUFBQSxNQUNiLE9BQU87QUFBQSxNQUNQLE1BQU07QUFBQSxJQUNSLENBQUM7QUFBQSxFQUNIO0FBQ0Y7QUFDQSxJQUFNLElBQU4sTUFBTSxXQUFVLElBQUk7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlsQixJQUFJLGFBQWE7QUFDZixVQUFNLElBQUksTUFBTSxLQUFLLEtBQUssUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUM7QUFDbEUsV0FBTyxJQUFJLEdBQUUsQ0FBQztBQUFBLEVBQ2hCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGNBQWM7QUFDaEIsVUFBTSxJQUFJLE1BQU0sS0FBSyxLQUFLLFFBQVEsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDO0FBQ25FLFdBQU8sSUFBSSxHQUFFLENBQUM7QUFBQSxFQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxhQUFhO0FBQ2YsVUFBTSxJQUFJLE1BQU0sS0FBSyxLQUFLLFFBQVEsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDO0FBQ2pFLFdBQU8sSUFBSSxHQUFFLENBQUM7QUFBQSxFQUNoQjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxnQkFBZ0I7QUFDbEIsVUFBTSxJQUFJLE1BQU0sS0FBSyxLQUFLLFFBQVEsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBVTtBQUNuRSxXQUFPLElBQUksR0FBRSxDQUFDO0FBQUEsRUFDaEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksZ0JBQWdCO0FBQ2xCLFVBQU0sSUFBSSxNQUFNLEtBQUssS0FBSyxRQUFRLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsVUFBVTtBQUNwRSxXQUFPLElBQUksR0FBRSxDQUFDO0FBQUEsRUFDaEI7QUFDRjtBQUNBLElBQUksS0FBSyxPQUFPO0FBQWhCLElBQWdDLEtBQUssT0FBTztBQUE1QyxJQUFzRSxLQUFLLENBQUNELElBQUcsR0FBRyxHQUFHQyxPQUFNO0FBQ3pGLFdBQVMsSUFBSUEsS0FBSSxJQUFJLFNBQVNBLEtBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHQyxLQUFJRixHQUFFLFNBQVMsR0FBR0csSUFBR0QsTUFBSyxHQUFHQTtBQUMzRSxLQUFDQyxLQUFJSCxHQUFFRSxFQUFDLE9BQU8sS0FBS0QsS0FBSUUsR0FBRSxHQUFHLEdBQUcsQ0FBQyxJQUFJQSxHQUFFLENBQUMsTUFBTTtBQUNoRCxTQUFPRixNQUFLLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHO0FBQ2hDO0FBQ0EsSUFBTSxLQUFOLGNBQWlCLEdBQUc7QUFBQSxFQUNsQixjQUFjO0FBQ1osVUFBTSxHQUFHLFNBQVMsR0FBRyxLQUFLLE9BQU8sR0FBRyxPQUFPLEtBQUssY0FBYyxJQUFJLEVBQUUsR0FBRyxLQUFLLFFBQVEsSUFBSSxFQUFFO0FBQUEsRUFDNUY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsT0FBTyxHQUFHLEdBQUdBLElBQUc7QUFDZCxXQUFPLElBQUksS0FBSyxjQUFjO0FBQUEsTUFDNUIsTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLE1BQ1AsVUFBVUE7QUFBQSxNQUNWLEtBQUssS0FBSztBQUFBLE1BQ1YsUUFBUSxLQUFLO0FBQUEsSUFDZixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxzQkFBc0I7QUFDeEIsV0FBTyxLQUFLLGNBQWMsR0FBRyxtQkFBbUIsTUFBTTtBQUFBLEVBQ3hEO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLHNCQUFzQjtBQUN4QixXQUFPLEtBQUssY0FBYyxHQUFHLG1CQUFtQjtBQUFBLEVBQ2xEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQWNBLElBQUksVUFBVTtBQUNaLFVBQU0sSUFBSSxLQUFLLGNBQWMsR0FBRyxPQUFPLEdBQUcsSUFBSSxLQUFLLE9BQU8sR0FBRyxPQUFPO0FBQ3BFLFFBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxNQUFNO0FBQ2pCLGFBQU8sSUFBSSxNQUFNLFFBQVEsQ0FBQyxJQUFJLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUNBLElBQUcsTUFBTTtBQUMvRCxjQUFNQyxLQUFJLEVBQUUsQ0FBQztBQUNiLGVBQU9BLEtBQUk7QUFBQSxVQUNULEdBQUdBO0FBQUEsVUFDSCxHQUFHRDtBQUFBLFFBQ0wsSUFBSUE7QUFBQSxNQUNOLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxNQUFNLFFBQVEsQ0FBQyxJQUFJLElBQUk7QUFBQSxRQUNoQztBQUFBLFVBQ0UsR0FBRztBQUFBLFVBQ0gsR0FBRztBQUFBLFFBQ0w7QUFBQSxNQUNGLElBQUksTUFBTSxRQUFRLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztBQUFBLEVBQ2pDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLG1CQUFtQjtBQUNyQixXQUFPLEtBQUssY0FBYyxHQUFHLGdCQUFnQjtBQUFBLEVBQy9DO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLHFCQUFxQjtBQUN2QixXQUFPLEtBQUssT0FBTyxHQUFHLGtCQUFrQixLQUFLO0FBQUEsRUFDL0M7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksb0JBQW9CO0FBQ3RCLFdBQU8sS0FBSyxPQUFPLEdBQUcsaUJBQWlCO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksY0FBYztBQUNoQixXQUFPLEtBQUssY0FBYyxHQUFHLFdBQVcsS0FBSyxDQUFDO0FBQUEsRUFDaEQ7QUFBQSxFQUNBLElBQUksaUJBQWlCO0FBQ25CLFVBQU0sSUFBSSxNQUFNLGdCQUFnQixJQUFJLEtBQUs7QUFDekMsUUFBSSxFQUFFLENBQUM7QUFDTCxhQUFPO0FBQ1QsVUFBTUEsS0FBSSxDQUFDO0FBQ1gsZUFBVyxLQUFLO0FBQ2QsVUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLEdBQUcsQ0FBQyxHQUFHO0FBQzlDLGNBQU1DLEtBQUksRUFBRSxDQUFDO0FBQ2IsVUFBRUEsRUFBQyxJQUFJRCxHQUFFLENBQUMsSUFBSSxPQUFPLE9BQU8sQ0FBQyxHQUFHLEdBQUdDLEVBQUMsSUFBSUQsR0FBRSxDQUFDLElBQUlDO0FBQUEsTUFDakQ7QUFDRixXQUFPRDtBQUFBLEVBQ1Q7QUFBQSxFQUNBLElBQUkscUJBQXFCO0FBQ3ZCLFVBQU0sSUFBSSxDQUFDO0FBQ1gsV0FBTyxNQUFNLEtBQUssS0FBSyxZQUFZLE9BQU8sQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLE9BQU8sT0FBTyxHQUFHLEVBQUUsY0FBYyxDQUFDLEdBQUcsTUFBTSxLQUFLLEtBQUssTUFBTSxPQUFPLENBQUMsRUFBRSxRQUFRLENBQUMsTUFBTSxPQUFPLE9BQU8sR0FBRyxFQUFFLGNBQWMsQ0FBQyxHQUFHO0FBQUEsRUFDdkw7QUFDRjtBQUNBLEdBQUc7QUFBQSxFQUNEO0FBQ0YsR0FBRyxHQUFHLFdBQVcsa0JBQWtCLENBQUM7QUFDcEMsR0FBRztBQUFBLEVBQ0Q7QUFDRixHQUFHLEdBQUcsV0FBVyxzQkFBc0IsQ0FBQztBQUN4QyxJQUFNLEtBQU4sTUFBUztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT1AsWUFBWSxHQUFHLEdBQUdBLElBQUc7QUFDbkIsU0FBSyxNQUFNQSxJQUFHLEtBQUssU0FBUyxHQUFHLEtBQUssZUFBZTtBQUFBLEVBQ3JEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxHQUFHO0FBQ0wsVUFBTSxFQUFFLE9BQU8sR0FBRyxZQUFZQSxLQUFJLE9BQUksR0FBRyxFQUFFLElBQUksS0FBSyxPQUFPLENBQUMsR0FBR0MsS0FBSSxLQUFLLGVBQWUsQ0FBQyxHQUFHQyxLQUFJLEVBQUUsR0FBRyxNQUFNO0FBQzFHLFdBQU8sSUFBSUQsR0FBRTtBQUFBLE1BQ1gsTUFBTTtBQUFBLE1BQ04sZUFBZTtBQUFBLE1BQ2YsUUFBUTtBQUFBLE1BQ1IsS0FBSyxLQUFLLElBQUksa0JBQWtCLEdBQUdDLEVBQUM7QUFBQSxNQUNwQyxXQUFXLE1BQU0sS0FBSyxhQUFhO0FBQUEsTUFDbkMsb0JBQW9CLEtBQUssYUFBYTtBQUFBLE1BQ3RDLFlBQVlGO0FBQUEsSUFDZCxDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGVBQWUsR0FBRztBQUNoQixZQUFRLE1BQUk7QUFBQSxNQUNWLEtBQUssRUFBRSxHQUFHLFFBQVE7QUFDaEIsZUFBTztBQUFBLE1BQ1QsS0FBSyxFQUFFLEdBQUcsTUFBTTtBQUNkLGVBQU87QUFBQSxNQUNUO0FBQ0UsZUFBTztBQUFBLElBQ1g7QUFBQSxFQUNGO0FBQ0Y7QUFDQSxJQUFNLEtBQU4sTUFBUztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1QLFlBQVksRUFBRSxLQUFLLEVBQUUsR0FBRztBQUN0QixTQUFLLE1BQU07QUFBQSxNQUNULFdBQVc7QUFBQSxJQUNiLEdBQUcsS0FBSyxNQUFNO0FBQUEsRUFDaEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVM7QUFDUCxXQUFPO0FBQUEsTUFDTCxNQUFNO0FBQUEsTUFDTixPQUFPLEtBQUssSUFBSSxLQUFLLEVBQUUsV0FBVztBQUFBLE1BQ2xDLFlBQVksTUFBTSxLQUFLLFlBQVk7QUFBQSxNQUNuQyxNQUFNO0FBQUEsSUFDUjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGNBQWM7QUFDWixVQUFNLElBQUksS0FBSyxJQUFJLE9BQU8scUJBQXFCLEdBQUcsSUFBSSxLQUFLLElBQUksT0FBTyxnQkFBZ0IsSUFBSSxDQUFDO0FBQzNGLFFBQUksQ0FBQztBQUNILFlBQU0sSUFBSSxNQUFNLHdEQUF3RDtBQUMxRSxVQUFNQSxLQUFJLEVBQUUsUUFBUSxJQUFJQSxHQUFFLHNCQUFzQjtBQUNoRCxRQUFJQyxLQUFJLEtBQUssSUFBSSxPQUFPLGNBQWNELEdBQUUsWUFBWTtBQUNwRCxNQUFFLE1BQU0sT0FBTyxnQkFBZ0JDLEtBQUksT0FBTyxVQUFVRCxHQUFFLGVBQWUsT0FBTyxTQUFTLEdBQUdDLEVBQUMsR0FBRyxLQUFLLElBQUksT0FBTyxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssSUFBSSxRQUFRLG9CQUFvQixJQUFFO0FBQUEsRUFDbEs7QUFDRjtBQUNBLEdBQUcsU0FBUztBQUNaLElBQU0sS0FBTixNQUFTO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVAsWUFBWSxFQUFFLEtBQUssRUFBRSxHQUFHO0FBQ3RCLFNBQUssTUFBTTtBQUFBLEVBQ2I7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFNBQVM7QUFDUCxXQUFPO0FBQUEsTUFDTCxNQUFNO0FBQUEsTUFDTixPQUFPLEtBQUssSUFBSSxLQUFLLEVBQUUsUUFBUTtBQUFBLE1BQy9CLE1BQU07QUFBQSxNQUNOLGNBQWM7QUFBQSxRQUNaLE9BQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxpQkFBaUI7QUFBQSxRQUN4QyxZQUFZLE1BQU0sS0FBSyxZQUFZO0FBQUEsTUFDckM7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsY0FBYztBQUNaLFNBQUssSUFBSSxPQUFPLE9BQU87QUFBQSxFQUN6QjtBQUNGO0FBQ0EsR0FBRyxTQUFTO0FBQ1osSUFBTSxLQUFOLE1BQVM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUCxZQUFZLEVBQUUsS0FBSyxFQUFFLEdBQUc7QUFDdEIsU0FBSyxNQUFNO0FBQUEsTUFDVCxXQUFXO0FBQUEsSUFDYixHQUFHLEtBQUssTUFBTTtBQUFBLEVBQ2hCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxTQUFTO0FBQ1AsV0FBTztBQUFBLE1BQ0wsTUFBTTtBQUFBLE1BQ04sT0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLFNBQVM7QUFBQSxNQUNoQyxZQUFZLE1BQU0sS0FBSyxZQUFZO0FBQUEsTUFDbkMsTUFBTTtBQUFBLElBQ1I7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxjQUFjO0FBQ1osVUFBTSxJQUFJLEtBQUssSUFBSSxPQUFPLHFCQUFxQixHQUFHLElBQUksS0FBSyxJQUFJLE9BQU8sZ0JBQWdCLENBQUMsR0FBR0QsS0FBSSxLQUFLLElBQUksT0FBTyxnQkFBZ0IsSUFBSSxDQUFDO0FBQ25JLFFBQUksTUFBTSxLQUFLLENBQUMsS0FBSyxDQUFDQTtBQUNwQixZQUFNLElBQUksTUFBTSx1REFBdUQ7QUFDekUsVUFBTSxJQUFJLEVBQUUsUUFBUUMsS0FBSUQsR0FBRSxRQUFRRSxLQUFJLEVBQUUsc0JBQXNCLEdBQUdDLEtBQUlGLEdBQUUsc0JBQXNCO0FBQzdGLFFBQUlHO0FBQ0osSUFBQUQsR0FBRSxNQUFNLElBQUlDLEtBQUksS0FBSyxJQUFJRixHQUFFLEdBQUcsSUFBSSxLQUFLLElBQUlDLEdBQUUsR0FBRyxJQUFJQyxLQUFJLEtBQUssSUFBSUYsR0FBRSxHQUFHLElBQUlDLEdBQUUsUUFBUSxPQUFPLFNBQVMsR0FBRyxLQUFLQyxFQUFDLEdBQUcsS0FBSyxJQUFJLE9BQU8sS0FBSyxJQUFJLENBQUMsR0FBRyxLQUFLLElBQUksUUFBUSxvQkFBb0IsSUFBRTtBQUFBLEVBQ3RMO0FBQ0Y7QUFDQSxHQUFHLFNBQVM7QUFDWixJQUFJLEtBQUssT0FBTztBQUFoQixJQUFnQyxLQUFLLE9BQU87QUFBNUMsSUFBc0UsS0FBSyxDQUFDTCxJQUFHLEdBQUcsR0FBR0MsT0FBTTtBQUN6RixXQUFTLElBQUlBLEtBQUksSUFBSSxTQUFTQSxLQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksR0FBR0MsS0FBSUYsR0FBRSxTQUFTLEdBQUdHLElBQUdELE1BQUssR0FBR0E7QUFDM0UsS0FBQ0MsS0FBSUgsR0FBRUUsRUFBQyxPQUFPLEtBQUtELEtBQUlFLEdBQUUsR0FBRyxHQUFHLENBQUMsSUFBSUEsR0FBRSxDQUFDLE1BQU07QUFDaEQsU0FBT0YsTUFBSyxLQUFLLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRztBQUNoQztBQUNBLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUEsRUFDakIsY0FBYztBQUNaLFVBQU0sR0FBRyxTQUFTLEdBQUcsS0FBSyxXQUFXLFFBQVEsS0FBSyxpQkFBaUIsSUFBSSxFQUFFLEdBQUcsS0FBSyxtQkFBbUIsSUFBSSxFQUFFO0FBQUEsRUFDNUc7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksWUFBWTtBQUNkLFdBQU8sS0FBSztBQUFBLEVBQ2Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksY0FBYztBQUNoQixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGNBQWM7QUFDaEIsV0FBTyxLQUFLLFVBQVU7QUFBQSxFQUN4QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxhQUFhO0FBQ2YsV0FBTyxLQUFLLFVBQVU7QUFBQSxFQUN4QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksYUFBYTtBQUNmLFdBQU8sS0FBSyxVQUFVO0FBQUEsRUFDeEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksY0FBYztBQUNoQixXQUFPLEtBQUssV0FBVyxJQUFJLEtBQUssT0FBTyxZQUFZO0FBQUEsRUFDckQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksV0FBVztBQUNiLFdBQU8sS0FBSyxVQUFVO0FBQUEsRUFDeEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxNQUFNLFVBQVU7QUFDZCxRQUFJLEtBQUssY0FBYyxHQUFHLEtBQUssT0FBTyxRQUFRLEdBQUcsQ0FBQyxHQUFHLEtBQUssZUFBZSxLQUFLLE9BQU8sS0FBSyxHQUFHLENBQUMsT0FBTyxVQUFVLGVBQWUsS0FBSyxLQUFLLFFBQVEsT0FBTyxLQUFLLE9BQU8sS0FBSyxLQUFLLE9BQU8sS0FBSyxFQUFFLFdBQVc7QUFDcE0sWUFBTSxNQUFNLDJCQUEyQjtBQUN6QyxVQUFNLElBQUksS0FBSyxjQUFjO0FBQzdCLFNBQUssVUFBVSxJQUFJLEdBQUcsR0FBRyxLQUFLLFFBQVEsS0FBSyxPQUFPLEdBQUc7QUFDckQsVUFBTSxJQUFJLEtBQUssMEJBQTBCLENBQUM7QUFDMUMsUUFBSSxFQUFFLFdBQVc7QUFDZixhQUFPLFFBQVEsUUFBUTtBQUN6QixVQUFNLEdBQUcsR0FBRyxDQUFDQSxPQUFNO0FBQ2pCLFdBQUsseUJBQXlCQSxFQUFDO0FBQUEsSUFDakMsR0FBRyxDQUFDQSxPQUFNO0FBQ1IsV0FBSywwQkFBMEJBLEVBQUM7QUFBQSxJQUNsQyxDQUFDLEdBQUcsS0FBSyxrQkFBa0I7QUFBQSxFQUM3QjtBQUFBLEVBQ0Esa0NBQWtDO0FBQ2hDLFVBQU0sSUFBSSxDQUFDO0FBQ1gsV0FBTyxNQUFNLEtBQUssS0FBSyxZQUFZLE9BQU8sQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNO0FBQzFELGFBQU8sT0FBTyxHQUFHLEVBQUUsY0FBYztBQUFBLElBQ25DLENBQUMsR0FBRztBQUFBLEVBQ047QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixXQUFPLE9BQU8sS0FBSyxTQUFTLEVBQUUsUUFBUSxPQUFPLE1BQU07QUFDakQsUUFBRSxFQUFFLEtBQUssS0FBSyxNQUFNLEVBQUUsTUFBTTtBQUFBLElBQzlCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLElBQUksZ0JBQWdCO0FBQ2xCLFdBQU87QUFBQSxNQUNMLFdBQVc7QUFBQSxRQUNULE9BQU87QUFBQSxRQUNQLFlBQVk7QUFBQSxNQUNkO0FBQUEsTUFDQSxNQUFNO0FBQUEsUUFDSixPQUFPO0FBQUEsUUFDUCxZQUFZO0FBQUEsTUFDZDtBQUFBLE1BQ0EsTUFBTTtBQUFBLFFBQ0osT0FBTztBQUFBLFFBQ1AsWUFBWTtBQUFBLE1BQ2Q7QUFBQSxNQUNBLFFBQVE7QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLFlBQVk7QUFBQSxNQUNkO0FBQUEsTUFDQSxXQUFXO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxlQUFlO0FBQUEsUUFDZixZQUFZO0FBQUEsTUFDZDtBQUFBLE1BQ0EsTUFBTTtBQUFBLFFBQ0osT0FBTztBQUFBLFFBQ1AsWUFBWTtBQUFBLE1BQ2Q7QUFBQSxNQUNBLFFBQVE7QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLFlBQVk7QUFBQSxNQUNkO0FBQUEsTUFDQSxRQUFRO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxZQUFZO0FBQUEsTUFDZDtBQUFBLE1BQ0EsVUFBVTtBQUFBLFFBQ1IsT0FBTztBQUFBLFFBQ1AsWUFBWTtBQUFBLE1BQ2Q7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLHlCQUF5QixHQUFHO0FBQzFCLFVBQU0sSUFBSSxLQUFLLFFBQVEsSUFBSSxFQUFFLFFBQVE7QUFDckMsUUFBSSxFQUFFLFNBQVMsR0FBRztBQUNoQixZQUFNLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDQyxPQUFNLENBQUMsRUFBRSxPQUFPLEVBQUVBLEVBQUMsQ0FBQztBQUNqRCxVQUFJLEVBQUUsUUFBUTtBQUNaO0FBQUEsVUFDRSwwQkFBMEIsRUFBRSxJQUFJO0FBQUEsVUFDaEM7QUFBQSxVQUNBO0FBQUEsUUFDRixHQUFHLEtBQUssaUJBQWlCLElBQUksRUFBRSxNQUFNLENBQUM7QUFDdEM7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUNBLFNBQUssZUFBZSxJQUFJLEVBQUUsTUFBTSxDQUFDO0FBQUEsRUFDbkM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSwwQkFBMEIsR0FBRztBQUMzQixTQUFLLGlCQUFpQixJQUFJLEVBQUUsVUFBVSxLQUFLLFFBQVEsSUFBSSxFQUFFLFFBQVEsQ0FBQztBQUFBLEVBQ3BFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSwwQkFBMEIsR0FBRztBQUMzQixVQUFNLElBQUksQ0FBQztBQUNYLFdBQU8sT0FBTyxRQUFRLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQ0QsSUFBRyxDQUFDLE1BQU07QUFDM0MsUUFBRSxLQUFLO0FBQUE7QUFBQSxRQUVMLFVBQVUsRUFBRSxFQUFFLE1BQU0sT0FBTyxJQUFJLEVBQUUsTUFBTSxVQUFVLE1BQU07QUFBQSxRQUN2RDtBQUFBLFFBQ0EsTUFBTTtBQUFBLFVBQ0osVUFBVUE7QUFBQSxVQUNWLFFBQVEsRUFBRTtBQUFBLFFBQ1o7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNILENBQUMsR0FBRztBQUFBLEVBQ047QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLG9CQUFvQjtBQUNsQixVQUFNLEtBQUssS0FBSyxXQUFXLE9BQU8sQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNO0FBQ2xELFdBQUssNkJBQTZCLENBQUMsR0FBRyxLQUFLLDRCQUE0QixDQUFDO0FBQUEsSUFDMUUsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSw2QkFBNkIsR0FBRztBQUM5QixRQUFJLEtBQUssT0FBTyxrQkFBa0IsT0FBSTtBQUNwQyxVQUFJLEVBQUUsdUJBQXVCLE1BQUk7QUFDL0IsVUFBRSxjQUFjLElBQUk7QUFBQSxVQUNsQixNQUFNLFFBQVEsS0FBSyxPQUFPLGFBQWEsSUFBSSxLQUFLLE9BQU8sY0FBYyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxZQUFZLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLEtBQUssS0FBSyxZQUFZLFFBQVEsQ0FBQztBQUFBLFFBQ3ZKO0FBQ0E7QUFBQSxNQUNGO0FBQ0EsWUFBTSxRQUFRLEVBQUUsa0JBQWtCLE1BQU0sRUFBRSxjQUFjLElBQUk7QUFBQTtBQUFBLFFBRTFELENBQUMsYUFBYSxHQUFHLEVBQUUsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEtBQUssWUFBWSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQUEsTUFDaEY7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLDRCQUE0QixHQUFHO0FBQzdCLFFBQUksRUFBRSxzQkFBc0IsT0FBSTtBQUM5QixVQUFJLE1BQU0sUUFBUSxFQUFFLGlCQUFpQixHQUFHO0FBQ3RDLGNBQU0sSUFBSSxJQUFJO0FBQUEsVUFDWixFQUFFLGtCQUFrQixJQUFJLENBQUNBLE9BQU0sQ0FBQ0EsSUFBRyxLQUFLLFdBQVcsSUFBSUEsRUFBQyxDQUFDLENBQUM7QUFBQSxRQUM1RDtBQUNBLFVBQUUsUUFBUSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLFdBQVcsYUFBYSxDQUFDO0FBQ3hEO0FBQUEsTUFDRjtBQUNBLFVBQUksTUFBTSxRQUFRLEtBQUssT0FBTyxLQUFLLEdBQUc7QUFDcEMsY0FBTSxJQUFJLElBQUk7QUFBQSxVQUNaLEtBQUssT0FBTyxNQUFNLElBQUksQ0FBQ0EsT0FBTSxDQUFDQSxJQUFHLEtBQUssV0FBVyxJQUFJQSxFQUFDLENBQUMsQ0FBQztBQUFBLFFBQzFEO0FBQ0EsVUFBRSxRQUFRLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLEtBQUssV0FBVyxhQUFhLENBQUM7QUFDeEQ7QUFBQSxNQUNGO0FBQ0EsUUFBRSxRQUFRLEtBQUssV0FBVztBQUFBLElBQzVCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZ0JBQWdCO0FBQ2QsZUFBVyxLQUFLLEtBQUssT0FBTztBQUMxQixVQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssS0FBSyxPQUFPLE9BQU8sQ0FBQyxHQUFHO0FBQzlELFlBQUksS0FBSyxLQUFLO0FBQ1o7QUFDRixjQUFNLElBQUksS0FBSyxPQUFPLE1BQU0sQ0FBQztBQUM3QixZQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsS0FBSztBQUNyQixnQkFBTTtBQUFBLFlBQ0osWUFBUyxDQUFDO0FBQUEsVUFDWjtBQUFBLE1BQ0o7QUFBQSxFQUNKO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxnQkFBZ0I7QUFDZCxVQUFNLElBQUksQ0FBQztBQUNYLGVBQVcsS0FBSyxLQUFLLE9BQU87QUFDMUIsUUFBRSxLQUFLLE9BQU8sTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxLQUFLLE9BQU8sTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxPQUFPLEtBQUssT0FBTyxNQUFNLENBQUMsRUFBRTtBQUMvRixXQUFPO0FBQUEsRUFDVDtBQUNGO0FBQ0EsR0FBRztBQUFBLEVBQ0Q7QUFDRixHQUFHLEdBQUcsV0FBVyxtQ0FBbUMsQ0FBQztBQUNyRCxJQUFNLEtBQUs7QUFBQTtBQUVYLElBQU0sS0FBTixjQUFpQixFQUFFO0FBQUEsRUFDakIsY0FBYztBQUNaLFVBQU0sR0FBRyxTQUFTLEdBQUcsS0FBSyxXQUFXLE9BQUksS0FBSyxtQkFBbUIsUUFBUSxLQUFLLGtCQUFrQixHQUFHLE1BQU07QUFDdkcsV0FBSyxhQUFhO0FBQUEsSUFDcEIsR0FBRyxHQUFHO0FBQUEsRUFDUjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksTUFBTTtBQUNSLFdBQU87QUFBQSxNQUNMLGVBQWU7QUFBQSxNQUNmLHFCQUFxQjtBQUFBLE1BQ3JCLFlBQVk7QUFBQSxNQUNaLGtCQUFrQjtBQUFBLE1BQ2xCLGFBQWE7QUFBQSxNQUNiLGNBQWM7QUFBQSxJQUNoQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGNBQWM7QUFDaEIsUUFBSSxLQUFLO0FBQ1AsYUFBTyxLQUFLO0FBQ2QsVUFBTSxJQUFJLEtBQUssTUFBTSxRQUFRLGNBQWMsSUFBSSxFQUFFLElBQUksT0FBTyxFQUFFO0FBQzlELFdBQU8sS0FBSyxLQUFLLG1CQUFtQixFQUFFLHNCQUFzQixHQUFHLEtBQUssb0JBQW9CO0FBQUEsTUFDdEYsT0FBTztBQUFBLE1BQ1AsTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxNQUFNLFVBQVU7QUFDZCxTQUFLLFlBQVksR0FBRyxLQUFLLEtBQUssR0FBRyxLQUFLLFdBQVc7QUFBQSxFQUNuRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVlBLGVBQWUsR0FBRztBQUNoQixRQUFJLEtBQUssc0JBQXNCLElBQUksT0FBTyxvQkFBb0IsTUFBTTtBQUNsRSxXQUFLLHFCQUFxQjtBQUFBLElBQzVCLEdBQUc7QUFBQSxNQUNELFNBQVM7QUFBQSxJQUNYLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxpQkFBaUI7QUFDZixVQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSztBQUNqQyxTQUFLLE1BQU0sUUFBUSxVQUFVLE9BQU8sS0FBSyxJQUFJLGFBQWEsRUFBRSxhQUFhO0FBQUEsRUFDM0U7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksb0JBQW9CO0FBQ3RCLFVBQU0sRUFBRSxTQUFTLEdBQUcsZUFBZSxHQUFHLGVBQWVBLEdBQUUsSUFBSSxLQUFLO0FBQ2hFLFdBQU8sQ0FBQyxFQUFFLEVBQUUsVUFBVUEsR0FBRSxVQUFVLEVBQUUsUUFBUTtBQUFBLEVBQzlDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLDJCQUEyQjtBQUM3QixXQUFPLEtBQUssT0FBTyxRQUFRLFFBQVEsU0FBUyxJQUFJLE9BQUssT0FBTyxRQUFRLEtBQUssTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsbUJBQW1CLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFFBQVEsU0FBUyxDQUFDO0FBQUEsRUFDcEs7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFVBQVU7QUFDUixTQUFLLE1BQU0sT0FBTyxZQUFZO0FBQUEsRUFDaEM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLG1CQUFtQjtBQUNqQixVQUFNLEVBQUUsU0FBUyxHQUFHLGVBQWUsR0FBRyxlQUFlQSxHQUFFLElBQUksS0FBSztBQUNoRSxNQUFFLE1BQU0sR0FBR0EsR0FBRSxNQUFNLEdBQUcsRUFBRSxRQUFRLE1BQU07QUFBQSxFQUN4QztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsY0FBYztBQUNaLFVBQU0sSUFBSSxPQUFPLGFBQWE7QUFDOUIsVUFBTSxLQUFLLFlBQVksS0FBSyxpQkFBaUIsS0FBSyxJQUFJO0FBQUEsTUFDcEQsV0FBVyxLQUFLO0FBQUEsSUFDbEIsQ0FBQyxHQUFHLEtBQUssV0FBVztBQUFBLEVBQ3RCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxPQUFPO0FBQ0wsU0FBSyxNQUFNLFNBQVMsRUFBRSxVQUFVLEtBQUssT0FBTyxNQUFNLEdBQUcsS0FBSyxNQUFNLFVBQVUsRUFBRSxLQUFLLE9BQU87QUFBQSxNQUN0RixLQUFLLElBQUk7QUFBQSxNQUNULEdBQUcsS0FBSyxRQUFRLENBQUMsS0FBSyxJQUFJLFlBQVksSUFBSSxDQUFDO0FBQUEsSUFDN0MsQ0FBQyxHQUFHLEtBQUssTUFBTSxXQUFXLEVBQUUsS0FBSyxPQUFPLEtBQUssSUFBSSxVQUFVLEdBQUcsS0FBSyxNQUFNLE9BQU8sY0FBYyxLQUFLLFlBQVksU0FBUyxLQUFLLE1BQU0sUUFBUSxVQUFVLElBQUksS0FBSyxJQUFJLG1CQUFtQixHQUFHLEtBQUssTUFBTSxTQUFTLE1BQU0sZ0JBQWdCLEtBQUssT0FBTyxZQUFZLE1BQU0sS0FBSyxNQUFNLFFBQVEsWUFBWSxLQUFLLE1BQU0sUUFBUSxHQUFHLEtBQUssTUFBTSxPQUFPLFlBQVksS0FBSyxNQUFNLE9BQU87QUFBQSxFQUN2VztBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLFVBQU0sSUFBSTtBQUNWLFFBQUksRUFBRSxJQUFJLENBQUM7QUFDVDtBQUNGLFVBQU0sSUFBSSxFQUFFLEtBQUssU0FBUyxNQUFNO0FBQUEsTUFDOUIsSUFBSTtBQUFBLE1BQ0osYUFBYSxHQUFHLFNBQVM7QUFBQSxJQUMzQixDQUFDO0FBQ0QsU0FBSyxPQUFPLFNBQVMsQ0FBQyxFQUFFLEtBQUssT0FBTyxLQUFLLEtBQUssS0FBSyxPQUFPLE1BQU0sU0FBUyxFQUFFLGFBQWEsU0FBUyxLQUFLLE9BQU8sTUFBTSxLQUFLLEdBQUcsRUFBRSxRQUFRLFNBQVMsTUFBTSxDQUFDO0FBQUEsRUFDdko7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHVCQUF1QjtBQUNyQixTQUFLLHlCQUF5QixHQUFHLEtBQUssTUFBTSxVQUFVLFNBQVMsQ0FBQyxNQUFNO0FBQ3BFLFdBQUssZ0JBQWdCLENBQUM7QUFBQSxJQUN4QixHQUFHLEtBQUUsR0FBRyxLQUFLLHlCQUF5QixHQUFHLEtBQUssTUFBTSxVQUFVLGFBQWEsQ0FBQyxNQUFNO0FBQ2hGLFdBQUssZ0JBQWdCLENBQUM7QUFBQSxJQUN4QixHQUFHO0FBQUEsTUFDRCxTQUFTO0FBQUEsTUFDVCxTQUFTO0FBQUEsSUFDWCxDQUFDLEdBQUcsS0FBSyx5QkFBeUIsR0FBRyxLQUFLLE1BQU0sVUFBVSxjQUFjLENBQUMsTUFBTTtBQUM3RSxXQUFLLGdCQUFnQixDQUFDO0FBQUEsSUFDeEIsR0FBRztBQUFBLE1BQ0QsU0FBUztBQUFBLE1BQ1QsU0FBUztBQUFBLElBQ1gsQ0FBQyxHQUFHLEtBQUsseUJBQXlCLEdBQUcsVUFBVSxXQUFXLENBQUMsTUFBTTtBQUMvRCxXQUFLLGdCQUFnQixDQUFDO0FBQUEsSUFDeEIsR0FBRyxJQUFFLEdBQUcsS0FBSyx5QkFBeUIsR0FBRyxVQUFVLGFBQWEsQ0FBQyxNQUFNO0FBQ3JFLFdBQUssZ0JBQWdCLENBQUM7QUFBQSxJQUN4QixHQUFHLElBQUU7QUFDTCxVQUFNLElBQUksR0FBRyxNQUFNO0FBQ2pCLFdBQUssaUJBQWlCO0FBQUEsSUFDeEIsR0FBRyxFQUFFO0FBQ0wsU0FBSyx5QkFBeUIsR0FBRyxVQUFVLG1CQUFtQixHQUFHLElBQUUsR0FBRyxLQUFLLHlCQUF5QixHQUFHLFFBQVEsVUFBVSxNQUFNO0FBQzdILFdBQUssZ0JBQWdCO0FBQUEsSUFDdkIsR0FBRztBQUFBLE1BQ0QsU0FBUztBQUFBLElBQ1gsQ0FBQyxHQUFHLEtBQUssd0JBQXdCLEdBQUcsS0FBSyxzQkFBc0I7QUFBQSxFQUNqRTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsMEJBQTBCO0FBQ3hCLFFBQUk7QUFDSixTQUFLLHlCQUF5QixHQUFHLEtBQUssTUFBTSxVQUFVLGFBQWEsR0FBRyxDQUFDLE1BQU07QUFDM0UsWUFBTUEsS0FBSSxFQUFFLE9BQU8sUUFBUSxXQUFXO0FBQ3RDLFdBQUssT0FBTyxlQUFlLG9CQUFvQkEsTUFBSyxNQUFNQSxPQUFNLElBQUlBLElBQUcsS0FBSyxpQkFBaUIsS0FBSyxJQUFJO0FBQUEsUUFDcEcsT0FBTyxLQUFLLE9BQU8sYUFBYSxvQkFBb0JBLEVBQUM7QUFBQSxNQUN2RCxDQUFDO0FBQUEsSUFDSCxHQUFHLEVBQUUsR0FBRztBQUFBLE1BQ04sU0FBUztBQUFBLElBQ1gsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLHdCQUF3QjtBQUN0QixTQUFLLHlCQUF5QixTQUFTO0FBQUEsRUFDekM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGVBQWU7QUFDYixTQUFLLG1CQUFtQixNQUFNLEtBQUssWUFBWTtBQUFBLEVBQ2pEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZ0JBQWdCLEdBQUc7QUFDakIsWUFBUSxFQUFFLFNBQVM7QUFBQSxNQUNqQixLQUFLLEVBQUU7QUFDTCxhQUFLLGFBQWEsQ0FBQztBQUNuQjtBQUFBLE1BQ0YsS0FBSyxFQUFFO0FBQUEsTUFDUCxLQUFLLEVBQUU7QUFDTCxhQUFLLGlCQUFpQixDQUFDO0FBQ3ZCO0FBQUEsTUFDRixLQUFLLEVBQUU7QUFDTCxhQUFLLGNBQWMsQ0FBQztBQUNwQjtBQUFBLE1BQ0Y7QUFDRSxhQUFLLGlCQUFpQixDQUFDO0FBQ3ZCO0FBQUEsSUFDSjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxpQkFBaUIsR0FBRztBQUNsQixVQUFNLEVBQUUsY0FBYyxFQUFFLElBQUksS0FBSyxPQUFPLGNBQWNBLEtBQUksRUFBRSxPQUFPLFFBQVEsSUFBSSxLQUFLLElBQUksYUFBYSxFQUFFLEdBQUcsSUFBSSxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFO0FBQ3RKLFFBQUksTUFBTSxVQUFVQSxPQUFNLE1BQU07QUFDOUIsV0FBSyxPQUFPLFlBQVksUUFBUSxDQUFDO0FBQ2pDO0FBQUEsSUFDRjtBQUNBLElBQUFBLE1BQUssS0FBSyxNQUFNLEtBQUssT0FBTyxhQUFhLGtCQUFrQixHQUFHLEtBQUssT0FBTyxRQUFRLE1BQU07QUFBQSxFQUMxRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsaUJBQWlCLEdBQUc7QUFDbEIsVUFBTSxFQUFFLGNBQWMsR0FBRyxnQkFBZ0JBLElBQUcsT0FBTyxFQUFFLElBQUksS0FBSztBQUM5RCxRQUFJQSxHQUFFLG9CQUFvQixDQUFDLEVBQUUsbUJBQW1CO0FBQzlDLFlBQU1DLEtBQUksRUFBRSxxQkFBcUIsR0FBR0MsS0FBSSxFQUFFLDBCQUEwQkQsSUFBRyxJQUFFO0FBQ3pFLFFBQUUsV0FBV0MsSUFBRyxFQUFFLFVBQVUsS0FBSyxHQUFHRixHQUFFLGVBQWUsQ0FBQyxHQUFHLEVBQUUsZUFBZSxHQUFHLEVBQUUsZ0JBQWdCLEdBQUcsRUFBRSx5QkFBeUI7QUFBQSxJQUMvSDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGNBQWMsR0FBRztBQUNmLFNBQUssT0FBTyxlQUFlLGVBQWUsQ0FBQyxHQUFHLEtBQUssT0FBTyxRQUFRLFFBQVEsVUFBVSxLQUFLLE9BQU8sUUFBUSxRQUFRLE1BQU0sR0FBRyxLQUFLLE9BQU8sTUFBTSxXQUFXLEtBQUssT0FBTyxhQUFhLGNBQWMsS0FBSyxPQUFPLE1BQU0sVUFBVSxHQUFHLEtBQUssS0FBSyxPQUFPLGNBQWMsU0FBUyxLQUFLLE9BQU8sY0FBYyxNQUFNLElBQUksS0FBSyxPQUFPLGNBQWMsU0FBUyxLQUFLLE9BQU8sY0FBYyxNQUFNLElBQUksS0FBSyxPQUFPLFFBQVEsTUFBTTtBQUFBLEVBQzNZO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsYUFBYSxHQUFHO0FBQ2QsVUFBTSxFQUFFLGNBQWMsR0FBRyxnQkFBZ0JBLEdBQUUsSUFBSSxLQUFLO0FBQ3BELFFBQUksS0FBSztBQUNQO0FBQ0YsVUFBTSxJQUFJLEVBQUUscUJBQXFCO0FBQ2pDLFFBQUlBLEdBQUUsb0JBQW9CLENBQUMsRUFBRSxtQkFBbUI7QUFDOUMsTUFBQUEsR0FBRSxlQUFlLENBQUMsR0FBRyxFQUFFLGVBQWUsR0FBRyxFQUFFLHlCQUF5QixHQUFHLEVBQUUsZ0JBQWdCO0FBQ3pGO0FBQUEsSUFDRjtBQUNBLFFBQUksQ0FBQyxLQUFLLHFCQUFxQixLQUFLLEVBQUUsT0FBTyxZQUFZLFFBQVE7QUFDL0QsWUFBTUMsS0FBSSxLQUFLLE9BQU8sYUFBYSxPQUFPO0FBQzFDLFFBQUUsZUFBZSxHQUFHLEtBQUssT0FBTyxNQUFNLFdBQVdBLEVBQUMsR0FBRyxLQUFLLE9BQU8sUUFBUSxZQUFZQSxFQUFDO0FBQUEsSUFDeEY7QUFDQSxTQUFLLE9BQU8sZUFBZSxlQUFlLENBQUM7QUFBQSxFQUM3QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGdCQUFnQixHQUFHO0FBQ2pCLFFBQUlFLElBQUdDO0FBQ1AsUUFBSSxDQUFDLEVBQUU7QUFDTDtBQUNGLFVBQU0sSUFBSSxFQUFFO0FBQ1osU0FBSyxNQUFNLE9BQU8sU0FBUyxDQUFDLEtBQUssRUFBRSxlQUFlLEtBQUssT0FBTyxhQUFhLGtCQUFrQixHQUFHLEtBQUssT0FBTyxRQUFRLE1BQU07QUFDMUgsVUFBTSxLQUFLRCxLQUFJLEtBQUssT0FBTyxjQUFjLE1BQU0sWUFBWSxPQUFPLFNBQVNBLEdBQUUsU0FBUyxDQUFDLEdBQUdGLE1BQUtHLEtBQUksS0FBSyxPQUFPLFFBQVEsTUFBTSxvQkFBb0IsT0FBTyxTQUFTQSxHQUFFLFNBQVMsQ0FBQyxHQUFHRixLQUFJLEtBQUtEO0FBQ3pMLFFBQUksS0FBSyxPQUFPLGNBQWMsVUFBVSxDQUFDQyxJQUFHO0FBQzFDLFdBQUssT0FBTyxjQUFjLE1BQU07QUFDaEMsWUFBTUcsS0FBSSxLQUFLLE9BQU8sYUFBYSxvQkFBb0IsQ0FBQztBQUN4RCxXQUFLLE9BQU8sUUFBUSxZQUFZQSxFQUFDO0FBQUEsSUFDbkM7QUFDQSxTQUFLLE9BQU8sZUFBZSxlQUFlLENBQUM7QUFBQSxFQUM3QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVlBLGdCQUFnQixHQUFHO0FBQ2pCLFFBQUksSUFBSSxFQUFFO0FBQ1YsUUFBSSxNQUFNLEtBQUssTUFBTSxVQUFVO0FBQzdCLFlBQU1MLEtBQUksYUFBYSxhQUFhLEVBQUUsVUFBVSxFQUFFLFFBQVEsQ0FBQyxFQUFFLFNBQVMsSUFBSSxhQUFhLGFBQWEsRUFBRSxVQUFVLEVBQUUsUUFBUSxDQUFDLEVBQUU7QUFDN0gsVUFBSSxTQUFTLGlCQUFpQkEsSUFBRyxDQUFDO0FBQUEsSUFDcEM7QUFDQSxRQUFJO0FBQ0YsV0FBSyxPQUFPLGFBQWEsMkJBQTJCLENBQUM7QUFBQSxJQUN2RCxRQUFRO0FBQ04sV0FBSyxPQUFPLG1CQUFtQixnQkFBZ0IsS0FBSyxLQUFLLE9BQU8sTUFBTSxrQkFBa0I7QUFBQSxJQUMxRjtBQUNBLFNBQUssT0FBTyxRQUFRLFlBQVk7QUFBQSxFQUNsQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBVUEsZ0JBQWdCLEdBQUc7QUFDakIsUUFBSSxDQUFDLEVBQUU7QUFDTDtBQUNGLFVBQU0sSUFBSSxFQUFFLFFBQVFBLEtBQUksRUFBRSxXQUFXLEVBQUU7QUFDdkMsUUFBSSxFQUFFLFNBQVMsQ0FBQyxLQUFLQSxJQUFHO0FBQ3RCLFFBQUUseUJBQXlCLEdBQUcsRUFBRSxnQkFBZ0I7QUFDaEQsWUFBTSxJQUFJLEVBQUUsYUFBYSxNQUFNLEdBQUdDLEtBQUksR0FBRyxDQUFDO0FBQzFDLFNBQUdBLEVBQUM7QUFDSjtBQUFBLElBQ0Y7QUFDQSxTQUFLLHVCQUF1QixDQUFDO0FBQUEsRUFDL0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsdUJBQXVCLEdBQUc7QUFDeEIsVUFBTSxJQUFJLEtBQUssT0FBTyxhQUFhLGdCQUFnQixFQUFFLEdBQUdELEtBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLFFBQVEsSUFBSSxFQUFFLE9BQU8sRUFBRSxnQkFBZ0JDLEdBQUUsSUFBSSxLQUFLO0FBQ2pJLFFBQUksRUFBRSxrQkFBa0IsV0FBVyxFQUFFLE9BQU8sWUFBWSxLQUFLLE1BQU0sUUFBUTtBQUFBO0FBQUE7QUFBQSxJQUczRSxDQUFDQSxHQUFFO0FBQUE7QUFBQTtBQUFBLElBR0hELEtBQUksR0FBRztBQUNMLFFBQUUseUJBQXlCLEdBQUcsRUFBRSxnQkFBZ0I7QUFDaEQsWUFBTSxFQUFFLGNBQWNHLElBQUcsT0FBT0MsSUFBRyxTQUFTQyxHQUFFLElBQUksS0FBSztBQUN2RCxPQUFDLENBQUNGLEdBQUUsVUFBVSxLQUFLLGFBQWEsQ0FBQ0EsR0FBRSxVQUFVLFlBQVlBLEdBQUUsWUFBWSxHQUFHQyxHQUFFLGtCQUFrQixHQUFHQyxHQUFFLFlBQVlGLEdBQUUsU0FBUztBQUFBLElBQzVIO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxtQkFBbUI7QUFDakIsVUFBTSxFQUFFLHFCQUFxQixHQUFHLGdCQUFnQixFQUFFLElBQUksS0FBSyxRQUFRSCxLQUFJLEVBQUU7QUFDekUsUUFBSSxFQUFFLGdDQUFnQyxFQUFFLG9CQUFvQixFQUFFLElBQUksRUFBRSxnQkFBZ0IsR0FBRyxDQUFDQSxJQUFHO0FBQ3pGLFFBQUUsU0FBUyxLQUFLLE9BQU8sY0FBYyxNQUFNO0FBQzNDO0FBQUEsSUFDRjtBQUNBLFVBQU0sSUFBSUEsR0FBRSxRQUFRLElBQUksRUFBRSxJQUFJLE9BQU8sRUFBRTtBQUN2QyxLQUFDLE1BQU0sUUFBUSxFQUFFLFFBQVEsSUFBSSxFQUFFLElBQUksYUFBYSxFQUFFLE1BQU0sS0FBSyxNQUFNLGFBQWEsS0FBSyxPQUFPLGNBQWMsYUFBYUEsRUFBQyxLQUFLLEtBQUssT0FBTyxjQUFjLE1BQU0sR0FBRyxFQUFFQSxHQUFFLFFBQVEsa0JBQWtCLGFBQWEsS0FBSyxPQUFPLGFBQWEsZ0JBQWdCLEtBQUssT0FBTyxhQUFhLDJCQUEyQkEsRUFBQyxHQUFHLEtBQUssT0FBTyxjQUFjLFVBQVUsSUFBRTtBQUFBLEVBQ3BWO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLHdCQUF3QjtBQUN0QixhQUFTLEVBQUUsR0FBRztBQUNaLFlBQU1BLEtBQUksRUFBRTtBQUNaLFNBQUdBLEVBQUM7QUFBQSxJQUNOO0FBQ0EsU0FBSyx5QkFBeUIsR0FBRyxLQUFLLE1BQU0sU0FBUyxTQUFTLENBQUMsR0FBRyxLQUFLLHlCQUF5QixHQUFHLEtBQUssTUFBTSxTQUFTLFdBQVcsQ0FBQyxHQUFHLEtBQUsseUJBQXlCLEdBQUcsS0FBSyxNQUFNLFNBQVMsWUFBWSxDQUFDO0FBQUEsRUFDMU07QUFDRjtBQUNBLElBQU0sS0FBSztBQUFBO0FBQUEsRUFFVCxXQUFXO0FBQUEsRUFDWCxVQUFVO0FBQUEsRUFDVixXQUFXO0FBQUEsRUFDWCxTQUFTO0FBQUEsRUFDVCxLQUFLO0FBQUEsRUFDTCxrQkFBa0I7QUFBQSxFQUNsQixjQUFjO0FBQUEsRUFDZCxhQUFhO0FBQUEsRUFDYixhQUFhO0FBQUEsRUFDYixjQUFjO0FBQUEsRUFDZCxVQUFVO0FBQUEsRUFDVixjQUFjO0FBQUEsRUFDZCxVQUFVO0FBQUEsRUFDVixXQUFXO0FBQUEsRUFDWCxZQUFZO0FBQUEsRUFDWixZQUFZO0FBQUEsRUFDWixPQUFPO0FBQUE7QUFBQSxFQUVQLGVBQWU7QUFBQSxFQUNmLFNBQVM7QUFBQSxFQUNULGVBQWU7QUFBQTtBQUFBLEVBRWYsYUFBYTtBQUFBLEVBQ2IsY0FBYztBQUFBLEVBQ2QsZ0JBQWdCO0FBQUEsRUFDaEIsT0FBTztBQUFBLEVBQ1AscUJBQXFCO0FBQUEsRUFDckIsV0FBVztBQUFBLEVBQ1gsdUJBQXVCO0FBQUEsRUFDdkIsT0FBTztBQUFBLEVBQ1AsVUFBVTtBQUFBLEVBQ1Ysb0JBQW9CO0FBQUEsRUFDcEIsVUFBVTtBQUFBLEVBQ1YsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsSUFBSTtBQUNOO0FBQ0EsSUFBTSxLQUFOLE1BQVM7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlQLFlBQVksR0FBRztBQUNiLFNBQUssa0JBQWtCLENBQUMsR0FBRyxLQUFLLG1CQUFtQixJQUFJLEdBQUc7QUFDMUQsUUFBSSxHQUFHQTtBQUNQLFNBQUssVUFBVSxJQUFJLFFBQVEsQ0FBQyxHQUFHQyxPQUFNO0FBQ25DLFVBQUksR0FBR0QsS0FBSUM7QUFBQSxJQUNiLENBQUMsR0FBRyxRQUFRLFFBQVEsRUFBRSxLQUFLLFlBQVk7QUFDckMsV0FBSyxnQkFBZ0IsR0FBRyxLQUFLLFNBQVMsR0FBRyxLQUFLLEtBQUssR0FBRyxNQUFNLEtBQUssTUFBTSxHQUFHLE1BQU0sS0FBSyxPQUFPO0FBQzVGLFlBQU0sRUFBRSxjQUFjLEdBQUcsT0FBT0EsSUFBRyxJQUFJQyxJQUFHLHVCQUF1QkMsR0FBRSxJQUFJLEtBQUs7QUFDNUUsTUFBQUQsR0FBRSxlQUFlLEdBQUdDLEdBQUUsT0FBTyxHQUFHLEtBQUssY0FBYyxhQUFhRixHQUFFLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBR0EsR0FBRSxVQUFVLEtBQUssR0FBRyxFQUFFO0FBQUEsSUFDbEgsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxNQUFNO0FBQ2QsUUFBRSxxQ0FBcUMsQ0FBQyxJQUFJLE9BQU8sR0FBR0QsR0FBRSxDQUFDO0FBQUEsSUFDM0QsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGNBQWMsR0FBRztBQUNuQixRQUFJQSxJQUFHO0FBQ1AsTUFBRSxDQUFDLElBQUksS0FBSyxTQUFTO0FBQUEsTUFDbkIsR0FBRztBQUFBLElBQ0wsSUFBSSxLQUFLLFNBQVM7QUFBQSxNQUNoQixRQUFRO0FBQUEsSUFDVixHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssT0FBTyxVQUFVLG1CQUFtQixlQUFlLEdBQUcsS0FBSyxPQUFPLFlBQVksQ0FBQyxLQUFLLE9BQU8sV0FBVyxLQUFLLE9BQU8sU0FBUyxLQUFLLE9BQU8sVUFBVSxLQUFLLE9BQU8sV0FBVyxPQUFPLEtBQUssT0FBTyxVQUFVLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxLQUFLLE9BQU8sYUFBYSxLQUFLLE9BQU8sV0FBVyxHQUFHLFVBQVUsR0FBRyxLQUFLLE9BQU8sUUFBUSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssT0FBTyxjQUFjLHVCQUF1QixxQkFBcUIsR0FBRyxLQUFLLE9BQU8sZUFBZSxLQUFLLE9BQU8sZ0JBQWdCLEtBQUssT0FBTyxnQkFBZ0IsYUFBYSxLQUFLLE9BQU8sWUFBWSxLQUFLLE9BQU8sY0FBYyxTQUFTLEtBQUssT0FBTyxZQUFZO0FBQ3JsQixVQUFNLElBQUk7QUFBQSxNQUNSLE1BQU0sS0FBSyxPQUFPO0FBQUEsTUFDbEIsTUFBTSxDQUFDO0FBQUEsSUFDVDtBQUNBLFNBQUssT0FBTyxjQUFjLEtBQUssT0FBTyxlQUFlLE9BQUksS0FBSyxPQUFPLFlBQVksS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUN4RyxHQUFHO0FBQUEsTUFDSCxHQUFHO0FBQUEsTUFDSCxHQUFHO0FBQUEsSUFDTCxHQUFHLEtBQUssT0FBTyxjQUFjLEtBQUssT0FBTyxjQUFjLEtBQUssT0FBTyxjQUFjLE9BQUksS0FBSyxPQUFPLFFBQVEsS0FBSyxPQUFPLFNBQVMsQ0FBQyxHQUFHLEtBQUssT0FBTyxPQUFPLEtBQUssT0FBTyxRQUFRLENBQUMsR0FBRyxLQUFLLE9BQU8sT0FBTyxLQUFLLE9BQU8sUUFBUSxFQUFFLFFBQVEsQ0FBQyxFQUFFLEdBQUcsS0FBSyxPQUFPLFVBQVUsS0FBSyxPQUFPLFlBQVksTUFBTTtBQUFBLElBQ3hSLElBQUksS0FBSyxPQUFPLFdBQVcsS0FBSyxPQUFPLGFBQWEsTUFBTTtBQUFBLElBQzFELElBQUksS0FBSyxPQUFPLGdCQUFnQixLQUFLLE9BQU8sa0JBQWtCLFNBQVMsS0FBSyxPQUFPLGdCQUFnQixPQUFLLEVBQUUsS0FBSyxPQUFPLElBQUksS0FBSyxDQUFDLEtBQUssT0FBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLEtBQUssT0FBTyxXQUFXLE9BQU8sS0FBSyxPQUFPLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksS0FBSyxPQUFPLFdBQVcsS0FBSyxPQUFPLFlBQVksUUFBS0EsS0FBSSxLQUFLLE9BQU8sU0FBUyxRQUFRQSxHQUFFLFlBQVksRUFBRSxjQUFjLEtBQUssT0FBTyxLQUFLLFFBQVEsR0FBRyxLQUFLLE9BQU8sS0FBSyxjQUFjLElBQUksS0FBSyxPQUFPLFNBQVMsT0FBTyxTQUFTLEVBQUUsY0FBYztBQUFBLEVBQ25kO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxnQkFBZ0I7QUFDbEIsV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsV0FBVztBQUNULFVBQU0sRUFBRSxVQUFVLEdBQUcsUUFBUSxFQUFFLElBQUksS0FBSztBQUN4QyxRQUFJLEtBQUs7QUFDUCxZQUFNLE1BQU0sMEVBQThEO0FBQzVFLFFBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQztBQUNsQixZQUFNLE1BQU0sdUJBQW9CLENBQUMsNENBQXlDO0FBQzVFLFFBQUksS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsVUFBVSxDQUFDO0FBQzdCLFlBQU0sTUFBTSw4Q0FBd0M7QUFBQSxFQUN4RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU87QUFDTCxTQUFLLGlCQUFpQixHQUFHLEtBQUssaUJBQWlCO0FBQUEsRUFDakQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsTUFBTSxRQUFRO0FBQ1osVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRixFQUFFO0FBQUEsTUFDQSxDQUFDLEdBQUdBLE9BQU0sRUFBRSxLQUFLLFlBQVk7QUFDM0IsWUFBSTtBQUNGLGdCQUFNLEtBQUssZ0JBQWdCQSxFQUFDLEVBQUUsUUFBUTtBQUFBLFFBQ3hDLFNBQVMsR0FBRztBQUNWLGNBQUksYUFBYTtBQUNmLGtCQUFNLElBQUksTUFBTSxFQUFFLE9BQU87QUFDM0IsWUFBRSxVQUFVQSxFQUFDLDhCQUE4QixRQUFRLENBQUM7QUFBQSxRQUN0RDtBQUFBLE1BQ0YsQ0FBQztBQUFBLE1BQ0QsUUFBUSxRQUFRO0FBQUEsSUFDbEI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxTQUFTO0FBQ1AsV0FBTyxLQUFLLGdCQUFnQixTQUFTLE9BQU8sS0FBSyxPQUFPLEtBQUssTUFBTTtBQUFBLEVBQ3JFO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxtQkFBbUI7QUFDakIsV0FBTyxRQUFRLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTTtBQUNyQyxVQUFJO0FBQ0YsYUFBSyxnQkFBZ0IsQ0FBQyxJQUFJLElBQUksRUFBRTtBQUFBLFVBQzlCLFFBQVEsS0FBSztBQUFBLFVBQ2Isa0JBQWtCLEtBQUs7QUFBQSxRQUN6QixDQUFDO0FBQUEsTUFDSCxTQUFTQSxJQUFHO0FBQ1YsVUFBRSxzQkFBc0IsVUFBVSxDQUFDLG9CQUFvQixTQUFTQSxFQUFDO0FBQUEsTUFDbkU7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsbUJBQW1CO0FBQ2pCLGVBQVcsS0FBSyxLQUFLO0FBQ25CLGFBQU8sVUFBVSxlQUFlLEtBQUssS0FBSyxpQkFBaUIsQ0FBQyxNQUFNLEtBQUssZ0JBQWdCLENBQUMsRUFBRSxRQUFRLEtBQUssZUFBZSxDQUFDO0FBQUEsRUFDM0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxlQUFlLEdBQUc7QUFDaEIsVUFBTSxJQUFJLENBQUM7QUFDWCxlQUFXQSxNQUFLLEtBQUs7QUFDbkIsTUFBQUEsT0FBTSxNQUFNLEVBQUVBLEVBQUMsSUFBSSxLQUFLLGdCQUFnQkEsRUFBQztBQUMzQyxXQUFPO0FBQUEsRUFDVDtBQUNGO0FBUUEsSUFBTSxLQUFOLE1BQVM7QUFBQTtBQUFBLEVBRVAsV0FBVyxVQUFVO0FBQ25CLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxZQUFZLEdBQUc7QUFDYixRQUFJLElBQUksTUFBTTtBQUFBLElBQ2Q7QUFDQSxNQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxNQUFNLElBQUksRUFBRTtBQUMvQixVQUFNQSxLQUFJLElBQUksR0FBRyxDQUFDO0FBQ2xCLFNBQUssVUFBVUEsR0FBRSxRQUFRLEtBQUssTUFBTTtBQUNsQyxXQUFLLFVBQVVBLEVBQUMsR0FBRyxFQUFFO0FBQUEsSUFDdkIsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVLEdBQUc7QUFDWCxVQUFNLElBQUksQ0FBQyxlQUFlLEdBQUdBLEtBQUksTUFBTTtBQUNyQyxhQUFPLE9BQU8sRUFBRSxlQUFlLEVBQUUsUUFBUSxDQUFDQyxPQUFNO0FBQzlDLFVBQUVBLEdBQUUsT0FBTyxLQUFLQSxHQUFFLFFBQVEsR0FBR0EsR0FBRSxVQUFVLFVBQVU7QUFBQSxNQUNyRCxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUk7QUFDZCxpQkFBV0EsTUFBSztBQUNkLGVBQU8sVUFBVSxlQUFlLEtBQUssTUFBTUEsRUFBQyxLQUFLLE9BQU8sS0FBS0EsRUFBQztBQUNoRSxhQUFPLGVBQWUsTUFBTSxJQUFJO0FBQUEsSUFDbEM7QUFDQSxNQUFFLFFBQVEsQ0FBQ0EsT0FBTTtBQUNmLFdBQUtBLEVBQUMsSUFBSSxFQUFFQSxFQUFDO0FBQUEsSUFDZixDQUFDLEdBQUcsS0FBSyxVQUFVRCxJQUFHLE9BQU8sZUFBZSxNQUFNLEVBQUUsZ0JBQWdCLElBQUksT0FBTyxHQUFHLE9BQU8sS0FBSyxXQUFXLE9BQU8sUUFBUTtBQUFBLE1BQ3RILFFBQVE7QUFBQSxRQUNOLE9BQU87QUFBQSxRQUNQLFFBQVE7QUFBQSxNQUNWO0FBQUEsTUFDQSxPQUFPO0FBQUEsUUFDTCxPQUFPO0FBQUEsTUFDVDtBQUFBLE1BQ0EsUUFBUTtBQUFBLFFBQ04sSUFBSTtBQUFBLFFBQ0osS0FBSztBQUFBLFFBQ0wsTUFBTTtBQUFBLE1BQ1I7QUFBQSxNQUNBLE9BQU87QUFBQSxRQUNMLE1BQU07QUFBQSxNQUNSO0FBQUEsSUFDRixDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUNDLElBQUdDLEVBQUMsTUFBTTtBQUNyQixhQUFPLFFBQVFBLEVBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQ0MsSUFBR0MsRUFBQyxNQUFNO0FBQ3BDLGFBQUtBLEVBQUMsSUFBSSxFQUFFLGdCQUFnQixJQUFJLFFBQVFILEVBQUMsRUFBRUUsRUFBQztBQUFBLE1BQzlDLENBQUM7QUFBQSxJQUNILENBQUM7QUFBQSxFQUNIO0FBQ0Y7OztDQzU1VEMsV0FBVTtBQUFDO0FBQWEsTUFBRztBQUFDLFFBQUcsT0FBTyxXQUFTLEtBQUk7QUFBQyxVQUFJOEIsS0FBRSxTQUFTLGNBQWMsT0FBTztBQUFFLE1BQUFBLEdBQUUsWUFBWSxTQUFTLGVBQWUsNGdFQUE0Z0UsQ0FBQyxHQUFFLFNBQVMsS0FBSyxZQUFZQSxFQUFDO0FBQUEsSUFBQztBQUFBLEVBQUMsU0FBTyxHQUFFO0FBQUMsWUFBUSxNQUFNLGtDQUFpQyxDQUFDO0FBQUEsRUFBQztBQUFDLEdBQUc7QUFDNXVFLElBQU1DLEtBQUk7QUFBVixJQUFpbkNDLEtBQUk7QUFBcm5DLElBQTh5RUMsS0FBSTtBQUFsekUsSUFBczlGQyxLQUFJO0FBQzE5RixTQUFTLEVBQUVDLElBQUdDLEtBQUksTUFBTUMsS0FBSSxDQUFDLEdBQUc7QUFDOUIsUUFBTUMsS0FBSSxTQUFTLGNBQWNILEVBQUM7QUFDbEMsUUFBTSxRQUFRQyxFQUFDLElBQUlFLEdBQUUsVUFBVSxJQUFJLEdBQUdGLEVBQUMsSUFBSUEsT0FBTSxRQUFRRSxHQUFFLFVBQVUsSUFBSUYsRUFBQztBQUMxRSxhQUFXLEtBQUtDO0FBQ2QsSUFBQUEsR0FBRSxlQUFlLENBQUMsTUFBTUMsR0FBRSxDQUFDLElBQUlELEdBQUUsQ0FBQztBQUNwQyxTQUFPQztBQUNUO0FBQ0EsSUFBSUMsS0FBcUIsa0JBQUNKLFFBQU9BLEdBQUUsUUFBUSxTQUFTQSxHQUFFLFlBQVksYUFBYUEsR0FBRSxTQUFTLFVBQVVBLEtBQUlJLE1BQUssQ0FBQyxDQUFDO0FBQy9HLElBQU0sSUFBTixNQUFRO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFOLFlBQVksRUFBRSxLQUFLSCxJQUFHLFFBQVFDLElBQUcsY0FBY0MsSUFBRyxVQUFVLEVBQUUsR0FBRztBQUMvRCxTQUFLLE1BQU1GLElBQUcsS0FBSyxTQUFTQyxJQUFHLEtBQUssZUFBZUMsSUFBRyxLQUFLLFdBQVcsR0FBRyxLQUFLLFFBQVE7QUFBQSxNQUNwRixTQUFTLEVBQUUsT0FBTyxDQUFDLEtBQUssSUFBSSxXQUFXLEtBQUssSUFBSSxPQUFPLENBQUM7QUFBQSxNQUN4RCxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsS0FBSyxJQUFJLGNBQWMsQ0FBQztBQUFBLE1BQ2xELFlBQVksS0FBSyxpQkFBaUI7QUFBQSxNQUNsQyxTQUFTO0FBQUEsTUFDVCxnQkFBZ0IsRUFBRSxPQUFPLEtBQUssSUFBSSxjQUFjO0FBQUEsTUFDaEQsU0FBUyxFQUFFLE9BQU8sQ0FBQyxLQUFLLElBQUksT0FBTyxLQUFLLElBQUksT0FBTyxHQUFHO0FBQUEsUUFDcEQsaUJBQWlCLENBQUMsS0FBSztBQUFBLE1BQ3pCLENBQUM7QUFBQSxJQUNILEdBQUcsS0FBSyxNQUFNLFFBQVEsUUFBUSxjQUFjLEtBQUssT0FBTyxvQkFBb0IsS0FBSyxNQUFNLGVBQWUsWUFBWSxLQUFLLE1BQU0sY0FBYyxHQUFHLEtBQUssTUFBTSxRQUFRLFlBQVksS0FBSyxNQUFNLGNBQWMsR0FBRyxLQUFLLE1BQU0sUUFBUSxZQUFZLEtBQUssTUFBTSxPQUFPLEdBQUcsS0FBSyxNQUFNLFFBQVEsWUFBWSxLQUFLLE1BQU0sVUFBVTtBQUFBLEVBQ25UO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsVUFBVUYsSUFBR0MsSUFBRztBQUNkLFNBQUssTUFBTSxRQUFRLFVBQVUsT0FBTyxHQUFHLEtBQUssSUFBSSxPQUFPLEtBQUtELEVBQUMsSUFBSUMsRUFBQztBQUFBLEVBQ3BFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLE9BQU9ELElBQUc7QUFDUixXQUFPQSxHQUFFLFNBQVMsVUFBVSxPQUFPLEtBQUtBLEdBQUUsSUFBSSxFQUFFLFdBQVcsSUFBSSxLQUFLO0FBQUEsTUFDbEU7QUFBQTtBQUFBLElBRUYsSUFBSSxLQUFLO0FBQUEsTUFDUDtBQUFBO0FBQUEsSUFFRixHQUFHLEtBQUssTUFBTTtBQUFBLEVBQ2hCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLGNBQWNBLElBQUc7QUFDZixTQUFLLE1BQU0sZUFBZSxNQUFNLGtCQUFrQixPQUFPQSxFQUFDLEtBQUssS0FBSztBQUFBLE1BQ2xFO0FBQUE7QUFBQSxJQUVGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZ0JBQWdCO0FBQ2QsU0FBSyxNQUFNLGVBQWUsTUFBTSxrQkFBa0IsSUFBSSxLQUFLO0FBQUEsTUFDekQ7QUFBQTtBQUFBLElBRUY7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLFVBQVVBLElBQUc7QUFDWCxVQUFNQyxLQUFJLFNBQVMsS0FBS0QsRUFBQyxJQUFJLFVBQVUsT0FBT0UsS0FBSTtBQUFBLE1BQ2hELEtBQUtGO0FBQUEsSUFDUDtBQUNBLFFBQUksSUFBSTtBQUNSLElBQUFDLE9BQU0sWUFBWUMsR0FBRSxXQUFXLE1BQUlBLEdBQUUsT0FBTyxNQUFJQSxHQUFFLFFBQVEsTUFBSUEsR0FBRSxjQUFjLE1BQUksSUFBSSxlQUFlLEtBQUssTUFBTSxVQUFVLEVBQUVELElBQUcsS0FBSyxJQUFJLFNBQVNDLEVBQUMsR0FBRyxLQUFLLE1BQU0sUUFBUSxpQkFBaUIsR0FBRyxNQUFNO0FBQ2hNLFdBQUs7QUFBQSxRQUNIO0FBQUE7QUFBQSxNQUVGLEdBQUcsS0FBSyxNQUFNLG1CQUFtQixXQUFXLEtBQUssTUFBTSxlQUFlLE1BQU0sa0JBQWtCO0FBQUEsSUFDaEcsQ0FBQyxHQUFHLEtBQUssTUFBTSxlQUFlLFlBQVksS0FBSyxNQUFNLE9BQU87QUFBQSxFQUM5RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxZQUFZRixJQUFHO0FBQ2IsU0FBSyxNQUFNLFlBQVksV0FBVyxLQUFLLE1BQU0sUUFBUSxZQUFZQTtBQUFBLEVBQ25FO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLE1BQU07QUFDUixXQUFPO0FBQUEsTUFDTCxXQUFXLEtBQUssSUFBSSxPQUFPO0FBQUEsTUFDM0IsU0FBUyxLQUFLLElBQUksT0FBTztBQUFBLE1BQ3pCLE9BQU8sS0FBSyxJQUFJLE9BQU87QUFBQSxNQUN2QixRQUFRLEtBQUssSUFBSSxPQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFJeEIsU0FBUztBQUFBLE1BQ1QsZ0JBQWdCO0FBQUEsTUFDaEIsZ0JBQWdCO0FBQUEsTUFDaEIsU0FBUztBQUFBLE1BQ1QsU0FBUztBQUFBLElBQ1g7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxtQkFBbUI7QUFDakIsVUFBTUEsS0FBSSxFQUFFLE9BQU8sQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDO0FBQ3BDLFdBQU9BLEdBQUUsWUFBWSxLQUFLLE9BQU8saUJBQWlCLEdBQUdILEVBQUMsSUFBSSxLQUFLLElBQUksS0FBSyxFQUFFLGlCQUFpQixDQUFDLElBQUlHLEdBQUUsaUJBQWlCLFNBQVMsTUFBTTtBQUNoSSxXQUFLLGFBQWE7QUFBQSxJQUNwQixDQUFDLEdBQUdBO0FBQUEsRUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxhQUFhQSxJQUFHO0FBQ2QsZUFBV0MsTUFBS0U7QUFDZCxhQUFPLFVBQVUsZUFBZSxLQUFLQSxJQUFHRixFQUFDLEtBQUssS0FBSyxNQUFNLFFBQVEsVUFBVSxPQUFPLEdBQUcsS0FBSyxJQUFJLE9BQU8sS0FBS0UsR0FBRUYsRUFBQyxDQUFDLElBQUlELE9BQU1HLEdBQUVGLEVBQUMsQ0FBQztBQUFBLEVBQ2hJO0FBQ0Y7QUFDQSxTQUFTRyxHQUFFTCxJQUFHO0FBQ1osU0FBT0EsTUFBS0EsR0FBRSxjQUFjLE9BQU8sVUFBVSxlQUFlLEtBQUtBLElBQUcsU0FBUyxJQUFJQSxHQUFFLFVBQVVBO0FBQy9GO0FBQ0EsSUFBSU0sS0FBSSxFQUFFLFNBQVMsQ0FBQyxFQUFFO0FBQUEsQ0FDckIsU0FBU04sSUFBR0MsSUFBRztBQUNkLEdBQUMsU0FBU0MsSUFBR0MsSUFBRztBQUNkLElBQUFILEdBQUUsVUFBVUcsR0FBRTtBQUFBLEVBQ2hCLEdBQUcsUUFBUSxXQUFXO0FBQ3BCLFdBQU8sU0FBU0QsSUFBRztBQUNqQixVQUFJQyxLQUFJLENBQUM7QUFDVCxlQUFTLEVBQUVSLElBQUc7QUFDWixZQUFJUSxHQUFFUixFQUFDO0FBQUcsaUJBQU9RLEdBQUVSLEVBQUMsRUFBRTtBQUN0QixZQUFJWSxLQUFJSixHQUFFUixFQUFDLElBQUksRUFBRSxHQUFHQSxJQUFHLEdBQUcsT0FBSSxTQUFTLENBQUMsRUFBRTtBQUMxQyxlQUFPTyxHQUFFUCxFQUFDLEVBQUUsS0FBS1ksR0FBRSxTQUFTQSxJQUFHQSxHQUFFLFNBQVMsQ0FBQyxHQUFHQSxHQUFFLElBQUksTUFBSUEsR0FBRTtBQUFBLE1BQzVEO0FBQ0EsYUFBTyxFQUFFLElBQUlMLElBQUcsRUFBRSxJQUFJQyxJQUFHLEVBQUUsSUFBSSxTQUFTUixJQUFHWSxJQUFHQyxJQUFHO0FBQy9DLFVBQUUsRUFBRWIsSUFBR1ksRUFBQyxLQUFLLE9BQU8sZUFBZVosSUFBR1ksSUFBRyxFQUFFLFlBQVksTUFBSSxLQUFLQyxHQUFFLENBQUM7QUFBQSxNQUNyRSxHQUFHLEVBQUUsSUFBSSxTQUFTYixJQUFHO0FBQ25CLGVBQU8sU0FBUyxPQUFPLE9BQU8sZUFBZSxPQUFPLGVBQWVBLElBQUcsT0FBTyxhQUFhLEVBQUUsT0FBTyxTQUFTLENBQUMsR0FBRyxPQUFPLGVBQWVBLElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQUEsTUFDdEssR0FBRyxFQUFFLElBQUksU0FBU0EsSUFBR1ksSUFBRztBQUN0QixZQUFJLElBQUlBLE9BQU1aLEtBQUksRUFBRUEsRUFBQyxJQUFJLElBQUlZLE1BQUssSUFBSUEsTUFBSyxPQUFPWixNQUFLLFlBQVlBLE1BQUtBLEdBQUU7QUFBWSxpQkFBT0E7QUFDN0YsWUFBSWEsS0FBb0IsdUJBQU8sT0FBTyxJQUFJO0FBQzFDLFlBQUksRUFBRSxFQUFFQSxFQUFDLEdBQUcsT0FBTyxlQUFlQSxJQUFHLFdBQVcsRUFBRSxZQUFZLE1BQUksT0FBT2IsR0FBRSxDQUFDLEdBQUcsSUFBSVksTUFBSyxPQUFPWixNQUFLO0FBQVUsbUJBQVNjLE1BQUtkO0FBQUcsY0FBRSxFQUFFYSxJQUFHQyxJQUFJLFNBQVNDLElBQUc7QUFDcEoscUJBQU9mLEdBQUVlLEVBQUM7QUFBQSxZQUNaLEVBQUcsS0FBSyxNQUFNRCxFQUFDLENBQUM7QUFDaEIsZUFBT0Q7QUFBQSxNQUNULEdBQUcsRUFBRSxJQUFJLFNBQVNiLElBQUc7QUFDbkIsWUFBSVksS0FBSVosTUFBS0EsR0FBRSxhQUFhLFdBQVc7QUFDckMsaUJBQU9BLEdBQUU7QUFBQSxRQUNYLElBQUksV0FBVztBQUNiLGlCQUFPQTtBQUFBLFFBQ1Q7QUFDQSxlQUFPLEVBQUUsRUFBRVksSUFBRyxLQUFLQSxFQUFDLEdBQUdBO0FBQUEsTUFDekIsR0FBRyxFQUFFLElBQUksU0FBU1osSUFBR1ksSUFBRztBQUN0QixlQUFPLE9BQU8sVUFBVSxlQUFlLEtBQUtaLElBQUdZLEVBQUM7QUFBQSxNQUNsRCxHQUFHLEVBQUUsSUFBSSxJQUFJLEVBQUUsRUFBRSxJQUFJLENBQUM7QUFBQSxJQUN4QixFQUFFLENBQUMsU0FBU0wsSUFBR0MsSUFBRztBQUNoQixVQUFJO0FBQ0osVUFBb0IsMkJBQVc7QUFDN0IsZUFBTztBQUFBLE1BQ1QsRUFBRTtBQUNGLFVBQUk7QUFDRixZQUFJLEtBQUssSUFBSSxTQUFTLGFBQWEsRUFBRTtBQUFBLE1BQ3ZDLFFBQVE7QUFDTixlQUFPLFVBQVUsYUFBYSxJQUFJO0FBQUEsTUFDcEM7QUFDQSxNQUFBRCxHQUFFLFVBQVU7QUFBQSxJQUNkLEdBQUcsU0FBU0EsSUFBR0MsSUFBRyxHQUFHO0FBQ25CLE9BQUMsU0FBU1IsSUFBRztBQUNYLFlBQUlZLEtBQUksRUFBRSxDQUFDLEdBQUdDLEtBQUk7QUFDbEIsaUJBQVNDLEtBQUk7QUFBQSxRQUNiO0FBQ0EsaUJBQVNDLEdBQUUsR0FBRztBQUNaLGNBQUksRUFBRSxnQkFBZ0JBO0FBQUksa0JBQU0sSUFBSSxVQUFVLHNDQUFzQztBQUNwRixjQUFJLE9BQU8sS0FBSztBQUFZLGtCQUFNLElBQUksVUFBVSxnQkFBZ0I7QUFDaEUsZUFBSyxTQUFTLEdBQUcsS0FBSyxXQUFXLE9BQUksS0FBSyxTQUFTLFFBQVEsS0FBSyxhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSTtBQUFBLFFBQzVGO0FBQ0EsaUJBQVNDLEdBQUUsR0FBR0MsSUFBRztBQUNmLGlCQUFPLEVBQUUsV0FBVztBQUFLLGdCQUFJLEVBQUU7QUFDL0IsWUFBRSxXQUFXLEtBQUssRUFBRSxXQUFXLE1BQUlGLEdBQUUsYUFBYSxXQUFXO0FBQzNELGdCQUFJRyxLQUFJLEVBQUUsV0FBVyxJQUFJRCxHQUFFLGNBQWNBLEdBQUU7QUFDM0MsZ0JBQUlDLE9BQU0sTUFBTTtBQUNkLGtCQUFJQztBQUNKLGtCQUFJO0FBQ0YsZ0JBQUFBLEtBQUlELEdBQUUsRUFBRSxNQUFNO0FBQUEsY0FDaEIsU0FBU0UsSUFBRztBQUNWLHVCQUFPLEtBQUtDLEdBQUVKLEdBQUUsU0FBU0csRUFBQztBQUFBLGNBQzVCO0FBQ0EsY0FBQUUsR0FBRUwsR0FBRSxTQUFTRSxFQUFDO0FBQUEsWUFDaEI7QUFBTyxlQUFDLEVBQUUsV0FBVyxJQUFJRyxLQUFJRCxJQUFHSixHQUFFLFNBQVMsRUFBRSxNQUFNO0FBQUEsVUFDckQsQ0FBQyxLQUFLLEVBQUUsV0FBVyxLQUFLQSxFQUFDO0FBQUEsUUFDM0I7QUFDQSxpQkFBU0ssR0FBRSxHQUFHTCxJQUFHO0FBQ2YsY0FBSTtBQUNGLGdCQUFJQSxPQUFNO0FBQUcsb0JBQU0sSUFBSSxVQUFVLDJDQUEyQztBQUM1RSxnQkFBSUEsT0FBTSxPQUFPQSxNQUFLLFlBQVksT0FBT0EsTUFBSyxhQUFhO0FBQ3pELGtCQUFJQyxLQUFJRCxHQUFFO0FBQ1Ysa0JBQUlBLGNBQWFGO0FBQUcsdUJBQU8sRUFBRSxTQUFTLEdBQUcsRUFBRSxTQUFTRSxJQUFHLEtBQUtNLEdBQUUsQ0FBQztBQUMvRCxrQkFBSSxPQUFPTCxNQUFLO0FBQVksdUJBQU8sS0FBSyxHQUFHQyxLQUFJRCxJQUFHRSxLQUFJSCxJQUFHLFdBQVc7QUFDbEUsa0JBQUFFLEdBQUUsTUFBTUMsSUFBRyxTQUFTO0FBQUEsZ0JBQ3RCLElBQUksQ0FBQztBQUFBLFlBQ1A7QUFDQSxjQUFFLFNBQVMsR0FBRyxFQUFFLFNBQVNILElBQUdNLEdBQUUsQ0FBQztBQUFBLFVBQ2pDLFNBQVNDLElBQUc7QUFDVixZQUFBSCxHQUFFLEdBQUdHLEVBQUM7QUFBQSxVQUNSO0FBQ0EsY0FBSUwsSUFBR0M7QUFBQSxRQUNUO0FBQ0EsaUJBQVNDLEdBQUUsR0FBR0osSUFBRztBQUNmLFlBQUUsU0FBUyxHQUFHLEVBQUUsU0FBU0EsSUFBR00sR0FBRSxDQUFDO0FBQUEsUUFDakM7QUFDQSxpQkFBU0EsR0FBRSxHQUFHO0FBQ1osWUFBRSxXQUFXLEtBQUssRUFBRSxXQUFXLFdBQVcsS0FBS1IsR0FBRSxhQUFhLFdBQVc7QUFDdkUsY0FBRSxZQUFZQSxHQUFFLHNCQUFzQixFQUFFLE1BQU07QUFBQSxVQUNoRCxDQUFDO0FBQ0QsbUJBQVNFLEtBQUksR0FBR0MsS0FBSSxFQUFFLFdBQVcsUUFBUUQsS0FBSUMsSUFBR0Q7QUFBSyxZQUFBRCxHQUFFLEdBQUcsRUFBRSxXQUFXQyxFQUFDLENBQUM7QUFDekUsWUFBRSxhQUFhO0FBQUEsUUFDakI7QUFDQSxpQkFBU1EsR0FBRSxHQUFHUixJQUFHQyxJQUFHO0FBQ2xCLGVBQUssY0FBYyxPQUFPLEtBQUssYUFBYSxJQUFJLE1BQU0sS0FBSyxhQUFhLE9BQU9ELE1BQUssYUFBYUEsS0FBSSxNQUFNLEtBQUssVUFBVUM7QUFBQSxRQUM1SDtBQUNBLGlCQUFTLEVBQUUsR0FBR0QsSUFBRztBQUNmLGNBQUlDLEtBQUk7QUFDUixjQUFJO0FBQ0YsY0FBRSxTQUFTQyxJQUFHO0FBQ1osY0FBQUQsT0FBTUEsS0FBSSxNQUFJSSxHQUFFTCxJQUFHRSxFQUFDO0FBQUEsWUFDdEIsR0FBRyxTQUFTQSxJQUFHO0FBQ2IsY0FBQUQsT0FBTUEsS0FBSSxNQUFJRyxHQUFFSixJQUFHRSxFQUFDO0FBQUEsWUFDdEIsQ0FBQztBQUFBLFVBQ0gsU0FBU0EsSUFBRztBQUNWLGdCQUFJRDtBQUFHO0FBQ1AsWUFBQUEsS0FBSSxNQUFJRyxHQUFFSixJQUFHRSxFQUFDO0FBQUEsVUFDaEI7QUFBQSxRQUNGO0FBQ0EsUUFBQUosR0FBRSxVQUFVLFFBQVEsU0FBUyxHQUFHO0FBQzlCLGlCQUFPLEtBQUssS0FBSyxNQUFNLENBQUM7QUFBQSxRQUMxQixHQUFHQSxHQUFFLFVBQVUsT0FBTyxTQUFTLEdBQUdFLElBQUc7QUFDbkMsY0FBSUMsS0FBSSxJQUFJLEtBQUssWUFBWUosRUFBQztBQUM5QixpQkFBT0UsR0FBRSxNQUFNLElBQUlTLEdBQUUsR0FBR1IsSUFBR0MsRUFBQyxDQUFDLEdBQUdBO0FBQUEsUUFDbEMsR0FBR0gsR0FBRSxVQUFVLFVBQVVILEdBQUUsR0FBR0csR0FBRSxNQUFNLFNBQVMsR0FBRztBQUNoRCxpQkFBTyxJQUFJQSxHQUFFLFNBQVNFLElBQUdDLElBQUc7QUFDMUIsZ0JBQUksQ0FBQyxLQUFLLEVBQUUsV0FBVztBQUFRLG9CQUFNLElBQUksVUFBVSw4QkFBOEI7QUFDakYsZ0JBQUlDLEtBQUksTUFBTSxVQUFVLE1BQU0sS0FBSyxDQUFDO0FBQ3BDLGdCQUFJQSxHQUFFLFdBQVc7QUFBRyxxQkFBT0YsR0FBRSxDQUFDLENBQUM7QUFDL0IsZ0JBQUlHLEtBQUlELEdBQUU7QUFDVixxQkFBU0ssR0FBRUUsSUFBR0MsSUFBRztBQUNmLGtCQUFJO0FBQ0Ysb0JBQUlBLE9BQU0sT0FBT0EsTUFBSyxZQUFZLE9BQU9BLE1BQUssYUFBYTtBQUN6RCxzQkFBSUMsS0FBSUQsR0FBRTtBQUNWLHNCQUFJLE9BQU9DLE1BQUs7QUFBWSwyQkFBTyxLQUFLQSxHQUFFLEtBQUtELElBQUcsU0FBU0UsSUFBRztBQUM1RCxzQkFBQUwsR0FBRUUsSUFBR0csRUFBQztBQUFBLG9CQUNSLEdBQUdYLEVBQUM7QUFBQSxnQkFDTjtBQUNBLGdCQUFBQyxHQUFFTyxFQUFDLElBQUlDLElBQUcsRUFBRVAsTUFBSyxLQUFLSCxHQUFFRSxFQUFDO0FBQUEsY0FDM0IsU0FBU1UsSUFBRztBQUNWLGdCQUFBWCxHQUFFVyxFQUFDO0FBQUEsY0FDTDtBQUFBLFlBQ0Y7QUFDQSxxQkFBU0MsS0FBSSxHQUFHQSxLQUFJWCxHQUFFLFFBQVFXO0FBQUssY0FBQU4sR0FBRU0sSUFBR1gsR0FBRVcsRUFBQyxDQUFDO0FBQUEsVUFDOUMsQ0FBQztBQUFBLFFBQ0gsR0FBR2YsR0FBRSxVQUFVLFNBQVMsR0FBRztBQUN6QixpQkFBTyxLQUFLLE9BQU8sS0FBSyxZQUFZLEVBQUUsZ0JBQWdCQSxLQUFJLElBQUksSUFBSUEsR0FBRSxTQUFTRSxJQUFHO0FBQzlFLFlBQUFBLEdBQUUsQ0FBQztBQUFBLFVBQ0wsQ0FBQztBQUFBLFFBQ0gsR0FBR0YsR0FBRSxTQUFTLFNBQVMsR0FBRztBQUN4QixpQkFBTyxJQUFJQSxHQUFFLFNBQVNFLElBQUdDLElBQUc7QUFDMUIsWUFBQUEsR0FBRSxDQUFDO0FBQUEsVUFDTCxDQUFDO0FBQUEsUUFDSCxHQUFHSCxHQUFFLE9BQU8sU0FBUyxHQUFHO0FBQ3RCLGlCQUFPLElBQUlBLEdBQUUsU0FBU0UsSUFBR0MsSUFBRztBQUMxQixxQkFBU0MsS0FBSSxHQUFHQyxLQUFJLEVBQUUsUUFBUUQsS0FBSUMsSUFBR0Q7QUFBSyxnQkFBRUEsRUFBQyxFQUFFLEtBQUtGLElBQUdDLEVBQUM7QUFBQSxVQUMxRCxDQUFDO0FBQUEsUUFDSCxHQUFHSCxHQUFFLGVBQWUsT0FBT2YsTUFBSyxjQUFjLFNBQVMsR0FBRztBQUN4RCxVQUFBQSxHQUFFLENBQUM7QUFBQSxRQUNMLEtBQUssU0FBUyxHQUFHO0FBQ2YsVUFBQWEsR0FBRSxHQUFHLENBQUM7QUFBQSxRQUNSLEdBQUdFLEdBQUUsd0JBQXdCLFNBQVMsR0FBRztBQUN2QyxpQkFBTyxVQUFVLE9BQU8sV0FBVyxRQUFRLEtBQUsseUNBQXlDLENBQUM7QUFBQSxRQUM1RixHQUFHUCxHQUFFLElBQUlPO0FBQUEsTUFDWCxHQUFHLEtBQUssTUFBTSxFQUFFLENBQUMsRUFBRSxZQUFZO0FBQUEsSUFDakMsR0FBRyxTQUFTUixJQUFHQyxJQUFHLEdBQUc7QUFDbkIsTUFBQUEsR0FBRSxJQUFJLFNBQVNSLElBQUc7QUFDaEIsWUFBSVksS0FBSSxLQUFLO0FBQ2IsZUFBTyxLQUFLLEtBQUssU0FBU0MsSUFBRztBQUMzQixpQkFBT0QsR0FBRSxRQUFRWixHQUFFLENBQUMsRUFBRSxLQUFLLFdBQVc7QUFDcEMsbUJBQU9hO0FBQUEsVUFDVCxDQUFDO0FBQUEsUUFDSCxHQUFHLFNBQVNBLElBQUc7QUFDYixpQkFBT0QsR0FBRSxRQUFRWixHQUFFLENBQUMsRUFBRSxLQUFLLFdBQVc7QUFDcEMsbUJBQU9ZLEdBQUUsT0FBT0MsRUFBQztBQUFBLFVBQ25CLENBQUM7QUFBQSxRQUNILENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRixHQUFHLFNBQVNOLElBQUdDLElBQUcsR0FBRztBQUNuQixlQUFTUixHQUFFLEdBQUc7QUFDWixnQkFBUUEsS0FBSSxPQUFPLFVBQVUsY0FBYyxPQUFPLE9BQU8sWUFBWSxXQUFXLFNBQVMsR0FBRztBQUMxRixpQkFBTyxPQUFPO0FBQUEsUUFDaEIsSUFBSSxTQUFTLEdBQUc7QUFDZCxpQkFBTyxLQUFLLE9BQU8sVUFBVSxjQUFjLEVBQUUsZ0JBQWdCLFVBQVUsTUFBTSxPQUFPLFlBQVksV0FBVyxPQUFPO0FBQUEsUUFDcEgsR0FBRyxDQUFDO0FBQUEsTUFDTjtBQUNBLFFBQUUsQ0FBQztBQUNILFVBQUlZLElBQUdDLElBQUdDLElBQUdDLElBQUdDLElBQUdNLElBQUdELElBQUdFLEtBQUksRUFBRSxDQUFDLEdBQUdFLE1BQUtaLEtBQUksU0FBUyxHQUFHO0FBQ3RELGVBQU8sSUFBSSxRQUFRLFNBQVMsR0FBR0ksSUFBRztBQUNoQyxjQUFJRixHQUFFLENBQUMsSUFBSSxJQUFJQyxHQUFFLENBQUMsR0FBRyxjQUFjLEVBQUUsV0FBVztBQUNoRCxjQUFJRSxLQUFJLE9BQU8saUJBQWlCLElBQUksT0FBTyxlQUFlLElBQUksSUFBSSxPQUFPLGNBQWMsbUJBQW1CO0FBQzFHLFVBQUFBLEdBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxHQUFHLEdBQUdBLEdBQUUsaUJBQWlCLG9CQUFvQixnQkFBZ0IsR0FBRyxPQUFPLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxTQUFTRSxJQUFHO0FBQzVILGdCQUFJSSxLQUFJLEVBQUUsUUFBUUosRUFBQztBQUNuQixZQUFBRixHQUFFLGlCQUFpQkUsSUFBR0ksRUFBQztBQUFBLFVBQ3pCLENBQUM7QUFDRCxjQUFJTCxLQUFJLEVBQUU7QUFDVixVQUFBRCxHQUFFLE9BQU8saUJBQWlCLFlBQVksU0FBU0UsSUFBRztBQUNoRCxnQkFBSUksS0FBSSxLQUFLLE1BQU1KLEdBQUUsU0FBU0EsR0FBRSxRQUFRLEdBQUcsR0FBR1UsS0FBSSxLQUFLLEtBQUtOLEtBQUlMLEtBQUksR0FBRztBQUN2RSxjQUFFLFNBQVMsS0FBSyxJQUFJVyxJQUFHLEdBQUcsQ0FBQztBQUFBLFVBQzdCLEdBQUcsS0FBRSxHQUFHWixHQUFFLGlCQUFpQixZQUFZLFNBQVNFLElBQUc7QUFDakQsZ0JBQUlJLEtBQUksS0FBSyxNQUFNSixHQUFFLFNBQVNBLEdBQUUsUUFBUSxHQUFHLEdBQUdVLEtBQUksS0FBSyxLQUFLTixNQUFLLE1BQU1MLE1BQUssR0FBRyxJQUFJQTtBQUNuRixjQUFFLFNBQVMsS0FBSyxJQUFJVyxJQUFHLEdBQUcsQ0FBQztBQUFBLFVBQzdCLEdBQUcsS0FBRSxHQUFHWixHQUFFLHFCQUFxQixXQUFXO0FBQ3hDLGdCQUFJQSxHQUFFLGVBQWUsR0FBRztBQUN0QixrQkFBSUUsS0FBSUYsR0FBRTtBQUNWLGtCQUFJO0FBQ0YsZ0JBQUFFLEtBQUksS0FBSyxNQUFNQSxFQUFDO0FBQUEsY0FDbEIsUUFBUTtBQUFBLGNBQ1I7QUFDQSxrQkFBSUksS0FBSUQsR0FBRSxhQUFhTCxHQUFFLHNCQUFzQixDQUFDLEdBQUdZLEtBQUksRUFBRSxNQUFNVixJQUFHLE1BQU1GLEdBQUUsUUFBUSxTQUFTTSxHQUFFO0FBQzdGLGNBQUFILEdBQUVILEdBQUUsTUFBTSxJQUFJLEVBQUVZLEVBQUMsSUFBSWIsR0FBRWEsRUFBQztBQUFBLFlBQzFCO0FBQUEsVUFDRixHQUFHWixHQUFFLEtBQUssRUFBRSxJQUFJO0FBQUEsUUFDbEIsQ0FBQztBQUFBLE1BQ0gsR0FBR0osS0FBSSxTQUFTLEdBQUc7QUFDakIsZUFBTyxFQUFFLFNBQVMsUUFBUUQsR0FBRSxDQUFDO0FBQUEsTUFDL0IsR0FBR0UsS0FBSSxXQUFXO0FBQ2hCLFlBQUksSUFBSSxVQUFVLFNBQVMsS0FBSyxVQUFVLENBQUMsTUFBTSxTQUFTLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDMUUsWUFBSSxFQUFFLE9BQU8sT0FBTyxFQUFFLE9BQU87QUFBVSxnQkFBTSxJQUFJLE1BQU0sc0JBQXNCO0FBQzdFLFlBQUksRUFBRSxNQUFNLEVBQUUsT0FBTyxJQUFJLEVBQUUsVUFBVSxPQUFPLEVBQUUsVUFBVTtBQUFVLGdCQUFNLElBQUksTUFBTSxtQ0FBbUM7QUFDckgsWUFBSSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsT0FBTyxZQUFZLElBQUksT0FBTyxFQUFFLFdBQVdmLEdBQUUsRUFBRSxPQUFPLE1BQU07QUFBVSxnQkFBTSxJQUFJLE1BQU0scUNBQXFDO0FBQ3ZKLFlBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxDQUFDLEdBQUcsRUFBRSxTQUFTLE9BQU8sRUFBRSxRQUFRLFlBQVksQ0FBQyxPQUFPLE9BQU9ZLEVBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSTtBQUFJLGdCQUFNLElBQUksTUFBTSxnRUFBMEQ7QUFDeEwsWUFBSSxFQUFFLFlBQVksT0FBTyxFQUFFLFlBQVk7QUFBWSxnQkFBTSxJQUFJLE1BQU0sdUNBQXVDO0FBQzFHLFlBQUksRUFBRSxXQUFXLEVBQUUsWUFBWSxTQUFTLEdBQUc7QUFBQSxRQUMzQyxHQUFHLEVBQUUsYUFBYSxFQUFFLGNBQWMsU0FBUyxHQUFHO0FBQUEsUUFDOUMsR0FBRyxFQUFFLFNBQVMsT0FBTyxFQUFFLFNBQVM7QUFBVSxnQkFBTSxJQUFJLE1BQU0sMEJBQTBCO0FBQ3BGLFlBQUksRUFBRSxRQUFRLEtBQUssRUFBRSxRQUFRO0FBQUssZ0JBQU0sSUFBSSxNQUFNLHFDQUFxQztBQUN2RixZQUFJLEVBQUUsUUFBUSxFQUFFLFNBQVMsSUFBSSxFQUFFLFVBQVUsT0FBTyxFQUFFLFVBQVU7QUFBVSxnQkFBTSxJQUFJLE1BQU0sNkRBQTZEO0FBQ25KLFlBQUksRUFBRSxTQUFTLEVBQUUsVUFBVSxPQUFPLEVBQUUsWUFBWSxPQUFPLEVBQUUsWUFBWTtBQUFXLGdCQUFNLElBQUksTUFBTSxvQ0FBb0M7QUFDcEksWUFBSSxFQUFFLFdBQVcsRUFBRSxZQUFZLE9BQUksRUFBRSxhQUFhLE9BQU8sRUFBRSxhQUFhO0FBQVUsZ0JBQU0sSUFBSSxNQUFNLDhCQUE4QjtBQUNoSSxlQUFPLEVBQUUsWUFBWSxFQUFFLGFBQWEsU0FBUztBQUFBLE1BQy9DLEdBQUdJLEtBQUksU0FBUyxHQUFHO0FBQ2pCLGdCQUFRLEVBQUUsUUFBUTtBQUFBLFVBQ2hCLEtBQUs7QUFDSCxnQkFBSSxJQUFJTSxHQUFFLEVBQUUsTUFBTVYsR0FBRSxVQUFVO0FBQzlCLG1CQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sS0FBSyxLQUFLLEVBQUUsR0FBRyxJQUFJLEVBQUUsTUFBTSxNQUFNLElBQUksRUFBRSxNQUFNLE1BQU07QUFDMUU7QUFBQSxVQUNGLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFBQSxVQUNMLEtBQUs7QUFDSCxnQkFBSUssS0FBSSxXQUFXO0FBQ2pCLHNCQUFRLFVBQVUsU0FBUyxLQUFLLFVBQVUsQ0FBQyxNQUFNLFNBQVMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVFMLEdBQUU7QUFBQSxZQUN6RixFQUFFLENBQUM7QUFDSCxhQUFDVyxHQUFFLFdBQVcsRUFBRSxJQUFJLEtBQUtBLEdBQUUsY0FBYyxFQUFFLElBQUksT0FBT04sS0FBSUwsR0FBRSxPQUFPLEVBQUUsT0FBT1UsR0FBRSxFQUFFLE1BQU1MLEVBQUMsR0FBR0EsT0FBTVEsR0FBRSxZQUFZLFNBQVMsRUFBRSxRQUFRLGNBQWMsSUFBSVI7QUFBQSxRQUN2SjtBQUNBLGVBQU87QUFBQSxNQUNULEdBQUdLLEtBQUksV0FBVztBQUNoQixZQUFJLElBQUksVUFBVSxTQUFTLEtBQUssVUFBVSxDQUFDLE1BQU0sU0FBUyxVQUFVLENBQUMsSUFBSSxDQUFDO0FBQzFFLGdCQUFRLFVBQVUsU0FBUyxJQUFJLFVBQVUsQ0FBQyxJQUFJLFFBQVE7QUFBQSxVQUNwRCxLQUFLVixHQUFFO0FBQ0wsbUJBQU9XLEdBQUUsVUFBVSxDQUFDO0FBQUEsVUFDdEIsS0FBS1gsR0FBRTtBQUNMLG1CQUFPVyxHQUFFLFdBQVcsQ0FBQztBQUFBLFVBQ3ZCLEtBQUtYLEdBQUU7QUFDTCxtQkFBT1csR0FBRSxXQUFXLENBQUM7QUFBQSxVQUN2QjtBQUNFLG1CQUFPO0FBQUEsUUFDWDtBQUFBLE1BQ0YsR0FBR0YsS0FBSSxTQUFTLEdBQUc7QUFDakIsZUFBTyxLQUFLLE9BQU8sSUFBSTtBQUFBLE1BQ3pCLEdBQUcsRUFBRSxhQUFhVCxLQUFJLEVBQUUsWUFBWSxvREFBb0QsTUFBTSx1QkFBdUIsTUFBTSxrQ0FBa0MsR0FBRyxTQUFTQyxJQUFHLEtBQUssU0FBUyxHQUFHO0FBQzNMLGVBQU8sRUFBRSxTQUFTLE9BQU9BLEdBQUUsQ0FBQztBQUFBLE1BQzlCLEdBQUcsTUFBTUMsSUFBRyxXQUFXLFNBQVMsR0FBRztBQUNqQyxlQUFPLElBQUlDLEdBQUUsQ0FBQyxHQUFHUSxHQUFFLFlBQVksQ0FBQyxFQUFFLEtBQUssU0FBUyxHQUFHO0FBQ2pELG1CQUFTTixLQUFJLElBQUksU0FBUyxHQUFHQyxLQUFJLEdBQUdBLEtBQUksRUFBRSxRQUFRQTtBQUFLLFlBQUFELEdBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRUMsRUFBQyxHQUFHLEVBQUVBLEVBQUMsRUFBRSxJQUFJO0FBQzVGLFVBQUFLLEdBQUUsU0FBUyxFQUFFLElBQUksS0FBSyxPQUFPLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxTQUFTSCxJQUFHO0FBQzVELGdCQUFJSSxLQUFJLEVBQUUsS0FBS0osRUFBQztBQUNoQixZQUFBSCxHQUFFLE9BQU9HLElBQUdJLEVBQUM7QUFBQSxVQUNmLENBQUM7QUFDRCxjQUFJTCxLQUFJLEVBQUU7QUFDVixpQkFBTyxFQUFFLGFBQWEsV0FBVztBQUMvQixtQkFBT0EsR0FBRSxDQUFDO0FBQUEsVUFDWixHQUFHLEVBQUUsT0FBT0YsSUFBR0gsR0FBRSxDQUFDO0FBQUEsUUFDcEIsQ0FBQztBQUFBLE1BQ0gsR0FBRyxhQUFhLFNBQVMsR0FBRztBQUMxQixlQUFPLFFBQVEsSUFBSUMsR0FBRSxDQUFDLEdBQUcsWUFBWVEsR0FBRSxZQUFZLENBQUM7QUFBQSxNQUN0RCxFQUFFO0FBQ0YsTUFBQWhCLEdBQUUsVUFBVWtCO0FBQUEsSUFDZCxHQUFHLFNBQVNsQixJQUFHQyxJQUFHLEdBQUc7QUFDbkIsUUFBRSxFQUFFQSxFQUFDO0FBQ0wsVUFBSVIsS0FBSSxFQUFFLENBQUM7QUFDWCxhQUFPLFVBQVUsT0FBTyxXQUFXQSxHQUFFO0FBQUEsSUFDdkMsR0FBRyxTQUFTTyxJQUFHQyxJQUFHLEdBQUc7QUFDbkIsT0FBQyxTQUFTUixJQUFHO0FBQ1gsWUFBSVksS0FBSVosT0FBTSxVQUFVQSxNQUFLLE9BQU8sT0FBTyxPQUFPLFFBQVEsUUFBUWEsS0FBSSxTQUFTLFVBQVU7QUFDekYsaUJBQVNDLEdBQUVDLElBQUdDLElBQUc7QUFDZixlQUFLLE1BQU1ELElBQUcsS0FBSyxXQUFXQztBQUFBLFFBQ2hDO0FBQ0EsUUFBQVIsR0FBRSxhQUFhLFdBQVc7QUFDeEIsaUJBQU8sSUFBSU0sR0FBRUQsR0FBRSxLQUFLLFlBQVlELElBQUcsU0FBUyxHQUFHLFlBQVk7QUFBQSxRQUM3RCxHQUFHSixHQUFFLGNBQWMsV0FBVztBQUM1QixpQkFBTyxJQUFJTSxHQUFFRCxHQUFFLEtBQUssYUFBYUQsSUFBRyxTQUFTLEdBQUcsYUFBYTtBQUFBLFFBQy9ELEdBQUdKLEdBQUUsZUFBZUEsR0FBRSxnQkFBZ0IsU0FBU08sSUFBRztBQUNoRCxVQUFBQSxNQUFLQSxHQUFFLE1BQU07QUFBQSxRQUNmLEdBQUdELEdBQUUsVUFBVSxRQUFRQSxHQUFFLFVBQVUsTUFBTSxXQUFXO0FBQUEsUUFDcEQsR0FBR0EsR0FBRSxVQUFVLFFBQVEsV0FBVztBQUNoQyxlQUFLLFNBQVMsS0FBS0YsSUFBRyxLQUFLLEdBQUc7QUFBQSxRQUNoQyxHQUFHSixHQUFFLFNBQVMsU0FBU08sSUFBR0MsSUFBRztBQUMzQix1QkFBYUQsR0FBRSxjQUFjLEdBQUdBLEdBQUUsZUFBZUM7QUFBQSxRQUNuRCxHQUFHUixHQUFFLFdBQVcsU0FBU08sSUFBRztBQUMxQix1QkFBYUEsR0FBRSxjQUFjLEdBQUdBLEdBQUUsZUFBZTtBQUFBLFFBQ25ELEdBQUdQLEdBQUUsZUFBZUEsR0FBRSxTQUFTLFNBQVNPLElBQUc7QUFDekMsdUJBQWFBLEdBQUUsY0FBYztBQUM3QixjQUFJQyxLQUFJRCxHQUFFO0FBQ1YsVUFBQUMsTUFBSyxNQUFNRCxHQUFFLGlCQUFpQixXQUFXLFdBQVc7QUFDbEQsWUFBQUEsR0FBRSxjQUFjQSxHQUFFLFdBQVc7QUFBQSxVQUMvQixHQUFHQyxFQUFDO0FBQUEsUUFDTixHQUFHLEVBQUUsQ0FBQyxHQUFHUixHQUFFLGVBQWUsT0FBTyxPQUFPLE9BQU8sS0FBSyxnQkFBZ0JSLE9BQU0sVUFBVUEsR0FBRSxnQkFBZ0IsUUFBUSxLQUFLLGNBQWNRLEdBQUUsaUJBQWlCLE9BQU8sT0FBTyxPQUFPLEtBQUssa0JBQWtCUixPQUFNLFVBQVVBLEdBQUUsa0JBQWtCLFFBQVEsS0FBSztBQUFBLE1BQ25QLEdBQUcsS0FBSyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0FBQUEsSUFDcEIsR0FBRyxTQUFTTyxJQUFHQyxJQUFHLEdBQUc7QUFDbkIsT0FBQyxTQUFTUixJQUFHWSxJQUFHO0FBQ2QsU0FBQyxTQUFTQyxJQUFHQyxJQUFHO0FBQ2QsY0FBSSxDQUFDRCxHQUFFLGNBQWM7QUFDbkIsZ0JBQUlFLElBQUdDLElBQUdNLElBQUdELElBQUdFLElBQUdFLEtBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLE9BQUlSLEtBQUlKLEdBQUUsVUFBVUssS0FBSSxPQUFPLGtCQUFrQixPQUFPLGVBQWVMLEVBQUM7QUFDOUcsWUFBQUssS0FBSUEsTUFBS0EsR0FBRSxhQUFhQSxLQUFJTCxJQUFHLENBQUMsRUFBRSxTQUFTLEtBQUtBLEdBQUUsT0FBTyxNQUFNLHFCQUFxQkUsS0FBSSxTQUFTUyxJQUFHO0FBQ2xHLGNBQUFaLEdBQUUsU0FBUyxXQUFXO0FBQ3BCLGdCQUFBUSxHQUFFSSxFQUFDO0FBQUEsY0FDTCxDQUFDO0FBQUEsWUFDSCxJQUFJLFdBQVc7QUFDYixrQkFBSVgsR0FBRSxlQUFlLENBQUNBLEdBQUUsZUFBZTtBQUNyQyxvQkFBSVcsS0FBSSxNQUFJTSxLQUFJakIsR0FBRTtBQUNsQix1QkFBT0EsR0FBRSxZQUFZLFdBQVc7QUFDOUIsa0JBQUFXLEtBQUk7QUFBQSxnQkFDTixHQUFHWCxHQUFFLFlBQVksSUFBSSxHQUFHLEdBQUdBLEdBQUUsWUFBWWlCLElBQUdOO0FBQUEsY0FDOUM7QUFBQSxZQUNGLEVBQUUsS0FBS0gsS0FBSSxrQkFBa0IsS0FBSyxPQUFPLElBQUksS0FBS0UsS0FBSSxTQUFTQyxJQUFHO0FBQ2hFLGNBQUFBLEdBQUUsV0FBV1gsTUFBSyxPQUFPVyxHQUFFLFFBQVEsWUFBWUEsR0FBRSxLQUFLLFFBQVFILEVBQUMsTUFBTSxLQUFLRCxHQUFFLENBQUNJLEdBQUUsS0FBSyxNQUFNSCxHQUFFLE1BQU0sQ0FBQztBQUFBLFlBQ3JHLEdBQUdSLEdBQUUsbUJBQW1CQSxHQUFFLGlCQUFpQixXQUFXVSxJQUFHLEtBQUUsSUFBSVYsR0FBRSxZQUFZLGFBQWFVLEVBQUMsR0FBR1IsS0FBSSxTQUFTUyxJQUFHO0FBQzVHLGNBQUFYLEdBQUUsWUFBWVEsS0FBSUcsSUFBRyxHQUFHO0FBQUEsWUFDMUIsS0FBS1gsR0FBRSxtQkFBbUJTLEtBQUksSUFBSSxlQUFlLEdBQUcsTUFBTSxZQUFZLFNBQVNFLElBQUc7QUFDaEYsY0FBQUosR0FBRUksR0FBRSxJQUFJO0FBQUEsWUFDVixHQUFHVCxLQUFJLFNBQVNTLElBQUc7QUFDakIsY0FBQUYsR0FBRSxNQUFNLFlBQVlFLEVBQUM7QUFBQSxZQUN2QixLQUFLUCxNQUFLLHdCQUF3QkEsR0FBRSxjQUFjLFFBQVEsS0FBS0QsS0FBSUMsR0FBRSxpQkFBaUJGLEtBQUksU0FBU1MsSUFBRztBQUNwRyxrQkFBSU0sS0FBSWIsR0FBRSxjQUFjLFFBQVE7QUFDaEMsY0FBQWEsR0FBRSxxQkFBcUIsV0FBVztBQUNoQyxnQkFBQVYsR0FBRUksRUFBQyxHQUFHTSxHQUFFLHFCQUFxQixNQUFNZCxHQUFFLFlBQVljLEVBQUMsR0FBR0EsS0FBSTtBQUFBLGNBQzNELEdBQUdkLEdBQUUsWUFBWWMsRUFBQztBQUFBLFlBQ3BCLEtBQUtmLEtBQUksU0FBU1MsSUFBRztBQUNuQix5QkFBV0osSUFBRyxHQUFHSSxFQUFDO0FBQUEsWUFDcEIsR0FBR04sR0FBRSxlQUFlLFNBQVNNLElBQUc7QUFDOUIscUJBQU9BLE1BQUssZUFBZUEsS0FBSSxJQUFJLFNBQVMsS0FBS0EsRUFBQztBQUNsRCx1QkFBU00sS0FBSSxJQUFJLE1BQU0sVUFBVSxTQUFTLENBQUMsR0FBR0osS0FBSSxHQUFHQSxLQUFJSSxHQUFFLFFBQVFKO0FBQUssZ0JBQUFJLEdBQUVKLEVBQUMsSUFBSSxVQUFVQSxLQUFJLENBQUM7QUFDOUYsa0JBQUlDLEtBQUksRUFBRSxVQUFVSCxJQUFHLE1BQU1NLEdBQUU7QUFDL0IscUJBQU8sRUFBRUwsRUFBQyxJQUFJRSxJQUFHWixHQUFFVSxFQUFDLEdBQUdBO0FBQUEsWUFDekIsR0FBR1AsR0FBRSxpQkFBaUJDO0FBQUEsVUFDeEI7QUFDQSxtQkFBU0EsR0FBRUssSUFBRztBQUNaLG1CQUFPLEVBQUVBLEVBQUM7QUFBQSxVQUNaO0FBQ0EsbUJBQVNKLEdBQUVJLElBQUc7QUFDWixnQkFBSTtBQUFHLHlCQUFXSixJQUFHLEdBQUdJLEVBQUM7QUFBQSxpQkFDcEI7QUFDSCxrQkFBSU0sS0FBSSxFQUFFTixFQUFDO0FBQ1gsa0JBQUlNLElBQUc7QUFDTCxvQkFBSTtBQUNKLG9CQUFJO0FBQ0YsbUJBQUMsU0FBU0osSUFBRztBQUNYLHdCQUFJQyxLQUFJRCxHQUFFLFVBQVVFLEtBQUlGLEdBQUU7QUFDMUIsNEJBQVFFLEdBQUUsUUFBUTtBQUFBLHNCQUNoQixLQUFLO0FBQ0gsd0JBQUFELEdBQUU7QUFDRjtBQUFBLHNCQUNGLEtBQUs7QUFDSCx3QkFBQUEsR0FBRUMsR0FBRSxDQUFDLENBQUM7QUFDTjtBQUFBLHNCQUNGLEtBQUs7QUFDSCx3QkFBQUQsR0FBRUMsR0FBRSxDQUFDLEdBQUdBLEdBQUUsQ0FBQyxDQUFDO0FBQ1o7QUFBQSxzQkFDRixLQUFLO0FBQ0gsd0JBQUFELEdBQUVDLEdBQUUsQ0FBQyxHQUFHQSxHQUFFLENBQUMsR0FBR0EsR0FBRSxDQUFDLENBQUM7QUFDbEI7QUFBQSxzQkFDRjtBQUNFLHdCQUFBRCxHQUFFLE1BQU1iLElBQUdjLEVBQUM7QUFBQSxvQkFDaEI7QUFBQSxrQkFDRixHQUFHRSxFQUFDO0FBQUEsZ0JBQ04sVUFBRTtBQUNBLGtCQUFBWCxHQUFFSyxFQUFDLEdBQUcsSUFBSTtBQUFBLGdCQUNaO0FBQUEsY0FDRjtBQUFBLFlBQ0Y7QUFBQSxVQUNGO0FBQUEsUUFDRixHQUFHLE9BQU8sT0FBTyxNQUFNeEIsT0FBTSxTQUFTLE9BQU9BLEtBQUksSUFBSTtBQUFBLE1BQ3ZELEdBQUcsS0FBSyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQUEsSUFDMUIsR0FBRyxTQUFTTyxJQUFHQyxJQUFHO0FBQ2hCLFVBQUksR0FBR1IsSUFBR1ksS0FBSUwsR0FBRSxVQUFVLENBQUM7QUFDM0IsZUFBU00sS0FBSTtBQUNYLGNBQU0sSUFBSSxNQUFNLGlDQUFpQztBQUFBLE1BQ25EO0FBQ0EsZUFBU0MsS0FBSTtBQUNYLGNBQU0sSUFBSSxNQUFNLG1DQUFtQztBQUFBLE1BQ3JEO0FBQ0EsZUFBU0MsR0FBRUcsSUFBRztBQUNaLFlBQUksTUFBTTtBQUFZLGlCQUFPLFdBQVdBLElBQUcsQ0FBQztBQUM1QyxhQUFLLE1BQU1MLE1BQUssQ0FBQyxNQUFNO0FBQVksaUJBQU8sSUFBSSxZQUFZLFdBQVdLLElBQUcsQ0FBQztBQUN6RSxZQUFJO0FBQ0YsaUJBQU8sRUFBRUEsSUFBRyxDQUFDO0FBQUEsUUFDZixRQUFRO0FBQ04sY0FBSTtBQUNGLG1CQUFPLEVBQUUsS0FBSyxNQUFNQSxJQUFHLENBQUM7QUFBQSxVQUMxQixRQUFRO0FBQ04sbUJBQU8sRUFBRSxLQUFLLE1BQU1BLElBQUcsQ0FBQztBQUFBLFVBQzFCO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFDQSxPQUFDLFdBQVc7QUFDVixZQUFJO0FBQ0YsY0FBSSxPQUFPLGNBQWMsYUFBYSxhQUFhTDtBQUFBLFFBQ3JELFFBQVE7QUFDTixjQUFJQTtBQUFBLFFBQ047QUFDQSxZQUFJO0FBQ0YsVUFBQWIsS0FBSSxPQUFPLGdCQUFnQixhQUFhLGVBQWVjO0FBQUEsUUFDekQsUUFBUTtBQUNOLFVBQUFkLEtBQUljO0FBQUEsUUFDTjtBQUFBLE1BQ0YsR0FBRztBQUNILFVBQUlFLElBQUdNLEtBQUksQ0FBQyxHQUFHRCxLQUFJLE9BQUlFLEtBQUk7QUFDM0IsZUFBU0UsS0FBSTtBQUNYLFFBQUFKLE1BQUtMLE9BQU1LLEtBQUksT0FBSUwsR0FBRSxTQUFTTSxLQUFJTixHQUFFLE9BQU9NLEVBQUMsSUFBSUMsS0FBSSxJQUFJRCxHQUFFLFVBQVUsRUFBRTtBQUFBLE1BQ3hFO0FBQ0EsZUFBUyxJQUFJO0FBQ1gsWUFBSSxDQUFDRCxJQUFHO0FBQ04sY0FBSUgsS0FBSUgsR0FBRVUsRUFBQztBQUNYLFVBQUFKLEtBQUk7QUFDSixtQkFBU0YsS0FBSUcsR0FBRSxRQUFRSCxNQUFLO0FBQzFCLGlCQUFLSCxLQUFJTSxJQUFHQSxLQUFJLENBQUMsR0FBRyxFQUFFQyxLQUFJSjtBQUFLLGNBQUFILE1BQUtBLEdBQUVPLEVBQUMsRUFBRSxJQUFJO0FBQzdDLFlBQUFBLEtBQUksSUFBSUosS0FBSUcsR0FBRTtBQUFBLFVBQ2hCO0FBQ0EsVUFBQU4sS0FBSSxNQUFNSyxLQUFJLE9BQUksU0FBU0QsSUFBRztBQUM1QixnQkFBSXBCLE9BQU07QUFBYyxxQkFBTyxhQUFhb0IsRUFBQztBQUM3QyxpQkFBS3BCLE9BQU1jLE1BQUssQ0FBQ2QsT0FBTTtBQUFjLHFCQUFPQSxLQUFJLGNBQWMsYUFBYW9CLEVBQUM7QUFDNUUsZ0JBQUk7QUFDRixjQUFBcEIsR0FBRW9CLEVBQUM7QUFBQSxZQUNMLFFBQVE7QUFDTixrQkFBSTtBQUNGLHVCQUFPcEIsR0FBRSxLQUFLLE1BQU1vQixFQUFDO0FBQUEsY0FDdkIsUUFBUTtBQUNOLHVCQUFPcEIsR0FBRSxLQUFLLE1BQU1vQixFQUFDO0FBQUEsY0FDdkI7QUFBQSxZQUNGO0FBQUEsVUFDRixFQUFFRixFQUFDO0FBQUEsUUFDTDtBQUFBLE1BQ0Y7QUFDQSxlQUFTLEVBQUVBLElBQUdDLElBQUc7QUFDZixhQUFLLE1BQU1ELElBQUcsS0FBSyxRQUFRQztBQUFBLE1BQzdCO0FBQ0EsZUFBU0YsS0FBSTtBQUFBLE1BQ2I7QUFDQSxNQUFBTCxHQUFFLFdBQVcsU0FBU00sSUFBRztBQUN2QixZQUFJQyxLQUFJLElBQUksTUFBTSxVQUFVLFNBQVMsQ0FBQztBQUN0QyxZQUFJLFVBQVUsU0FBUztBQUFHLG1CQUFTQyxLQUFJLEdBQUdBLEtBQUksVUFBVSxRQUFRQTtBQUFLLFlBQUFELEdBQUVDLEtBQUksQ0FBQyxJQUFJLFVBQVVBLEVBQUM7QUFDM0YsUUFBQUUsR0FBRSxLQUFLLElBQUksRUFBRUosSUFBR0MsRUFBQyxDQUFDLEdBQUdHLEdBQUUsV0FBVyxLQUFLRCxNQUFLTixHQUFFLENBQUM7QUFBQSxNQUNqRCxHQUFHLEVBQUUsVUFBVSxNQUFNLFdBQVc7QUFDOUIsYUFBSyxJQUFJLE1BQU0sTUFBTSxLQUFLLEtBQUs7QUFBQSxNQUNqQyxHQUFHSCxHQUFFLFFBQVEsV0FBV0EsR0FBRSxVQUFVLE1BQUlBLEdBQUUsTUFBTSxDQUFDLEdBQUdBLEdBQUUsT0FBTyxDQUFDLEdBQUdBLEdBQUUsVUFBVSxJQUFJQSxHQUFFLFdBQVcsQ0FBQyxHQUFHQSxHQUFFLEtBQUtLLElBQUdMLEdBQUUsY0FBY0ssSUFBR0wsR0FBRSxPQUFPSyxJQUFHTCxHQUFFLE1BQU1LLElBQUdMLEdBQUUsaUJBQWlCSyxJQUFHTCxHQUFFLHFCQUFxQkssSUFBR0wsR0FBRSxPQUFPSyxJQUFHTCxHQUFFLGtCQUFrQkssSUFBR0wsR0FBRSxzQkFBc0JLLElBQUdMLEdBQUUsWUFBWSxTQUFTTSxJQUFHO0FBQzVSLGVBQU8sQ0FBQztBQUFBLE1BQ1YsR0FBR04sR0FBRSxVQUFVLFNBQVNNLElBQUc7QUFDekIsY0FBTSxJQUFJLE1BQU0sa0NBQWtDO0FBQUEsTUFDcEQsR0FBR04sR0FBRSxNQUFNLFdBQVc7QUFDcEIsZUFBTztBQUFBLE1BQ1QsR0FBR0EsR0FBRSxRQUFRLFNBQVNNLElBQUc7QUFDdkIsY0FBTSxJQUFJLE1BQU0sZ0NBQWdDO0FBQUEsTUFDbEQsR0FBR04sR0FBRSxRQUFRLFdBQVc7QUFDdEIsZUFBTztBQUFBLE1BQ1Q7QUFBQSxJQUNGLEdBQUcsU0FBU0wsSUFBR0MsSUFBRyxHQUFHO0FBQ25CLGVBQVNSLEdBQUVhLElBQUdDLElBQUc7QUFDZixpQkFBU0MsS0FBSSxHQUFHQSxLQUFJRCxHQUFFLFFBQVFDLE1BQUs7QUFDakMsY0FBSUMsS0FBSUYsR0FBRUMsRUFBQztBQUNYLFVBQUFDLEdBQUUsYUFBYUEsR0FBRSxjQUFjLE9BQUlBLEdBQUUsZUFBZSxNQUFJLFdBQVdBLE9BQU1BLEdBQUUsV0FBVyxPQUFLLE9BQU8sZUFBZUgsSUFBR0csR0FBRSxLQUFLQSxFQUFDO0FBQUEsUUFDOUg7QUFBQSxNQUNGO0FBQ0EsVUFBSUosS0FBSSxFQUFFLENBQUM7QUFDWCxNQUFBTCxHQUFFLFVBQVUsV0FBVztBQUNyQixpQkFBU00sS0FBSTtBQUNYLFdBQUMsU0FBU1MsSUFBR0QsSUFBRztBQUNkLGdCQUFJLEVBQUVDLGNBQWFEO0FBQUksb0JBQU0sSUFBSSxVQUFVLG1DQUFtQztBQUFBLFVBQ2hGLEdBQUcsTUFBTVIsRUFBQztBQUFBLFFBQ1o7QUFDQSxZQUFJQyxJQUFHQyxJQUFHQztBQUNWLGVBQU9GLEtBQUlELElBQUdHLEtBQUksQ0FBQyxFQUFFLEtBQUssYUFBYSxPQUFPLFNBQVNNLElBQUc7QUFDeEQsaUJBQU9WLEdBQUVVLEVBQUM7QUFBQSxRQUNaLEVBQUUsR0FBRyxFQUFFLEtBQUssY0FBYyxPQUFPLFNBQVNBLElBQUc7QUFDM0MsaUJBQU8sS0FBSyxVQUFVQSxFQUFDO0FBQUEsUUFDekIsRUFBRSxHQUFHLEVBQUUsS0FBSyxjQUFjLE9BQU8sU0FBU0EsSUFBRztBQUMzQyxjQUFJLEtBQUssV0FBV0EsRUFBQztBQUFHLG1CQUFPQTtBQUMvQixjQUFJLEtBQUssY0FBY0EsRUFBQztBQUFHLG1CQUFPLElBQUksU0FBU0EsRUFBQztBQUNoRCxjQUFJLEtBQUssU0FBU0EsRUFBQyxHQUFHO0FBQ3BCLGdCQUFJRCxLQUFJLElBQUksU0FBUztBQUNyQixtQkFBTyxPQUFPLEtBQUtDLEVBQUMsRUFBRSxRQUFRLFNBQVNDLElBQUc7QUFDeEMsa0JBQUlFLEtBQUlILEdBQUVDLEVBQUM7QUFDWCxjQUFBRixHQUFFLE9BQU9FLElBQUdFLEVBQUM7QUFBQSxZQUNmLENBQUMsR0FBR0o7QUFBQSxVQUNOO0FBQ0EsZ0JBQU0sSUFBSSxNQUFNLHNFQUFzRTtBQUFBLFFBQ3hGLEVBQUUsR0FBRyxFQUFFLEtBQUssWUFBWSxPQUFPLFNBQVNDLElBQUc7QUFDekMsaUJBQU8sT0FBTyxVQUFVLFNBQVMsS0FBS0EsRUFBQyxNQUFNO0FBQUEsUUFDL0MsRUFBRSxHQUFHLEVBQUUsS0FBSyxjQUFjLE9BQU8sU0FBU0EsSUFBRztBQUMzQyxpQkFBT0EsY0FBYTtBQUFBLFFBQ3RCLEVBQUUsR0FBRyxFQUFFLEtBQUssaUJBQWlCLE9BQU8sU0FBU0EsSUFBRztBQUM5QyxpQkFBT0EsY0FBYTtBQUFBLFFBQ3RCLEVBQUUsR0FBRyxFQUFFLEtBQUssZUFBZSxPQUFPLFdBQVc7QUFDM0MsY0FBSUEsS0FBSSxVQUFVLFNBQVMsS0FBSyxVQUFVLENBQUMsTUFBTSxTQUFTLFVBQVUsQ0FBQyxJQUFJLENBQUM7QUFDMUUsaUJBQU8sSUFBSSxRQUFRLFNBQVNELElBQUdFLElBQUc7QUFDaEMsZ0JBQUlFLEtBQUksU0FBUyxjQUFjLE9BQU87QUFDdEMsWUFBQUEsR0FBRSxPQUFPLFFBQVFILEdBQUUsWUFBWUcsR0FBRSxhQUFhLFlBQVksVUFBVSxHQUFHSCxHQUFFLFVBQVVHLEdBQUUsYUFBYSxVQUFVSCxHQUFFLE1BQU0sR0FBR0csR0FBRSxNQUFNLFVBQVUsUUFBUSxTQUFTLEtBQUssWUFBWUEsRUFBQyxHQUFHQSxHQUFFLGlCQUFpQixVQUFVLFNBQVMsR0FBRztBQUN0TixrQkFBSSxJQUFJLEVBQUUsT0FBTztBQUNqQixjQUFBSixHQUFFLENBQUMsR0FBRyxTQUFTLEtBQUssWUFBWUksRUFBQztBQUFBLFlBQ25DLEdBQUcsS0FBRSxHQUFHQSxHQUFFLE1BQU07QUFBQSxVQUNsQixDQUFDO0FBQUEsUUFDSCxFQUFFLEdBQUcsRUFBRSxLQUFLLGdCQUFnQixPQUFPLFNBQVNILElBQUc7QUFDN0MsY0FBSUQsS0FBSUMsR0FBRSxLQUFLLEVBQUUsTUFBTSxTQUFTLEdBQUdDLEtBQUksQ0FBQztBQUN4QyxpQkFBT0YsR0FBRSxRQUFRLFNBQVNJLElBQUc7QUFDM0IsZ0JBQUksSUFBSUEsR0FBRSxNQUFNLElBQUksR0FBRyxJQUFJLEVBQUUsTUFBTSxHQUFHUixLQUFJLEVBQUUsS0FBSyxJQUFJO0FBQ3JELGtCQUFNTSxHQUFFLENBQUMsSUFBSU47QUFBQSxVQUNmLENBQUMsR0FBR007QUFBQSxRQUNOLEVBQUUsQ0FBQyxJQUFJUixLQUFJLFNBQVNmLEdBQUVjLEdBQUUsV0FBV0MsRUFBQyxHQUFHQyxNQUFLaEIsR0FBRWMsSUFBR0UsRUFBQyxHQUFHSDtBQUFBLE1BQ3ZELEVBQUU7QUFBQSxJQUNKLEdBQUcsU0FBU04sSUFBR0MsSUFBRztBQUNoQixVQUFJLElBQUksU0FBU0ksSUFBRztBQUNsQixlQUFPLG1CQUFtQkEsRUFBQyxFQUFFLFFBQVEsWUFBWSxNQUFNLEVBQUUsUUFBUSxRQUFRLEdBQUc7QUFBQSxNQUM5RSxHQUFHWixLQUFJLFNBQVNZLElBQUdDLElBQUdDLElBQUdDLElBQUc7QUFDMUIsZUFBT0YsS0FBSUEsTUFBSyxNQUFNQyxLQUFJQSxNQUFLLEtBQUtDLEtBQUlBLE1BQUssTUFBTUgsS0FBSSxTQUFTSSxJQUFHO0FBQ2pFLG1CQUFTTSxLQUFJLElBQUksTUFBTSxHQUFHRCxLQUFJLEdBQUdBLEtBQUlMLEdBQUUsUUFBUUs7QUFBSyxZQUFBTCxHQUFFSyxFQUFDLEtBQUtDLEdBQUUsS0FBS04sR0FBRUssRUFBQyxDQUFDO0FBQ3ZFLGlCQUFPQztBQUFBLFFBQ1QsRUFBRSxPQUFPLEtBQUtWLEVBQUMsRUFBRSxJQUFJLFNBQVNJLElBQUc7QUFDL0IsY0FBSU0sSUFBR0QsSUFBR0UsS0FBSVA7QUFDZCxjQUFJRCxPQUFNUSxLQUFJUixLQUFJLE1BQU1RLEtBQUksTUFBTSxPQUFPWCxHQUFFSSxFQUFDLEtBQUssWUFBWUosR0FBRUksRUFBQyxNQUFNO0FBQU0sWUFBQU0sS0FBSXRCLEdBQUVZLEdBQUVJLEVBQUMsR0FBRyxNQUFNRixJQUFHUyxFQUFDO0FBQUEsZUFDN0Y7QUFDSCxZQUFBVixPQUFNUSxLQUFJRSxJQUFHQSxLQUFJLENBQUMsTUFBTSxXQUFXRixFQUFDLENBQUMsS0FBSyxTQUFTQSxFQUFDLElBQUlSLEtBQUksT0FBT1UsRUFBQyxJQUFJQTtBQUN4RSxnQkFBSUUsS0FBSWIsR0FBRUksRUFBQztBQUNYLFlBQUFTLE1BQUtBLE1BQUtBLE1BQUtBLEtBQUlBLE9BQU0sT0FBSyxNQUFNQSxRQUFPLFFBQUssTUFBTUEsUUFBTyxJQUFJLE1BQU1BLE9BQU0sSUFBSUgsS0FBSSxFQUFFQyxFQUFDLElBQUksTUFBTSxFQUFFRSxFQUFDO0FBQUEsVUFDdkc7QUFDQSxpQkFBT0g7QUFBQSxRQUNULENBQUMsQ0FBQyxFQUFFLEtBQUtSLEVBQUMsRUFBRSxRQUFRLFlBQVksRUFBRSxJQUFJO0FBQUEsTUFDeEM7QUFDQSxNQUFBUCxHQUFFLFVBQVVQO0FBQUEsSUFDZCxDQUFDLENBQUM7QUFBQSxFQUNKLENBQUM7QUFDSCxHQUFHVyxFQUFDO0FBQ0osSUFBSSxJQUFJQSxHQUFFO0FBQ1YsSUFBTSxJQUFvQixnQkFBQUQsR0FBRSxDQUFDO0FBQzdCLFNBQVNxQixHQUFFMUIsSUFBRztBQUNaLFNBQU9BLE9BQU0sVUFBVSxPQUFPQSxHQUFFLFFBQVE7QUFDMUM7QUFDQSxJQUFNMkIsS0FBTixNQUFRO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPTixZQUFZLEVBQUUsUUFBUTFCLElBQUcsVUFBVUMsSUFBRyxTQUFTQyxHQUFFLEdBQUc7QUFDbEQsU0FBSyxTQUFTRixJQUFHLEtBQUssV0FBV0MsSUFBRyxLQUFLLFVBQVVDO0FBQUEsRUFDckQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxtQkFBbUIsRUFBRSxXQUFXRixHQUFFLEdBQUc7QUFDbkMsVUFBTUMsS0FBSSxTQUFTLEdBQUc7QUFDcEIsWUFBTVAsS0FBSSxJQUFJLFdBQVc7QUFDekIsTUFBQUEsR0FBRSxjQUFjLENBQUMsR0FBR0EsR0FBRSxTQUFTLENBQUNZLE9BQU07QUFDcEMsUUFBQU4sR0FBRU0sR0FBRSxPQUFPLE1BQU07QUFBQSxNQUNuQjtBQUFBLElBQ0Y7QUFDQSxRQUFJSjtBQUNKLFFBQUksS0FBSyxPQUFPLFlBQVksT0FBTyxLQUFLLE9BQU8sU0FBUyxnQkFBZ0IsWUFBWTtBQUNsRixZQUFNLElBQUksS0FBSyxPQUFPLFNBQVM7QUFDL0IsTUFBQUEsS0FBSSxFQUFFLFlBQVksRUFBRSxRQUFRLEtBQUssT0FBTyxTQUFTLFVBQVUsQ0FBQyxFQUFFLEtBQUssQ0FBQ1IsT0FBTTtBQUN4RSxRQUFBTyxHQUFFUCxHQUFFLENBQUMsQ0FBQztBQUNOLGNBQU1ZLEtBQUksRUFBRVosR0FBRSxDQUFDLENBQUM7QUFDaEIsZUFBTytCLEdBQUVuQixFQUFDLEtBQUssUUFBUSxLQUFLLDZEQUE2RCxHQUFHQTtBQUFBLE1BQzlGLENBQUM7QUFBQSxJQUNIO0FBQ0UsTUFBQUosS0FBSSxFQUFFLFVBQVU7QUFBQSxRQUNkLEtBQUssS0FBSyxPQUFPLFVBQVU7QUFBQSxRQUMzQixNQUFNLEtBQUssT0FBTztBQUFBLFFBQ2xCLFFBQVEsS0FBSyxPQUFPLFNBQVM7QUFBQSxRQUM3QixTQUFTLEtBQUssT0FBTztBQUFBLFFBQ3JCLFlBQVksQ0FBQyxNQUFNO0FBQ2pCLFVBQUFELEdBQUUsRUFBRSxDQUFDLENBQUM7QUFBQSxRQUNSO0FBQUEsUUFDQSxXQUFXLEtBQUssT0FBTyxTQUFTO0FBQUEsTUFDbEMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSTtBQUN2QixJQUFBQyxHQUFFLEtBQUssQ0FBQyxNQUFNO0FBQ1osV0FBSyxTQUFTLENBQUM7QUFBQSxJQUNqQixDQUFDLEVBQUUsTUFBTSxDQUFDLE1BQU07QUFDZCxXQUFLLFFBQVEsQ0FBQztBQUFBLElBQ2hCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsWUFBWUYsSUFBRztBQUNiLFFBQUlDO0FBQ0osU0FBSyxPQUFPLFlBQVksT0FBTyxLQUFLLE9BQU8sU0FBUyxlQUFlLGNBQWNBLEtBQUksS0FBSyxPQUFPLFNBQVMsWUFBWUQsRUFBQyxHQUFHeUIsR0FBRXhCLEVBQUMsS0FBSyxRQUFRLEtBQUssNERBQTRELEtBQUtBLEtBQUksRUFBRSxLQUFLO0FBQUEsTUFDek4sS0FBSyxLQUFLLE9BQU8sVUFBVTtBQUFBLE1BQzNCLE1BQU0sT0FBTyxPQUFPO0FBQUEsUUFDbEIsS0FBS0Q7QUFBQSxNQUNQLEdBQUcsS0FBSyxPQUFPLHFCQUFxQjtBQUFBLE1BQ3BDLE1BQU0sRUFBRSxZQUFZO0FBQUEsTUFDcEIsU0FBUyxLQUFLLE9BQU87QUFBQSxJQUN2QixDQUFDLEVBQUUsS0FBSyxDQUFDRSxPQUFNQSxHQUFFLElBQUksR0FBR0QsR0FBRSxLQUFLLENBQUNDLE9BQU07QUFDcEMsV0FBSyxTQUFTQSxFQUFDO0FBQUEsSUFDakIsQ0FBQyxFQUFFLE1BQU0sQ0FBQ0EsT0FBTTtBQUNkLFdBQUssUUFBUUEsRUFBQztBQUFBLElBQ2hCLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxhQUFhRixJQUFHLEVBQUUsV0FBV0MsR0FBRSxHQUFHO0FBQ2hDLFVBQU1DLEtBQUksSUFBSSxXQUFXO0FBQ3pCLElBQUFBLEdBQUUsY0FBY0YsRUFBQyxHQUFHRSxHQUFFLFNBQVMsQ0FBQ1IsT0FBTTtBQUNwQyxNQUFBTyxHQUFFUCxHQUFFLE9BQU8sTUFBTTtBQUFBLElBQ25CO0FBQ0EsUUFBSTtBQUNKLFFBQUksS0FBSyxPQUFPLFlBQVksT0FBTyxLQUFLLE9BQU8sU0FBUyxnQkFBZ0I7QUFDdEUsVUFBSSxLQUFLLE9BQU8sU0FBUyxhQUFhTSxFQUFDLEdBQUd5QixHQUFFLENBQUMsS0FBSyxRQUFRLEtBQUssNkRBQTZEO0FBQUEsU0FDekg7QUFDSCxZQUFNL0IsS0FBSSxJQUFJLFNBQVM7QUFDdkIsTUFBQUEsR0FBRSxPQUFPLEtBQUssT0FBTyxTQUFTLFNBQVNNLEVBQUMsR0FBRyxLQUFLLE9BQU8seUJBQXlCLE9BQU8sS0FBSyxLQUFLLE9BQU8scUJBQXFCLEVBQUUsVUFBVSxPQUFPLFFBQVEsS0FBSyxPQUFPLHFCQUFxQixFQUFFLFFBQVEsQ0FBQyxDQUFDTSxJQUFHQyxFQUFDLE1BQU07QUFDN00sUUFBQWIsR0FBRSxPQUFPWSxJQUFHQyxFQUFDO0FBQUEsTUFDZixDQUFDLEdBQUcsSUFBSSxFQUFFLEtBQUs7QUFBQSxRQUNiLEtBQUssS0FBSyxPQUFPLFVBQVU7QUFBQSxRQUMzQixNQUFNYjtBQUFBLFFBQ04sTUFBTSxFQUFFLFlBQVk7QUFBQSxRQUNwQixTQUFTLEtBQUssT0FBTztBQUFBLE1BQ3ZCLENBQUMsRUFBRSxLQUFLLENBQUNZLE9BQU1BLEdBQUUsSUFBSTtBQUFBLElBQ3ZCO0FBQ0EsTUFBRSxLQUFLLENBQUNaLE9BQU07QUFDWixXQUFLLFNBQVNBLEVBQUM7QUFBQSxJQUNqQixDQUFDLEVBQUUsTUFBTSxDQUFDQSxPQUFNO0FBQ2QsV0FBSyxRQUFRQSxFQUFDO0FBQUEsSUFDaEIsQ0FBQztBQUFBLEVBQ0g7QUFDRjtBQStCQSxJQUFNLElBQU4sTUFBTSxHQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU04sWUFBWSxFQUFFLE1BQU1NLElBQUcsUUFBUUMsSUFBRyxLQUFLQyxJQUFHLFVBQVUsR0FBRyxPQUFPUixHQUFFLEdBQUc7QUFDakUsU0FBSyxNQUFNUSxJQUFHLEtBQUssV0FBVyxHQUFHLEtBQUssUUFBUVIsSUFBRyxLQUFLLFNBQVM7QUFBQSxNQUM3RCxXQUFXTyxHQUFFO0FBQUEsTUFDYix1QkFBdUJBLEdBQUU7QUFBQSxNQUN6QiwwQkFBMEJBLEdBQUU7QUFBQSxNQUM1QixPQUFPQSxHQUFFO0FBQUEsTUFDVCxPQUFPQSxHQUFFO0FBQUEsTUFDVCxvQkFBb0IsS0FBSyxJQUFJLEtBQUssRUFBRUEsR0FBRSxzQkFBc0IsU0FBUztBQUFBLE1BQ3JFLGVBQWVBLEdBQUU7QUFBQSxNQUNqQixVQUFVQSxHQUFFO0FBQUEsTUFDWixTQUFTQSxHQUFFO0FBQUEsSUFDYixHQUFHLEtBQUssV0FBVyxJQUFJeUIsR0FBRTtBQUFBLE1BQ3ZCLFFBQVEsS0FBSztBQUFBLE1BQ2IsVUFBVSxDQUFDcEIsT0FBTSxLQUFLLFNBQVNBLEVBQUM7QUFBQSxNQUNoQyxTQUFTLENBQUNBLE9BQU0sS0FBSyxnQkFBZ0JBLEVBQUM7QUFBQSxJQUN4QyxDQUFDLEdBQUcsS0FBSyxLQUFLLElBQUksRUFBRTtBQUFBLE1BQ2xCLEtBQUtKO0FBQUEsTUFDTCxRQUFRLEtBQUs7QUFBQSxNQUNiLGNBQWMsTUFBTTtBQUNsQixhQUFLLFNBQVMsbUJBQW1CO0FBQUEsVUFDL0IsV0FBVyxDQUFDSSxPQUFNO0FBQ2hCLGlCQUFLLEdBQUcsY0FBY0EsRUFBQztBQUFBLFVBQ3pCO0FBQUEsUUFDRixDQUFDO0FBQUEsTUFDSDtBQUFBLE1BQ0EsVUFBVTtBQUFBLElBQ1osQ0FBQyxHQUFHLEtBQUssUUFBUTtBQUFBLE1BQ2YsU0FBUztBQUFBLE1BQ1QsWUFBWTtBQUFBLE1BQ1osZ0JBQWdCO0FBQUEsTUFDaEIsV0FBVztBQUFBLE1BQ1gsTUFBTTtBQUFBLFFBQ0osS0FBSztBQUFBLE1BQ1A7QUFBQSxJQUNGLEdBQUcsS0FBSyxPQUFPTjtBQUFBLEVBQ2pCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXLHNCQUFzQjtBQUMvQixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsVUFBVTtBQUNuQixXQUFPO0FBQUEsTUFDTCxNQUFNSDtBQUFBLE1BQ04sT0FBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxXQUFXLFFBQVE7QUFDakIsV0FBTztBQUFBLE1BQ0w7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE1BQU1EO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsTUFDVjtBQUFBLE1BQ0E7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE1BQU1FO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsTUFDVjtBQUFBLE1BQ0E7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE1BQU1IO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxTQUFTO0FBQ1AsV0FBTyxLQUFLLEdBQUcsT0FBTyxLQUFLLElBQUk7QUFBQSxFQUNqQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFNBQVNLLElBQUc7QUFDVixXQUFPLENBQUMsQ0FBQ0EsR0FBRSxLQUFLO0FBQUEsRUFDbEI7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLE9BQU87QUFDTCxVQUFNQSxLQUFJLEtBQUssR0FBRyxNQUFNO0FBQ3hCLFdBQU8sS0FBSyxNQUFNLFVBQVVBLEdBQUUsV0FBVyxLQUFLO0FBQUEsRUFDaEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsaUJBQWlCO0FBQ2YsV0FBTyxHQUFFLE1BQU0sT0FBTyxLQUFLLE9BQU8sV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUNDLFFBQU87QUFBQSxNQUMzRCxNQUFNQSxHQUFFO0FBQUEsTUFDUixPQUFPLEtBQUssSUFBSSxLQUFLLEVBQUVBLEdBQUUsS0FBSztBQUFBLE1BQzlCLE1BQU1BLEdBQUU7QUFBQSxNQUNSLFFBQVFBLEdBQUU7QUFBQSxNQUNWLFVBQVUsS0FBSyxLQUFLQSxHQUFFLElBQUk7QUFBQSxNQUMxQixZQUFZLE1BQU07QUFDaEIsWUFBSSxPQUFPQSxHQUFFLFVBQVUsWUFBWTtBQUNqQyxVQUFBQSxHQUFFLE9BQU9BLEdBQUUsSUFBSTtBQUNmO0FBQUEsUUFDRjtBQUNBLGFBQUssWUFBWUEsR0FBRSxJQUFJO0FBQUEsTUFDekI7QUFBQSxJQUNGLEVBQUU7QUFBQSxFQUNKO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLGlCQUFpQjtBQUNmLFNBQUssR0FBRyxNQUFNLFdBQVcsTUFBTTtBQUFBLEVBQ2pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLFdBQVcsY0FBYztBQUN2QixXQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFJTCxNQUFNO0FBQUEsUUFDSjtBQUFBLFVBQ0UsS0FBSyxFQUFFLEtBQUssS0FBRztBQUFBLFFBQ2pCO0FBQUEsTUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BSUEsVUFBVTtBQUFBLFFBQ1IsT0FBTztBQUFBLE1BQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQUlBLE9BQU87QUFBQSxRQUNMLFdBQVcsQ0FBQyxTQUFTO0FBQUEsTUFDdkI7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxRQUFRRCxJQUFHO0FBQ2YsWUFBUUEsR0FBRSxNQUFNO0FBQUEsTUFDZCxLQUFLLE9BQU87QUFDVixjQUFNQyxLQUFJRCxHQUFFLE9BQU87QUFDbkIsWUFBSSxTQUFTLEtBQUtDLEdBQUUsR0FBRyxHQUFHO0FBQ3hCLGdCQUFNLElBQUksT0FBTyxNQUFNLE1BQU1BLEdBQUUsR0FBRyxHQUFHLEtBQUs7QUFDMUMsZUFBSyxXQUFXLENBQUM7QUFDakI7QUFBQSxRQUNGO0FBQ0EsYUFBSyxVQUFVQSxHQUFFLEdBQUc7QUFDcEI7QUFBQSxNQUNGO0FBQUEsTUFDQSxLQUFLLFdBQVc7QUFDZCxjQUFNQSxLQUFJRCxHQUFFLE9BQU87QUFDbkIsYUFBSyxVQUFVQyxFQUFDO0FBQ2hCO0FBQUEsTUFDRjtBQUFBLE1BQ0EsS0FBSyxRQUFRO0FBQ1gsY0FBTUEsS0FBSUQsR0FBRSxPQUFPO0FBQ25CLGFBQUssV0FBV0MsRUFBQztBQUNqQjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLElBQUksS0FBS0QsSUFBRztBQUNWLFNBQUssUUFBUUEsR0FBRSxNQUFNLEtBQUssTUFBTSxVQUFVQSxHQUFFLFdBQVcsSUFBSSxLQUFLLEdBQUcsWUFBWSxLQUFLLE1BQU0sT0FBTyxHQUFHLEdBQUUsTUFBTSxRQUFRLENBQUMsRUFBRSxNQUFNQyxHQUFFLE1BQU07QUFDbkksWUFBTUMsS0FBSSxPQUFPRixHQUFFQyxFQUFDLElBQUksTUFBTUQsR0FBRUMsRUFBQyxNQUFNLFFBQU1ELEdBQUVDLEVBQUMsTUFBTSxTQUFTO0FBQy9ELFdBQUssUUFBUUEsSUFBR0MsRUFBQztBQUFBLElBQ25CLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLE9BQU87QUFDVCxXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLElBQUksTUFBTUYsSUFBRztBQUNYLFNBQUssTUFBTSxPQUFPQSxNQUFLLEVBQUUsS0FBSyxHQUFHLEdBQUdBLE1BQUtBLEdBQUUsT0FBTyxLQUFLLEdBQUcsVUFBVUEsR0FBRSxHQUFHO0FBQUEsRUFDM0U7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsU0FBU0EsSUFBRztBQUNWLElBQUFBLEdBQUUsV0FBV0EsR0FBRSxPQUFPLEtBQUssUUFBUUEsR0FBRSxPQUFPLEtBQUssZ0JBQWdCLHlCQUF5QixLQUFLLFVBQVVBLEVBQUMsQ0FBQztBQUFBLEVBQzdHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLGdCQUFnQkEsSUFBRztBQUNqQixZQUFRLElBQUksMkNBQTJDQSxFQUFDLEdBQUcsS0FBSyxJQUFJLFNBQVMsS0FBSztBQUFBLE1BQ2hGLFNBQVMsS0FBSyxJQUFJLEtBQUssRUFBRSxpREFBNEM7QUFBQSxNQUNyRSxPQUFPO0FBQUEsSUFDVCxDQUFDLEdBQUcsS0FBSyxHQUFHLGNBQWM7QUFBQSxFQUM1QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxZQUFZQSxJQUFHO0FBQ2IsU0FBSyxRQUFRQSxJQUFHLENBQUMsS0FBSyxNQUFNQSxFQUFDLENBQUM7QUFBQSxFQUNoQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFFBQVFBLElBQUdDLElBQUc7QUFDWixTQUFLLE1BQU1ELEVBQUMsSUFBSUMsSUFBRyxLQUFLLEdBQUcsVUFBVUQsSUFBR0MsRUFBQyxHQUFHRCxPQUFNLGVBQWUsUUFBUSxRQUFRLEVBQUUsS0FBSyxNQUFNO0FBQzVGLFdBQUssTUFBTSxZQUFZQztBQUFBLElBQ3pCLENBQUMsRUFBRSxNQUFNLENBQUNDLE9BQU07QUFDZCxjQUFRLE1BQU1BLEVBQUM7QUFBQSxJQUNqQixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxXQUFXRixJQUFHO0FBQ1osU0FBSyxTQUFTLGFBQWFBLElBQUc7QUFBQSxNQUM1QixXQUFXLENBQUNDLE9BQU07QUFDaEIsYUFBSyxHQUFHLGNBQWNBLEVBQUM7QUFBQSxNQUN6QjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsVUFBVUQsSUFBRztBQUNYLFNBQUssR0FBRyxjQUFjQSxFQUFDLEdBQUcsS0FBSyxTQUFTLFlBQVlBLEVBQUM7QUFBQSxFQUN2RDtBQUNGOzs7Q0NuakNDLFdBQVU7QUFBQztBQUFhLE1BQUc7QUFBQyxRQUFHLE9BQU8sV0FBUyxLQUFJO0FBQUMsVUFBSSxJQUFFLFNBQVMsY0FBYyxPQUFPO0FBQUUsUUFBRSxZQUFZLFNBQVMsZUFBZSw2UUFBNlEsQ0FBQyxHQUFFLFNBQVMsS0FBSyxZQUFZLENBQUM7QUFBQSxJQUFDO0FBQUEsRUFBQyxTQUFPLEdBQUU7QUFBQyxZQUFRLE1BQU0sa0NBQWlDLENBQUM7QUFBQSxFQUFDO0FBQUMsR0FBRztBQUM3ZSxJQUFNLElBQUk7QUFBVixJQUFtckIsSUFBSTtBQUN2ckIsSUFBTTJCLEtBQU4sTUFBUTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1OLFdBQVcsc0JBQXNCO0FBQy9CLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLG1CQUFtQjtBQUM1QixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxXQUFXLFVBQVU7QUFDbkIsV0FBTztBQUFBLE1BQ0wsTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFVQSxZQUFZLEVBQUUsTUFBTSxHQUFHLFFBQVEsR0FBRyxLQUFLQyxJQUFHLFVBQVVDLEdBQUUsR0FBRztBQUN2RCxTQUFLLFlBQVk7QUFBQSxNQUNmLFNBQVM7QUFBQSxJQUNYLEdBQUcsS0FBSyxNQUFNRCxJQUFHLEtBQUssV0FBV0MsSUFBRyxLQUFLLFdBQVc7QUFBQSxNQUNsRDtBQUFBLFFBQ0UsTUFBTTtBQUFBLFFBQ04sT0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLFdBQVc7QUFBQSxRQUNsQyxNQUFNO0FBQUEsUUFDTixTQUFTLEVBQUUsaUJBQWlCLGVBQWU7QUFBQSxNQUM3QztBQUFBLE1BQ0E7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE9BQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxTQUFTO0FBQUEsUUFDaEMsTUFBTTtBQUFBLFFBQ04sU0FBUyxFQUFFLGlCQUFpQixhQUFhO0FBQUEsTUFDM0M7QUFBQSxJQUNGLEdBQUcsS0FBSyxRQUFRO0FBQUEsTUFDZCxPQUFPLEtBQUssU0FBUyxLQUFLLENBQUMsTUFBTSxFQUFFLFlBQVksSUFBRSxFQUFFO0FBQUEsTUFDbkQsT0FBTyxDQUFDO0FBQUEsSUFDVixHQUFHLEtBQUssT0FBTztBQUFBLEVBQ2pCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxTQUFTO0FBQ1AsV0FBTyxLQUFLLFVBQVUsVUFBVSxLQUFLLFlBQVksS0FBSyxNQUFNLEtBQUssR0FBRyxLQUFLLE1BQU0sTUFBTSxTQUFTLEtBQUssTUFBTSxNQUFNLFFBQVEsQ0FBQyxNQUFNO0FBQzVILFdBQUssVUFBVSxRQUFRLFlBQVksS0FBSyxNQUFNLE1BQU0sS0FBSyxJQUFJLE1BQU07QUFBQSxRQUNqRSxXQUFXO0FBQUEsTUFDYixDQUFDLENBQUM7QUFBQSxJQUNKLENBQUMsSUFBSSxLQUFLLFVBQVUsUUFBUSxZQUFZLEtBQUssTUFBTSxNQUFNLEtBQUssSUFBSSxJQUFJLENBQUMsR0FBRyxLQUFLLFlBQVksS0FBSyxVQUFVLFFBQVEsaUJBQWlCLFdBQVcsQ0FBQyxNQUFNO0FBQ25KLFlBQU0sQ0FBQyxHQUFHRCxFQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDckIsY0FBUSxFQUFFLFNBQVM7QUFBQSxRQUNqQixLQUFLO0FBQ0gsZUFBSyxhQUFhLENBQUM7QUFDbkI7QUFBQSxRQUNGLEtBQUtBO0FBQ0gsZUFBSyxVQUFVLENBQUM7QUFDaEI7QUFBQSxNQUNKO0FBQUEsSUFDRixHQUFHLEtBQUUsR0FBRyxLQUFLLFVBQVU7QUFBQSxFQUN6QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxPQUFPO0FBQ0wsV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsbUJBQW1CO0FBQzVCLFdBQU87QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQU9MLFFBQVEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxLQUFLLElBQUk7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQU9oQyxRQUFRLENBQUMsT0FBTztBQUFBLFFBQ2QsT0FBTyxDQUFDLENBQUM7QUFBQSxRQUNULE9BQU87QUFBQSxNQUNUO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLFdBQVc7QUFDcEIsV0FBTztBQUFBLE1BQ0wsT0FBTyxDQUFDO0FBQUEsTUFDUixPQUFPO0FBQUEsUUFDTCxJQUFJO0FBQUEsTUFDTjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxpQkFBaUI7QUFDZixXQUFPLEtBQUssU0FBUyxJQUFJLENBQUMsT0FBTztBQUFBLE1BQy9CLEdBQUc7QUFBQSxNQUNILFVBQVUsS0FBSyxNQUFNLFVBQVUsRUFBRTtBQUFBLE1BQ2pDLGlCQUFpQjtBQUFBLE1BQ2pCLFlBQVksTUFBTSxLQUFLLFdBQVcsRUFBRSxJQUFJO0FBQUEsSUFDMUMsRUFBRTtBQUFBLEVBQ0o7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxRQUFRLEdBQUc7QUFDVCxVQUFNLElBQUksRUFBRSxPQUFPO0FBQ25CLFNBQUssT0FBTyxLQUFLLGFBQWEsQ0FBQztBQUFBLEVBQ2pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsV0FBVyxjQUFjO0FBQ3ZCLFdBQU87QUFBQSxNQUNMLE1BQU0sQ0FBQyxNQUFNLE1BQU0sSUFBSTtBQUFBLElBQ3pCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsWUFBWSxHQUFHO0FBQ2IsVUFBTSxJQUFJLE1BQU0sWUFBWSxLQUFLLElBQUksaUJBQWlCLEtBQUssSUFBSSxrQkFBa0JBLEtBQUksTUFBTSxZQUFZLE9BQU87QUFDOUcsV0FBTyxLQUFLLE1BQU1BLElBQUcsQ0FBQyxLQUFLLElBQUksV0FBVyxLQUFLLElBQUksU0FBUyxDQUFDLEdBQUc7QUFBQSxNQUM5RCxpQkFBaUIsQ0FBQyxLQUFLO0FBQUEsSUFDekIsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLEdBQUc7QUFDWixVQUFNLElBQUksS0FBSyxZQUFZLENBQUM7QUFDNUIsV0FBTyxLQUFLLFVBQVUsUUFBUSxjQUFjO0FBQzFDLFFBQUUsWUFBWSxLQUFLLFVBQVUsUUFBUSxVQUFVO0FBQ2pELFNBQUssVUFBVSxRQUFRLFlBQVksQ0FBQyxHQUFHLEtBQUssVUFBVSxVQUFVLEdBQUcsS0FBSyxNQUFNLFFBQVE7QUFBQSxFQUN4RjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksTUFBTTtBQUNSLFdBQU87QUFBQSxNQUNMLFdBQVcsS0FBSyxJQUFJLE9BQU87QUFBQSxNQUMzQixTQUFTO0FBQUEsTUFDVCxnQkFBZ0I7QUFBQSxNQUNoQixrQkFBa0I7QUFBQSxNQUNsQixNQUFNO0FBQUEsSUFDUjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLEtBQUssR0FBRztBQUNWLFVBQU0sSUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLFFBQVEsRUFBRSxTQUFTLEtBQUssU0FBUyxLQUFLLENBQUNBLE9BQU1BLEdBQUUsWUFBWSxJQUFFLEVBQUUsTUFBTSxLQUFLLE1BQU0sUUFBUSxFQUFFLFNBQVMsQ0FBQztBQUM5SCxVQUFNLElBQUksS0FBSyxVQUFVO0FBQ3pCLFNBQUssRUFBRSxXQUFXLGFBQWEsS0FBSyxPQUFPLEdBQUcsQ0FBQztBQUFBLEVBQ2pEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxPQUFPO0FBQ1QsU0FBSyxNQUFNLFFBQVEsQ0FBQztBQUNwQixVQUFNLElBQUksS0FBSyxVQUFVLFFBQVEsaUJBQWlCLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtBQUNyRSxhQUFTLElBQUksR0FBRyxJQUFJLEVBQUUsUUFBUTtBQUM1QixRQUFFLENBQUMsRUFBRSxVQUFVLFFBQVEsUUFBUSxHQUFHLEVBQUUsS0FBSyxLQUFLLEtBQUssTUFBTSxNQUFNLEtBQUssRUFBRSxDQUFDLEVBQUUsU0FBUztBQUNwRixXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsTUFBTSxHQUFHLElBQUksTUFBTUEsS0FBSSxDQUFDLEdBQUc7QUFDekIsVUFBTUMsS0FBSSxTQUFTLGNBQWMsQ0FBQztBQUNsQyxVQUFNLFFBQVEsQ0FBQyxJQUFJQSxHQUFFLFVBQVUsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLQSxHQUFFLFVBQVUsSUFBSSxDQUFDO0FBQ2pFLGVBQVcsS0FBS0Q7QUFDZCxNQUFBQyxHQUFFLENBQUMsSUFBSUQsR0FBRSxDQUFDO0FBQ1osV0FBT0M7QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxjQUFjO0FBQ2hCLFFBQUksSUFBSSxPQUFPLGFBQWEsRUFBRTtBQUM5QixXQUFPLEVBQUUsYUFBYSxLQUFLLGlCQUFpQixJQUFJLEVBQUUsYUFBYSxFQUFFLFFBQVEsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0FBQUEsRUFDOUY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGFBQWEsR0FBRztBQUNkLFVBQU0sSUFBSSxLQUFLLFVBQVUsUUFBUSxpQkFBaUIsTUFBTSxLQUFLLElBQUksSUFBSTtBQUNyRSxRQUFJLEVBQUUsU0FBUztBQUNiO0FBQ0YsVUFBTUQsS0FBSSxFQUFFLEVBQUUsU0FBUyxDQUFDLEdBQUdDLEtBQUksS0FBSztBQUNwQyxJQUFBQSxPQUFNRCxNQUFLLENBQUNBLEdBQUUsWUFBWSxLQUFLLEVBQUUsV0FBV0MsR0FBRSxjQUFjLFlBQVlBLEVBQUMsR0FBRyxLQUFLLElBQUksT0FBTyxPQUFPLEdBQUcsS0FBSyxJQUFJLE1BQU0sV0FBVyxLQUFLLElBQUksT0FBTyxxQkFBcUIsQ0FBQyxHQUFHLEVBQUUsZUFBZSxHQUFHLEVBQUUsZ0JBQWdCO0FBQUEsRUFDak47QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVLEdBQUc7QUFDWCxVQUFNLElBQUksS0FBSyxVQUFVLFFBQVEsaUJBQWlCLE1BQU0sS0FBSyxJQUFJLElBQUksR0FBR0QsS0FBSSxFQUFFLENBQUM7QUFDL0UsSUFBQUEsTUFBSyxFQUFFLFNBQVMsS0FBSyxDQUFDQSxHQUFFLFVBQVUsUUFBUSxRQUFRLEdBQUcsRUFBRSxLQUFLLEtBQUssRUFBRSxlQUFlO0FBQUEsRUFDcEY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLEdBQUc7QUFDWixNQUFFLGVBQWU7QUFDakIsVUFBTSxJQUFJLE9BQU8sYUFBYSxHQUFHQSxLQUFJLEVBQUUsV0FBVyxZQUFZQyxLQUFJRCxHQUFFLFFBQVEsTUFBTSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxNQUFNO0FBQ2hILE1BQUUsbUJBQW1CQyxFQUFDLEdBQUcsRUFBRSxnQkFBZ0IsR0FBRyxFQUFFLFNBQVMsQ0FBQztBQUFBLEVBQzVEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxhQUFhLEdBQUc7QUFDZCxVQUFNLEVBQUUsU0FBUyxFQUFFLElBQUk7QUFDdkIsUUFBSUQ7QUFDSixZQUFRLEdBQUc7QUFBQSxNQUNULEtBQUs7QUFDSCxRQUFBQSxLQUFJO0FBQ0o7QUFBQSxNQUNGLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFDSCxRQUFBQSxLQUFJO0FBQUEsSUFDUjtBQUNBLFVBQU1DLEtBQUk7QUFBQSxNQUNSLE9BQU9EO0FBQUEsTUFDUCxPQUFPLENBQUM7QUFBQSxJQUNWO0FBQ0EsUUFBSSxNQUFNO0FBQ1IsTUFBQUMsR0FBRSxRQUFRLENBQUMsRUFBRSxTQUFTO0FBQUEsU0FDbkI7QUFDSCxZQUFNLElBQUksTUFBTSxLQUFLLEVBQUUsaUJBQWlCLElBQUksQ0FBQztBQUM3QyxNQUFBQSxHQUFFLFFBQVEsRUFBRSxJQUFJLENBQUNDLE9BQU1BLEdBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQ0EsT0FBTSxDQUFDLENBQUNBLEdBQUUsS0FBSyxDQUFDO0FBQUEsSUFDOUQ7QUFDQSxXQUFPRDtBQUFBLEVBQ1Q7QUFDRjs7O0NDclRDLFdBQVU7QUFBQztBQUFhLE1BQUc7QUFBQyxRQUFHLE9BQU8sV0FBUyxLQUFJO0FBQUMsVUFBSSxJQUFFLFNBQVMsY0FBYyxPQUFPO0FBQUUsUUFBRSxZQUFZLFNBQVMsZUFBZSw0SUFBNEksQ0FBQyxHQUFFLFNBQVMsS0FBSyxZQUFZLENBQUM7QUFBQSxJQUFDO0FBQUEsRUFBQyxTQUFPRSxJQUFFO0FBQUMsWUFBUSxNQUFNLGtDQUFpQ0EsRUFBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQzVXLElBQU1DLEtBQUk7QUFBVixJQUF5WCxJQUFJO0FBQTdYLElBQTJ4QkMsS0FBSTtBQUEveEIsSUFBMnpDLElBQUk7QUFBL3pDLElBQTB1REMsS0FBSTtBQUE5dUQsSUFBbXRFLElBQUk7QUFBdnRFLElBQW1xRixJQUFJO0FBU3ZxRixJQUFNLElBQU4sTUFBUTtBQUFBLEVBQ04sWUFBWSxFQUFFLE1BQU0sR0FBRyxRQUFRLEdBQUcsS0FBS0MsSUFBRyxVQUFVQyxHQUFFLEdBQUc7QUFDdkQsU0FBSyxNQUFNRCxJQUFHLEtBQUssV0FBV0MsSUFBRyxLQUFLLFlBQVksR0FBRyxLQUFLLFFBQVEsS0FBSyxjQUFjLENBQUMsR0FBRyxLQUFLLFdBQVcsS0FBSyxPQUFPO0FBQUEsRUFDdkg7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksT0FBTztBQUNULFdBQU87QUFBQSxNQUNMLE9BQU8sS0FBSyxJQUFJLE9BQU87QUFBQSxNQUN2QixTQUFTO0FBQUEsSUFDWDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsYUFBYSxHQUFHO0FBQ2QsV0FBTyxFQUFFLFNBQVM7QUFBQSxFQUNwQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLGNBQWMsR0FBRztBQUNmLFVBQU0sSUFBSSxFQUFFLE1BQU0sSUFBSSxPQUFPLEtBQUssYUFBYSxPQUFPO0FBQ3RELFdBQU8sS0FBSyxhQUFhLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLElBQUksRUFBRSxVQUFVLFVBQVUsQ0FBQyxNQUFNLFNBQVMsRUFBRSxNQUFNLFNBQVMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxRQUFRLFNBQVMsRUFBRSxNQUFNLFNBQVMsQ0FBQyxLQUFLO0FBQUEsRUFDbEs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFNBQVM7QUFDUCxXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsaUJBQWlCO0FBQ2YsV0FBTyxLQUFLLE9BQU8sSUFBSSxDQUFDLE9BQU87QUFBQSxNQUM3QixNQUFNLEVBQUU7QUFBQSxNQUNSLE9BQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFO0FBQUEsTUFDNUMsWUFBWSxNQUFNLEtBQUssU0FBUyxFQUFFLE1BQU07QUFBQSxNQUN4QyxpQkFBaUI7QUFBQSxNQUNqQixVQUFVLEtBQUssYUFBYSxXQUFXLEVBQUU7QUFBQSxNQUN6QyxRQUFRLE1BQU0sU0FBUyxjQUFjLEtBQUs7QUFBQSxJQUM1QyxFQUFFO0FBQUEsRUFDSjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFNBQVMsR0FBRztBQUNWLFNBQUssT0FBTztBQUFBLE1BQ1YsT0FBTztBQUFBLE1BQ1AsTUFBTSxLQUFLLEtBQUs7QUFBQSxJQUNsQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsTUFBTSxHQUFHO0FBQ1AsU0FBSyxTQUFTLG1CQUFtQixhQUFhLEVBQUUsSUFBSTtBQUFBLEVBQ3REO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsU0FBUyxHQUFHO0FBQ1YsV0FBTyxFQUFFLEtBQUssS0FBSyxNQUFNO0FBQUEsRUFDM0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsS0FBSyxHQUFHO0FBQ04sV0FBTztBQUFBLE1BQ0wsTUFBTSxFQUFFO0FBQUEsTUFDUixPQUFPLEtBQUssYUFBYTtBQUFBLElBQzNCO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsV0FBVyxtQkFBbUI7QUFDNUIsV0FBTztBQUFBLE1BQ0wsUUFBUTtBQUFBO0FBQUEsTUFFUixRQUFRO0FBQUE7QUFBQSxJQUVWO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsV0FBVyxXQUFXO0FBQ3BCLFdBQU87QUFBQSxNQUNMLE9BQU87QUFBQSxNQUNQLE1BQU0sQ0FBQztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsV0FBVyxzQkFBc0I7QUFDL0IsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLElBQUksT0FBTztBQUNULFdBQU8sS0FBSyxNQUFNLE9BQU8sS0FBSyxTQUFTLFdBQVcsS0FBSyxNQUFNLFFBQVEsS0FBSyxhQUFhLFFBQVEsS0FBSztBQUFBLEVBQ3RHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsSUFBSSxLQUFLLEdBQUc7QUFDVixRQUFJLEtBQUssUUFBUSxLQUFLLGNBQWMsQ0FBQyxHQUFHLEVBQUUsVUFBVSxVQUFVLEtBQUssU0FBUyxZQUFZO0FBQ3RGLFlBQU0sSUFBSSxLQUFLLE9BQU87QUFDdEIsUUFBRSxZQUFZLEtBQUssU0FBUyxXQUFXLEtBQUssU0FBUyxXQUFXLGFBQWEsR0FBRyxLQUFLLFFBQVEsR0FBRyxLQUFLLFdBQVc7QUFBQSxJQUNsSDtBQUNBLE1BQUUsU0FBUyxXQUFXLEtBQUssU0FBUyxZQUFZLEtBQUssTUFBTSxRQUFRO0FBQUEsRUFDckU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFNBQVM7QUFDUCxVQUFNLElBQUksU0FBUyxjQUFjLEtBQUssYUFBYSxHQUFHO0FBQ3RELFdBQU8sRUFBRSxZQUFZLEtBQUssTUFBTSxRQUFRLElBQUksRUFBRSxVQUFVLElBQUksS0FBSyxLQUFLLE9BQU8sR0FBRyxFQUFFLGtCQUFrQixLQUFLLFdBQVcsVUFBVSxRQUFRLEVBQUUsUUFBUSxjQUFjLEtBQUssSUFBSSxLQUFLLEVBQUUsS0FBSyxVQUFVLGVBQWUsRUFBRSxHQUFHO0FBQUEsRUFDbk47QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGVBQWU7QUFDakIsUUFBSSxJQUFJLEtBQUssT0FBTyxLQUFLLENBQUMsTUFBTSxFQUFFLFdBQVcsS0FBSyxNQUFNLEtBQUs7QUFDN0QsV0FBTyxNQUFNLElBQUksS0FBSyxlQUFlO0FBQUEsRUFDdkM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGVBQWU7QUFDakIsUUFBSSxLQUFLLFVBQVUsY0FBYztBQUMvQixZQUFNLElBQUksS0FBSyxPQUFPLEtBQUssQ0FBQyxNQUFNLEVBQUUsV0FBVyxLQUFLLFVBQVUsWUFBWTtBQUMxRSxVQUFJO0FBQ0YsZUFBTztBQUNULGNBQVEsS0FBSywyR0FBdUY7QUFBQSxJQUN0RztBQUNBLFdBQU8sS0FBSyxPQUFPLENBQUM7QUFBQSxFQUN0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVlBLElBQUksU0FBUztBQUNYLFVBQU0sSUFBSTtBQUFBLE1BQ1I7QUFBQSxRQUNFLFFBQVE7QUFBQSxRQUNSLEtBQUs7QUFBQSxRQUNMLEtBQUtKO0FBQUEsTUFDUDtBQUFBLE1BQ0E7QUFBQSxRQUNFLFFBQVE7QUFBQSxRQUNSLEtBQUs7QUFBQSxRQUNMLEtBQUs7QUFBQSxNQUNQO0FBQUEsTUFDQTtBQUFBLFFBQ0UsUUFBUTtBQUFBLFFBQ1IsS0FBSztBQUFBLFFBQ0wsS0FBS0M7QUFBQSxNQUNQO0FBQUEsTUFDQTtBQUFBLFFBQ0UsUUFBUTtBQUFBLFFBQ1IsS0FBSztBQUFBLFFBQ0wsS0FBSztBQUFBLE1BQ1A7QUFBQSxNQUNBO0FBQUEsUUFDRSxRQUFRO0FBQUEsUUFDUixLQUFLO0FBQUEsUUFDTCxLQUFLQztBQUFBLE1BQ1A7QUFBQSxNQUNBO0FBQUEsUUFDRSxRQUFRO0FBQUEsUUFDUixLQUFLO0FBQUEsUUFDTCxLQUFLO0FBQUEsTUFDUDtBQUFBLElBQ0Y7QUFDQSxXQUFPLEtBQUssVUFBVSxTQUFTLEVBQUU7QUFBQSxNQUMvQixDQUFDLE1BQU0sS0FBSyxVQUFVLE9BQU8sU0FBUyxFQUFFLE1BQU07QUFBQSxJQUNoRCxJQUFJO0FBQUEsRUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFFBQVEsR0FBRztBQUNULFVBQU0sSUFBSSxFQUFFO0FBQ1osUUFBSSxVQUFVLEdBQUc7QUFDZixZQUFNQyxLQUFJLEVBQUU7QUFDWixVQUFJQyxLQUFJLEtBQUssYUFBYTtBQUMxQixjQUFRRCxHQUFFLFNBQVM7QUFBQSxRQUNqQixLQUFLO0FBQ0gsVUFBQUMsS0FBSTtBQUNKO0FBQUEsUUFDRixLQUFLO0FBQ0gsVUFBQUEsS0FBSTtBQUNKO0FBQUEsUUFDRixLQUFLO0FBQ0gsVUFBQUEsS0FBSTtBQUNKO0FBQUEsUUFDRixLQUFLO0FBQ0gsVUFBQUEsS0FBSTtBQUNKO0FBQUEsUUFDRixLQUFLO0FBQ0gsVUFBQUEsS0FBSTtBQUNKO0FBQUEsUUFDRixLQUFLO0FBQ0gsVUFBQUEsS0FBSTtBQUNKO0FBQUEsTUFDSjtBQUNBLFdBQUssVUFBVSxXQUFXQSxLQUFJLEtBQUssVUFBVSxPQUFPLE9BQU8sQ0FBQ0wsSUFBRyxNQUFNLEtBQUssSUFBSSxJQUFJSyxFQUFDLElBQUksS0FBSyxJQUFJTCxLQUFJSyxFQUFDLElBQUksSUFBSUwsRUFBQyxJQUFJLEtBQUssT0FBTztBQUFBLFFBQzVILE9BQU9LO0FBQUEsUUFDUCxNQUFNRCxHQUFFO0FBQUEsTUFDVjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLGNBQWM7QUFDdkIsV0FBTztBQUFBLE1BQ0wsTUFBTSxDQUFDLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxJQUFJO0FBQUEsSUFDM0M7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLFdBQVcsVUFBVTtBQUNuQixXQUFPO0FBQUEsTUFDTCxNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsSUFDVDtBQUFBLEVBQ0Y7QUFDRjs7O0FDL1NBLHVCQUFzQjs7O0NDSnJCLFdBQVU7QUFBQztBQUFhLE1BQUc7QUFBQyxRQUFHLE9BQU8sV0FBUyxLQUFJO0FBQUMsVUFBSSxJQUFFLFNBQVMsY0FBYyxPQUFPO0FBQUUsUUFBRSxZQUFZLFNBQVMsZUFBZSwwUUFBMFEsQ0FBQyxHQUFFLFNBQVMsS0FBSyxZQUFZLENBQUM7QUFBQSxJQUFDO0FBQUEsRUFBQyxTQUFPRSxJQUFFO0FBQUMsWUFBUSxNQUFNLGtDQUFpQ0EsRUFBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQzFlLFNBQVNDLEdBQUVDLElBQUcsR0FBRztBQUNmLE1BQUlDLEtBQUk7QUFDUixTQUFPQSxPQUFNO0FBQUEsS0FDVixJQUFJO0FBQ0wsUUFBSSxJQUFJLEdBQUdBLEtBQUlELEdBQUUsT0FBTyxHQUFHLENBQUM7QUFDOUIsU0FBT0MsT0FBTTtBQUFBLE1BQ1QsS0FBSyxJQUFJO0FBQ2Y7QUFDQSxJQUFNQyxLQUFJO0FBTVYsSUFBTUMsS0FBTixNQUFNLEdBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS04sV0FBVyxzQkFBc0I7QUFDL0IsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLG1CQUFtQjtBQUM1QixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVNBLFlBQVksRUFBRSxNQUFNLEdBQUcsUUFBUSxHQUFHLEtBQUtGLElBQUcsVUFBVUcsR0FBRSxHQUFHO0FBQ3ZELFNBQUssTUFBTUgsSUFBRyxLQUFLLFdBQVdHLElBQUcsS0FBSyxjQUFjLEtBQUssSUFBSSxLQUFLLEVBQUUsRUFBRSxlQUFlLEdBQUUsbUJBQW1CLEdBQUcsS0FBSyxNQUFNO0FBQUEsTUFDdEgsV0FBVyxLQUFLLElBQUksT0FBTztBQUFBLE1BQzNCLE9BQU8sS0FBSyxJQUFJLE9BQU87QUFBQSxNQUN2QixTQUFTO0FBQUEsTUFDVCxVQUFVO0FBQUEsSUFDWixHQUFHLEtBQUssUUFBUTtBQUFBLE1BQ2QsUUFBUTtBQUFBLE1BQ1IsVUFBVTtBQUFBLElBQ1osR0FBRyxLQUFLLE9BQU87QUFBQSxNQUNiLE1BQU0sRUFBRSxRQUFRO0FBQUEsSUFDbEIsR0FBRyxLQUFLLE1BQU0sU0FBUyxLQUFLLFNBQVM7QUFBQSxFQUN2QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxTQUFTO0FBQ1AsV0FBTyxLQUFLLE1BQU07QUFBQSxFQUNwQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLEtBQUssR0FBRztBQUNOLFdBQU87QUFBQSxNQUNMLE1BQU0sRUFBRSxjQUFjLFVBQVUsRUFBRTtBQUFBLElBQ3BDO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxRQUFRLEdBQUc7QUFDVCxVQUFNLElBQUksRUFBRTtBQUNaLFFBQUksVUFBVSxHQUFHO0FBQ2YsWUFBTUgsS0FBSSxFQUFFO0FBQ1osV0FBSyxPQUFPO0FBQUEsUUFDVixNQUFNQSxNQUFLO0FBQUEsTUFDYjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLElBQUksT0FBTztBQUNULFdBQU8sS0FBSztBQUFBLEVBQ2Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsSUFBSSxLQUFLLEdBQUc7QUFDVixTQUFLLFFBQVEsR0FBRyxLQUFLLE1BQU0sYUFBYSxLQUFLLE1BQU0sU0FBUyxjQUFjLEVBQUU7QUFBQSxFQUM5RTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxXQUFXLFVBQVU7QUFDbkIsV0FBTztBQUFBLE1BQ0wsTUFBTUM7QUFBQSxNQUNOLE9BQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxXQUFXLHNCQUFzQjtBQUMvQixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsY0FBYztBQUN2QixXQUFPO0FBQUEsTUFDTCxNQUFNLENBQUMsS0FBSztBQUFBLElBQ2Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLFdBQVcsV0FBVztBQUNwQixXQUFPO0FBQUEsTUFDTCxNQUFNO0FBQUE7QUFBQSxJQUVSO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxXQUFXLEdBQUc7QUFDWixNQUFFLGdCQUFnQixHQUFHLEVBQUUsZUFBZTtBQUN0QyxVQUFNLElBQUksRUFBRSxRQUFRRCxLQUFJLEVBQUUsVUFBVUcsS0FBSSxFQUFFLGdCQUFnQkMsS0FBSSxFQUFFLE9BQU9DLEtBQUk7QUFDM0UsUUFBSTtBQUNKLFFBQUksQ0FBQ0w7QUFDSCxVQUFJRyxLQUFJRSxHQUFFLFFBQVEsRUFBRSxRQUFRRCxHQUFFLFVBQVUsR0FBR0QsRUFBQyxJQUFJRSxLQUFJRCxHQUFFLFVBQVVELEVBQUM7QUFBQSxTQUM5RDtBQUNILFlBQU1OLEtBQUlDLEdBQUVNLElBQUdELEVBQUM7QUFDaEIsVUFBSUMsR0FBRSxPQUFPUCxJQUFHUSxHQUFFLE1BQU0sTUFBTUE7QUFDNUI7QUFDRixRQUFFLFFBQVFELEdBQUUsVUFBVSxHQUFHUCxFQUFDLElBQUlPLEdBQUUsVUFBVVAsS0FBSVEsR0FBRSxNQUFNLEdBQUcsSUFBSUYsS0FBSUUsR0FBRTtBQUFBLElBQ3JFO0FBQ0EsTUFBRSxrQkFBa0IsR0FBRyxDQUFDO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsV0FBVztBQUNULFVBQU0sSUFBSSxTQUFTLGNBQWMsS0FBSyxHQUFHLElBQUksU0FBUyxjQUFjLFVBQVU7QUFDOUUsV0FBTyxFQUFFLFVBQVUsSUFBSSxLQUFLLElBQUksV0FBVyxLQUFLLElBQUksT0FBTyxHQUFHLEVBQUUsVUFBVSxJQUFJLEtBQUssSUFBSSxVQUFVLEtBQUssSUFBSSxLQUFLLEdBQUcsRUFBRSxjQUFjLEtBQUssS0FBSyxNQUFNLEVBQUUsY0FBYyxLQUFLLGFBQWEsS0FBSyxhQUFhLEVBQUUsV0FBVyxPQUFLLEVBQUUsWUFBWSxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsV0FBVyxDQUFDTCxPQUFNO0FBQzdRLGNBQVFBLEdBQUUsTUFBTTtBQUFBLFFBQ2QsS0FBSztBQUNILGVBQUssV0FBV0EsRUFBQztBQUNqQjtBQUFBLE1BQ0o7QUFBQSxJQUNGLENBQUMsR0FBRyxLQUFLLE1BQU0sV0FBVyxHQUFHO0FBQUEsRUFDL0I7QUFDRjs7O0NDeEtDLFdBQVU7QUFBQztBQUFhLE1BQUc7QUFBQyxRQUFHLE9BQU8sV0FBUyxLQUFJO0FBQUMsVUFBSSxJQUFFLFNBQVMsY0FBYyxPQUFPO0FBQUUsUUFBRSxZQUFZLFNBQVMsZUFBZSxxTEFBcUwsQ0FBQyxHQUFFLFNBQVMsS0FBSyxZQUFZLENBQUM7QUFBQSxJQUFDO0FBQUEsRUFBQyxTQUFPTSxJQUFFO0FBQUMsWUFBUSxNQUFNLGtDQUFpQ0EsRUFBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQ3JaLElBQU1DLEtBQUk7QUFDVixJQUFNLElBQU4sTUFBTSxHQUFFO0FBQUEsRUFDTixZQUFZLEVBQUUsS0FBSyxFQUFFLEdBQUc7QUFDdEIsU0FBSyxNQUFNLFFBQVEsS0FBSyxNQUFNLEdBQUcsS0FBSyxTQUFTLE1BQU0sS0FBSyxjQUFjO0FBQUEsTUFDdEUsTUFBTSxLQUFLLElBQUksT0FBTztBQUFBLE1BQ3RCLFFBQVEsS0FBSyxJQUFJLE9BQU87QUFBQSxJQUMxQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLE1BQU07QUFDZixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsV0FBVztBQUNwQixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFNBQVM7QUFDUCxXQUFPLEtBQUssU0FBUyxTQUFTLGNBQWMsUUFBUSxHQUFHLEtBQUssT0FBTyxPQUFPLFVBQVUsS0FBSyxPQUFPLFVBQVUsSUFBSSxLQUFLLFlBQVksSUFBSSxHQUFHLEtBQUssT0FBTyxZQUFZLEtBQUssYUFBYSxLQUFLO0FBQUEsRUFDdkw7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTLEdBQUc7QUFDVixRQUFJLENBQUM7QUFDSDtBQUNGLFFBQUksSUFBSSxLQUFLLElBQUksVUFBVSxjQUFjLEtBQUssS0FBSyxHQUFFLEdBQUc7QUFDeEQsUUFBSSxLQUFLLE9BQU8sQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO0FBQUEsRUFDbEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxLQUFLLEdBQUc7QUFDTixRQUFJLElBQUksU0FBUyxjQUFjLEtBQUssR0FBRztBQUN2QyxNQUFFLFVBQVUsSUFBSSxHQUFFLEdBQUcsR0FBRyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLEdBQUcsS0FBSyxJQUFJLFVBQVUsWUFBWSxDQUFDO0FBQUEsRUFDL0c7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxPQUFPLEdBQUc7QUFDUixRQUFJO0FBQ0osU0FBSyxJQUFJLFVBQVUsWUFBWSxDQUFDO0FBQ2hDLFVBQU0sSUFBSSxPQUFPLGFBQWE7QUFDOUIsUUFBSSxDQUFDO0FBQ0g7QUFDRixVQUFNRCxLQUFJLEVBQUUsV0FBVyxDQUFDLEdBQUdFLEtBQUlGLEdBQUUsZ0JBQWdCO0FBQ2pELEtBQUMsSUFBSSxFQUFFLGVBQWUsUUFBUSxFQUFFLFlBQVksQ0FBQyxHQUFHQSxHQUFFLFdBQVdFLEVBQUMsR0FBRyxFQUFFLGdCQUFnQixHQUFHLEVBQUUsU0FBU0YsRUFBQztBQUFBLEVBQ3BHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsYUFBYTtBQUNYLFVBQU0sSUFBSSxLQUFLLElBQUksVUFBVSxjQUFjLEtBQUssS0FBSyxHQUFFLEdBQUc7QUFDMUQsV0FBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLFVBQVUsT0FBTyxLQUFLLFlBQVksUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUFBLEVBQ3RGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtBLElBQUksY0FBYztBQUNoQixXQUFPQztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsV0FBVyxXQUFXO0FBQ3BCLFdBQU87QUFBQSxNQUNMLE1BQU07QUFBQSxRQUNKLE9BQU8sR0FBRTtBQUFBLE1BQ1g7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUNGOzs7Q0M5RkMsV0FBVTtBQUFDO0FBQWEsTUFBRztBQUFDLFFBQUcsT0FBTyxXQUFTLEtBQUk7QUFBQyxVQUFJLElBQUUsU0FBUyxjQUFjLE9BQU87QUFBRSxRQUFFLFlBQVksU0FBUyxlQUFlLDRmQUE0ZixDQUFDLEdBQUUsU0FBUyxLQUFLLFlBQVksQ0FBQztBQUFBLElBQUM7QUFBQSxFQUFDLFNBQU8sR0FBRTtBQUFDLFlBQVEsTUFBTSxrQ0FBaUMsQ0FBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQzV0QixJQUFNRSxNQUFLO0FBQVgsSUFBOFcsS0FBSztBQUFuWCxJQUFzdEJDLE1BQUs7QUFDM3RCLElBQUlDLEtBQUksT0FBTyxhQUFhLE1BQU0sYUFBYSxPQUFPLFNBQVMsTUFBTSxTQUFTLE9BQU8sU0FBUyxNQUFNLFNBQVMsT0FBTyxPQUFPLE1BQU0sT0FBTyxDQUFDO0FBQ3pJLFNBQVNDLElBQUcsR0FBRztBQUNiLE1BQUksRUFBRTtBQUNKLFdBQU87QUFDVCxNQUFJLElBQUksRUFBRTtBQUNWLE1BQUksT0FBTyxLQUFLLFlBQVk7QUFDMUIsUUFBSUMsS0FBSSxTQUFTQyxLQUFJO0FBQ25CLGFBQU8sZ0JBQWdCQSxLQUFJLFFBQVEsVUFBVSxHQUFHLFdBQVcsS0FBSyxXQUFXLElBQUksRUFBRSxNQUFNLE1BQU0sU0FBUztBQUFBLElBQ3hHO0FBQ0EsSUFBQUQsR0FBRSxZQUFZLEVBQUU7QUFBQSxFQUNsQjtBQUNFLElBQUFBLEtBQUksQ0FBQztBQUNQLFNBQU8sT0FBTyxlQUFlQSxJQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQyxHQUFHLE9BQU8sS0FBSyxDQUFDLEVBQUUsUUFBUSxTQUFTQyxJQUFHO0FBQy9GLFFBQUksSUFBSSxPQUFPLHlCQUF5QixHQUFHQSxFQUFDO0FBQzVDLFdBQU8sZUFBZUQsSUFBR0MsSUFBRyxFQUFFLE1BQU0sSUFBSTtBQUFBLE1BQ3RDLFlBQVk7QUFBQSxNQUNaLEtBQUssV0FBVztBQUNkLGVBQU8sRUFBRUEsRUFBQztBQUFBLE1BQ1o7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNILENBQUMsR0FBR0Q7QUFDTjtBQUNBLElBQUlFLEtBQUksQ0FBQztBQUFULElBQVlDLEtBQUksQ0FBQztBQUFqQixJQUFvQixJQUFJLENBQUM7QUFDekIsT0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BELEVBQUUsb0JBQW9CQztBQUN0QixTQUFTQSxNQUFLO0FBQ1osTUFBSSxJQUFJLENBQUMsUUFBUSxZQUFZLFNBQVMsVUFBVSxVQUFVLE9BQU8sS0FBSztBQUN0RSxTQUFPLDBEQUEwRCxFQUFFLElBQUksU0FBUyxHQUFHO0FBQ2pGLFdBQU8sZUFBZSxPQUFPLEdBQUcsSUFBSTtBQUFBLEVBQ3RDLENBQUMsRUFBRSxLQUFLLElBQUk7QUFDZDtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxvQkFBb0I7QUFDN0UsTUFBSSxJQUFJO0FBQ1IsU0FBTyxlQUFlLEdBQUcscUJBQXFCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUM5RSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUdELEVBQUM7QUFDSixJQUFJRSxLQUFJLENBQUM7QUFBVCxJQUFZLElBQUksQ0FBQztBQUNqQixPQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcEQsRUFBRSxnQkFBZ0JDO0FBQ2xCLFNBQVNBLElBQUcsR0FBRztBQUNiLE1BQUksSUFBSTtBQUFBLElBQ047QUFBQSxJQUNBO0FBQUEsRUFDRjtBQUNBLFNBQU8sS0FBSyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsT0FBTyxJQUFJO0FBQ2xEO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLGdCQUFnQjtBQUN6RSxNQUFJLElBQUk7QUFDUixTQUFPLGVBQWUsR0FBRyxpQkFBaUIsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQzFFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBR0QsRUFBQztBQUNKLElBQUksS0FBSyxDQUFDO0FBQVYsSUFBYUUsS0FBSSxDQUFDO0FBQ2xCLE9BQU8sZUFBZUEsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsU0FBU0M7QUFDWCxTQUFTQSxJQUFHLEdBQUcsR0FBRztBQUNoQixRQUFNLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxTQUFTUixJQUFHO0FBQ3ZDLE1BQUUsWUFBWUEsRUFBQztBQUFBLEVBQ2pCLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQztBQUN0QjtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTO0FBQ2xFLE1BQUksSUFBSU87QUFDUixTQUFPLGVBQWUsR0FBRyxVQUFVLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUNuRSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUcsRUFBRTtBQUNMLElBQUksSUFBSSxDQUFDO0FBQVQsSUFBWUUsS0FBSSxDQUFDO0FBQ2pCLE9BQU8sZUFBZUEsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsZ0JBQWdCQztBQUNsQixTQUFTQSxNQUFLO0FBQ1osU0FBTztBQUFBLElBQ0w7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0Y7QUFDRjtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxnQkFBZ0I7QUFDekUsTUFBSSxJQUFJRDtBQUNSLFNBQU8sZUFBZSxHQUFHLGlCQUFpQixFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDMUUsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHLENBQUM7QUFDSixJQUFJRSxNQUFLLENBQUM7QUFBVixJQUFhLElBQUksQ0FBQztBQUNsQixPQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcEQsRUFBRSxvQkFBb0JDO0FBQ3RCLFNBQVNBLElBQUcsR0FBRztBQUNiLE1BQUksSUFBSSxPQUFPLGlCQUFpQixDQUFDLEdBQUdaLEtBQUksV0FBVyxFQUFFLFFBQVEsR0FBR0MsS0FBSSxXQUFXLEVBQUUsVUFBVSxLQUFLRCxLQUFJLEtBQUssSUFBSSxXQUFXLEVBQUUsVUFBVSxHQUFHYSxLQUFJLFdBQVcsRUFBRSxjQUFjLEdBQUdDLEtBQUksV0FBVyxFQUFFLFNBQVMsR0FBR0MsS0FBSWYsS0FBSSxLQUFLZ0IsTUFBS2YsS0FBSUQsTUFBSyxHQUFHaUIsS0FBSUgsS0FBSUQsS0FBSSxJQUFJRyxLQUFJRDtBQUN4UCxTQUFPRTtBQUNUO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLG9CQUFvQjtBQUM3RSxNQUFJLElBQUk7QUFDUixTQUFPLGVBQWUsR0FBRyxxQkFBcUIsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQzlFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBR04sR0FBRTtBQUNMLElBQUlPLE1BQUssQ0FBQztBQUFWLElBQWEsSUFBSSxDQUFDO0FBQWxCLElBQXFCQyxLQUFJLENBQUM7QUFBMUIsSUFBNkJDLEtBQUksQ0FBQztBQUNsQyxPQUFPLGVBQWVBLElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BEQSxHQUFFLG9CQUFvQkM7QUFDdEIsU0FBU0EsSUFBRyxHQUFHO0FBQ2IsU0FBTyxFQUFFLG9CQUFvQjtBQUMvQjtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxvQkFBb0I7QUFDN0UsTUFBSSxJQUFJRDtBQUNSLFNBQU8sZUFBZSxHQUFHLHFCQUFxQixFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDOUUsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHRCxFQUFDO0FBQ0osT0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BELEVBQUUsY0FBY0c7QUFDaEIsSUFBSUMsTUFBS2xCO0FBQVQsSUFBWW1CLE1BQUtMO0FBQ2pCLFNBQVNHLElBQUcsR0FBRztBQUNiLE1BQUksSUFBSTtBQUNSLE9BQUssR0FBR0MsSUFBRyxlQUFlLENBQUM7QUFDekIsWUFBUSxFQUFFLE1BQU07QUFBQSxNQUNkLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLEtBQUs7QUFDSCxZQUFJO0FBQ0o7QUFBQSxJQUNKO0FBQUE7QUFFQSxTQUFLLEdBQUdDLElBQUcsbUJBQW1CLENBQUM7QUFDakMsU0FBTztBQUNUO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLGNBQWM7QUFDdkUsTUFBSSxJQUFJO0FBQ1IsU0FBTyxlQUFlLEdBQUcsZUFBZSxFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDeEUsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHTixHQUFFO0FBQ0wsSUFBSU8sS0FBSSxDQUFDO0FBQVQsSUFBWUMsS0FBSSxDQUFDO0FBQ2pCLFNBQVNDLElBQUcsR0FBRyxHQUFHM0IsSUFBRztBQUNuQixRQUFNQyxLQUFJRCxHQUFFLFVBQVUsU0FBUyxVQUFVLE9BQU8sSUFBSUEsR0FBRUMsRUFBQyxHQUFHWSxLQUFJLElBQUksQ0FBQztBQUNuRSxNQUFJYixHQUFFQyxFQUFDLElBQUksWUFBWWEsSUFBRztBQUN4QixXQUFPLEtBQUtELEVBQUMsTUFBTSxXQUFXLEtBQUtBLEVBQUMsSUFBSSxFQUFFLE1BQU0sTUFBTUMsRUFBQyxJQUFJLEtBQUtELEVBQUM7QUFBQSxFQUNuRSxHQUFHWixPQUFNLFNBQVNELEdBQUUsS0FBSztBQUN2QixVQUFNYyxLQUFJZCxHQUFFO0FBQ1osSUFBQUEsR0FBRSxNQUFNLFNBQVNlLElBQUc7QUFDbEIsYUFBTyxFQUFFRixFQUFDLEdBQUdDLEdBQUUsTUFBTSxNQUFNQyxFQUFDO0FBQUEsSUFDOUI7QUFBQSxFQUNGO0FBQ0EsU0FBT2Y7QUFDVDtBQUNBLFNBQVM0QixNQUFLO0FBQ1osUUFBTSxJQUFJO0FBQUEsSUFDUixLQUFLO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxPQUFPO0FBQUEsRUFDVCxHQUFHLElBQUksT0FBTyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUM1QixPQUFNLE9BQU8sVUFBVSxXQUFXLFlBQVksRUFBRSxRQUFRQSxFQUFDLE1BQU0sRUFBRTtBQUM3RixTQUFPLE1BQU0sV0FBVyxFQUFFLENBQUMsSUFBSSxPQUFLO0FBQ3RDO0FBQ0EsU0FBUzZCLEdBQUUsR0FBRztBQUNaLFNBQU8sS0FBSyxRQUFRLE1BQU0sT0FBTyxPQUFPLEtBQUssWUFBWSxPQUFPLEtBQUssQ0FBQyxFQUFFLFNBQVM7QUFDbkY7QUFDQSxTQUFTQyxJQUFHLEdBQUc7QUFDYixTQUFPLENBQUNELEdBQUUsQ0FBQztBQUNiO0FBQ0EsSUFBTUUsTUFBSyxNQUFNLE9BQU8sU0FBUyxPQUFPLE9BQU8sY0FBYyxRQUFRRixHQUFFLE9BQU8sVUFBVSxRQUFRLE1BQU0saUJBQWlCLEtBQUssT0FBTyxVQUFVLFFBQVEsS0FBSyxPQUFPLFVBQVUsYUFBYSxjQUFjLE9BQU8sVUFBVSxpQkFBaUI7QUFDeE8sU0FBU0csSUFBRyxHQUFHO0FBQ2IsUUFBTSxJQUFJSixJQUFHO0FBQ2IsU0FBTyxJQUFJLEVBQUUsUUFBUSxXQUFXLFFBQUcsRUFBRSxRQUFRLGVBQWUsUUFBRyxFQUFFLFFBQVEsV0FBVyxRQUFHLEVBQUUsUUFBUSxRQUFRLFFBQUcsRUFBRSxRQUFRLFVBQVUsUUFBRyxFQUFFLFFBQVEsVUFBVSxRQUFHLEVBQUUsUUFBUSxXQUFXLFFBQUcsRUFBRSxRQUFRLFlBQVksUUFBRyxFQUFFLFFBQVEsWUFBWSxLQUFLLEVBQUUsUUFBUSxZQUFZLFFBQUcsRUFBRSxRQUFRLFFBQVEsR0FBRyxHQUFHLEVBQUUsTUFBTSxJQUFJLEVBQUUsUUFBUSxjQUFjLFFBQUcsRUFBRSxRQUFRLFNBQVMsUUFBRyxJQUFJLElBQUksRUFBRSxRQUFRLFNBQVMsTUFBTSxFQUFFLFFBQVEsYUFBYSxLQUFLLEdBQUc7QUFDdFo7QUFDQSxTQUFTSyxJQUFHLEdBQUc7QUFDYixTQUFPLEVBQUUsQ0FBQyxFQUFFLFlBQVksSUFBSSxFQUFFLE1BQU0sQ0FBQztBQUN2QztBQUNBLFNBQVNDLElBQUcsR0FBRztBQUNiLFFBQU0sSUFBSSxTQUFTLGNBQWMsS0FBSztBQUN0QyxJQUFFLE1BQU0sV0FBVyxZQUFZLEVBQUUsTUFBTSxPQUFPLFVBQVUsRUFBRSxNQUFNLFNBQVMsVUFBVSxFQUFFLFlBQVksR0FBRyxTQUFTLEtBQUssWUFBWSxDQUFDO0FBQy9ILFFBQU1sQyxLQUFJLE9BQU8sYUFBYSxHQUFHQyxLQUFJLFNBQVMsWUFBWTtBQUMxRCxNQUFJQSxHQUFFLFdBQVcsQ0FBQyxHQUFHRCxPQUFNO0FBQ3pCLFVBQU0sSUFBSSxNQUFNLCtCQUErQjtBQUNqRCxFQUFBQSxHQUFFLGdCQUFnQixHQUFHQSxHQUFFLFNBQVNDLEVBQUMsR0FBRyxTQUFTLFlBQVksTUFBTSxHQUFHLFNBQVMsS0FBSyxZQUFZLENBQUM7QUFDL0Y7QUFDQSxTQUFTa0MsSUFBRyxHQUFHLEdBQUduQyxJQUFHO0FBQ25CLE1BQUlDO0FBQ0osU0FBTyxJQUFJLE1BQU07QUFDZixVQUFNWSxLQUFJLE1BQU1DLEtBQUksTUFBTTtBQUN4QixNQUFBYixLQUFJLFFBQVFELE9BQU0sUUFBTSxFQUFFLE1BQU1hLElBQUcsQ0FBQztBQUFBLElBQ3RDLEdBQUdFLEtBQUlmLE9BQU0sUUFBTUMsT0FBTTtBQUN6QixXQUFPLGFBQWFBLEVBQUMsR0FBR0EsS0FBSSxPQUFPLFdBQVdhLElBQUcsQ0FBQyxHQUFHQyxNQUFLLEVBQUUsTUFBTUYsSUFBRyxDQUFDO0FBQUEsRUFDeEU7QUFDRjtBQUNBLFNBQVN1QixHQUFFLEdBQUc7QUFDWixTQUFPLE9BQU8sVUFBVSxTQUFTLEtBQUssQ0FBQyxFQUFFLE1BQU0sZUFBZSxFQUFFLENBQUMsRUFBRSxZQUFZO0FBQ2pGO0FBQ0EsU0FBU0MsSUFBRyxHQUFHO0FBQ2IsU0FBT0QsR0FBRSxDQUFDLE1BQU07QUFDbEI7QUFDQSxTQUFTLEdBQUcsR0FBRztBQUNiLFNBQU9BLEdBQUUsQ0FBQyxNQUFNLGNBQWNBLEdBQUUsQ0FBQyxNQUFNO0FBQ3pDO0FBQ0EsU0FBU0UsSUFBRyxHQUFHO0FBQ2IsU0FBTyxHQUFHLENBQUMsS0FBSyxlQUFlLEtBQUssRUFBRSxTQUFTLENBQUM7QUFDbEQ7QUFDQSxTQUFTQyxJQUFHLEdBQUc7QUFDYixTQUFPSCxHQUFFLENBQUMsTUFBTTtBQUNsQjtBQUNBLFNBQVNJLEdBQUUsR0FBRztBQUNaLFNBQU9KLEdBQUUsQ0FBQyxNQUFNO0FBQ2xCO0FBQ0EsU0FBU0ssSUFBRyxHQUFHO0FBQ2IsU0FBTyxRQUFRLFFBQVEsQ0FBQyxNQUFNO0FBQ2hDO0FBQ0EsU0FBU0MsSUFBRyxHQUFHO0FBQ2IsU0FBT04sR0FBRSxDQUFDLE1BQU07QUFDbEI7QUFDQSxTQUFTTyxJQUFHLEdBQUc7QUFDYixTQUFPUCxHQUFFLENBQUMsTUFBTTtBQUNsQjtBQUNBLFNBQVNRLEdBQUUsTUFBTSxHQUFHO0FBQ2xCLE1BQUksQ0FBQyxFQUFFO0FBQ0wsV0FBTztBQUNULFFBQU01QyxLQUFJLEVBQUUsTUFBTTtBQUNsQixNQUFJd0MsR0FBRSxDQUFDLEtBQUtBLEdBQUV4QyxFQUFDO0FBQ2IsZUFBV0MsTUFBS0Q7QUFDZCxNQUFBd0MsR0FBRXhDLEdBQUVDLEVBQUMsQ0FBQyxLQUFLLEVBQUVBLEVBQUMsTUFBTSxVQUFVLE9BQU8sT0FBTyxHQUFHLEVBQUUsQ0FBQ0EsRUFBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcyQyxHQUFFLEVBQUUzQyxFQUFDLEdBQUdELEdBQUVDLEVBQUMsQ0FBQyxLQUFLLE9BQU8sT0FBTyxHQUFHLEVBQUUsQ0FBQ0EsRUFBQyxHQUFHRCxHQUFFQyxFQUFDLEVBQUUsQ0FBQztBQUNoSCxTQUFPMkMsR0FBRSxHQUFHLEdBQUcsQ0FBQztBQUNsQjtBQUNBLFNBQVNDLElBQUcsR0FBRyxHQUFHN0MsSUFBRztBQUNuQixRQUFNQyxLQUFJLE9BQUksQ0FBQyx3RkFBa0ZELEVBQUM7QUFDbEcsT0FBSyxRQUFRLEtBQUtDLEVBQUM7QUFDckI7QUFDQSxTQUFTNkMsSUFBRyxHQUFHO0FBQ2IsTUFBSTtBQUNGLFdBQU8sSUFBSSxJQUFJLENBQUMsRUFBRTtBQUFBLEVBQ3BCLFFBQVE7QUFBQSxFQUNSO0FBQ0EsU0FBTyxFQUFFLFVBQVUsR0FBRyxDQUFDLE1BQU0sT0FBTyxPQUFPLFNBQVMsV0FBVyxJQUFJLE9BQU8sU0FBUyxTQUFTO0FBQzlGO0FBQ0EsU0FBU0MsSUFBRyxHQUFHO0FBQ2IsU0FBTyxJQUFJLE1BQU0sSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxJQUFJO0FBQ2hKO0FBQ0EsSUFBTUMsTUFBSztBQUFBLEVBQ1QsV0FBVztBQUFBLEVBQ1gsS0FBSztBQUFBLEVBQ0wsT0FBTztBQUFBLEVBQ1AsT0FBTztBQUFBLEVBQ1AsTUFBTTtBQUFBLEVBQ04sS0FBSztBQUFBLEVBQ0wsS0FBSztBQUFBLEVBQ0wsT0FBTztBQUFBLEVBQ1AsTUFBTTtBQUFBLEVBQ04sSUFBSTtBQUFBLEVBQ0osTUFBTTtBQUFBLEVBQ04sT0FBTztBQUFBLEVBQ1AsUUFBUTtBQUFBLEVBQ1IsTUFBTTtBQUFBLEVBQ04sT0FBTztBQUNUO0FBaEJBLElBZ0JHQyxNQUFLO0FBQUEsRUFDTixNQUFNO0FBQUEsRUFDTixPQUFPO0FBQUEsRUFDUCxPQUFPO0FBQUEsRUFDUCxVQUFVO0FBQUEsRUFDVixTQUFTO0FBQ1g7QUFDQSxJQUFNQyxNQUFOLE1BQVM7QUFBQSxFQUNQLGNBQWM7QUFDWixTQUFLLFlBQVksUUFBUSxRQUFRO0FBQUEsRUFDbkM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS0EsSUFBSSxHQUFHO0FBQ0wsV0FBTyxJQUFJLFFBQVEsQ0FBQ2xELElBQUdDLE9BQU07QUFDM0IsV0FBSyxZQUFZLEtBQUssVUFBVSxLQUFLLENBQUMsRUFBRSxLQUFLRCxFQUFDLEVBQUUsTUFBTUMsRUFBQztBQUFBLElBQ3pELENBQUM7QUFBQSxFQUNIO0FBQ0Y7QUFDQSxTQUFTa0QsSUFBRyxHQUFHLEdBQUduRCxLQUFJLFFBQVE7QUFDNUIsTUFBSUMsSUFBRyxHQUFHWSxJQUFHQyxLQUFJLE1BQU1DLEtBQUk7QUFDM0IsRUFBQWYsT0FBTUEsS0FBSSxDQUFDO0FBQ1gsUUFBTWdCLEtBQUksV0FBVztBQUNuQixJQUFBRCxLQUFJZixHQUFFLFlBQVksUUFBSyxJQUFJLEtBQUssSUFBSSxHQUFHYyxLQUFJLE1BQU1ELEtBQUksRUFBRSxNQUFNWixJQUFHLENBQUMsR0FBR2EsT0FBTSxTQUFTYixLQUFJLElBQUk7QUFBQSxFQUM3RjtBQUNBLFNBQU8sV0FBVztBQUNoQixVQUFNZ0IsS0FBSSxLQUFLLElBQUk7QUFDbkIsS0FBQ0YsTUFBS2YsR0FBRSxZQUFZLFVBQU9lLEtBQUlFO0FBQy9CLFVBQU1tQyxLQUFJLEtBQUtuQyxLQUFJRjtBQUNuQixXQUFPZCxLQUFJLE1BQU0sSUFBSSxXQUFXbUQsTUFBSyxLQUFLQSxLQUFJLEtBQUt0QyxPQUFNLGFBQWFBLEVBQUMsR0FBR0EsS0FBSSxPQUFPQyxLQUFJRSxJQUFHSixLQUFJLEVBQUUsTUFBTVosSUFBRyxDQUFDLEdBQUdhLE9BQU0sU0FBU2IsS0FBSSxJQUFJLFNBQVMsQ0FBQ2EsTUFBS2QsR0FBRSxhQUFhLFVBQU9jLEtBQUksV0FBV0UsSUFBR29DLEVBQUMsSUFBSXZDO0FBQUEsRUFDcE07QUFDRjtBQUNBLElBQU0sS0FBcUIsdUJBQU8sT0FBdUIsdUJBQU8sZUFBZTtBQUFBLEVBQzdFLFdBQVc7QUFBQSxFQUNYLGNBQWNxQztBQUFBLEVBQ2Qsa0JBQWtCbEI7QUFBQSxFQUNsQixXQUFXTDtBQUFBLEVBQ1gsWUFBWU07QUFBQSxFQUNaLHFCQUFxQkM7QUFBQSxFQUNyQixVQUFVQztBQUFBLEVBQ1YsV0FBV1M7QUFBQSxFQUNYLG1CQUFtQkM7QUFBQSxFQUNuQixXQUFXakI7QUFBQSxFQUNYLGFBQWFrQjtBQUFBLEVBQ2IsV0FBV1Q7QUFBQSxFQUNYLFNBQVNDO0FBQUEsRUFDVCxTQUFTUjtBQUFBLEVBQ1QsWUFBWTtBQUFBLEVBQ1osYUFBYUM7QUFBQSxFQUNiLFVBQVVRO0FBQUEsRUFDVixVQUFVQztBQUFBLEVBQ1YsZ0JBQWdCTztBQUFBLEVBQ2hCLFdBQVdOO0FBQUEsRUFDWCxVQUFVQztBQUFBLEVBQ1YsYUFBYUM7QUFBQSxFQUNiLFVBQVVLO0FBQUEsRUFDVixjQUFjQztBQUFBLEVBQ2QsVUFBVXBCO0FBQUEsRUFDVixVQUFVc0I7QUFBQSxFQUNWLFFBQVFmO0FBQ1YsR0FBRyxPQUFPLGFBQWEsRUFBRSxPQUFPLFNBQVMsQ0FBQyxDQUFDO0FBNUIzQyxJQTRCOEMsSUFBb0IsZ0JBQUFyQyxJQUFHLEVBQUU7QUFDdkUsT0FBTyxlQUFlMkIsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsNkJBQTZCMkI7QUFDL0IsSUFBSUMsTUFBSztBQUFULElBQVlDLE1BQUs7QUFDakIsU0FBU0YsSUFBRyxHQUFHO0FBQ2IsTUFBSTtBQUNKLEdBQUMsR0FBR0MsSUFBRyxVQUFVLENBQUMsS0FBSyxJQUFJLFNBQVMsY0FBYyxLQUFLLEdBQUcsRUFBRSxZQUFZLEtBQUssSUFBSTtBQUNqRixNQUFJdEQsS0FBSSxTQUFTQyxJQUFHO0FBQ2xCLFdBQU8sRUFBRSxHQUFHc0QsSUFBRyxlQUFlLEVBQUUsU0FBU3RELEdBQUUsUUFBUSxZQUFZLENBQUMsS0FBSyxNQUFNLEtBQUtBLEdBQUUsUUFBUSxFQUFFLE1BQU1ELEVBQUM7QUFBQSxFQUNyRztBQUNBLFNBQU8sTUFBTSxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU1BLEVBQUM7QUFDdkM7QUFBQSxDQUNDLFNBQVMsR0FBRztBQUNYLFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQyxHQUFHLEVBQUUsNkJBQTZCO0FBQ3RGLE1BQUksSUFBSTBCO0FBQ1IsU0FBTyxlQUFlLEdBQUcsOEJBQThCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUN2RixXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUdELEVBQUM7QUFDSixJQUFJK0IsTUFBSyxDQUFDO0FBQVYsSUFBYUMsS0FBSSxDQUFDO0FBQWxCLElBQXFCQyxLQUFJLENBQUM7QUFBMUIsSUFBNkJDLEtBQUksQ0FBQztBQUNsQyxPQUFPLGVBQWVBLElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BEQSxHQUFFLE9BQU9DO0FBQ1QsU0FBU0EsSUFBRyxHQUFHLEdBQUc1RCxJQUFHO0FBQ25CLE1BQUlDO0FBQ0osUUFBTSxXQUFXLElBQUksT0FBT0QsT0FBTSxXQUFXQSxLQUFJLENBQUM7QUFDbEQsTUFBSSxJQUFJLFNBQVMsY0FBYyxDQUFDO0FBQ2hDLE1BQUksTUFBTSxRQUFRLENBQUMsR0FBRztBQUNwQixRQUFJYSxLQUFJLEVBQUUsT0FBTyxTQUFTRSxJQUFHO0FBQzNCLGFBQU9BLE9BQU07QUFBQSxJQUNmLENBQUM7QUFDRCxLQUFDZCxLQUFJLEVBQUUsV0FBVyxJQUFJLE1BQU1BLElBQUdZLEVBQUM7QUFBQSxFQUNsQztBQUNFLFVBQU0sUUFBUSxFQUFFLFVBQVUsSUFBSSxDQUFDO0FBQ2pDLFdBQVNDLE1BQUtkO0FBQ1osV0FBTyxVQUFVLGVBQWUsS0FBS0EsSUFBR2MsRUFBQyxNQUFNLEVBQUVBLEVBQUMsSUFBSWQsR0FBRWMsRUFBQztBQUMzRCxTQUFPO0FBQ1Q7QUFBQSxDQUNDLFNBQVMsR0FBRztBQUNYLFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQyxHQUFHLEVBQUUsT0FBTztBQUNoRSxNQUFJLElBQUk2QztBQUNSLFNBQU8sZUFBZSxHQUFHLFFBQVEsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ2pFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBR0QsRUFBQztBQUNKLE9BQU8sZUFBZUQsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsbUJBQW1CSTtBQUNyQixJQUFJQyxNQUFLSjtBQUNULFNBQVNHLElBQUcsR0FBRztBQUNiLE1BQUksS0FBSyxHQUFHQyxJQUFHLE1BQU0sS0FBSztBQUMxQixTQUFPLEVBQUUsWUFBWSxDQUFDLEdBQUcsRUFBRTtBQUM3QjtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxtQkFBbUI7QUFDNUUsTUFBSSxJQUFJTDtBQUNSLFNBQU8sZUFBZSxHQUFHLG9CQUFvQixFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDN0UsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHRCxHQUFFO0FBQ0wsSUFBSU8sTUFBSyxDQUFDO0FBQVYsSUFBYUMsS0FBSSxDQUFDO0FBQ2xCLE9BQU8sZUFBZUEsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsbUJBQW1CQztBQUNyQixJQUFJQyxNQUFLN0Q7QUFDVCxTQUFTNEQsSUFBRyxHQUFHO0FBQ2IsTUFBSSxHQUFHakU7QUFDUCxVQUFRLEdBQUdrRSxJQUFHLGVBQWUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxTQUFTLEVBQUUsYUFBYSxLQUFLLFlBQVksRUFBRSxVQUFVbEUsTUFBSyxJQUFJLEVBQUUsaUJBQWlCLFFBQVEsTUFBTSxTQUFTLFNBQVMsRUFBRSxZQUFZLFFBQVFBLE9BQU0sU0FBU0EsS0FBSTtBQUN0TTtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxtQkFBbUI7QUFDNUUsTUFBSSxJQUFJZ0U7QUFDUixTQUFPLGVBQWUsR0FBRyxvQkFBb0IsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQzdFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBR0QsR0FBRTtBQUNMLElBQUlJLEtBQUksQ0FBQztBQUFULElBQVlDLEtBQUksQ0FBQztBQUFqQixJQUFvQkMsTUFBS3ZFLE1BQUtBLEdBQUUsaUJBQWlCLFNBQVMsR0FBRyxHQUFHRSxJQUFHO0FBQ2pFLE1BQUlBLE1BQUssVUFBVSxXQUFXO0FBQzVCLGFBQVNDLEtBQUksR0FBRyxJQUFJLEVBQUUsUUFBUVksSUFBR1osS0FBSSxHQUFHQTtBQUN0QyxPQUFDWSxNQUFLLEVBQUVaLE1BQUssUUFBUVksT0FBTUEsS0FBSSxNQUFNLFVBQVUsTUFBTSxLQUFLLEdBQUcsR0FBR1osRUFBQyxJQUFJWSxHQUFFWixFQUFDLElBQUksRUFBRUEsRUFBQztBQUNuRixTQUFPLEVBQUUsT0FBT1ksTUFBSyxNQUFNLFVBQVUsTUFBTSxLQUFLLENBQUMsQ0FBQztBQUNwRDtBQUNBLE9BQU8sZUFBZXVELElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BEQSxHQUFFLDBCQUEwQkU7QUFDNUIsSUFBSUMsTUFBSzlDO0FBQ1QsU0FBUzZDLElBQUcsR0FBRztBQUNiLFVBQVEsR0FBR0MsSUFBRyw0QkFBNEIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLE1BQU0sS0FBSyxFQUFFLFFBQVEsRUFBRSxPQUFPLFNBQVMsR0FBR3ZFLElBQUc7QUFDaEcsV0FBT3FFLElBQUdBLElBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBRSxHQUFHQyxJQUFHdEUsRUFBQyxHQUFHLElBQUU7QUFBQSxFQUNwQyxHQUFHLENBQUMsQ0FBQztBQUNQO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLDBCQUEwQjtBQUNuRixNQUFJLElBQUlvRTtBQUNSLFNBQU8sZUFBZSxHQUFHLDJCQUEyQixFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDcEYsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHRCxFQUFDO0FBQ0osSUFBSSxLQUFLLENBQUM7QUFBVixJQUFhSyxLQUFJLENBQUM7QUFBbEIsSUFBcUJDLEtBQUksQ0FBQztBQUExQixJQUE2QkMsS0FBSSxDQUFDO0FBQ2xDLE9BQU8sZUFBZUEsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsaUJBQWlCQztBQUNuQixTQUFTQSxJQUFHLEdBQUc7QUFDYixTQUFPO0FBQUEsSUFDTDtBQUFBLElBQ0E7QUFBQSxFQUNGLEVBQUUsU0FBUyxFQUFFLE9BQU87QUFDdEI7QUFBQSxDQUNDLFNBQVMsR0FBRztBQUNYLFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCO0FBQzFFLE1BQUksSUFBSUQ7QUFDUixTQUFPLGVBQWUsR0FBRyxrQkFBa0IsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQzNFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBR0QsRUFBQztBQUNKLElBQUksSUFBSSxDQUFDO0FBQVQsSUFBWUcsS0FBSSxDQUFDO0FBQ2pCLE9BQU8sZUFBZUEsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsY0FBY0M7QUFDaEIsU0FBU0EsSUFBRyxHQUFHO0FBQ2IsU0FBTztBQUFBLElBQ0w7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGLEVBQUUsU0FBUyxFQUFFLE9BQU87QUFDdEI7QUFBQSxDQUNDLFNBQVMsR0FBRztBQUNYLFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQyxHQUFHLEVBQUUsY0FBYztBQUN2RSxNQUFJLElBQUlEO0FBQ1IsU0FBTyxlQUFlLEdBQUcsZUFBZSxFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDeEUsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHLENBQUM7QUFDSixPQUFPLGVBQWVKLElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BEQSxHQUFFLGlCQUFpQk07QUFDbkIsSUFBSUMsTUFBSzFFO0FBQVQsSUFBWTJFLE1BQUtQO0FBQWpCLElBQW9CUSxNQUFLO0FBQ3pCLFNBQVNILElBQUcsR0FBRyxHQUFHO0FBQ2hCLFFBQU0sV0FBVyxJQUFJO0FBQ3JCLE1BQUk5RSxLQUFJLElBQUksY0FBYyxjQUFjQyxLQUFJLElBQUksb0JBQW9CO0FBQ3BFLE1BQUksRUFBRSxhQUFhLEtBQUssZ0JBQWdCLEVBQUVELEVBQUMsR0FBRztBQUM1QyxRQUFJLElBQUksRUFBRUEsRUFBQztBQUNYLFNBQUssR0FBR2lGLElBQUcsYUFBYSxDQUFDLEtBQUssRUFBRSxHQUFHRixJQUFHLGVBQWUsQ0FBQyxLQUFLLEVBQUUsR0FBR0MsSUFBRyxnQkFBZ0IsQ0FBQztBQUNsRixVQUFJLEVBQUUvRSxFQUFDO0FBQ0wsWUFBSSxFQUFFQSxFQUFDO0FBQUEsZUFDQSxFQUFFLGVBQWUsUUFBUSxFQUFFLFdBQVdBLEVBQUM7QUFDOUMsWUFBSSxFQUFFLFdBQVdBLEVBQUM7QUFBQTtBQUVsQixlQUFPLEVBQUU7QUFDYixXQUFPNkUsSUFBRyxHQUFHLENBQUM7QUFBQSxFQUNoQjtBQUNBLFNBQU87QUFDVDtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxpQkFBaUI7QUFDMUUsTUFBSSxJQUFJTjtBQUNSLFNBQU8sZUFBZSxHQUFHLGtCQUFrQixFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDM0UsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHLEVBQUU7QUFDTCxJQUFJLEtBQUssQ0FBQztBQUFWLElBQWFVLEtBQUksQ0FBQztBQUFsQixJQUFxQixJQUFJcEYsTUFBS0EsR0FBRSxpQkFBaUIsU0FBUyxHQUFHLEdBQUdFLElBQUc7QUFDakUsTUFBSUEsTUFBSyxVQUFVLFdBQVc7QUFDNUIsYUFBU0MsS0FBSSxHQUFHLElBQUksRUFBRSxRQUFRWSxJQUFHWixLQUFJLEdBQUdBO0FBQ3RDLE9BQUNZLE1BQUssRUFBRVosTUFBSyxRQUFRWSxPQUFNQSxLQUFJLE1BQU0sVUFBVSxNQUFNLEtBQUssR0FBRyxHQUFHWixFQUFDLElBQUlZLEdBQUVaLEVBQUMsSUFBSSxFQUFFQSxFQUFDO0FBQ25GLFNBQU8sRUFBRSxPQUFPWSxNQUFLLE1BQU0sVUFBVSxNQUFNLEtBQUssQ0FBQyxDQUFDO0FBQ3BEO0FBQ0EsT0FBTyxlQUFlcUUsSUFBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcERBLEdBQUUsZ0JBQWdCQztBQUNsQixJQUFJQyxNQUFLM0Q7QUFBVCxJQUFZNEQsTUFBS2xCO0FBQWpCLElBQW9CbUIsTUFBS25GO0FBQXpCLElBQTRCb0YsTUFBS2xGO0FBQ2pDLFNBQVM4RSxJQUFHLEdBQUc7QUFDYixTQUFPLE1BQU0sS0FBSyxFQUFFLGtCQUFrQixHQUFHRyxJQUFHLG1CQUFtQixDQUFDLENBQUMsRUFBRSxPQUFPLFNBQVMsR0FBR3RGLElBQUc7QUFDdkYsWUFBUSxHQUFHdUYsSUFBRyxlQUFldkYsRUFBQyxNQUFNLEdBQUdvRixJQUFHLDRCQUE0QnBGLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxHQUFHLEdBQUcsSUFBRSxHQUFHLENBQUNBLEVBQUMsR0FBRyxLQUFFLElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUUsSUFBSSxHQUFHcUYsSUFBRyx5QkFBeUJyRixFQUFDLEdBQUcsSUFBRTtBQUFBLEVBQzlKLEdBQUcsQ0FBQyxDQUFDO0FBQ1A7QUFBQSxDQUNDLFNBQVMsR0FBRztBQUNYLFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQyxHQUFHLEVBQUUsZ0JBQWdCO0FBQ3pFLE1BQUksSUFBSWtGO0FBQ1IsU0FBTyxlQUFlLEdBQUcsaUJBQWlCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUMxRSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUcsRUFBRTtBQUNMLElBQUlNLE1BQUssQ0FBQztBQUFWLElBQWFDLEtBQUksQ0FBQztBQUNsQixPQUFPLGVBQWVBLElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BEQSxHQUFFLHlCQUF5QkM7QUFDM0IsU0FBU0EsSUFBRyxHQUFHO0FBQ2IsU0FBTyxDQUFDLGFBQWEsS0FBSyxDQUFDO0FBQzdCO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLHlCQUF5QjtBQUNsRixNQUFJLElBQUlEO0FBQ1IsU0FBTyxlQUFlLEdBQUcsMEJBQTBCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUNuRixXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUdELEdBQUU7QUFDTCxJQUFJRyxLQUFJLENBQUM7QUFBVCxJQUFZQyxLQUFJLENBQUM7QUFDakIsT0FBTyxlQUFlQSxJQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQztBQUNwREEsR0FBRSxZQUFZQztBQUNkLElBQUlDLE1BQUs7QUFDVCxTQUFTRCxJQUFHLEdBQUc7QUFDYixVQUFRLEdBQUdDLElBQUcsVUFBVSxDQUFDLElBQUksUUFBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxZQUFZLEVBQUUsYUFBYSxLQUFLO0FBQy9FO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLFlBQVk7QUFDckUsTUFBSSxJQUFJRjtBQUNSLFNBQU8sZUFBZSxHQUFHLGFBQWEsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3RFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBR0QsRUFBQztBQUNKLElBQUlJLE1BQUssQ0FBQztBQUFWLElBQWEsSUFBSSxDQUFDO0FBQWxCLElBQXFCQyxLQUFJLENBQUM7QUFBMUIsSUFBNkJDLEtBQUksQ0FBQztBQUNsQyxPQUFPLGVBQWVBLElBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDO0FBQ3BEQSxHQUFFLFNBQVNDO0FBQ1gsU0FBU0EsSUFBRyxHQUFHO0FBQ2IsU0FBTyxNQUFNLE9BQU8sUUFBSyxFQUFFLFdBQVcsV0FBVztBQUNuRDtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTO0FBQ2xFLE1BQUksSUFBSUQ7QUFDUixTQUFPLGVBQWUsR0FBRyxVQUFVLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUNuRSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUdELEVBQUM7QUFDSixJQUFJRyxLQUFJLENBQUM7QUFBVCxJQUFZQyxLQUFJLENBQUM7QUFDakIsT0FBTyxlQUFlQSxJQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQztBQUNwREEsR0FBRSxjQUFjQztBQUNoQixJQUFJQyxNQUFLN0I7QUFBVCxJQUFZOEIsTUFBS1o7QUFBakIsSUFBb0JhLE1BQUtuRztBQUF6QixJQUE0Qm9HLE1BQUs7QUFDakMsU0FBU0osSUFBRyxHQUFHLEdBQUc7QUFDaEIsTUFBSXJHLEtBQUk7QUFDUixVQUFRLEdBQUd5RyxJQUFHLGFBQWEsQ0FBQyxLQUFLLEVBQUUsR0FBR0gsSUFBRyxnQkFBZ0IsQ0FBQyxJQUFJLFVBQU8sR0FBR0MsSUFBRyxXQUFXLENBQUMsTUFBTSxHQUFHQyxJQUFHLGVBQWUsQ0FBQyxJQUFJeEcsS0FBSSxFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsU0FBU0EsS0FBSSxFQUFFLFlBQVksUUFBUSxVQUFLLEVBQUUsSUFBSSxNQUFNLFdBQVdBLEtBQUlBLEdBQUUsUUFBUSxJQUFJLE9BQU8sR0FBRyxHQUFHLEdBQUcsRUFBRSxJQUFJQSxHQUFFLEtBQUssRUFBRSxXQUFXO0FBQ3BSO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLGNBQWM7QUFDdkUsTUFBSSxJQUFJb0c7QUFDUixTQUFPLGVBQWUsR0FBRyxlQUFlLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUN4RSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUdELEVBQUM7QUFDSixPQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDcEQsRUFBRSxVQUFVTztBQUNaLElBQUlDLE1BQUtYO0FBQVQsSUFBWVksTUFBS1Q7QUFDakIsU0FBU08sSUFBRyxHQUFHLEdBQUc7QUFDaEIsSUFBRSxVQUFVO0FBQ1osV0FBUzFHLEtBQUksQ0FBQyxDQUFDLEdBQUdBLEdBQUUsU0FBUyxLQUFLO0FBQ2hDLFFBQUlDLEtBQUlELEdBQUUsTUFBTTtBQUNoQixRQUFJQyxJQUFHO0FBQ0wsVUFBSSxJQUFJQSxLQUFJLEdBQUcwRyxJQUFHLFFBQVEsQ0FBQyxLQUFLLEVBQUUsR0FBR0MsSUFBRyxhQUFhLEdBQUcsQ0FBQztBQUN2RCxlQUFPO0FBQ1QsTUFBQTVHLEdBQUUsS0FBSyxNQUFNQSxJQUFHLE1BQU0sS0FBSyxFQUFFLFVBQVUsQ0FBQztBQUFBLElBQzFDO0FBQUEsRUFDRjtBQUNBLFNBQU87QUFDVDtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxVQUFVO0FBQ25FLE1BQUksSUFBSTtBQUNSLFNBQU8sZUFBZSxHQUFHLFdBQVcsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3BFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBRytGLEdBQUU7QUFDTCxJQUFJYyxNQUFLLENBQUM7QUFBVixJQUFhQyxLQUFJLENBQUM7QUFDbEIsT0FBTyxlQUFlQSxJQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQztBQUNwREEsR0FBRSxhQUFhQztBQUNmLElBQUlDLE1BQUs7QUFDVCxTQUFTRCxJQUFHLEdBQUc7QUFDYixVQUFRLEdBQUdDLElBQUcsVUFBVSxDQUFDLElBQUksUUFBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxZQUFZLEVBQUUsYUFBYSxLQUFLO0FBQy9FO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLGFBQWE7QUFDdEUsTUFBSSxJQUFJRjtBQUNSLFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3ZFLFdBQU8sRUFBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0wsR0FBR0QsR0FBRTtBQUNMLElBQUlJLE1BQUssQ0FBQztBQUFWLElBQWEsS0FBSyxDQUFDO0FBQ25CLE9BQU8sZUFBZSxJQUFJLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQztBQUNyRCxHQUFHLGVBQWVDO0FBQ2xCLElBQUlDLE1BQUt6RDtBQUNULFNBQVN3RCxJQUFHLEdBQUc7QUFDYixNQUFJLEtBQUssR0FBR0MsSUFBRyxNQUFNLEtBQUs7QUFDMUIsU0FBTyxFQUFFLFlBQVksR0FBRyxFQUFFLG9CQUFvQjtBQUNoRDtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxlQUFlO0FBQ3hFLE1BQUksSUFBSTtBQUNSLFNBQU8sZUFBZSxHQUFHLGdCQUFnQixFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDekUsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHRixHQUFFO0FBQ0wsSUFBSUcsTUFBSyxDQUFDO0FBQVYsSUFBYUMsTUFBSyxDQUFDO0FBQ25CLE9BQU8sZUFBZUEsS0FBSSxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDckRBLElBQUcsU0FBU0M7QUFDWixTQUFTQSxJQUFHLEdBQUc7QUFDYixNQUFJLElBQUksRUFBRSxzQkFBc0IsR0FBR3RILEtBQUksT0FBTyxlQUFlLFNBQVMsZ0JBQWdCLFlBQVlDLEtBQUksT0FBTyxlQUFlLFNBQVMsZ0JBQWdCLFdBQVcsSUFBSSxFQUFFLE1BQU1BLElBQUdZLEtBQUksRUFBRSxPQUFPYjtBQUM1TCxTQUFPO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxNQUFNYTtBQUFBLElBQ04sUUFBUSxJQUFJLEVBQUU7QUFBQSxJQUNkLE9BQU9BLEtBQUksRUFBRTtBQUFBLEVBQ2Y7QUFDRjtBQUFBLENBQ0MsU0FBUyxHQUFHO0FBQ1gsU0FBTyxlQUFlLEdBQUcsY0FBYyxFQUFFLE9BQU8sS0FBRyxDQUFDLEdBQUcsRUFBRSxTQUFTO0FBQ2xFLE1BQUksSUFBSXdHO0FBQ1IsU0FBTyxlQUFlLEdBQUcsVUFBVSxFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDbkUsV0FBTyxFQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDTCxHQUFHRCxHQUFFO0FBQ0wsSUFBSUcsTUFBSyxDQUFDO0FBQVYsSUFBYUMsTUFBSyxDQUFDO0FBQ25CLE9BQU8sZUFBZUEsS0FBSSxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUM7QUFDckRBLElBQUcsVUFBVUM7QUFDYixTQUFTQSxJQUFHLEdBQUcsR0FBRztBQUNoQixRQUFNLFFBQVEsQ0FBQyxLQUFLLElBQUksRUFBRSxRQUFRLEdBQUcsRUFBRSxRQUFRLFNBQVN6SCxJQUFHO0FBQ3pELFdBQU8sRUFBRSxRQUFRQSxFQUFDO0FBQUEsRUFDcEIsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDO0FBQ25CO0FBQUEsQ0FDQyxTQUFTLEdBQUc7QUFDWCxTQUFPLGVBQWUsR0FBRyxjQUFjLEVBQUUsT0FBTyxLQUFHLENBQUMsR0FBRyxFQUFFLFVBQVU7QUFDbkUsTUFBSSxJQUFJd0g7QUFDUixTQUFPLGVBQWUsR0FBRyxXQUFXLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUNwRSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNMLEdBQUdELEdBQUU7QUFBQSxDQUNKLFNBQVMsR0FBRztBQUNYLFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxPQUFPLEtBQUcsQ0FBQyxHQUFHLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsY0FBYyxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLG9CQUFvQixFQUFFLHlCQUF5QixFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLG9CQUFvQixFQUFFLGlCQUFpQixFQUFFLDBCQUEwQixFQUFFLG1CQUFtQixFQUFFLG1CQUFtQixFQUFFLDZCQUE2QixFQUFFLGNBQWMsRUFBRSxvQkFBb0IsRUFBRSxnQkFBZ0IsRUFBRSxTQUFTO0FBQ3JmLE1BQUksSUFBSXBIO0FBQ1IsU0FBTyxlQUFlLEdBQUcscUJBQXFCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUM5RSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNILE1BQUlILEtBQUlLO0FBQ1IsU0FBTyxlQUFlLEdBQUcsaUJBQWlCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUMxRSxXQUFPTCxHQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDSCxNQUFJQyxLQUFJO0FBQ1IsU0FBTyxlQUFlLEdBQUcsVUFBVSxFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDbkUsV0FBT0EsR0FBRTtBQUFBLEVBQ1gsRUFBRSxDQUFDO0FBQ0gsTUFBSSxJQUFJO0FBQ1IsU0FBTyxlQUFlLEdBQUcsaUJBQWlCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUMxRSxXQUFPLEVBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNILE1BQUlZLEtBQUlGO0FBQ1IsU0FBTyxlQUFlLEdBQUcscUJBQXFCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUM5RSxXQUFPRSxHQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDSCxNQUFJQyxLQUFJSTtBQUNSLFNBQU8sZUFBZSxHQUFHLGVBQWUsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3hFLFdBQU9KLEdBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNILE1BQUlDLEtBQUlVO0FBQ1IsU0FBTyxlQUFlLEdBQUcsOEJBQThCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUN2RixXQUFPVixHQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDSCxNQUFJQyxLQUFJd0M7QUFDUixTQUFPLGVBQWUsR0FBRyxvQkFBb0IsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQzdFLFdBQU94QyxHQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDSCxNQUFJQyxLQUFJOEM7QUFDUixTQUFPLGVBQWUsR0FBRyxvQkFBb0IsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQzdFLFdBQU85QyxHQUFFO0FBQUEsRUFDWCxFQUFFLENBQUM7QUFDSCxNQUFJbUMsS0FBSWU7QUFDUixTQUFPLGVBQWUsR0FBRywyQkFBMkIsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3BGLFdBQU9mLEdBQUU7QUFBQSxFQUNYLEVBQUUsQ0FBQztBQUNILE1BQUlzRSxNQUFLO0FBQ1QsU0FBTyxlQUFlLEdBQUcsa0JBQWtCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUMzRSxXQUFPQSxJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDSCxNQUFJQyxNQUFLO0FBQ1QsU0FBTyxlQUFlLEdBQUcsaUJBQWlCLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUMxRSxXQUFPQSxJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDSCxNQUFJQyxNQUFLcEM7QUFDVCxTQUFPLGVBQWUsR0FBRywwQkFBMEIsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ25GLFdBQU9vQyxJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDSCxNQUFJQyxNQUFLMUc7QUFDVCxTQUFPLGVBQWUsR0FBRyxxQkFBcUIsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQzlFLFdBQU8wRyxJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDSCxNQUFJQyxNQUFLbkM7QUFDVCxTQUFPLGVBQWUsR0FBRyxhQUFhLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUN0RSxXQUFPbUMsSUFBRztBQUFBLEVBQ1osRUFBRSxDQUFDO0FBQ0gsTUFBSUMsTUFBS2hDO0FBQ1QsU0FBTyxlQUFlLEdBQUcsV0FBVyxFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDcEUsV0FBT2dDLElBQUc7QUFBQSxFQUNaLEVBQUUsQ0FBQztBQUNILE1BQUlDLE1BQUtuQjtBQUNULFNBQU8sZUFBZSxHQUFHLGNBQWMsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3ZFLFdBQU9tQixJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDSCxNQUFJQyxNQUFLaEI7QUFDVCxTQUFPLGVBQWUsR0FBRyxnQkFBZ0IsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3pFLFdBQU9nQixJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDSCxNQUFJQyxNQUFLbEM7QUFDVCxTQUFPLGVBQWUsR0FBRyxVQUFVLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUNuRSxXQUFPa0MsSUFBRztBQUFBLEVBQ1osRUFBRSxDQUFDO0FBQ0gsTUFBSUMsTUFBS2hDO0FBQ1QsU0FBTyxlQUFlLEdBQUcsZUFBZSxFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDeEUsV0FBT2dDLElBQUc7QUFBQSxFQUNaLEVBQUUsQ0FBQztBQUNILE1BQUlDLE1BQUszRDtBQUNULFNBQU8sZUFBZSxHQUFHLGtCQUFrQixFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDM0UsV0FBTzJELElBQUc7QUFBQSxFQUNaLEVBQUUsQ0FBQztBQUNILE1BQUlDLE1BQUs7QUFDVCxTQUFPLGVBQWUsR0FBRyxlQUFlLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUN4RSxXQUFPQSxJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDSCxNQUFJQyxNQUFLNUU7QUFDVCxTQUFPLGVBQWUsR0FBRyxRQUFRLEVBQUUsWUFBWSxNQUFJLEtBQUssV0FBVztBQUNqRSxXQUFPNEUsSUFBRztBQUFBLEVBQ1osRUFBRSxDQUFDO0FBQ0gsTUFBSUMsTUFBS25CO0FBQ1QsU0FBTyxlQUFlLEdBQUcsVUFBVSxFQUFFLFlBQVksTUFBSSxLQUFLLFdBQVc7QUFDbkUsV0FBT21CLElBQUc7QUFBQSxFQUNaLEVBQUUsQ0FBQztBQUNILE1BQUlDLE1BQUtqQjtBQUNULFNBQU8sZUFBZSxHQUFHLFdBQVcsRUFBRSxZQUFZLE1BQUksS0FBSyxXQUFXO0FBQ3BFLFdBQU9pQixJQUFHO0FBQUEsRUFDWixFQUFFLENBQUM7QUFDTCxHQUFHdEksRUFBQztBQUNKLElBQUl1SSxNQUFzQixrQkFBQyxPQUFPLEVBQUUsT0FBTyxRQUFRLEVBQUUsU0FBUyxVQUFVLElBQUlBLE9BQU0sQ0FBQyxDQUFDO0FBQ3BGLElBQU0sSUFBTixNQUFNLEdBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVVOLFlBQVksRUFBRSxNQUFNLEdBQUcsUUFBUXpJLElBQUcsS0FBS0MsSUFBRyxVQUFVLEdBQUcsT0FBT1ksR0FBRSxHQUFHO0FBQ2pFLFVBQU0sRUFBRSxtQkFBbUJDLEdBQUUsSUFBSTtBQUNqQyxTQUFLLE1BQU1iLElBQUcsS0FBSyxXQUFXLEdBQUcsS0FBSyxvQkFBb0JELEdBQUUsb0JBQW9CLEdBQUUsMkJBQTJCLEtBQUssc0JBQXNCQSxHQUFFLHNCQUFzQixHQUFFLDZCQUE2QixLQUFLLFFBQVE7QUFBQSxNQUMxTSxNQUFNLEVBQUUsUUFBUTtBQUFBLE1BQ2hCLFNBQVMsRUFBRSxXQUFXO0FBQUEsTUFDdEIsV0FBVyxPQUFPLE9BQU95SSxHQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsS0FBSyxFQUFFLGFBQWF6SSxHQUFFLG9CQUFvQmM7QUFBQSxJQUM3RixHQUFHLEtBQUssT0FBTztBQUFBLE1BQ2IsV0FBVyxLQUFLLElBQUksT0FBTztBQUFBLE1BQzNCLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLE9BQU8sS0FBSyxJQUFJLE9BQU87QUFBQSxNQUN2QixTQUFTO0FBQUEsSUFDWCxHQUFHLEtBQUssU0FBU0Q7QUFBQSxFQUNuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVcsc0JBQXNCO0FBQy9CLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLFdBQVcsVUFBVTtBQUNuQixXQUFPO0FBQUEsTUFDTCxNQUFNaEI7QUFBQSxNQUNOLE9BQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsV0FBVyxjQUFjO0FBQ3ZCLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLG1CQUFtQjtBQUM1QixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsV0FBVyw0QkFBNEI7QUFDckMsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFdBQVcsOEJBQThCO0FBQ3ZDLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLG9CQUFvQjtBQUM3QixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsV0FBVyxtQkFBbUI7QUFDNUIsV0FBTztBQUFBO0FBQUE7QUFBQTtBQUFBLE1BSUwsUUFBUTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BT1IsUUFBUSxTQUFTLEdBQUc7QUFDbEIsZUFBTyxFQUFFLFVBQVUsR0FBRyxFQUFFLElBQUksV0FBTSxFQUFFLE9BQU8sS0FBSyxFQUFFO0FBQUEsTUFDcEQ7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLElBQUksTUFBTTtBQUNSLFdBQU87QUFBQSxNQUNMLFdBQVcsS0FBSyxJQUFJLE9BQU87QUFBQSxNQUMzQixTQUFTO0FBQUEsTUFDVCxNQUFNO0FBQUEsTUFDTixPQUFPLEtBQUssSUFBSSxPQUFPO0FBQUEsTUFDdkIsU0FBUztBQUFBLElBQ1g7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxXQUFXO0FBQ2IsV0FBTztBQUFBLE1BQ0w7QUFBQSxRQUNFLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxNQUNSO0FBQUEsTUFDQTtBQUFBLFFBQ0UsTUFBTTtBQUFBLFFBQ04sTUFBTUQ7QUFBQSxNQUNSO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTO0FBQ1AsVUFBTSxJQUFJTSxHQUFFLEtBQUssY0FBYztBQUFBLE1BQzdCLEtBQUssS0FBSztBQUFBLE1BQ1YsS0FBSyxLQUFLO0FBQUEsSUFDWixDQUFDLEdBQUdGLEtBQUlFLEdBQUUsS0FBSyxPQUFPLENBQUMsS0FBSyxLQUFLLE9BQU8sS0FBSyxLQUFLLElBQUksR0FBRztBQUFBLE1BQ3ZELGlCQUFpQixDQUFDLEtBQUs7QUFBQSxNQUN2QixXQUFXLEtBQUssTUFBTTtBQUFBLElBQ3hCLENBQUMsR0FBR0QsS0FBSUMsR0FBRSxLQUFLLE9BQU8sQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLEtBQUssT0FBTyxHQUFHO0FBQUEsTUFDMUQsaUJBQWlCLENBQUMsS0FBSztBQUFBLE1BQ3ZCLFdBQVcsS0FBSyxNQUFNO0FBQUEsSUFDeEIsQ0FBQztBQUNELFdBQU9GLEdBQUUsUUFBUSxjQUFjLEtBQUssbUJBQW1CQyxHQUFFLFFBQVEsY0FBYyxLQUFLLHFCQUFxQixFQUFFLFlBQVlELEVBQUMsR0FBRyxFQUFFLFlBQVlDLEVBQUMsR0FBRztBQUFBLEVBQy9JO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxLQUFLLEdBQUc7QUFDTixVQUFNRCxLQUFJLEVBQUUsY0FBYyxJQUFJLEtBQUssS0FBSyxJQUFJLEVBQUUsR0FBR0MsS0FBSSxFQUFFLGNBQWMsSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFO0FBQzVGLFdBQU8sT0FBTyxPQUFPLEtBQUssT0FBTztBQUFBLE1BQy9CLE9BQU9ELE1BQUssT0FBTyxTQUFTQSxHQUFFLGNBQWM7QUFBQSxNQUM1QyxVQUFVQyxNQUFLLE9BQU8sU0FBU0EsR0FBRSxjQUFjO0FBQUEsSUFDakQsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFdBQVcsV0FBVztBQUNwQixXQUFPO0FBQUEsTUFDTCxNQUFNO0FBQUEsUUFDSixJQUFJO0FBQUEsTUFDTjtBQUFBLE1BQ0EsU0FBUztBQUFBLFFBQ1AsSUFBSTtBQUFBLE1BQ047QUFBQSxNQUNBLFdBQVcsQ0FBQztBQUFBLElBQ2Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsaUJBQWlCO0FBQ2YsVUFBTSxJQUFJLENBQUNELE9BQU1BLE1BQUtBLEdBQUUsQ0FBQyxFQUFFLFlBQVksSUFBSUEsR0FBRSxNQUFNLENBQUM7QUFDcEQsV0FBTyxLQUFLLFNBQVMsSUFBSSxDQUFDQSxRQUFPO0FBQUEsTUFDL0IsTUFBTUEsR0FBRTtBQUFBLE1BQ1IsT0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLFNBQVMsRUFBRUEsR0FBRSxJQUFJLENBQUMsRUFBRTtBQUFBLE1BQzNDLFlBQVksTUFBTSxLQUFLLFlBQVlBLEdBQUUsSUFBSTtBQUFBLE1BQ3pDLFVBQVUsS0FBSyxNQUFNLGNBQWNBLEdBQUU7QUFBQSxNQUNyQyxpQkFBaUI7QUFBQSxJQUNuQixFQUFFO0FBQUEsRUFDSjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsWUFBWSxHQUFHO0FBQ2IsU0FBSyxNQUFNLFlBQVksR0FBRyxLQUFLLE9BQU8sZUFBZTtBQUFBLEVBQ3ZEO0FBQ0Y7OztDQzkrQkMsV0FBVTtBQUFDLE1BQUkwSTtBQUFFO0FBQWEsTUFBRztBQUFDLFFBQUcsT0FBTyxXQUFTLEtBQUk7QUFBQyxVQUFJQyxLQUFFLFNBQVMsY0FBYyxPQUFPO0FBQUUsTUFBQUEsR0FBRSxTQUFPRCxLQUFFLFNBQVMsS0FBSyxjQUFjLDBCQUEwQixNQUFJLE9BQUssU0FBT0EsR0FBRSxTQUFRQyxHQUFFLFlBQVksU0FBUyxlQUFlLHVyTEFBdXJMLENBQUMsR0FBRSxTQUFTLEtBQUssWUFBWUEsRUFBQztBQUFBLElBQUM7QUFBQSxFQUFDLFNBQU8sR0FBRTtBQUFDLFlBQVEsTUFBTSxrQ0FBaUMsQ0FBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQ3gvTCxTQUFTLEVBQUVDLElBQUcsR0FBRyxJQUFJLENBQUMsR0FBRztBQUN2QixRQUFNRCxLQUFJLFNBQVMsY0FBY0MsRUFBQztBQUNsQyxRQUFNLFFBQVEsQ0FBQyxJQUFJRCxHQUFFLFVBQVUsSUFBSSxHQUFHLENBQUMsSUFBSSxLQUFLQSxHQUFFLFVBQVUsSUFBSSxDQUFDO0FBQ2pFLGFBQVcsS0FBSztBQUNkLFdBQU8sVUFBVSxlQUFlLEtBQUssR0FBRyxDQUFDLE1BQU1BLEdBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMzRCxTQUFPQTtBQUNUO0FBQ0EsU0FBUyxFQUFFQyxJQUFHO0FBQ1osUUFBTSxJQUFJQSxHQUFFLHNCQUFzQjtBQUNsQyxTQUFPO0FBQUEsSUFDTCxJQUFJLEtBQUssTUFBTSxFQUFFLE1BQU0sT0FBTyxXQUFXO0FBQUEsSUFDekMsSUFBSSxLQUFLLE1BQU0sRUFBRSxPQUFPLE9BQU8sV0FBVztBQUFBLElBQzFDLElBQUksS0FBSyxNQUFNLEVBQUUsUUFBUSxPQUFPLFdBQVc7QUFBQSxJQUMzQyxJQUFJLEtBQUssTUFBTSxFQUFFLFNBQVMsT0FBTyxXQUFXO0FBQUEsRUFDOUM7QUFDRjtBQUNBLFNBQVNDLEdBQUVELElBQUcsR0FBRztBQUNmLFFBQU0sSUFBSSxFQUFFQSxFQUFDLEdBQUdELEtBQUksRUFBRSxDQUFDO0FBQ3ZCLFNBQU87QUFBQSxJQUNMLGVBQWVBLEdBQUUsS0FBSyxFQUFFO0FBQUEsSUFDeEIsZ0JBQWdCQSxHQUFFLEtBQUssRUFBRTtBQUFBLElBQ3pCLGlCQUFpQixFQUFFLEtBQUtBLEdBQUU7QUFBQSxJQUMxQixrQkFBa0IsRUFBRSxLQUFLQSxHQUFFO0FBQUEsRUFDN0I7QUFDRjtBQUNBLFNBQVNHLEdBQUVGLElBQUcsR0FBRztBQUNmLFFBQU0sSUFBSUEsR0FBRSxzQkFBc0IsR0FBRyxFQUFFLE9BQU9ELElBQUcsUUFBUSxHQUFHLEdBQUdJLElBQUcsR0FBR0wsR0FBRSxJQUFJLEdBQUcsRUFBRSxTQUFTTSxJQUFHLFNBQVNDLEdBQUUsSUFBSTtBQUMzRyxTQUFPO0FBQUEsSUFDTCxPQUFPTjtBQUFBLElBQ1AsUUFBUTtBQUFBLElBQ1IsR0FBR0ssS0FBSUQ7QUFBQSxJQUNQLEdBQUdFLEtBQUlQO0FBQUEsRUFDVDtBQUNGO0FBQ0EsU0FBU1EsR0FBRU4sSUFBRyxHQUFHO0FBQ2YsU0FBTyxFQUFFLFdBQVcsYUFBYUEsSUFBRyxDQUFDO0FBQ3ZDO0FBQ0EsU0FBU08sR0FBRVAsSUFBRyxJQUFJLE1BQUk7QUFDcEIsUUFBTSxJQUFJLFNBQVMsWUFBWSxHQUFHRCxLQUFJLE9BQU8sYUFBYTtBQUMxRCxJQUFFLG1CQUFtQkMsRUFBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLEdBQUdELEdBQUUsZ0JBQWdCLEdBQUdBLEdBQUUsU0FBUyxDQUFDO0FBQzNFO0FBQ0EsSUFBTVMsS0FBTixNQUFNLEdBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBS04sWUFBWSxFQUFFLE9BQU8sRUFBRSxHQUFHO0FBQ3hCLFNBQUssUUFBUSxHQUFHLEtBQUssVUFBVSxRQUFRLEtBQUssVUFBVSxDQUFDO0FBQUEsRUFDekQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLE1BQU07QUFDZixXQUFPO0FBQUEsTUFDTCxTQUFTO0FBQUEsTUFDVCxlQUFlO0FBQUEsTUFDZixNQUFNO0FBQUEsTUFDTixZQUFZO0FBQUEsTUFDWixrQkFBa0I7QUFBQSxNQUNsQixVQUFVO0FBQUEsTUFDVixXQUFXO0FBQUEsSUFDYjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTO0FBQ1AsV0FBTyxLQUFLLFVBQVUsRUFBRSxPQUFPLEdBQUUsSUFBSSxPQUFPLEdBQUcsS0FBSyxNQUFNLFFBQVEsQ0FBQyxHQUFHLE1BQU07QUFDMUUsWUFBTVQsS0FBSSxFQUFFLE9BQU8sR0FBRSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUUsT0FBTyxHQUFFLElBQUksVUFBVTtBQUFBLFFBQzNELFdBQVcsRUFBRTtBQUFBLE1BQ2YsQ0FBQyxHQUFHSSxLQUFJLEVBQUUsT0FBTyxHQUFFLElBQUksV0FBVztBQUFBLFFBQ2hDLGFBQWEsRUFBRTtBQUFBLE1BQ2pCLENBQUM7QUFDRCxNQUFBSixHQUFFLFFBQVEsUUFBUSxHQUFHQSxHQUFFLFlBQVksQ0FBQyxHQUFHQSxHQUFFLFlBQVlJLEVBQUMsR0FBRyxLQUFLLFFBQVEsWUFBWUosRUFBQyxHQUFHLEtBQUssUUFBUSxLQUFLQSxFQUFDO0FBQUEsSUFDM0csQ0FBQyxHQUFHLEtBQUssUUFBUSxpQkFBaUIsU0FBUyxDQUFDLE1BQU07QUFDaEQsV0FBSyxlQUFlLENBQUM7QUFBQSxJQUN2QixDQUFDLEdBQUcsS0FBSztBQUFBLEVBQ1g7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLGVBQWUsR0FBRztBQUNoQixVQUFNLElBQUksRUFBRSxPQUFPLFFBQVEsSUFBSSxHQUFFLElBQUksSUFBSSxFQUFFO0FBQzNDLFFBQUksQ0FBQztBQUNIO0FBQ0YsVUFBTUEsS0FBSSxFQUFFLFFBQVEsT0FBTyxJQUFJLEtBQUssTUFBTUEsRUFBQztBQUMzQyxRQUFJLEVBQUUsd0JBQXdCLENBQUMsS0FBSyxxQkFBcUIsQ0FBQyxHQUFHO0FBQzNELFdBQUsscUJBQXFCLENBQUM7QUFDM0I7QUFBQSxJQUNGO0FBQ0EsTUFBRSxRQUFRO0FBQUEsRUFDWjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLHFCQUFxQixHQUFHO0FBQ3RCLE1BQUUsVUFBVSxJQUFJLEdBQUUsSUFBSSxnQkFBZ0I7QUFBQSxFQUN4QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLHVCQUF1QixHQUFHO0FBQ3hCLE1BQUUsVUFBVSxPQUFPLEdBQUUsSUFBSSxnQkFBZ0I7QUFBQSxFQUMzQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLHFCQUFxQixHQUFHO0FBQ3RCLFdBQU8sRUFBRSxVQUFVLFNBQVMsR0FBRSxJQUFJLGdCQUFnQjtBQUFBLEVBQ3BEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxTQUFTO0FBQ1gsV0FBTyxLQUFLLFFBQVEsVUFBVSxTQUFTLEdBQUUsSUFBSSxhQUFhO0FBQUEsRUFDNUQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxPQUFPO0FBQ0wsU0FBSyxNQUFNLFFBQVEsQ0FBQyxHQUFHLE1BQU07QUFDM0IsYUFBTyxFQUFFLFVBQVUsY0FBYyxLQUFLLFFBQVEsQ0FBQyxFQUFFLFVBQVUsT0FBTyxHQUFFLElBQUksWUFBWSxFQUFFLE9BQU8sQ0FBQztBQUFBLElBQ2hHLENBQUMsR0FBRyxLQUFLLFFBQVEsVUFBVSxJQUFJLEdBQUUsSUFBSSxhQUFhO0FBQUEsRUFDcEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxRQUFRO0FBQ04sU0FBSyxRQUFRLFVBQVUsT0FBTyxHQUFFLElBQUksYUFBYSxHQUFHLEtBQUssUUFBUSxRQUFRLENBQUMsTUFBTTtBQUM5RSxXQUFLLHVCQUF1QixDQUFDO0FBQUEsSUFDL0IsQ0FBQztBQUFBLEVBQ0g7QUFDRjtBQUNBLElBQU1VLEtBQUk7QUFBVixJQUFvWEMsS0FBSTtBQUF4WCxJQUF1bEJDLEtBQUk7QUFBM2xCLElBQWc5QkMsS0FBSTtBQUFwOUIsSUFBZzFDQyxLQUFJO0FBQXAxQyxJQUFndERDLEtBQUk7QUFBcHRELElBQThrRUMsS0FBSTtBQUFsbEUsSUFBeWlGQyxLQUFJO0FBQTdpRixJQUFrd0ZDLEtBQUk7QUFBdHdGLElBQXV5R0MsS0FBSTtBQUEzeUcsSUFBdWlIQyxLQUFJO0FBQTNpSCxJQUE0OUhDLEtBQUk7QUFDaCtILElBQU1DLEtBQU4sTUFBTSxHQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFVTixZQUFZLEVBQUUsS0FBSyxHQUFHLE9BQU8sR0FBRyxRQUFRdEIsSUFBRyxTQUFTLEdBQUcsYUFBYUksS0FBSSxHQUFHLEdBQUc7QUFDNUUsU0FBSyxNQUFNLEdBQUcsS0FBSyxRQUFRLEdBQUcsS0FBSyxTQUFTSixJQUFHLEtBQUssVUFBVSxHQUFHLEtBQUssY0FBY0ksSUFBRyxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsS0FBSyxjQUFjO0FBQUEsRUFDaEo7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFdBQVcsTUFBTTtBQUNmLFdBQU87QUFBQSxNQUNMLFNBQVM7QUFBQSxNQUNULGVBQWU7QUFBQSxNQUNmLFNBQVM7QUFBQSxJQUNYO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsSUFBSSxVQUFVO0FBQ1osV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGdCQUFnQjtBQUNkLFVBQU0sSUFBSSxFQUFFLE9BQU87QUFBQSxNQUNqQixHQUFFLElBQUk7QUFBQSxNQUNOLEtBQUssY0FBYyxHQUFHLEdBQUUsSUFBSSxPQUFPLEtBQUssS0FBSyxXQUFXLEtBQUs7QUFBQSxJQUMvRCxDQUFDO0FBQ0QsTUFBRSxRQUFRLGVBQWU7QUFDekIsVUFBTSxJQUFJLEtBQUssY0FBYyxHQUFHSixLQUFJLEtBQUssY0FBYztBQUN2RCxXQUFPLEVBQUUsWUFBWUEsRUFBQyxHQUFHLEVBQUUsWUFBWSxDQUFDLEdBQUc7QUFBQSxFQUM3QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGdCQUFnQjtBQUNkLFVBQU0sSUFBSSxFQUFFLE9BQU8sR0FBRSxJQUFJLFNBQVM7QUFBQSxNQUNoQyxXQUFXZ0I7QUFBQSxJQUNiLENBQUM7QUFDRCxXQUFPLEVBQUUsaUJBQWlCLFNBQVMsTUFBTTtBQUN2QyxXQUFLLGVBQWU7QUFBQSxJQUN0QixDQUFDLEdBQUc7QUFBQSxFQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsZ0JBQWdCO0FBQ2QsV0FBTyxLQUFLLFVBQVUsSUFBSVAsR0FBRTtBQUFBLE1BQzFCLE9BQU8sS0FBSztBQUFBLElBQ2QsQ0FBQyxHQUFHLEtBQUssUUFBUSxPQUFPO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxpQkFBaUI7QUFDZixTQUFLLFFBQVEsVUFBVSxLQUFLLFFBQVEsTUFBTSxHQUFHLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxLQUFLLEdBQUcsS0FBSyxPQUFPO0FBQUEsRUFDbkc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLEtBQUssR0FBRztBQUNOLFVBQU0sSUFBSSxFQUFFO0FBQ1osV0FBTyxRQUFRLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQ1QsSUFBRyxDQUFDLE1BQU07QUFDcEMsV0FBSyxRQUFRLE1BQU1BLEVBQUMsSUFBSTtBQUFBLElBQzFCLENBQUMsR0FBRyxLQUFLLFFBQVEsVUFBVSxJQUFJLEdBQUUsSUFBSSxhQUFhO0FBQUEsRUFDcEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxPQUFPO0FBQ0wsU0FBSyxRQUFRLE1BQU0sR0FBRyxLQUFLLFFBQVEsVUFBVSxPQUFPLEdBQUUsSUFBSSxhQUFhO0FBQUEsRUFDekU7QUFDRjtBQUNBLFNBQVN1QixHQUFFdEIsSUFBRyxHQUFHO0FBQ2YsTUFBSSxJQUFJO0FBQ1IsU0FBTyxZQUFZRCxJQUFHO0FBQ3BCLFVBQU0sS0FBcUIsb0JBQUksS0FBSyxHQUFHLFFBQVE7QUFDL0MsUUFBSSxFQUFFLElBQUksSUFBSUM7QUFDWixhQUFPLElBQUksR0FBRyxFQUFFLEdBQUdELEVBQUM7QUFBQSxFQUN4QjtBQUNGO0FBQ0EsSUFBTXdCLEtBQUk7QUFBQSxFQUNSLFNBQVM7QUFBQSxFQUNULGlCQUFpQjtBQUFBLEVBQ2pCLE9BQU87QUFBQSxFQUNQLEtBQUs7QUFBQSxFQUNMLGNBQWM7QUFBQSxFQUNkLGFBQWE7QUFBQSxFQUNiLE1BQU07QUFBQSxFQUNOLGNBQWM7QUFBQSxFQUNkLFFBQVE7QUFBQSxFQUNSLGdCQUFnQjtBQUFBLEVBQ2hCLFdBQVc7QUFBQSxFQUNYLG1CQUFtQjtBQUNyQjtBQUNBLElBQU1DLEtBQU4sTUFBUTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBVU4sWUFBWSxHQUFHLEdBQUd6QixJQUFHLEdBQUc7QUFDdEIsU0FBSyxXQUFXLEdBQUcsS0FBSyxNQUFNLEdBQUcsS0FBSyxPQUFPQSxJQUFHLEtBQUssU0FBUyxHQUFHLEtBQUssVUFBVSxNQUFNLEtBQUssUUFBUSxNQUFNLEtBQUssZ0JBQWdCLEtBQUssb0JBQW9CLEdBQUcsS0FBSyxhQUFhLEtBQUssaUJBQWlCLEdBQUcsS0FBSyxtQkFBbUIsR0FBRyxLQUFLLGFBQWEsR0FBRyxLQUFLLGdCQUFnQixHQUFHLEtBQUssY0FBYyxHQUFHLEtBQUssaUJBQWlCLEdBQUcsS0FBSyxRQUFRO0FBQUEsTUFDdlUsY0FBYztBQUFBLElBQ2hCLEdBQUcsS0FBSyxPQUFPLEdBQUcsS0FBSyxLQUFLLEdBQUcsS0FBSyxjQUFjO0FBQUEsTUFDaEQsS0FBSztBQUFBLE1BQ0wsUUFBUTtBQUFBLElBQ1YsR0FBRyxLQUFLLGtCQUFrQixDQUFDSSxPQUFNO0FBQy9CLFlBQU1MLEtBQUlLLEdBQUUsT0FBTyxRQUFRLElBQUlvQixHQUFFLEtBQUssRUFBRSxNQUFNLE1BQU1uQixLQUFJRCxHQUFFLE9BQU8sUUFBUSxJQUFJb0IsR0FBRSxPQUFPLEVBQUUsTUFBTTtBQUM5RixPQUFDekIsTUFBS00sT0FBTSxLQUFLLGNBQWM7QUFDL0IsWUFBTXFCLEtBQUl0QixHQUFFLE9BQU8sUUFBUSxJQUFJb0IsR0FBRSxNQUFNLEVBQUUsR0FBR0csS0FBSXZCLEdBQUUsT0FBTyxRQUFRLElBQUlvQixHQUFFLFNBQVMsRUFBRTtBQUNsRixNQUFBRSxNQUFLQSxHQUFFLGVBQWUsS0FBSyxXQUFXLEtBQUssT0FBTyxRQUFRLElBQUUsR0FBRyxLQUFLLGNBQWMsS0FBS0MsTUFBS0EsR0FBRSxlQUFlLEtBQUssWUFBWSxLQUFLLFVBQVUsUUFBUSxJQUFFLEdBQUcsS0FBSyxjQUFjO0FBQUEsSUFDL0ssR0FBRyxLQUFLLFlBQVksS0FBSyxXQUFXO0FBQUEsRUFDdEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxhQUFhO0FBQ1gsV0FBTyxLQUFLO0FBQUEsRUFDZDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsYUFBYTtBQUNYLGFBQVMsaUJBQWlCLFNBQVMsS0FBSyxlQUFlLEdBQUcsS0FBSyxNQUFNLGlCQUFpQixhQUFhSixHQUFFLEtBQUssQ0FBQyxNQUFNLEtBQUssbUJBQW1CLENBQUMsQ0FBQyxHQUFHLEVBQUUsU0FBUyxLQUFHLENBQUMsR0FBRyxLQUFLLE1BQU0sYUFBYSxDQUFDLE1BQU0sS0FBSyxtQkFBbUIsQ0FBQyxHQUFHLEtBQUssTUFBTSxpQkFBaUIsV0FBVyxDQUFDLE1BQU0sS0FBSyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsS0FBSyxNQUFNLGlCQUFpQixXQUFXLENBQUMsTUFBTSxLQUFLLHFCQUFxQixDQUFDLENBQUM7QUFBQSxFQUNqWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLHNCQUFzQjtBQUNwQixXQUFPLElBQUlELEdBQUU7QUFBQSxNQUNYLEtBQUssS0FBSztBQUFBLE1BQ1YsYUFBYTtBQUFBLE1BQ2IsT0FBTztBQUFBLFFBQ0w7QUFBQSxVQUNFLE9BQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxvQkFBb0I7QUFBQSxVQUMzQyxNQUFNVDtBQUFBLFVBQ04sUUFBUSxNQUFNLEtBQUssb0JBQW9CLEtBQUssT0FBTztBQUFBLFVBQ25ELFNBQVMsTUFBTTtBQUNiLGlCQUFLLFVBQVUsS0FBSyxnQkFBZ0IsSUFBRSxHQUFHLEtBQUssY0FBYztBQUFBLFVBQzlEO0FBQUEsUUFDRjtBQUFBLFFBQ0E7QUFBQSxVQUNFLE9BQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxxQkFBcUI7QUFBQSxVQUM1QyxNQUFNQztBQUFBLFVBQ04sUUFBUSxNQUFNLEtBQUssb0JBQW9CLEtBQUssT0FBTztBQUFBLFVBQ25ELFNBQVMsTUFBTTtBQUNiLGlCQUFLLFVBQVUsS0FBSyxpQkFBaUIsR0FBRyxJQUFFLEdBQUcsS0FBSyxjQUFjO0FBQUEsVUFDbEU7QUFBQSxRQUNGO0FBQUEsUUFDQTtBQUFBLFVBQ0UsT0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLGVBQWU7QUFBQSxVQUN0QyxNQUFNSDtBQUFBLFVBQ04sUUFBUSxNQUFNLEtBQUssb0JBQW9CO0FBQUEsVUFDdkMsc0JBQXNCO0FBQUEsVUFDdEIsU0FBUyxNQUFNO0FBQ2IsaUJBQUssYUFBYSxLQUFLLGNBQWMsR0FBRyxLQUFLLGNBQWM7QUFBQSxVQUM3RDtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsTUFDQSxRQUFRLE1BQU07QUFDWixhQUFLLGFBQWEsS0FBSyxhQUFhLEdBQUcsS0FBSyxlQUFlO0FBQUEsTUFDN0Q7QUFBQSxNQUNBLFNBQVMsTUFBTTtBQUNiLGFBQUssZUFBZTtBQUFBLE1BQ3RCO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLG1CQUFtQjtBQUNqQixXQUFPLElBQUlXLEdBQUU7QUFBQSxNQUNYLEtBQUssS0FBSztBQUFBLE1BQ1YsYUFBYTtBQUFBLE1BQ2IsT0FBTztBQUFBLFFBQ0w7QUFBQSxVQUNFLE9BQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxlQUFlO0FBQUEsVUFDdEMsTUFBTVA7QUFBQSxVQUNOLFFBQVEsTUFBTSxLQUFLLGlCQUFpQixLQUFLLE9BQU87QUFBQSxVQUNoRCxTQUFTLE1BQU07QUFDYixpQkFBSyxPQUFPLEtBQUssYUFBYSxJQUFFLEdBQUcsS0FBSyxjQUFjO0FBQUEsVUFDeEQ7QUFBQSxRQUNGO0FBQUEsUUFDQTtBQUFBLFVBQ0UsT0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLGVBQWU7QUFBQSxVQUN0QyxNQUFNSDtBQUFBLFVBQ04sUUFBUSxNQUFNLEtBQUssaUJBQWlCLEtBQUssT0FBTztBQUFBLFVBQ2hELFNBQVMsTUFBTTtBQUNiLGlCQUFLLE9BQU8sS0FBSyxjQUFjLEdBQUcsSUFBRSxHQUFHLEtBQUssY0FBYztBQUFBLFVBQzVEO0FBQUEsUUFDRjtBQUFBLFFBQ0E7QUFBQSxVQUNFLE9BQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxZQUFZO0FBQUEsVUFDbkMsTUFBTUQ7QUFBQSxVQUNOLFFBQVEsTUFBTSxLQUFLLGlCQUFpQjtBQUFBLFVBQ3BDLHNCQUFzQjtBQUFBLFVBQ3RCLFNBQVMsTUFBTTtBQUNiLGlCQUFLLFVBQVUsS0FBSyxXQUFXLEdBQUcsS0FBSyxjQUFjO0FBQUEsVUFDdkQ7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLE1BQ0EsUUFBUSxNQUFNO0FBQ1osYUFBSyxVQUFVLEtBQUssVUFBVSxHQUFHLEtBQUssa0JBQWtCO0FBQUEsTUFDMUQ7QUFBQSxNQUNBLFNBQVMsTUFBTTtBQUNiLGFBQUssWUFBWTtBQUFBLE1BQ25CO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxzQkFBc0I7QUFDcEIsU0FBSyxZQUFZLFFBQVEsS0FBSyxnQkFBZ0IsS0FBSyxZQUFZLE9BQU8sR0FBRyxLQUFLLFVBQVUsS0FBSyxXQUFXLE1BQU0sS0FBSyxPQUFPLEdBQUcsS0FBSyxZQUFZLE9BQU8sR0FBRyxLQUFLLFVBQVUsS0FBSyxXQUFXLEdBQUcsS0FBSyx3QkFBd0IsR0FBRyxDQUFDO0FBQUEsRUFDN047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsUUFBUSxHQUFHLEdBQUc7QUFDWixXQUFPLEtBQUssTUFBTSxpQkFBaUIsSUFBSWEsR0FBRSxHQUFHLGNBQWMsQ0FBQyxNQUFNQSxHQUFFLElBQUksRUFBRSxFQUFFLElBQUksQ0FBQztBQUFBLEVBQ2xGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxPQUFPLEdBQUc7QUFDUixXQUFPLEtBQUssTUFBTSxjQUFjLElBQUlBLEdBQUUsR0FBRyxjQUFjLENBQUMsR0FBRztBQUFBLEVBQzdEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxhQUFhLEdBQUc7QUFDZCxXQUFPLEVBQUU7QUFBQSxFQUNYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxnQkFBZ0IsR0FBRztBQUNqQixXQUFPLEVBQUUsY0FBYyxJQUFJQSxHQUFFLElBQUksY0FBYztBQUFBLEVBQ2pEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLGVBQWUsR0FBRyxHQUFHeEIsSUFBRztBQUN0QixVQUFNLElBQUksS0FBSyxRQUFRLEdBQUcsQ0FBQztBQUMzQixNQUFFLFlBQVlBO0FBQUEsRUFDaEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsVUFBVSxJQUFJLElBQUksSUFBSSxPQUFJO0FBQ3hCLFFBQUlJO0FBQ0osUUFBSUosS0FBSSxLQUFLO0FBQ2IsUUFBSSxLQUFLLFVBQVUsS0FBSyxPQUFPLFdBQVcsS0FBSyxtQkFBbUIsS0FBSyxPQUFPO0FBQzVFO0FBQ0YsYUFBU0QsS0FBSSxHQUFHQSxNQUFLLEtBQUssY0FBY0EsTUFBSztBQUMzQyxVQUFJTTtBQUNKLFlBQU1DLEtBQUksS0FBSyxXQUFXO0FBQzFCLFVBQUksSUFBSSxLQUFLLEtBQUtOLE1BQUtLLEtBQUksS0FBSyxRQUFRTixJQUFHLENBQUMsR0FBR1EsR0FBRUQsSUFBR0QsRUFBQyxLQUFLQSxLQUFJLEtBQUssT0FBT04sRUFBQyxFQUFFLFlBQVlPLEVBQUMsR0FBR1AsT0FBTSxHQUFHO0FBQ3BHLGNBQU0yQixLQUFJLEtBQUssUUFBUTNCLElBQUcsSUFBSSxJQUFJLElBQUlDLEtBQUksQ0FBQztBQUMzQyxRQUFBMEIsTUFBSyxLQUFLbEIsR0FBRWtCLEVBQUM7QUFBQSxNQUNmO0FBQUEsSUFDRjtBQUNBLFVBQU0sSUFBSSxLQUFLLFFBQVEsY0FBYyxJQUFJRixHQUFFLFNBQVMsRUFBRTtBQUN0RCxLQUFDcEIsS0FBSSxLQUFLLFdBQVcsUUFBUUEsR0FBRSxXQUFXLEtBQUssa0JBQWtCLEtBQUssT0FBTyxVQUFVLEtBQUssS0FBSyxFQUFFLFVBQVUsSUFBSW9CLEdBQUUsaUJBQWlCLEdBQUcsS0FBSyx5QkFBeUI7QUFBQSxFQUN2SztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxPQUFPLElBQUksSUFBSSxJQUFJLE9BQUk7QUFDckIsUUFBSXhCLElBQUcsSUFBSSxFQUFFLE9BQU93QixHQUFFLEdBQUc7QUFDekIsU0FBSyxNQUFNLGdCQUFnQixLQUFLLDhCQUE4QjtBQUM5RCxRQUFJcEIsS0FBSSxLQUFLO0FBQ2IsUUFBSSxLQUFLLFVBQVUsS0FBSyxPQUFPLFdBQVcsS0FBSyxnQkFBZ0IsS0FBSyxPQUFPLFdBQVdDO0FBQ3BGO0FBQ0YsUUFBSSxJQUFJLEtBQUssS0FBSyxLQUFLLGNBQWM7QUFDbkMsVUFBSUMsS0FBSSxLQUFLLE9BQU8sQ0FBQztBQUNyQixNQUFBTixLQUFJTyxHQUFFLEdBQUdELEVBQUM7QUFBQSxJQUNaO0FBQ0UsTUFBQU4sS0FBSSxLQUFLLE1BQU0sWUFBWSxDQUFDO0FBQzlCLFNBQUssUUFBUUEsSUFBR0ksRUFBQyxHQUFHLEtBQUssTUFBTSxnQkFBZ0IsS0FBSyx5QkFBeUI7QUFDN0UsVUFBTUwsS0FBSSxLQUFLLGdCQUFnQkMsRUFBQztBQUNoQyxJQUFBRCxNQUFLLEtBQUtTLEdBQUVULEVBQUM7QUFDYixVQUFNTSxLQUFJLEtBQUssUUFBUSxjQUFjLElBQUltQixHQUFFLE1BQU0sRUFBRTtBQUNuRCxXQUFPLEtBQUssVUFBVSxLQUFLLE9BQU8sV0FBVyxLQUFLLGdCQUFnQixLQUFLLE9BQU8sV0FBV25CLE1BQUtBLEdBQUUsVUFBVSxJQUFJbUIsR0FBRSxjQUFjLEdBQUd4QjtBQUFBLEVBQ25JO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsYUFBYSxHQUFHO0FBQ2QsYUFBU0EsS0FBSSxHQUFHQSxNQUFLLEtBQUssY0FBY0EsTUFBSztBQUMzQyxZQUFNLElBQUksS0FBSyxRQUFRQSxJQUFHLENBQUM7QUFDM0IsVUFBSSxDQUFDO0FBQ0g7QUFDRixRQUFFLE9BQU87QUFBQSxJQUNYO0FBQ0EsVUFBTSxJQUFJLEtBQUssUUFBUSxjQUFjLElBQUl3QixHQUFFLFNBQVMsRUFBRTtBQUN0RCxTQUFLLEVBQUUsVUFBVSxPQUFPQSxHQUFFLGlCQUFpQjtBQUFBLEVBQzdDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsVUFBVSxHQUFHO0FBQ1gsU0FBSyxPQUFPLENBQUMsRUFBRSxPQUFPO0FBQ3RCLFVBQU0sSUFBSSxLQUFLLFFBQVEsY0FBYyxJQUFJQSxHQUFFLE1BQU0sRUFBRTtBQUNuRCxTQUFLLEVBQUUsVUFBVSxPQUFPQSxHQUFFLGNBQWMsR0FBRyxLQUFLLHlCQUF5QjtBQUFBLEVBQzNFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxxQkFBcUI7QUFDbkIsUUFBSSxLQUFLLFVBQVUsRUFBRSxPQUFPQSxHQUFFLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRSxPQUFPQSxHQUFFLEtBQUssR0FBRyxLQUFLLFlBQVksS0FBSyxRQUFRLFVBQVUsSUFBSUEsR0FBRSxlQUFlLEdBQUcsS0FBSyxRQUFRLFlBQVksS0FBSyxXQUFXLE9BQU8sR0FBRyxLQUFLLFFBQVEsWUFBWSxLQUFLLGNBQWMsT0FBTyxHQUFHLEtBQUssUUFBUSxZQUFZLEtBQUssS0FBSyxHQUFHLENBQUMsS0FBSyxVQUFVO0FBQ3JTLFlBQU0sSUFBSSxFQUFFLE9BQU9BLEdBQUUsV0FBVztBQUFBLFFBQzlCLFdBQVdQO0FBQUEsTUFDYixDQUFDLEdBQUcsSUFBSSxFQUFFLE9BQU9PLEdBQUUsUUFBUTtBQUFBLFFBQ3pCLFdBQVdQO0FBQUEsTUFDYixDQUFDO0FBQ0QsV0FBSyxRQUFRLFlBQVksQ0FBQyxHQUFHLEtBQUssUUFBUSxZQUFZLENBQUM7QUFBQSxJQUN6RDtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxxQkFBcUI7QUFDbkIsVUFBTSxJQUFJLEtBQUssUUFBUSxLQUFLLEtBQUssU0FBUyxJQUFJLE1BQU0sUUFBUSxDQUFDLEdBQUdqQixLQUFJLElBQUksRUFBRSxTQUFTLE9BQUksSUFBSSxJQUFJLEVBQUUsU0FBUyxRQUFRSSxLQUFJSixLQUFJLEVBQUUsQ0FBQyxFQUFFLFNBQVMsUUFBUUQsS0FBSSxPQUFPLFNBQVMsS0FBSyxVQUFVLEtBQUssT0FBTyxJQUFJLEdBQUdNLEtBQUksT0FBTyxTQUFTLEtBQUssVUFBVSxLQUFLLE9BQU8sSUFBSSxHQUFHQyxLQUFJLENBQUMsTUFBTVAsRUFBQyxLQUFLQSxLQUFJLElBQUlBLEtBQUksUUFBUTJCLEtBQUksQ0FBQyxNQUFNckIsRUFBQyxLQUFLQSxLQUFJLElBQUlBLEtBQUk7QUFDOVQsV0FBTztBQUFBLE1BQ0wsTUFBTSxLQUFLQyxNQUFLO0FBQUEsTUFDaEIsTUFBTUYsTUFBS3NCLE1BQUs7QUFBQSxJQUNsQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTO0FBQ1AsVUFBTSxFQUFFLE1BQU0sR0FBRyxNQUFNLEVBQUUsSUFBSSxLQUFLLG1CQUFtQjtBQUNyRCxhQUFTMUIsS0FBSSxHQUFHQSxLQUFJLEdBQUdBO0FBQ3JCLFdBQUssT0FBTztBQUNkLGFBQVNBLEtBQUksR0FBR0EsS0FBSSxHQUFHQTtBQUNyQixXQUFLLFVBQVU7QUFBQSxFQUNuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU87QUFDTCxVQUFNLElBQUksS0FBSztBQUNmLFFBQUksS0FBSyxFQUFFO0FBQ1QsZUFBUyxJQUFJLEdBQUcsSUFBSSxFQUFFLFFBQVEsUUFBUTtBQUNwQyxpQkFBU0EsS0FBSSxHQUFHQSxLQUFJLEVBQUUsUUFBUSxDQUFDLEVBQUUsUUFBUUE7QUFDdkMsZUFBSyxlQUFlLElBQUksR0FBR0EsS0FBSSxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUVBLEVBQUMsQ0FBQztBQUFBLEVBQ3pEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxRQUFRLEdBQUcsR0FBRztBQUNaLGFBQVNBLEtBQUksR0FBR0EsTUFBSyxHQUFHQSxNQUFLO0FBQzNCLFlBQU0sSUFBSSxLQUFLLFdBQVc7QUFDMUIsUUFBRSxZQUFZLENBQUM7QUFBQSxJQUNqQjtBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxhQUFhO0FBQ1gsV0FBTyxFQUFFLE9BQU93QixHQUFFLE1BQU07QUFBQSxNQUN0QixpQkFBaUIsQ0FBQyxLQUFLO0FBQUEsSUFDekIsQ0FBQztBQUFBLEVBQ0g7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLElBQUksZUFBZTtBQUNqQixXQUFPLEtBQUssTUFBTTtBQUFBLEVBQ3BCO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJQSxJQUFJLGtCQUFrQjtBQUNwQixXQUFPLEtBQUssZUFBZSxLQUFLLE1BQU0saUJBQWlCLElBQUlBLEdBQUUsR0FBRyxpQkFBaUJBLEdBQUUsSUFBSSxFQUFFLEVBQUUsU0FBUztBQUFBLEVBQ3RHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxzQkFBc0I7QUFDeEIsV0FBTyxLQUFLLG1CQUFtQjtBQUFBLEVBQ2pDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsSUFBSSxtQkFBbUI7QUFDckIsV0FBTyxLQUFLLGdCQUFnQjtBQUFBLEVBQzlCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsbUJBQW1CLEdBQUc7QUFDcEIsVUFBTSxFQUFFLEtBQUssR0FBRyxRQUFReEIsR0FBRSxJQUFJLEtBQUssZUFBZSxDQUFDO0FBQ25ELFNBQUssZ0JBQWdCQSxJQUFHLEtBQUssYUFBYSxHQUFHLEtBQUssd0JBQXdCO0FBQUEsRUFDNUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLG1CQUFtQixHQUFHO0FBQ3BCLFFBQUksRUFBRSxRQUFRLFNBQVM7QUFDckIsVUFBSSxFQUFFO0FBQ0osZUFBTztBQUNULFdBQUssb0JBQW9CO0FBQUEsSUFDM0I7QUFDQSxXQUFPLEVBQUUsUUFBUTtBQUFBLEVBQ25CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxrQkFBa0IsR0FBRztBQUNuQixNQUFFLFFBQVEsU0FBUyxFQUFFLGdCQUFnQjtBQUFBLEVBQ3ZDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEscUJBQXFCLEdBQUc7QUFDdEIsVUFBTSxJQUFJLEVBQUUsUUFBUUEsS0FBSSxLQUFLLGFBQWEsQ0FBQztBQUMzQyxTQUFLLGNBQWM7QUFBQSxNQUNqQixLQUFLLE1BQU0sS0FBSyxLQUFLLE1BQU0saUJBQWlCLElBQUl3QixHQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsUUFBUXhCLEVBQUMsSUFBSTtBQUFBLE1BQ3ZFLFFBQVEsTUFBTSxLQUFLQSxHQUFFLGlCQUFpQixJQUFJd0IsR0FBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxJQUFJO0FBQUEsSUFDcEU7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLGdCQUFnQjtBQUNkLFNBQUssZUFBZSxHQUFHLEtBQUssa0JBQWtCLEdBQUcsS0FBSyx3QkFBd0I7QUFBQSxFQUNoRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGlCQUFpQjtBQUNmLFNBQUssWUFBWSxHQUFHLEtBQUssV0FBVyxLQUFLO0FBQUEsRUFDM0M7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxvQkFBb0I7QUFDbEIsU0FBSyxlQUFlLEdBQUcsS0FBSyxjQUFjLEtBQUs7QUFBQSxFQUNqRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFlBQVk7QUFDVixTQUFLLGdCQUFnQixNQUFNO0FBQUEsRUFDN0I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxJQUFJLGtCQUFrQjtBQUNwQixVQUFNLEVBQUUsS0FBSyxHQUFHLFFBQVEsRUFBRSxJQUFJLEtBQUs7QUFDbkMsV0FBTyxLQUFLLFFBQVEsR0FBRyxDQUFDO0FBQUEsRUFDMUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLHdCQUF3QixJQUFJLEtBQUssWUFBWSxJQUFJLEtBQUssZUFBZTtBQUNuRSxTQUFLLHVCQUF1QixJQUFJLEtBQUssS0FBSyxLQUFLLG1CQUFtQixLQUFLLGNBQWMsS0FBSyxPQUFPO0FBQUEsTUFDL0YsTUFBTSxxQ0FBcUMsS0FBSyxlQUFlLGlCQUFpQixDQUFDO0FBQUEsSUFDbkYsRUFBRSxHQUFHLEtBQUssb0JBQW9CLElBQUksS0FBSyxLQUFLLEtBQUssZ0JBQWdCLEtBQUssV0FBVyxLQUFLLE1BQU07QUFDMUYsWUFBTXhCLEtBQUksS0FBSyxPQUFPLENBQUMsR0FBRyxFQUFFLGVBQWUsRUFBRSxJQUFJRSxHQUFFLEtBQUssT0FBT0YsRUFBQyxHQUFHLEVBQUUsUUFBUUksR0FBRSxJQUFJSixHQUFFLHNCQUFzQjtBQUMzRyxhQUFPO0FBQUEsUUFDTCxLQUFLLEdBQUcsS0FBSyxLQUFLLElBQUlJLEtBQUksQ0FBQyxDQUFDO0FBQUEsTUFDOUI7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsbUJBQW1CLEdBQUc7QUFDcEIsU0FBSyxNQUFNLGVBQWUsR0FBRyxLQUFLLEtBQUssTUFBTSxVQUFVLElBQUlvQixHQUFFLFlBQVksR0FBRyxLQUFLLHlCQUF5QixNQUFNLEtBQUssTUFBTSxVQUFVLE9BQU9BLEdBQUUsWUFBWSxHQUFHLEtBQUssOEJBQThCO0FBQUEsRUFDbE07QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLDJCQUEyQjtBQUN6QixhQUFTLElBQUksR0FBRyxLQUFLLEtBQUssaUJBQWlCLEtBQUs7QUFDOUMsVUFBSSxJQUFJLEtBQUssUUFBUSxHQUFHLENBQUM7QUFDekIsV0FBSyxFQUFFLGFBQWEsV0FBVyxLQUFLLElBQUksS0FBSyxFQUFFLFNBQVMsQ0FBQztBQUFBLElBQzNEO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsZ0NBQWdDO0FBQzlCLGFBQVMsSUFBSSxHQUFHLEtBQUssS0FBSyxpQkFBaUIsS0FBSztBQUM5QyxVQUFJLElBQUksS0FBSyxRQUFRLEdBQUcsQ0FBQztBQUN6QixXQUFLLEVBQUUsZ0JBQWdCLFNBQVM7QUFBQSxJQUNsQztBQUFBLEVBQ0Y7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVLEdBQUc7QUFDWCxVQUFNLElBQUksS0FBSyxPQUFPLENBQUM7QUFDdkIsVUFBTSxLQUFLLGNBQWMsR0FBRyxFQUFFLFVBQVUsSUFBSUEsR0FBRSxXQUFXO0FBQUEsRUFDM0Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLGNBQWM7QUFDWixRQUFJLEtBQUssZUFBZTtBQUN0QjtBQUNGLFVBQU0sSUFBSSxLQUFLLE1BQU0sY0FBYyxJQUFJQSxHQUFFLFdBQVcsRUFBRTtBQUN0RCxTQUFLLEVBQUUsVUFBVSxPQUFPQSxHQUFFLFdBQVcsR0FBRyxLQUFLLGNBQWM7QUFBQSxFQUM3RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLGFBQWEsR0FBRztBQUNkLGFBQVMsSUFBSSxHQUFHLEtBQUssS0FBSyxjQUFjLEtBQUs7QUFDM0MsWUFBTXhCLEtBQUksS0FBSyxRQUFRLEdBQUcsQ0FBQztBQUMzQixNQUFBQSxNQUFLQSxHQUFFLFVBQVUsSUFBSXdCLEdBQUUsWUFBWTtBQUFBLElBQ3JDO0FBQ0EsU0FBSyxpQkFBaUI7QUFBQSxFQUN4QjtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsaUJBQWlCO0FBQ2YsUUFBSSxLQUFLLGtCQUFrQjtBQUN6QjtBQUNGLFFBQUksSUFBSSxLQUFLLE1BQU0saUJBQWlCLElBQUlBLEdBQUUsWUFBWSxFQUFFO0FBQ3hELFVBQU0sS0FBSyxDQUFDLEVBQUUsUUFBUSxDQUFDLE1BQU07QUFDM0IsUUFBRSxVQUFVLE9BQU9BLEdBQUUsWUFBWTtBQUFBLElBQ25DLENBQUMsR0FBRyxLQUFLLGlCQUFpQjtBQUFBLEVBQzVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLGVBQWUsR0FBRztBQUNoQixRQUFJLElBQUksS0FBSyxZQUFZeEIsS0FBSSxLQUFLO0FBQ2xDLFVBQU0sRUFBRSxPQUFPLEdBQUcsUUFBUUksSUFBRyxHQUFHTCxJQUFHLEdBQUdNLEdBQUUsSUFBSUYsR0FBRSxLQUFLLE9BQU8sQ0FBQztBQUMzRCxXQUFPSixNQUFLLE1BQU1DLEtBQUksS0FBSztBQUFBLE1BQ3pCLEtBQUs7QUFBQSxNQUNMLENBQUNNLE9BQU0sS0FBSyxRQUFRLEdBQUdBLEVBQUM7QUFBQSxNQUN4QixDQUFDLEVBQUUsZ0JBQWdCQSxHQUFFLE1BQU1QLEtBQUlPO0FBQUEsTUFDL0IsQ0FBQyxFQUFFLGlCQUFpQkEsR0FBRSxNQUFNUCxLQUFJLElBQUlPO0FBQUEsSUFDdEMsSUFBSUQsTUFBSyxNQUFNLElBQUksS0FBSztBQUFBLE1BQ3RCLEtBQUs7QUFBQSxNQUNMLENBQUNDLE9BQU0sS0FBSyxRQUFRQSxJQUFHLENBQUM7QUFBQSxNQUN4QixDQUFDLEVBQUUsZUFBZUEsR0FBRSxNQUFNRCxLQUFJQztBQUFBLE1BQzlCLENBQUMsRUFBRSxrQkFBa0JBLEdBQUUsTUFBTUQsS0FBSUQsS0FBSUU7QUFBQSxJQUN2QyxJQUFJO0FBQUEsTUFDRixLQUFLLEtBQUssS0FBSztBQUFBLE1BQ2YsUUFBUU4sTUFBSyxLQUFLO0FBQUEsSUFDcEI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBWUEsVUFBVSxHQUFHLEdBQUdBLElBQUcsR0FBRztBQUNwQixRQUFJSSxLQUFJLEdBQUdMLEtBQUksSUFBSSxHQUFHTSxLQUFJLEdBQUdDO0FBQzdCLFdBQU9GLEtBQUlMLEtBQUksS0FBS00sS0FBSSxNQUFNO0FBQzVCLE1BQUFDLEtBQUksS0FBSyxNQUFNRixLQUFJTCxNQUFLLENBQUM7QUFDekIsWUFBTTJCLEtBQUksRUFBRXBCLEVBQUMsR0FBR3FCLEtBQUl6QixHQUFFLEtBQUssT0FBT3dCLEVBQUM7QUFDbkMsVUFBSTFCLEdBQUUyQixFQUFDO0FBQ0wsUUFBQTVCLEtBQUlPO0FBQUEsZUFDRyxFQUFFcUIsRUFBQztBQUNWLFFBQUF2QixLQUFJRTtBQUFBO0FBRUo7QUFDRixNQUFBRDtBQUFBLElBQ0Y7QUFDQSxXQUFPQztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxVQUFVO0FBQ1IsVUFBTSxJQUFJLENBQUM7QUFDWCxhQUFTLElBQUksR0FBRyxLQUFLLEtBQUssY0FBYyxLQUFLO0FBQzNDLFlBQU1OLEtBQUksS0FBSyxNQUFNLGNBQWMsSUFBSXdCLEdBQUUsR0FBRyxjQUFjLENBQUMsR0FBRyxHQUFHLElBQUksTUFBTSxLQUFLeEIsR0FBRSxpQkFBaUIsSUFBSXdCLEdBQUUsSUFBSSxFQUFFLENBQUM7QUFDaEgsUUFBRSxNQUFNLENBQUN6QixPQUFNLENBQUNBLEdBQUUsWUFBWSxLQUFLLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUNBLE9BQU1BLEdBQUUsU0FBUyxDQUFDO0FBQUEsSUFDM0U7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBSUEsVUFBVTtBQUNSLGFBQVMsb0JBQW9CLFNBQVMsS0FBSyxlQUFlO0FBQUEsRUFDNUQ7QUFDRjtBQUNBLElBQU02QixLQUFOLE1BQVE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNTixXQUFXLHNCQUFzQjtBQUMvQixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsV0FBVyxtQkFBbUI7QUFDNUIsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxZQUFZLEVBQUUsTUFBTSxHQUFHLFFBQVEsR0FBRyxLQUFLNUIsSUFBRyxVQUFVLEdBQUcsT0FBT0ksR0FBRSxHQUFHO0FBQ2pFLFNBQUssTUFBTUosSUFBRyxLQUFLLFdBQVcsR0FBRyxLQUFLLFNBQVMsR0FBRyxLQUFLLE9BQU87QUFBQSxNQUM1RCxjQUFjLEtBQUssVUFBVSxnQkFBZ0IsT0FBSSxDQUFDO0FBQUEsTUFDbEQsV0FBVyxLQUFLLFVBQVUsYUFBYSxPQUFJLENBQUM7QUFBQSxNQUM1QyxTQUFTLEtBQUssRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDO0FBQUEsSUFDekMsR0FBRyxLQUFLLFFBQVEsTUFBTSxLQUFLLFFBQVFJO0FBQUEsRUFDckM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBUUEsV0FBVyxVQUFVO0FBQ25CLFdBQU87QUFBQSxNQUNMLE1BQU1pQjtBQUFBLE1BQ04sT0FBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsU0FBUztBQUNQLFdBQU8sS0FBSyxRQUFRLElBQUlJLEdBQUUsS0FBSyxVQUFVLEtBQUssS0FBSyxLQUFLLE1BQU0sS0FBSyxNQUFNLEdBQUcsS0FBSyxZQUFZLEVBQUUsT0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLEdBQUcsS0FBSyxVQUFVLFlBQVksS0FBSyxNQUFNLFdBQVcsQ0FBQyxHQUFHLEtBQUssTUFBTSxtQkFBbUIsS0FBSyxLQUFLLFlBQVksR0FBRyxLQUFLO0FBQUEsRUFDalA7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxpQkFBaUI7QUFDZixXQUFPO0FBQUEsTUFDTDtBQUFBLFFBQ0UsT0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLGVBQWU7QUFBQSxRQUN0QyxNQUFNTjtBQUFBLFFBQ04sVUFBVSxLQUFLLEtBQUs7QUFBQSxRQUNwQixpQkFBaUI7QUFBQSxRQUNqQixRQUFRO0FBQUEsUUFDUixZQUFZLE1BQU07QUFDaEIsZUFBSyxLQUFLLGVBQWUsTUFBSSxLQUFLLE1BQU0sbUJBQW1CLEtBQUssS0FBSyxZQUFZO0FBQUEsUUFDbkY7QUFBQSxNQUNGO0FBQUEsTUFDQTtBQUFBLFFBQ0UsT0FBTyxLQUFLLElBQUksS0FBSyxFQUFFLGtCQUFrQjtBQUFBLFFBQ3pDLE1BQU1DO0FBQUEsUUFDTixVQUFVLENBQUMsS0FBSyxLQUFLO0FBQUEsUUFDckIsaUJBQWlCO0FBQUEsUUFDakIsUUFBUTtBQUFBLFFBQ1IsWUFBWSxNQUFNO0FBQ2hCLGVBQUssS0FBSyxlQUFlLE9BQUksS0FBSyxNQUFNLG1CQUFtQixLQUFLLEtBQUssWUFBWTtBQUFBLFFBQ25GO0FBQUEsTUFDRjtBQUFBLE1BQ0E7QUFBQSxRQUNFLE9BQU8sS0FBSyxLQUFLLFlBQVksS0FBSyxJQUFJLEtBQUssRUFBRSxVQUFVLElBQUksS0FBSyxJQUFJLEtBQUssRUFBRSxTQUFTO0FBQUEsUUFDcEYsTUFBTSxLQUFLLEtBQUssWUFBWVYsS0FBSVE7QUFBQSxRQUNoQyxpQkFBaUI7QUFBQSxRQUNqQixRQUFRO0FBQUEsUUFDUixZQUFZLE1BQU07QUFDaEIsZUFBSyxLQUFLLFlBQVksQ0FBQyxLQUFLLEtBQUssV0FBVyxLQUFLLE1BQU0sWUFBWSxLQUFLLEtBQUs7QUFBQSxRQUMvRTtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE9BQU87QUFDTCxVQUFNLElBQUksS0FBSyxNQUFNLFFBQVE7QUFDN0IsV0FBTztBQUFBLE1BQ0wsY0FBYyxLQUFLLEtBQUs7QUFBQSxNQUN4QixXQUFXLEtBQUssS0FBSztBQUFBLE1BQ3JCLFNBQVM7QUFBQSxJQUNYO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFVBQVU7QUFDUixTQUFLLE1BQU0sUUFBUTtBQUFBLEVBQ3JCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBU0EsVUFBVSxHQUFHLElBQUksUUFBUWxCLEtBQUksUUFBUTtBQUNuQyxVQUFNLElBQUksS0FBSyxRQUFRQTtBQUN2QixXQUFPLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxLQUFLLFVBQVUsS0FBSyxPQUFPLENBQUMsSUFBSSxLQUFLLE9BQU8sQ0FBQyxJQUFJO0FBQUEsRUFDaEY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxXQUFXLGNBQWM7QUFDdkIsV0FBTyxFQUFFLE1BQU0sQ0FBQyxTQUFTLE1BQU0sTUFBTSxJQUFJLEVBQUU7QUFBQSxFQUM3QztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFFBQVEsR0FBRztBQUNULFVBQU0sSUFBSSxFQUFFLE9BQU8sTUFBTUEsS0FBSSxFQUFFLGNBQWMscUNBQXFDLEdBQUdJLEtBQUksTUFBTSxLQUFLLEVBQUUsaUJBQWlCLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQ0wsT0FBTSxNQUFNLEtBQUtBLEdBQUUsaUJBQWlCLFFBQVEsQ0FBQyxFQUFFLElBQUksQ0FBQ08sT0FBTUEsR0FBRSxTQUFTLENBQUM7QUFDek0sU0FBSyxPQUFPO0FBQUEsTUFDVixjQUFjTixPQUFNO0FBQUEsTUFDcEIsU0FBU0k7QUFBQSxJQUNYLEdBQUcsS0FBSyxNQUFNLFdBQVcsS0FBSyxNQUFNLFFBQVEsWUFBWSxLQUFLLE9BQU8sQ0FBQztBQUFBLEVBQ3ZFO0FBQ0Y7OztDQ2gvQkMsV0FBVTtBQUFDO0FBQWEsTUFBRztBQUFDLFFBQUcsT0FBTyxXQUFTLEtBQUk7QUFBQyxVQUFJLElBQUUsU0FBUyxjQUFjLE9BQU87QUFBRSxRQUFFLFlBQVksU0FBUyxlQUFlLG1RQUFtUSxDQUFDLEdBQUUsU0FBUyxLQUFLLFlBQVksQ0FBQztBQUFBLElBQUM7QUFBQSxFQUFDLFNBQU95QixJQUFFO0FBQUMsWUFBUSxNQUFNLGtDQUFpQ0EsRUFBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQ25lLElBQU1DLEtBQUk7QUFRVixJQUFNLElBQU4sTUFBTSxHQUFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTU4sV0FBVyxzQkFBc0I7QUFDL0IsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLFdBQVcsbUJBQW1CO0FBQzVCLFdBQU87QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxXQUFXLG1CQUFtQjtBQUM1QixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFRQSxXQUFXLFVBQVU7QUFDbkIsV0FBTztBQUFBLE1BQ0wsTUFBTUE7QUFBQSxNQUNOLE9BQU87QUFBQSxJQUNUO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFjQSxZQUFZLEVBQUUsTUFBTSxHQUFHLFFBQVEsR0FBRyxLQUFLQyxJQUFHLFVBQVUsRUFBRSxHQUFHO0FBQ3ZELFNBQUssTUFBTUEsSUFBRyxLQUFLLFdBQVcsR0FBRyxLQUFLLGNBQWMsRUFBRSxlQUFlLEdBQUUscUJBQXFCLEtBQUssTUFBTTtBQUFBLE1BQ3JHLFdBQVcsS0FBSyxJQUFJLE9BQU87QUFBQSxNQUMzQixPQUFPLEtBQUssSUFBSSxPQUFPO0FBQUEsTUFDdkIsU0FBUztBQUFBLE1BQ1QsVUFBVTtBQUFBLElBQ1osR0FBRyxLQUFLLE9BQU87QUFBQSxNQUNiLE1BQU0sRUFBRSxRQUFRO0FBQUEsSUFDbEIsR0FBRyxLQUFLLFdBQVcsTUFBTSxLQUFLLGlCQUFpQjtBQUFBLEVBQ2pEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxTQUFTO0FBQ1AsVUFBTSxJQUFJLFNBQVMsY0FBYyxLQUFLLEdBQUcsSUFBSTtBQUM3QyxXQUFPLEtBQUssV0FBVyxTQUFTLGNBQWMsVUFBVSxHQUFHLEVBQUUsVUFBVSxJQUFJLEtBQUssSUFBSSxXQUFXLEtBQUssSUFBSSxPQUFPLEdBQUcsS0FBSyxTQUFTLFVBQVUsSUFBSSxLQUFLLElBQUksVUFBVSxLQUFLLElBQUksS0FBSyxHQUFHLEtBQUssU0FBUyxjQUFjLEtBQUssS0FBSyxNQUFNLEtBQUssU0FBUyxjQUFjLEtBQUssYUFBYSxLQUFLLFdBQVcsS0FBSyxTQUFTLFdBQVcsT0FBSyxLQUFLLFNBQVMsaUJBQWlCLFNBQVMsTUFBTTtBQUN0VyxXQUFLLFFBQVE7QUFBQSxJQUNmLENBQUMsR0FBRyxFQUFFLFlBQVksS0FBSyxRQUFRLEdBQUcsV0FBVyxNQUFNO0FBQ2pELFdBQUssT0FBTztBQUFBLElBQ2QsR0FBRyxDQUFDLEdBQUc7QUFBQSxFQUNUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLEtBQUssR0FBRztBQUNOLFdBQU87QUFBQSxNQUNMLE1BQU0sRUFBRSxjQUFjLFVBQVUsRUFBRTtBQUFBLElBQ3BDO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsV0FBVyxzQkFBc0I7QUFDL0IsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUlBLFdBQVcsV0FBVztBQUNwQixXQUFPO0FBQUEsTUFDTCxNQUFNO0FBQUE7QUFBQSxJQUVSO0FBQUEsRUFDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFVBQVU7QUFDUixTQUFLLGtCQUFrQixhQUFhLEtBQUssY0FBYyxHQUFHLEtBQUssaUJBQWlCLFdBQVcsTUFBTTtBQUMvRixXQUFLLE9BQU87QUFBQSxJQUNkLEdBQUcsR0FBRztBQUFBLEVBQ1I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxTQUFTO0FBQ1AsU0FBSyxTQUFTLE1BQU0sU0FBUyxRQUFRLEtBQUssU0FBUyxNQUFNLFNBQVMsS0FBSyxTQUFTLGVBQWU7QUFBQSxFQUNqRztBQUNGOzs7Q0N0SUMsV0FBVTtBQUFDO0FBQWEsTUFBRztBQUFDLFFBQUcsT0FBTyxXQUFTLEtBQUk7QUFBQyxVQUFJLElBQUUsU0FBUyxjQUFjLE9BQU87QUFBRSxRQUFFLFlBQVksU0FBUyxlQUFlLHVMQUF1TCxDQUFDLEdBQUUsU0FBUyxLQUFLLFlBQVksQ0FBQztBQUFBLElBQUM7QUFBQSxFQUFDLFNBQU8sR0FBRTtBQUFDLFlBQVEsTUFBTSxrQ0FBaUMsQ0FBQztBQUFBLEVBQUM7QUFBQyxHQUFHO0FBQ3ZaLElBQU1DLEtBQUk7QUFTVixJQUFNLElBQU4sTUFBUTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLTixXQUFXLHNCQUFzQjtBQUMvQixXQUFPO0FBQUEsRUFDVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxXQUFXLGNBQWM7QUFDdkIsV0FBTztBQUFBLEVBQ1Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFTQSxZQUFZLEVBQUUsTUFBTSxHQUFHLFFBQVFDLElBQUcsS0FBSyxFQUFFLEdBQUc7QUFDMUMsU0FBSyxNQUFNLEdBQUcsS0FBSyxPQUFPO0FBQUEsTUFDeEIsT0FBTyxLQUFLLElBQUksT0FBTztBQUFBLE1BQ3ZCLFNBQVM7QUFBQSxJQUNYLEdBQUcsS0FBSyxXQUFXLEtBQUssU0FBUyxHQUFHLEtBQUssT0FBTztBQUFBLEVBQ2xEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsV0FBVztBQUNULFFBQUksSUFBSSxTQUFTLGNBQWMsS0FBSztBQUNwQyxXQUFPLEVBQUUsVUFBVSxJQUFJLEtBQUssS0FBSyxTQUFTLEtBQUssS0FBSyxLQUFLLEdBQUc7QUFBQSxFQUM5RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFNBQVM7QUFDUCxXQUFPLEtBQUs7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFPQSxLQUFLLEdBQUc7QUFDTixXQUFPLENBQUM7QUFBQSxFQUNWO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLFdBQVcsVUFBVTtBQUNuQixXQUFPO0FBQUEsTUFDTCxNQUFNRDtBQUFBLE1BQ04sT0FBTztBQUFBLElBQ1Q7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTUEsV0FBVyxjQUFjO0FBQ3ZCLFdBQU8sRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFO0FBQUEsRUFDeEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxRQUFRLEdBQUc7QUFDVCxTQUFLLE9BQU8sQ0FBQztBQUFBLEVBQ2Y7QUFDRjs7O0FObkZBLDRCQUFnQztBQUNoQyxnQ0FBcUI7QUFFckIsU0FBUyxpQkFBaUIsZUFBZSxNQUFNO0FBQzNDLFNBQU87QUFBQSxJQUNIO0FBQUEsSUFDQSxDQUFDLEVBQUUsT0FBTyxXQUFXLGFBQWEsVUFBVSxPQUFPLFdBQVcsa0JBQWtCLE9BQU87QUFBQSxNQUNuRixVQUFVO0FBQUEsTUFDVjtBQUFBLE1BQ0E7QUFBQSxNQUVBLE9BQU87QUFDSCxZQUFJLGVBQWUsQ0FBQztBQUVwQixZQUFJLEtBQUssTUFBTSxTQUFTLFFBQVEsR0FBRztBQUMvQix1QkFBYSxTQUFTO0FBQUEsWUFDbEIsT0FBTztBQUFBLFlBQ1AsZUFBZTtBQUFBLFVBQ25CO0FBQUEsUUFDSjtBQUVBLFlBQUksS0FBSyxNQUFNLFNBQVMsT0FBTyxHQUFHO0FBQzlCLHVCQUFhLFFBQVE7QUFBQSxZQUNqQixPQUFPO0FBQUEsWUFDUCxRQUFRO0FBQUEsY0FDSixVQUFVO0FBQUEsZ0JBQ04sTUFBTSxhQUFhLE1BQU07QUFDckIsc0JBQUk7QUFDQSwwQkFBTSxTQUFTLE1BQU0sa0JBQWtCLElBQUk7QUFDM0Msd0JBQUksT0FBTyxTQUFTO0FBQ2hCLDZCQUFPO0FBQUEsd0JBQ0gsU0FBUztBQUFBLHdCQUNULE1BQU07QUFBQSwwQkFDRixLQUFLLE9BQU8sS0FBSztBQUFBLDBCQUNqQixHQUFJLE9BQU8sS0FBSyxRQUFRLEVBQUUsTUFBTSxPQUFPLEtBQUssS0FBSztBQUFBLDBCQUNqRCxHQUFJLE9BQU8sS0FBSyxRQUFRLEVBQUUsTUFBTSxPQUFPLEtBQUssS0FBSztBQUFBLHdCQUNyRDtBQUFBLHNCQUNKO0FBQUEsb0JBQ0osT0FBTztBQUNILDZCQUFPO0FBQUEsd0JBQ0gsU0FBUztBQUFBLHNCQUNiO0FBQUEsb0JBQ0o7QUFBQSxrQkFDSixTQUFTLE9BQU87QUFDWiw0QkFBUSxNQUFNLHdCQUF3QixLQUFLO0FBQzNDLDJCQUFPO0FBQUEsc0JBQ0gsU0FBUztBQUFBLG9CQUNiO0FBQUEsa0JBQ0o7QUFBQSxnQkFDSjtBQUFBLGNBQ0o7QUFBQSxZQUNKO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFFQSxZQUFJLEtBQUssTUFBTSxTQUFTLFdBQVcsR0FBRztBQUNsQyx1QkFBYSxZQUFZO0FBQUEsWUFDckIsT0FBTztBQUFBLFlBQ1AsZUFBZTtBQUFBLFVBQ25CO0FBQUEsUUFDSjtBQUVBLFlBQUksS0FBSyxNQUFNLFNBQVMsTUFBTSxHQUFHO0FBQzdCLHVCQUFhLE9BQU87QUFBQSxZQUNoQixPQUFPRTtBQUFBLFlBQ1AsZUFBZTtBQUFBLFVBQ25CO0FBQUEsUUFDSjtBQUVBLFlBQUksS0FBSyxNQUFNLFNBQVMsV0FBVyxHQUFHO0FBQ2xDLHVCQUFhLFlBQVk7QUFBQSxZQUNyQixPQUFPLGlCQUFBQztBQUFBLFlBQ1AsVUFBVTtBQUFBLFVBQ2Q7QUFBQSxRQUNKO0FBRUEsWUFBSSxLQUFLLE1BQU0sU0FBUyxPQUFPLEdBQUc7QUFDOUIsdUJBQWEsUUFBUTtBQUFBLFlBQ2pCLE9BQU87QUFBQSxZQUNQLGVBQWU7QUFBQSxZQUNmLFVBQVU7QUFBQSxVQUNkO0FBQUEsUUFDSjtBQUVBLFlBQUksS0FBSyxNQUFNLFNBQVMsT0FBTyxHQUFHO0FBQzlCLHVCQUFhLFFBQVE7QUFBQSxZQUNqQixPQUFPQztBQUFBLFlBQ1AsZUFBZTtBQUFBLFVBQ25CO0FBQUEsUUFDSjtBQUVBLFlBQUksS0FBSyxNQUFNLFNBQVMsS0FBSyxHQUFHO0FBQzVCLHVCQUFhLE1BQU07QUFBQSxZQUNmLE9BQU87QUFBQSxZQUNQLFFBQVE7QUFBQSxjQUNKLGFBQWE7QUFBQSxZQUNqQjtBQUFBLFVBQ0o7QUFBQSxRQUNKO0FBRUEsWUFBSSxLQUFLLE1BQU0sU0FBUyxNQUFNLEdBQUc7QUFDN0IsdUJBQWEsT0FBTztBQUFBLFlBQ2hCLE9BQU9GO0FBQUEsWUFDUCxVQUFVO0FBQUEsVUFDZDtBQUFBLFFBQ0o7QUFFQSxZQUFJLEtBQUssTUFBTSxTQUFTLGFBQWEsR0FBRztBQUNwQyx1QkFBYSxhQUFhO0FBQUEsWUFDdEIsT0FBTztBQUFBLFlBQ1AsVUFBVTtBQUFBLFVBQ2Q7QUFBQSxRQUNKO0FBRUEsWUFBSSxLQUFLLE1BQU0sU0FBUyxPQUFPLEdBQUc7QUFDOUIsdUJBQWEsUUFBUTtBQUFBLFlBQ2pCLE9BQU87QUFBQSxZQUNQLFFBQVE7QUFBQSxjQUNKLGNBQWM7QUFBQSxjQUNkLG1CQUFtQjtBQUFBLFlBQ3ZCO0FBQUEsVUFDSjtBQUFBLFFBQ0o7QUFHQSxZQUFJLEtBQUssVUFBVTtBQUNmLGVBQUssU0FBUyxRQUFRO0FBQUEsUUFDMUI7QUFFQSxhQUFLLFdBQVcsSUFBSSxHQUFTO0FBQUEsVUFDekIsUUFBUSxLQUFLLElBQUksTUFBTSxLQUFLO0FBQUEsVUFDNUI7QUFBQSxVQUNBLE1BQU0sS0FBSztBQUFBLFVBQ1g7QUFBQSxVQUNBO0FBQUEsVUFDQSxPQUFPO0FBQUEsVUFFUCxVQUFVLE1BQU07QUFDWixpQkFBSyxTQUFTLEtBQUssRUFBRSxLQUFLLENBQUMsZUFBZTtBQUN0QyxtQkFBSyxRQUFRO0FBQUEsWUFDakIsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxVQUFVO0FBQ2hCLHNCQUFRLE1BQU0seUJBQXlCLEtBQUs7QUFBQSxZQUNoRCxDQUFDO0FBQUEsVUFDTDtBQUFBLFVBRUEsU0FBUyxNQUFNO0FBRVgsZ0JBQUk7QUFDQSxrQkFBSSwwQkFBQUcsUUFBUyxLQUFLLFFBQVE7QUFBQSxZQUM5QixTQUFTLE9BQU87QUFDWixzQkFBUSxLQUFLLG1DQUFtQyxLQUFLO0FBQUEsWUFDekQ7QUFBQSxVQUNKO0FBQUEsUUFDSixDQUFDO0FBQUEsTUFDTDtBQUFBLE1BRUEsVUFBVTtBQUNOLFlBQUksS0FBSyxVQUFVO0FBQ2YsZUFBSyxTQUFTLFFBQVE7QUFDdEIsZUFBSyxXQUFXO0FBQUEsUUFDcEI7QUFBQSxNQUNKO0FBQUEsSUFDSjtBQUFBLEVBQ0o7QUFDSixDQUFDOyIsCiAgIm5hbWVzIjogWyJuIiwgInIiLCAibyIsICJlIiwgInQiLCAiYSIsICJ1IiwgImMiLCAiaSIsICJzIiwgImwiLCAiZiIsICJkIiwgImIiLCAicCIsICJ2IiwgImgiLCAibiIsICJyIiwgImUiLCAidCIsICJjIiwgInMiLCAibyIsICJsIiwgImkiLCAiYSIsICJyZXF1aXJlX2J1bmRsZSIsICJlIiwgInQiLCAiciIsICJjIiwgIm4iLCAibyIsICJhIiwgInMiLCAibCIsICJ1IiwgImQiLCAiZiIsICJwIiwgInYiLCAiZyIsICJ5IiwgImgiLCAiYiIsICJtIiwgImkiLCAibiIsICJvIiwgInMiLCAiciIsICJsIiwgImEiLCAiYyIsICJ1IiwgInAiLCAiZyIsICJmIiwgImsiLCAiUyIsICJoIiwgInYiLCAibSIsICJ4IiwgIkUiLCAiTSIsICJUIiwgImoiLCAiUCIsICJCIiwgIkMiLCAiXyIsICJlZSIsICJmZSIsICJZIiwgImdlIiwgImllIiwgIkhlIiwgIm10IiwgIiQiLCAib2UiLCAibyIsICJIIiwgIkkiLCAiTCIsICJVIiwgIkMiLCAiYSIsICJyIiwgImMiLCAiRiIsICJEIiwgIlIiLCAibiIsICJkIiwgImIiLCAidSIsICJmIiwgImwiLCAicyIsICJnIiwgIm0iLCAieSIsICJwIiwgInciLCAiaCIsICJ2IiwgIlQiLCAiRSIsICJqIiwgIk0iLCAiayIsICJPIiwgInEiLCAiZCIsICJyIiwgInMiLCAibiIsICJuIiwgImEiLCAibyIsICJkIiwgInMiLCAiciIsICJvIiwgImwiLCAiYyIsICJhIiwgImgiLCAiZCIsICJyIiwgInMiLCAibiIsICJuIiwgImEiLCAibyIsICJEZSIsICJSZSIsICJiIiwgIkZlIiwgIm4iLCAiciIsICJnIiwgIlAiLCAiV2UiLCAicyIsICJVZSIsICJTIiwgInFlIiwgIkwiLCAiemUiLCAiYWUiLCAiR2UiLCAiYSIsICJsIiwgInUiLCAiZCIsICJjIiwgImxlIiwgInciLCAiTiIsICJLZSIsICJRZSIsICJYZSIsICJZZSIsICJfIiwgIkkiLCAiVmUiLCAidWUiLCAiQSIsICJaZSIsICJKZSIsICJ4ZSIsICJldCIsICJ0dCIsICJudCIsICJvIiwgInJ0IiwgIml0IiwgImF0IiwgInYiLCAibHQiLCAidXQiLCAib3QiLCAiTyIsICJjdCIsICJzdCIsICJkdCIsICJmdCIsICJwdCIsICJndCIsICJ2dCIsICJmIiwgInl0IiwgImJ0IiwgIl90IiwgImNlIiwgIkIiLCAieSIsICJEIiwgImh0IiwgIk90IiwgIkV0IiwgInNlIiwgIkgiLCAianQiLCAiUHQiLCAiUiIsICJGIiwgInJlIiwgImRlIiwgIlR0IiwgIlciLCAiaCIsICJVIiwgIlN0IiwgInEiLCAiQ3QiLCAicGUiLCAiTHQiLCAiTXQiLCAia3QiLCAieiIsICIkdCIsICJ3dCIsICJOdCIsICJJdCIsICJBdCIsICJ2ZSIsICJHIiwgIkJ0IiwgIksiLCAiWCIsICJIdCIsICJEdCIsICJtZSIsICJRIiwgIlYiLCAiUnQiLCAiWiIsICJKIiwgInp0IiwgIkZ0IiwgIld0IiwgIlV0IiwgInF0IiwgIlh0IiwgIkd0IiwgIkt0IiwgImJlIiwgIngiLCAiUXQiLCAiWXQiLCAiX2UiLCAiWnQiLCAiVnQiLCAieWUiLCAidGUiLCAiSnQiLCAiaGUiLCAibmUiLCAieHQiLCAiT2UiLCAiUGUiLCAiamUiLCAiVGUiLCAiU2UiLCAiQ2UiLCAiTGUiLCAiTWUiLCAia2UiLCAid2UiLCAiTmUiLCAiSWUiLCAiQWUiLCAiJGUiLCAiQmUiLCAiRWUiLCAiciIsICJvIiwgImQiLCAiZyIsICJrIiwgIm4iLCAiaCIsICJsIiwgIm0iLCAiQyIsICJhIiwgIlIiLCAiYiIsICJ4IiwgIlMiLCAieSIsICJMIiwgIk0iLCAidiIsICJPIiwgIlQiLCAiSCIsICJBIiwgInciLCAiQiIsICJzIiwgIkUiLCAidSIsICJwIiwgIkYiLCAibyIsICJhIiwgInMiLCAiciIsICJzIiwgImQiLCAiVW5kZXJsaW5lIiwgIkYiLCAiRHJhZ0Ryb3AiXQp9Cg==
